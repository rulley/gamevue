{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache) {\n  var _component_kendo_datasource = _resolveComponent(\"kendo-datasource\");\n  var _component_kendo_grid = _resolveComponent(\"kendo-grid\");\n  var _component_Layout = _resolveComponent(\"Layout\");\n  return _openBlock(), _createBlock(_component_Layout, null, {\n    default: _withCtx(function () {\n      return [_createVNode(_component_kendo_datasource, {\n        ref: \"datasource1\",\n        \"transport-read\": _ctx.readgridData,\n        \"transport-update-url\": 'https://demos.telerik.com/kendo-ui/service/Products/Update',\n        \"transport-update-data-type\": 'jsonp',\n        \"transport-destroy-url\": 'https://demos.telerik.com/kendo-ui/service/Products/Destroy',\n        \"transport-destroy-data-type\": 'jsonp',\n        \"transport-create-url\": 'https://demos.telerik.com/kendo-ui/service/Products/Create',\n        \"transport-create-data-type\": 'jsonp',\n        \"transport-parameter-map\": _ctx.parameterMap,\n        \"schema-model-id\": 'ProductID',\n        \"schema-model-fields\": _ctx.schemaModelFields,\n        batch: true,\n        \"page-size\": 20\n      }, null, 8 /* PROPS */, [\"transport-read\", \"transport-update-url\", \"transport-destroy-url\", \"transport-create-url\", \"transport-parameter-map\", \"schema-model-fields\"]), _createVNode(_component_kendo_grid, {\n        height: 600,\n        \"data-source-ref\": 'datasource1',\n        pageable: true,\n        sortable: true,\n        navigatable: true,\n        resizable: true,\n        reorderable: true,\n        groupable: true,\n        filterable: true,\n        editable: 'inline',\n        toolbar: \"['create','excel', 'pdf', 'search']\",\n        onEdit: _ctx.onGridEditing,\n        onDataBound: _ctx.onDataBound,\n        columns: _ctx.columns\n      }, null, 8 /* PROPS */, [\"onEdit\", \"onDataBound\", \"columns\"])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_Layout","default","_withCtx","_createVNode","_component_kendo_datasource","ref","_ctx","readgridData","parameterMap","schemaModelFields","batch","_component_kendo_grid","height","pageable","sortable","navigatable","resizable","reorderable","groupable","filterable","editable","toolbar","onEdit","onGridEditing","onDataBound","columns","_"],"sources":["/Users/michaelrellaford/Documents/velgame/Starterkit/src/components/widgets/datagrid.vue"],"sourcesContent":["<style lang=\"css\">\r\n@import 'https://kendo.cdn.telerik.com/themes/7.2.0/default/default-ocean-blue.css';\r\n@import 'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css';\r\n</style>\r\n<script>\r\nimport { Grid, GridColumn } from '@progress/kendo-grid-vue-wrapper';\r\nimport { KendoDataSource } from '@progress/kendo-datasource-vue-wrapper';\r\nimport kendo from '@progress/kendo-ui';\r\n\r\nexport default {\r\n    components: {\r\n        'kendo-grid': Grid,\r\n        'kendo-grid-column': GridColumn,\r\n        'kendo-datasource': KendoDataSource\r\n    },\r\n\r\n\r\n   data: function () {\r\n        return {\r\n            schemaModelFields: {\r\n                id: { type: 'string', editable: true },\r\n                GameName: { type: 'string', from: 'attributes.title', editable: true},\r\n                NumberPlayers: { type: 'string', from: 'attributes.field_players', editable: true},\r\n                Description: { type: 'string', from: 'attributes.field_description', editable: true},\r\n                Publisher: { type: 'string', from: 'attributes.field_publisher', editable: true},\r\n                Rating: { type: 'number', from: 'attributes.field_rating', editable: true},\r\n                Created: { type: 'string', from: 'attributes.created', editable: false},\r\n                Modified: { type: 'string', from: 'attributes.changed', editable: false},\r\n                attributes: { defaultValue: {}},\r\n                relationships: { defaultValue: {}},\r\n            }\r\n            columns: [\r\n                    { \r\n                        field: \"GameName\", \r\n                        title: \"Game Title\", \r\n                        width: 120, \r\n                        hidden: false,\r\n                    },\r\n                    { \r\n                        field: \"Publisher\", \r\n                        title: \"Publisher\", \r\n                        //width: 120, \r\n                        hidden: false,\r\n                    }, \r\n                    { \r\n                        field: \"NumberPlayers\", \r\n                        title: \"Number Of Players\", \r\n                        // width: 80, \r\n                        hidden: false,\r\n                    }, \r\n                    { \r\n                        field: \"Description\", \r\n                        title: \"Description\", \r\n                        //width: 320, \r\n                        hidden: false,\r\n                    }, \r\n                    {\r\n                        field: \"Rating\",\r\n                        title: \"Rating\",\r\n                        //format: \"{0}\",\r\n                        template: \"<span id='chart_#= id#' class='sparkline-chart'></span>\",\r\n                    },\r\n                    {\r\n                        field: \"Created\",\r\n                        title: \"Created\"\r\n                    },\r\n                    {\r\n                        field: \"Modified\",\r\n                        title: \"Last Modified\"\r\n                    },\r\n                    { command: [\"edit\", \"destroy\"], title: \"&nbsp;\", width: \"250px\" },\r\n                ]\r\n        };\r\n    },\r\n\r\n    methods: {\r\n        readgridData: function(e) {\r\n\r\n            let drupaltoken = localStorage.getItem('drupaltoken');\r\n            console.log('drupaltoken');\r\n            console.log(drupaltoken);\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            if (user && user.token) {\r\n                console.log('fake usertoken');\r\n                console.log(user.token);\r\n            } else {\r\n                return {};\r\n            }\r\n            //e.success({ProductName: \"Chai\"})\r\n            //// for demo only using fakebackend.js and passing over a bearer token to the service layer as post and bearer\r\n            fetch('http://dev-gametest.pantheonsite.io/transport-templates-modeling.php?type=read', {\r\n                mode:  'cors', \r\n                method: 'get',\r\n                body: drupaltoken,\r\n                headers: {\r\n                    'Accept': 'application/vnd.api+json',\r\n                    'Content-type': 'application/vnd.api+json',\r\n                    'Authorization': 'Bearer ' + drupaltoken,\r\n                },\r\n              })\r\n\r\n                  .then((response) => response.text())\r\n                  .then((json) => {e.success(json);})\r\n                  //.then((response) => {e.success(response.text())})\r\n                \r\n                //.then((json) => console.log(json))\r\n                .catch(function (error) {\r\n                    console.log('Error on Authentication' + error);\r\n                });\r\n\r\n                \r\n        },\r\n        parameterMap: function(options, operation) {\r\n            if (operation !== 'read' && options.models) {\r\n                return { models: kendo.stringify(options.models) };\r\n            }\r\n        }\r\n\r\n        showLoader: function() {\r\n                kendo.ui.progress($(\"div[data-role='grid']\"), true);\r\n        }\r\n\r\n        hideLoader: function() {\r\n                kendo.ui.progress($(\"div[data-role='grid']\"), false);\r\n        }\r\n\r\n        \r\n        Refreshtree: function(e) {\r\n                var projectGrid = $(\"#grid\").data(\"kendoGrid\");\r\n                projectGrid.dataSource.read();\r\n                projectGrid.refresh();\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n<Layout>\r\n    <kendo-datasource ref=\"datasource1\"\r\n                        :transport-read=\"readgridData\"\r\n                        :transport-update-url=\"'https://demos.telerik.com/kendo-ui/service/Products/Update'\"\r\n                        :transport-update-data-type=\"'jsonp'\"\r\n                        :transport-destroy-url=\"'https://demos.telerik.com/kendo-ui/service/Products/Destroy'\"\r\n                        :transport-destroy-data-type=\"'jsonp'\"\r\n                        :transport-create-url=\"'https://demos.telerik.com/kendo-ui/service/Products/Create'\"\r\n                        :transport-create-data-type=\"'jsonp'\"\r\n                        :transport-parameter-map=\"parameterMap\"\r\n                        :schema-model-id=\"'ProductID'\"\r\n                        :schema-model-fields=\"schemaModelFields\"\r\n                        :batch='true'\r\n                        :page-size='20'>\r\n    </kendo-datasource>\r\n\r\n    <kendo-grid :height=\"600\"\r\n                :data-source-ref=\"'datasource1'\"\r\n                :pageable=\"true\"\r\n                :sortable=\"true\"\r\n                :navigatable=\"true\"\r\n                :resizable=\"true\"\r\n                :reorderable=\"true\"\r\n                :groupable=\"true\"\r\n                :filterable=\"true\"\r\n                :editable=\"'inline'\"\r\n                toolbar=\"['create','excel', 'pdf', 'search']\"\r\n                @edit=\"onGridEditing\"\r\n                @dataBound=\"onDataBound\"\r\n                :columns=\"columns\"\r\n                >\r\n        \r\n    </kendo-grid>\r\n </Layout>\r\n</template>\r\n"],"mappings":";;;;;uBA4IAA,YAAA,CAiCUC,iBAAA;IA7KVC,OAAA,EAAAC,QAAA,CA6II;MAAA,OAamB,CAbnBC,YAAA,CAamBC,2BAAA;QAbDC,GAAG,EAAC,aAAa;QACd,gBAAc,EAAEC,IAAA,CAAAC,YAAY;QAC5B,sBAAoB,EAAE,4DAA4D;QAClF,4BAA0B,EAAE,OAAO;QACnC,uBAAqB,EAAE,6DAA6D;QACpF,6BAA2B,EAAE,OAAO;QACpC,sBAAoB,EAAE,4DAA4D;QAClF,4BAA0B,EAAE,OAAO;QACnC,yBAAuB,EAAED,IAAA,CAAAE,YAAY;QACrC,iBAAe,EAAE,WAAW;QAC5B,qBAAmB,EAAEF,IAAA,CAAAG,iBAAiB;QACtCC,KAAK,EAAE,IAAI;QACX,WAAS,EAAE;8KAGhCP,YAAA,CAgBaQ,qBAAA;QAhBAC,MAAM,EAAE,GAAG;QACX,iBAAe,EAAE,aAAa;QAC9BC,QAAQ,EAAE,IAAI;QACdC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,IAAI;QACjBC,SAAS,EAAE,IAAI;QACfC,WAAW,EAAE,IAAI;QACjBC,SAAS,EAAE,IAAI;QACfC,UAAU,EAAE,IAAI;QAChBC,QAAQ,EAAE,QAAQ;QACnBC,OAAO,EAAC,qCAAqC;QAC5CC,MAAI,EAAEhB,IAAA,CAAAiB,aAAa;QACnBC,WAAS,EAAElB,IAAA,CAAAkB,WAAW;QACtBC,OAAO,EAAEnB,IAAA,CAAAmB;;;IAzK1BC,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}