{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_kendo_datasource = _resolveComponent(\"kendo-datasource\");\n  var _component_kendo_grid = _resolveComponent(\"kendo-grid\");\n  var _component_Layout = _resolveComponent(\"Layout\");\n  return _openBlock(), _createBlock(_component_Layout, null, {\n    default: _withCtx(function () {\n      return [_createVNode(_component_kendo_datasource, {\n        ref: \"datasource1\",\n        \"transport-read\": $options.readgridData,\n        \"transport-update\": $options.updategridData,\n        \"transport-destroy\": $options.destroygridData,\n        \"transport-create\": $options.creategridData,\n        \"transport-parameter-map\": $options.parameterMap,\n        \"schema-model-id\": 'id',\n        \"schema-model-fields\": _ctx.schemaModelFields,\n        batch: true,\n        \"page-size\": 20\n      }, null, 8 /* PROPS */, [\"transport-read\", \"transport-update\", \"transport-destroy\", \"transport-create\", \"transport-parameter-map\", \"schema-model-fields\"]), _createVNode(_component_kendo_grid, {\n        ref: \"grid\",\n        height: 600,\n        \"data-source-ref\": 'datasource1',\n        pageable: true,\n        sortable: true,\n        navigatable: true,\n        resizable: true,\n        reorderable: true,\n        groupable: true,\n        filterable: true,\n        editable: 'inline',\n        toolbar: \"['create','excel', 'pdf', 'search']\",\n        onEdit: _ctx.onGridEditing,\n        onDataBound: _ctx.onDataBound,\n        columns: _ctx.columns\n      }, null, 8 /* PROPS */, [\"onEdit\", \"onDataBound\", \"columns\"])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_Layout","default","_withCtx","_createVNode","_component_kendo_datasource","ref","$options","readgridData","updategridData","destroygridData","creategridData","parameterMap","_ctx","schemaModelFields","batch","_component_kendo_grid","height","pageable","sortable","navigatable","resizable","reorderable","groupable","filterable","editable","toolbar","onEdit","onGridEditing","onDataBound","columns","_"],"sources":["/Users/michaelrellaford/Documents/velgame/Starterkit/src/components/widgets/datagrid.vue"],"sourcesContent":["<style lang=\"css\">\r\n@import 'https://kendo.cdn.telerik.com/themes/7.2.0/default/default-ocean-blue.css';\r\n@import 'https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css';\r\n</style>\r\n<script>\r\nimport { Grid, GridColumn } from '@progress/kendo-grid-vue-wrapper';\r\nimport { KendoDataSource } from '@progress/kendo-datasource-vue-wrapper';\r\nimport kendo from '@progress/kendo-ui';\r\n\r\nexport default {\r\n    components: {\r\n        'kendo-grid': Grid,\r\n        'kendo-datasource': KendoDataSource\r\n    },\r\n\r\n\r\n   data: function () {\r\n        return {\r\n            schemaModelFields: {\r\n                id: { type: 'string', editable: true },\r\n                GameName: { type: 'string', from: 'attributes.title', editable: true},\r\n                NumberPlayers: { type: 'string', from: 'attributes.field_players', editable: true},\r\n                Description: { type: 'string', from: 'attributes.field_description', editable: true},\r\n                Publisher: { type: 'string', from: 'attributes.field_publisher', editable: true},\r\n                Rating: { type: 'number', from: 'attributes.field_rating', editable: true},\r\n                Created: { type: 'string', from: 'attributes.created', editable: false},\r\n                Modified: { type: 'string', from: 'attributes.changed', editable: false},\r\n                attributes: { defaultValue: {}},\r\n                relationships: { defaultValue: {}},\r\n            },\r\n            columns: [\r\n                    { \r\n                        field: \"GameName\", \r\n                        title: \"Game Title\", \r\n                        width: 120, \r\n                        hidden: false,\r\n                    },\r\n                    { \r\n                        field: \"Publisher\", \r\n                        title: \"Publisher\", \r\n                        //width: 120, \r\n                        hidden: false,\r\n                    }, \r\n                    { \r\n                        field: \"NumberPlayers\", \r\n                        title: \"Number Of Players\", \r\n                        // width: 80, \r\n                        hidden: false,\r\n                    }, \r\n                    { \r\n                        field: \"Description\", \r\n                        title: \"Description\", \r\n                        //width: 320, \r\n                        hidden: false,\r\n                    }, \r\n                    {\r\n                        field: \"Rating\",\r\n                        title: \"Rating\",\r\n                        //format: \"{0}\",\r\n                        template: \"<span id='chart_#= id#' class='sparkline-chart'></span>\",\r\n                    },\r\n                    {\r\n                        field: \"Created\",\r\n                        title: \"Created\"\r\n                    },\r\n                    {\r\n                        field: \"Modified\",\r\n                        title: \"Last Modified\"\r\n                    },\r\n                    { command: [\"edit\", \"destroy\"], title: \"&nbsp;\", width: \"250px\" },\r\n                ]\r\n        };\r\n    },\r\n\r\n    methods: {\r\n        /////READ CALLS//////\r\n        readgridData: function(e) {\r\n            //////////Fake drupal oauth user - grab and store in local storage.. local \r\n            /////local storage is not secure for demo purposed only. SPA/decoupled apps should use \r\n            ////// a token handler pattern approach - https://curity.io/resources/learn/the-token-handler-pattern/?utm_source=thenewstack&utm_medium=website&utm_content=inline-mention&utm_campaign=platform\r\n            let drupaltoken = localStorage.getItem('drupaltoken');\r\n            //console.log('drupaltoken');\r\n            //console.log(drupaltoken);\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            if (user && user.token) {\r\n                console.log('fake usertoken');\r\n                console.log(user.token);\r\n            } else {\r\n                return {};\r\n            }\r\n            //// for demo only using fakebackend.js and passing over a bearer token to the service layer as post and bearer\r\n            //// using fetch here for quick api support/calls - https://blog.logrocket.com/axios-vs-fetch-best-http-requests/\r\n            fetch('https://dev-gametest.pantheonsite.io/clients/transport-templates-modeling.php?type=read', {\r\n                mode:  'cors', \r\n                method: 'post',\r\n                body: 'token=' + drupaltoken,\r\n                headers: {\r\n                    'Accept': 'application/vnd.api+json',\r\n                    'Content-type': 'application/vnd.api+json',\r\n                    'Authorization': 'Bearer ' + drupaltoken,\r\n                },\r\n              })\r\n                .then((response) => response.text())\r\n                .then((json) => {e.success(json);})\r\n                //.then((response) => {e.success(response.text())})\r\n                //.then((json) => console.log(json))\r\n                .catch(function (error) {\r\n                    console.log('Error on Authentication' + error);\r\n                });\r\n        },\r\n\r\n        /////UPDATE CALLS//////\r\n        updategridData: function(e) {\r\n            //////////Fake drupal oauth user - grab and store in local storage.. local \r\n            /////local storage is not secure for demo purposed only. SPA/decoupled apps should use \r\n            ////// a token handler pattern approach - https://curity.io/resources/learn/the-token-handler-pattern/?utm_source=thenewstack&utm_medium=website&utm_content=inline-mention&utm_campaign=platform\r\n            let drupaltoken = localStorage.getItem('drupaltoken');\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            //// for demo only using fakebackend.js and passing over a bearer token to the service layer as post and bearer\r\n            //// using fetch here for quick api support/calls - https://blog.logrocket.com/axios-vs-fetch-best-http-requests/\r\n            fetch('https://dev-gametest.pantheonsite.io/clients/transport-templates-modeling.php?type=update', {\r\n                mode:  'cors', \r\n                method: 'post',\r\n                body: 'token=' + drupaltoken +',models=' + e.data.models,\r\n                headers: {\r\n                    'Accept': 'application/vnd.api+json',\r\n                    'Content-type': 'application/vnd.api+json',\r\n                    'Authorization': 'Bearer ' + drupaltoken,\r\n                },\r\n              })\r\n                .then((response) => response.text())\r\n                .then((json) => {e.success(json);})\r\n                //.then((response) => {e.success(response.text())})\r\n                //.then((json) => console.log(json))\r\n                .catch(function (error) {\r\n                    console.log('Error on Authentication' + error);\r\n                });\r\n        },\r\n\r\n        /////CREATE CALLS//////\r\n        creategridData: function(e) {\r\n            //////////Fake drupal oauth user - grab and store in local storage.. local \r\n            /////local storage is not secure for demo purposed only. SPA/decoupled apps should use \r\n            ////// a token handler pattern approach - https://curity.io/resources/learn/the-token-handler-pattern/?utm_source=thenewstack&utm_medium=website&utm_content=inline-mention&utm_campaign=platform\r\n            let drupaltoken = localStorage.getItem('drupaltoken');\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            //// for demo only using fakebackend.js and passing over a bearer token to the service layer as post and bearer\r\n            //// using fetch here for quick api support/calls - https://blog.logrocket.com/axios-vs-fetch-best-http-requests/\r\n            fetch('https://dev-gametest.pantheonsite.io/clients/transport-templates-modeling.php?type=create', {\r\n                mode:  'cors', \r\n                method: 'post',\r\n                body: 'token=' + drupaltoken +',models=' + e.data.models,\r\n                headers: {\r\n                    'Accept': 'application/vnd.api+json',\r\n                    'Content-type': 'application/vnd.api+json',\r\n                    'Authorization': 'Bearer ' + drupaltoken,\r\n                },\r\n              })\r\n                .then((response) => response.text())\r\n                .then((json) => {e.success(json);})\r\n                //.then((response) => {e.success(response.text())})\r\n                //.then((json) => console.log(json))\r\n                .catch(function (error) {\r\n                    console.log('Error on Authentication' + error);\r\n                });\r\n        },\r\n\r\n        /////DELETE CALLS//////\r\n        destroygridData: function(e) {\r\n            //////////Fake drupal oauth user - grab and store in local storage.. local \r\n            /////local storage is not secure for demo purposed only. SPA/decoupled apps should use \r\n            ////// a token handler pattern approach - https://curity.io/resources/learn/the-token-handler-pattern/?utm_source=thenewstack&utm_medium=website&utm_content=inline-mention&utm_campaign=platform\r\n            let drupaltoken = localStorage.getItem('drupaltoken');\r\n            let user = JSON.parse(localStorage.getItem('user'));\r\n            //// for demo only using fakebackend.js and passing over a bearer token to the service layer as post and bearer\r\n            //// using fetch here for quick api support/calls - https://blog.logrocket.com/axios-vs-fetch-best-http-requests/\r\n            fetch('https://dev-gametest.pantheonsite.io/clients/transport-templates-modeling.php?type=delete', {\r\n                mode:  'cors', \r\n                method: 'post',\r\n                body: 'token=' + drupaltoken +',models=' + e.data.models,\r\n                headers: {\r\n                    'Accept': 'application/vnd.api+json',\r\n                    'Content-type': 'application/vnd.api+json',\r\n                    'Authorization': 'Bearer ' + drupaltoken,\r\n                },\r\n              })\r\n                .then((response) => response.text())\r\n                .then((json) => {e.success(json);})\r\n                //.then((response) => {e.success(response.text())})\r\n                //.then((json) => console.log(json))\r\n                .catch(function (error) {\r\n                    console.log('Error on Authentication' + error);\r\n                });\r\n        },\r\n\r\n        parameterMap: function(options, operation) {\r\n            if (operation !== 'read' && options.models) {\r\n                return { models: kendo.stringify(options.models) };\r\n            }\r\n        },\r\n\r\n        showLoader: function() {\r\n              \r\n        },\r\n\r\n        hideLoader: function() {\r\n              \r\n        },\r\n\r\n        Refreshtree: function(e) {\r\n               \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<template>\r\n<Layout>\r\n    <kendo-datasource ref=\"datasource1\"\r\n                :transport-read=\"readgridData\"\r\n                :transport-update=\"updategridData\"\r\n                :transport-destroy=\"destroygridData\"\r\n                :transport-create=\"creategridData\"\r\n                :transport-parameter-map=\"parameterMap\"\r\n                :schema-model-id=\"'id'\"\r\n                :schema-model-fields=\"schemaModelFields\"\r\n                :batch='true'\r\n                :page-size='20'>\r\n    </kendo-datasource>\r\n\r\n    <kendo-grid ref=\"grid\"\r\n                :height=\"600\"\r\n                :data-source-ref=\"'datasource1'\"\r\n                :pageable=\"true\"\r\n                :sortable=\"true\"\r\n                :navigatable=\"true\"\r\n                :resizable=\"true\"\r\n                :reorderable=\"true\"\r\n                :groupable=\"true\"\r\n                :filterable=\"true\"\r\n                :editable=\"'inline'\"\r\n                toolbar=\"['create','excel', 'pdf', 'search']\"\r\n                @edit=\"onGridEditing\"\r\n                @dataBound=\"onDataBound\"\r\n                :columns=\"columns\"\r\n                >\r\n    </kendo-grid>\r\n </Layout>\r\n</template>\r\n"],"mappings":";;;;;uBAyNAA,YAAA,CA8BUC,iBAAA;IAvPVC,OAAA,EAAAC,QAAA,CA0NI;MAAA,OAUmB,CAVnBC,YAAA,CAUmBC,2BAAA;QAVDC,GAAG,EAAC,aAAa;QACtB,gBAAc,EAAEC,QAAA,CAAAC,YAAY;QAC5B,kBAAgB,EAAED,QAAA,CAAAE,cAAc;QAChC,mBAAiB,EAAEF,QAAA,CAAAG,eAAe;QAClC,kBAAgB,EAAEH,QAAA,CAAAI,cAAc;QAChC,yBAAuB,EAAEJ,QAAA,CAAAK,YAAY;QACrC,iBAAe,EAAE,IAAI;QACrB,qBAAmB,EAAEC,IAAA,CAAAC,iBAAiB;QACtCC,KAAK,EAAE,IAAI;QACX,WAAS,EAAE;kKAGxBX,YAAA,CAgBaY,qBAAA;QAhBDV,GAAG,EAAC,MAAM;QACTW,MAAM,EAAE,GAAG;QACX,iBAAe,EAAE,aAAa;QAC9BC,QAAQ,EAAE,IAAI;QACdC,QAAQ,EAAE,IAAI;QACdC,WAAW,EAAE,IAAI;QACjBC,SAAS,EAAE,IAAI;QACfC,WAAW,EAAE,IAAI;QACjBC,SAAS,EAAE,IAAI;QACfC,UAAU,EAAE,IAAI;QAChBC,QAAQ,EAAE,QAAQ;QACnBC,OAAO,EAAC,qCAAqC;QAC5CC,MAAI,EAAEd,IAAA,CAAAe,aAAa;QACnBC,WAAS,EAAEhB,IAAA,CAAAgB,WAAW;QACtBC,OAAO,EAAEjB,IAAA,CAAAiB;;;IApP1BC,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}