{"ast":null,"code":"import _classCallCheck from \"/Users/michaelrellaford/Documents/velgame/Starterkit/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/michaelrellaford/Documents/velgame/Starterkit/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _defineProperty from \"/Users/michaelrellaford/Documents/velgame/Starterkit/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport firebase from 'firebase/compat/app';\n// Add the Firebase products that you want to use\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nvar FirebaseAuthBackend = /*#__PURE__*/function () {\n  function FirebaseAuthBackend(firebaseConfig) {\n    var _this = this;\n    _classCallCheck(this, FirebaseAuthBackend);\n    /**\r\n     * Registers the user with given details\r\n     */\n    _defineProperty(this, \"registerUser\", function (email, password) {\n      return new Promise(function (resolve, reject) {\n        firebase.auth().createUserWithEmailAndPassword(email, password).then(function (user) {\n          // eslint-disable-next-line no-redeclare\n          var user = firebase.auth().currentUser;\n          resolve(user);\n        }, function (error) {\n          reject(_this._handleError(error));\n        });\n      });\n    });\n    /**\r\n     * Login user with given details\r\n     */\n    _defineProperty(this, \"loginUser\", function (email, password) {\n      return new Promise(function (resolve, reject) {\n        firebase.auth().signInWithEmailAndPassword(email, password).then(function (user) {\n          // eslint-disable-next-line no-redeclare\n          var user = firebase.auth().currentUser;\n          resolve(user);\n        }, function (error) {\n          reject(_this._handleError(error));\n        });\n      });\n    });\n    /**\r\n     * forget Password user with given details\r\n     */\n    _defineProperty(this, \"forgetPassword\", function (email) {\n      return new Promise(function (resolve, reject) {\n        firebase.auth().sendPasswordResetEmail(email, {\n          url: window.location.protocol + \"//\" + window.location.host + \"/login\"\n        }).then(function () {\n          resolve(true);\n        }).catch(function (error) {\n          reject(_this._handleError(error));\n        });\n      });\n    });\n    /**\r\n     * Logout the user\r\n     */\n    _defineProperty(this, \"logout\", function () {\n      return new Promise(function (resolve, reject) {\n        firebase.auth().signOut().then(function () {\n          resolve(true);\n        }).catch(function (error) {\n          reject(_this._handleError(error));\n        });\n      });\n    });\n    _defineProperty(this, \"setLoggeedInUser\", function (user) {\n      sessionStorage.setItem(\"authUser\", JSON.stringify(user));\n    });\n    /**\r\n     * Returns the authenticated user\r\n     */\n    _defineProperty(this, \"getAuthenticatedUser\", function () {\n      if (!sessionStorage.getItem('authUser')) return null;\n      return JSON.parse(sessionStorage.getItem('authUser'));\n    });\n    if (firebaseConfig) {\n      // Initialize Firebase\n      firebase.initializeApp(firebaseConfig);\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          sessionStorage.setItem(\"authUser\", JSON.stringify(user));\n        } else {\n          sessionStorage.removeItem('authUser');\n        }\n      });\n    }\n  }\n  _createClass(FirebaseAuthBackend, [{\n    key: \"_handleError\",\n    value:\n    /**\r\n     * Handle the error\r\n     * @param {*} error \r\n     */\n    function _handleError(error) {\n      var errorMessage = error.message;\n      return errorMessage;\n    }\n  }]);\n  return FirebaseAuthBackend;\n}();\nvar _fireBaseBackend = null;\n\n/**\r\n * Initilize the backend\r\n * @param {*} config \r\n */\nvar initFirebaseBackend = function initFirebaseBackend(config) {\n  if (!_fireBaseBackend) {\n    _fireBaseBackend = new FirebaseAuthBackend(config);\n  }\n  return _fireBaseBackend;\n};\n\n/**\r\n * Returns the firebase backend\r\n */\nvar getFirebaseBackend = function getFirebaseBackend() {\n  return _fireBaseBackend;\n};\nexport { initFirebaseBackend, getFirebaseBackend };","map":{"version":3,"names":["firebase","FirebaseAuthBackend","firebaseConfig","_this","_classCallCheck","_defineProperty","email","password","Promise","resolve","reject","auth","createUserWithEmailAndPassword","then","user","currentUser","error","_handleError","signInWithEmailAndPassword","sendPasswordResetEmail","url","window","location","protocol","host","catch","signOut","sessionStorage","setItem","JSON","stringify","getItem","parse","initializeApp","onAuthStateChanged","removeItem","_createClass","key","value","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"sources":["/Users/michaelrellaford/Documents/velgame/Starterkit/src/authUtils.js"],"sourcesContent":["import firebase from 'firebase/compat/app';\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nclass FirebaseAuthBackend {\r\n    constructor(firebaseConfig) {\r\n        if (firebaseConfig) {\r\n            // Initialize Firebase\r\n            firebase.initializeApp(firebaseConfig);\r\n            firebase.auth().onAuthStateChanged((user) => {\r\n                if (user) {\r\n                    sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n                } else {\r\n                    sessionStorage.removeItem('authUser');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers the user with given details\r\n     */\r\n    registerUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().createUserWithEmailAndPassword(email, password).then((user) => {\r\n                // eslint-disable-next-line no-redeclare\r\n                var user = firebase.auth().currentUser;\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Login user with given details\r\n     */\r\n    loginUser = (email, password) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signInWithEmailAndPassword(email, password).then((user) => {\r\n                // eslint-disable-next-line no-redeclare\r\n                var user = firebase.auth().currentUser;\r\n                resolve(user);\r\n            }, (error) => {\r\n                reject(this._handleError(error));\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * forget Password user with given details\r\n     */\r\n    forgetPassword = (email) => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().sendPasswordResetEmail(email, { url: window.location.protocol + \"//\" + window.location.host + \"/login\" }).then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Logout the user\r\n     */\r\n    logout = () => {\r\n        return new Promise((resolve, reject) => {\r\n            firebase.auth().signOut().then(() => {\r\n                resolve(true);\r\n            }).catch((error) => {\r\n                reject(this._handleError(error));\r\n            })\r\n        });\r\n    }\r\n\r\n    setLoggeedInUser = (user) => {\r\n        sessionStorage.setItem(\"authUser\", JSON.stringify(user));\r\n    }\r\n\r\n    /**\r\n     * Returns the authenticated user\r\n     */\r\n    getAuthenticatedUser = () => {\r\n        if (!sessionStorage.getItem('authUser'))\r\n            return null;\r\n        return JSON.parse(sessionStorage.getItem('authUser'));\r\n    }\r\n\r\n    /**\r\n     * Handle the error\r\n     * @param {*} error \r\n     */\r\n    _handleError(error) {\r\n        var errorMessage = error.message;\r\n        return errorMessage;\r\n    }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config \r\n */\r\nconst initFirebaseBackend = (config) => {\r\n    if (!_fireBaseBackend) {\r\n        _fireBaseBackend = new FirebaseAuthBackend(config);\r\n    }\r\n    return _fireBaseBackend;\r\n}\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n    return _fireBaseBackend;\r\n}\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}