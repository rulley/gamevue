{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { authMethods, authFackMethods, notificationMethods } from \"@/state/helpers\";\nimport { required, email } from \"@vuelidate/validators\";\nimport useVuelidate from \"@vuelidate/core\";\nimport { mapState } from \"vuex\";\n\n/**\r\n * Register component\r\n */\nexport default {\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n  data() {\n    return {\n      user: {\n        username: \"\",\n        email: \"\",\n        password: \"\"\n      },\n      submitted: false,\n      regError: null,\n      tryingToRegister: false,\n      isRegisterError: false,\n      registerSuccess: false\n    };\n  },\n  validations: {\n    user: {\n      username: {\n        required\n      },\n      email: {\n        required,\n        email\n      },\n      password: {\n        required\n      }\n    }\n  },\n  methods: {\n    ...authMethods,\n    ...authFackMethods,\n    ...notificationMethods,\n    // Try to register the user in with the email, username\n    // and password they provided.\n    tryToRegisterIn() {\n      this.submitted = true;\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      } else {\n        if (process.env.VUE_APP_DEFAULT_AUTH === \"firebase\") {\n          this.tryingToRegister = true;\n          // Reset the regError if it existed.\n          this.regError = null;\n          return this.register({\n            email: this.email,\n            password: this.password\n          })\n          // eslint-disable-next-line no-unused-vars\n          .then(token => {\n            this.$router.push(this.$route.query.redirectFrom || {\n              name: \"home\"\n            });\n          }).catch(error => {\n            this.tryingToRegister = false;\n            this.regError = error ? error : \"\";\n            this.isRegisterError = true;\n          });\n        } else if (process.env.VUE_APP_DEFAULT_AUTH === \"fakebackend\") {\n          const {\n            email,\n            username,\n            password\n          } = this.user;\n          if (email && username && password) {\n            this.registeruser(this.user);\n          }\n        }\n      }\n    }\n  },\n  computed: {\n    ...mapState(\"authfack\", [\"status\"]),\n    notification() {\n      return this.$store ? this.$store.state.notification : null;\n    }\n  }\n};","map":{"version":3,"names":["authMethods","authFackMethods","notificationMethods","required","email","useVuelidate","mapState","setup","v$","data","user","username","password","submitted","regError","tryingToRegister","isRegisterError","registerSuccess","validations","methods","tryToRegisterIn","$touch","$invalid","process","env","VUE_APP_DEFAULT_AUTH","register","then","token","$router","push","$route","query","redirectFrom","name","catch","error","registeruser","computed","notification","$store","state"],"sources":["/Users/michaelrellaford/Documents/velgame/Starterkit/src/router/views/account/register.vue"],"sourcesContent":["<script>\r\nimport {\r\n  authMethods,\r\n  authFackMethods,\r\n  notificationMethods,\r\n} from \"@/state/helpers\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { mapState } from \"vuex\";\r\n\r\n/**\r\n * Register component\r\n */\r\nexport default {\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n      submitted: false,\r\n      regError: null,\r\n      tryingToRegister: false,\r\n      isRegisterError: false,\r\n      registerSuccess: false,\r\n    };\r\n  },\r\n  validations: {\r\n    user: {\r\n      username: {\r\n        required,\r\n      },\r\n      email: {\r\n        required,\r\n        email,\r\n      },\r\n      password: {\r\n        required,\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    ...authMethods,\r\n    ...authFackMethods,\r\n    ...notificationMethods,\r\n    // Try to register the user in with the email, username\r\n    // and password they provided.\r\n    tryToRegisterIn() {\r\n      this.submitted = true;\r\n\r\n      this.v$.$touch();\r\n\r\n      if (this.v$.$invalid) {\r\n        return;\r\n      } else {\r\n        if (process.env.VUE_APP_DEFAULT_AUTH === \"firebase\") {\r\n          this.tryingToRegister = true;\r\n          // Reset the regError if it existed.\r\n          this.regError = null;\r\n          return (\r\n            this.register({\r\n              email: this.email,\r\n              password: this.password,\r\n            })\r\n              // eslint-disable-next-line no-unused-vars\r\n              .then((token) => {\r\n                this.$router.push(\r\n                  this.$route.query.redirectFrom || { name: \"home\" }\r\n                );\r\n              })\r\n              .catch((error) => {\r\n                this.tryingToRegister = false;\r\n                this.regError = error ? error : \"\";\r\n                this.isRegisterError = true;\r\n              })\r\n          );\r\n        } else if (process.env.VUE_APP_DEFAULT_AUTH === \"fakebackend\") {\r\n          const { email, username, password } = this.user;\r\n          if (email && username && password) {\r\n            this.registeruser(this.user);\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"authfack\", [\"status\"]),\r\n    notification() {\r\n      return this.$store ? this.$store.state.notification : null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"account-pages my-5 pt-5\">\r\n    <BContainer>\r\n      <BRow class=\"justify-content-center\">\r\n        <BCol md=\"8\" lg=\"6\" xl=\"4\">\r\n          <BCard no-body class=\"overflow-hidden\">\r\n            <div class=\"bg-primary\">\r\n              <div class=\"text-primary text-center p-4\">\r\n                <h5 class=\"text-white font-size-20\">Free Register</h5>\r\n                <p class=\"text-white-50\">Get your free Veltrix account now.</p>\r\n                <router-link to=\"/\" class=\"logo logo-admin\">\r\n                  <img src=\"@/assets/images/logo-sm.png\" height=\"24\" alt=\"logo\" />\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n\r\n            <BCardBody class=\"p-4\">\r\n              <div class=\"p-3\">\r\n                <BAlert v-model=\"registerSuccess\" class=\"mt-3\" variant=\"success\" dismissible>Registration successfull.</BAlert>\r\n\r\n                <BAlert v-model=\"isRegisterError\" class=\"mt-3\" variant=\"danger\" dismissible>{{ regError }}</BAlert>\r\n\r\n                <div v-if=\"notification.message\" :class=\"'alert ' + notification.type\">\r\n                  {{ notification.message }}\r\n                </div>\r\n\r\n                <BForm @submit.prevent=\"tryToRegisterIn\" class=\"form-horizontal mt-4\">\r\n                  <BFormGroup id=\"username-group\" label=\"Username\" label-for=\"username\" label-class=\"form-label\" class=\"mb-3\">\r\n                    <BFormInput id=\"username\" v-model=\"user.username\" type=\"text\" placeholder=\"Enter name\" :class=\"{\r\n                      'is-invalid': submitted && v$.user.username.$error,\r\n                    }\"></BFormInput>\r\n                    <div v-if=\"submitted && !v$.user.username.required\" class=\"invalid-feedback\">\r\n                      Username is required.\r\n                    </div>\r\n                  </BFormGroup>\r\n\r\n                  <BFormGroup id=\"email-group\" label=\"Email\" label-for=\"email\" label-class=\"form-label\" class=\"mb-3\">\r\n                    <BFormInput id=\"email\" v-model=\"user.email\" type=\"email\" placeholder=\"Enter email\" :class=\"{\r\n                      'is-invalid': submitted && v$.user.email.$error,\r\n                    }\"></BFormInput>\r\n                    <div v-if=\"submitted && v$.user.email.$error\" class=\"invalid-feedback\">\r\n                      <span v-if=\"!v$.user.email.required\">Email is required.</span>\r\n                      <span v-if=\"!v$.user.email.email\">Please enter valid email.</span>\r\n                    </div>\r\n                  </BFormGroup>\r\n\r\n                  <BFormGroup id=\"password-group\" label=\"Password\" label-for=\"password\" label-class=\"form-label\" class=\"mb-3\">\r\n                    <BFormInput id=\"password\" v-model=\"user.password\" type=\"password\" placeholder=\"Enter password\" :class=\"{\r\n                      'is-invalid': submitted && v$.user.password.$error,\r\n                    }\"></BFormInput>\r\n                    <div v-if=\"submitted && !v$.user.password.required\" class=\"invalid-feedback\">\r\n                      Password is required.\r\n                    </div>\r\n                  </BFormGroup>\r\n\r\n                  <div class=\"form-group mb-0 text-center\">\r\n                    <BCol cols=\"12\" class=\"text-end\">\r\n                      <BButton type=\"submit\" variant=\"primary\" class=\"w-md\">Register</BButton>\r\n                    </BCol>\r\n                  </div>\r\n                  <BRow class=\"form-group mt-2 mb-0\">\r\n                    <BCol cols=\"12\" class=\"mt-4\">\r\n                      <p class=\"mb-0\">\r\n                        By registering you agree to the Veltrix\r\n                        <BLink href=\"#\" class=\"text-primary\">Terms of Use</BLink>\r\n                      </p>\r\n                    </BCol>\r\n                  </BRow>\r\n                </BForm>\r\n              </div>\r\n            </BCardBody>\r\n          </BCard>\r\n          <div class=\"mt-5 text-center\">\r\n            <p>\r\n              Already have an account ?\r\n              <router-link to=\"/login\" class=\"fw-medium text-primary\">Login</router-link>\r\n            </p>\r\n            <p>\r\n              Â©{{ new Date().getFullYear() }} Veltrix. Crafted with\r\n              <i class=\"mdi mdi-heart text-danger\"></i> by Themesbrand\r\n            </p>\r\n          </div>\r\n        </BCol>\r\n      </BRow>\r\n    </BContainer>\r\n  </div>\r\n</template>\r\n\r\n"],"mappings":";AACA,SACEA,WAAW,EACXC,eAAe,EACfC,mBAAmB,QACd,iBAAiB;AACxB,SAASC,QAAQ,EAAEC,KAAI,QAAS,uBAAuB;AACvD,OAAOC,YAAW,MAAO,iBAAiB;AAC1C,SAASC,QAAO,QAAS,MAAM;;AAE/B;;;AAGA,eAAe;EACbC,KAAKA,CAAA,EAAG;IACN,OAAO;MAAEC,EAAE,EAAEH,YAAY,CAAC;IAAE,CAAC;EAC/B,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZP,KAAK,EAAE,EAAE;QACTQ,QAAQ,EAAE;MACZ,CAAC;MACDC,SAAS,EAAE,KAAK;MAChBC,QAAQ,EAAE,IAAI;MACdC,gBAAgB,EAAE,KAAK;MACvBC,eAAe,EAAE,KAAK;MACtBC,eAAe,EAAE;IACnB,CAAC;EACH,CAAC;EACDC,WAAW,EAAE;IACXR,IAAI,EAAE;MACJC,QAAQ,EAAE;QACRR;MACF,CAAC;MACDC,KAAK,EAAE;QACLD,QAAQ;QACRC;MACF,CAAC;MACDQ,QAAQ,EAAE;QACRT;MACF;IACF;EACF,CAAC;EACDgB,OAAO,EAAE;IACP,GAAGnB,WAAW;IACd,GAAGC,eAAe;IAClB,GAAGC,mBAAmB;IACtB;IACA;IACAkB,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACP,SAAQ,GAAI,IAAI;MAErB,IAAI,CAACL,EAAE,CAACa,MAAM,CAAC,CAAC;MAEhB,IAAI,IAAI,CAACb,EAAE,CAACc,QAAQ,EAAE;QACpB;MACF,OAAO;QACL,IAAIC,OAAO,CAACC,GAAG,CAACC,oBAAmB,KAAM,UAAU,EAAE;UACnD,IAAI,CAACV,gBAAe,GAAI,IAAI;UAC5B;UACA,IAAI,CAACD,QAAO,GAAI,IAAI;UACpB,OACE,IAAI,CAACY,QAAQ,CAAC;YACZtB,KAAK,EAAE,IAAI,CAACA,KAAK;YACjBQ,QAAQ,EAAE,IAAI,CAACA;UACjB,CAAC;UACC;UAAA,CACCe,IAAI,CAAEC,KAAK,IAAK;YACf,IAAI,CAACC,OAAO,CAACC,IAAI,CACf,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,YAAW,IAAK;cAAEC,IAAI,EAAE;YAAO,CACnD,CAAC;UACH,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;YAChB,IAAI,CAACrB,gBAAe,GAAI,KAAK;YAC7B,IAAI,CAACD,QAAO,GAAIsB,KAAI,GAAIA,KAAI,GAAI,EAAE;YAClC,IAAI,CAACpB,eAAc,GAAI,IAAI;UAC7B,CAAC;QAEP,OAAO,IAAIO,OAAO,CAACC,GAAG,CAACC,oBAAmB,KAAM,aAAa,EAAE;UAC7D,MAAM;YAAErB,KAAK;YAAEO,QAAQ;YAAEC;UAAS,IAAI,IAAI,CAACF,IAAI;UAC/C,IAAIN,KAAI,IAAKO,QAAO,IAAKC,QAAQ,EAAE;YACjC,IAAI,CAACyB,YAAY,CAAC,IAAI,CAAC3B,IAAI,CAAC;UAC9B;QACF;MACF;IACF;EACF,CAAC;EAED4B,QAAQ,EAAE;IACR,GAAGhC,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,CAAC;IACnCiC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACC,MAAK,GAAI,IAAI,CAACA,MAAM,CAACC,KAAK,CAACF,YAAW,GAAI,IAAI;IAC5D;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}