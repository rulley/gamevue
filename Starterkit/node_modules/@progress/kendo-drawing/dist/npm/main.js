'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var _progress_pakoEsm = require('@progress/pako-esm');

var Class = function Class () {};

var Observable = (function (Class$$1) {
    function Observable() {
        Class$$1.call(this);

        this._events = {};
    }

    if ( Class$$1 ) Observable.__proto__ = Class$$1;
    Observable.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Observable.prototype.constructor = Observable;

    Observable.prototype.bind = function bind (eventName, handlers, one) {
        var arguments$1 = arguments;
        var this$1 = this;

        var eventNames = getArray(eventName);
        var handlersIsFunction = isFunction(handlers);
        var length = eventNames.length;

        if (handlers === undefined) {
            for (var field in eventName) {
                this$1.bind(field, eventName[field]);
            }
            return this;
        }

        var loop = function ( idx ) {
            var eventName$1 = eventNames[idx];

            var handler = handlersIsFunction ? handlers : handlers[eventName$1];

            if (handler) {
                if (one) {
                    var original = handler;
                    handler = function () { // eslint-disable-line no-loop-func
                        this$1.unbind(eventName$1, handler);
                        original.apply(this$1, arguments$1);
                    };
                    handler.original = original;
                }
                var events = this$1._events[eventName$1] = this$1._events[eventName$1] || [];
                events.push(handler);
            }
        };

        for (var idx = 0; idx < length; idx++) loop( idx );

        return this;
    };

    Observable.prototype.one = function one (eventNames, handlers) {
        return this.bind(eventNames, handlers, true);
    };

    Observable.prototype.first = function first (eventName, handlers) {
        var this$1 = this;

        var eventNames = getArray(eventName);
        var handlersIsFunction = isFunction(handlers);

        for (var idx = 0, length = eventNames.length; idx < length; idx++) {
            var eventName$1 = eventNames[idx];

            var handler = handlersIsFunction ? handlers : handlers[eventName$1];

            if (handler) {
                var events = this$1._events[eventName$1] = this$1._events[eventName$1] || [];
                events.unshift(handler);
            }
        }

        return this;
    };

    Observable.prototype.trigger = function trigger (eventName, e) {
        var this$1 = this;
        if ( e === void 0 ) e = {};

        var events = this._events[eventName];

        if (events) {
            var length = events.length;

            e.sender = this;
            e._defaultPrevented = false;
            e.preventDefault = preventDefault;
            e.isDefaultPrevented = isDefaultPrevented;

            events = events.slice();

            for (var idx = 0; idx < length; idx++) {
                events[idx].call(this$1, e);
            }

            return e._defaultPrevented === true;
        }

        return false;
    };

    Observable.prototype.unbind = function unbind (eventName, handler) {
        var events = this._events[eventName];

        if (eventName === undefined) {
            this._events = {};
        } else if (events) {
            if (handler) {
                for (var idx = events.length - 1; idx >= 0; idx--) {
                    if (events[idx] === handler || events[idx].original === handler) {
                        events.splice(idx, 1);
                    }
                }
            } else {
                this._events[eventName] = [];
            }
        }

        return this;
    };

    return Observable;
}(Class));

function isFunction(value) {
    return typeof value === "function";
}

function getArray(value) {
    return typeof value === "string" ? [ value ] : value;
}

function preventDefault() {
    this._defaultPrevented = true;
}

function isDefaultPrevented() {
    return this._defaultPrevented === true;
}

var animationFrameProxy = function (callback) {
    var wnd = typeof window !== "undefined" ? window : {};
    var animationFrame = wnd.requestAnimationFrame ||
                        wnd.webkitRequestAnimationFrame ||
                        wnd.mozRequestAnimationFrame ||
                        wnd.oRequestAnimationFrame ||
                        wnd.msRequestAnimationFrame ||
                        function(callback) { setTimeout(callback, 1000 / 60); };

    animationFrameProxy = function (callback) { return animationFrame.call(wnd, callback); };
    animationFrameProxy(callback);
};

var animationFrame = animationFrameProxy;

var ampRegExp = /&/g;
var ltRegExp = /</g;
var quoteRegExp = /"/g;
var aposRegExp = /'/g;
var gtRegExp = />/g;

function htmlEncode(value) {
    return String(value).replace(ampRegExp, "&amp;").replace(ltRegExp, "&lt;").replace(gtRegExp, "&gt;").replace(quoteRegExp, "&quot;").replace(aposRegExp, "&#39;");
}

/* eslint-disable no-console */

function logToConsole(message) {
    var console = window.console;

    if (typeof(console) != "undefined" && console.log) {
        console.log(message);
    }
}

// XXX: the following will not work with IE9 (requires server proxy).
function saveAs(options) {
    var dataURI = options.dataURI;
    var fileName = options.fileName;
    var data = dataURI;

    if (typeof data == "string" && window.Blob) {
        var parts = data.split(";base64,");
        var contentType = parts[0];
        var base64 = atob(parts[1]);
        var array = new Uint8Array(base64.length);
        for (var idx = 0; idx < base64.length; idx++) {
            array[idx] = base64.charCodeAt(idx);
        }
        data = new Blob([ array.buffer ], { type: contentType });
    }
    if (navigator.msSaveBlob) {
        navigator.msSaveBlob(data, fileName);
    } else {
        var link = document.createElement("a");
        link.download = fileName;
        data = link.href = URL.createObjectURL(data);
        var e = document.createEvent("MouseEvents");
        e.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
        link.dispatchEvent(e);
        setTimeout(function() {
            URL.revokeObjectURL(data);
        });
    }
}

function matchUserAgent(userAgent) {
    var browserRxs = {
        edge: /(edge)[ \/]([\w.]+)/i,
        webkit: /(chrome)[ \/]([\w.]+)/i,
        safari: /(webkit)[ \/]([\w.]+)/i,
        opera: /(opera)(?:.*version|)[ \/]([\w.]+)/i,
        msie: /(msie\s|trident.*? rv:)([\w.]+)/i,
        mozilla: /(mozilla)(?:.*? rv:([\w.]+))/i
    };

    var browser = {};

    for (var agent in browserRxs) {
        if (browserRxs.hasOwnProperty(agent)) {
            var match = userAgent.match(browserRxs[agent]);
            if (match) {
                browser[agent] = true;
                browser[match[1].toLowerCase().split(" ")[0].split("/")[0]] = true;
                browser.version = parseInt(document.documentMode || match[2], 10);

                break;
            }
        }
    }

    return browser;
}

var browser = null;

var support = {
    get browser() {
        if (typeof window === 'undefined' || browser) {
            return browser;
        }

        browser = matchUserAgent(window.navigator.userAgent);
        return browser;
    }
};

function template$1() {
    throw new Error("Template implementation missing.");
}

var now = Date.now || function() {
    return new Date().getTime();
};

function throttle(fn, delay) {
    var lastExecTime = 0;
    var timeout;

    if (!delay || delay <= 0) {
        return fn;
    }

    var throttled = function() {
        var elapsed = now() - lastExecTime;
        var args = arguments;

        var exec = function() {
            fn.apply(null, args);
            lastExecTime = now();
        };

        // first execution
        if (!lastExecTime) {
            return exec();
        }

        if (timeout) {
            clearTimeout(timeout);
        }

        if (elapsed > delay) {
            exec();
        } else {
            timeout = setTimeout(exec, delay - elapsed);
        }
    };

    throttled.cancel = function() {
        clearTimeout(timeout);
    };

    return throttled;
}

var namedColors = {
    aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff",
    aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc",
    bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd",
    blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a",
    burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00",
    chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed",
    cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff",
    darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b",
    darkgray: "a9a9a9", darkgrey: "a9a9a9", darkgreen: "006400",
    darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f",
    darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000",
    darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b",
    darkslategray: "2f4f4f", darkslategrey: "2f4f4f", darkturquoise: "00ced1",
    darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff",
    dimgray: "696969", dimgrey: "696969", dodgerblue: "1e90ff",
    firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22",
    fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff",
    gold: "ffd700", goldenrod: "daa520", gray: "808080",
    grey: "808080", green: "008000", greenyellow: "adff2f",
    honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c",
    indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c",
    lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00",
    lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080",
    lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgray: "d3d3d3",
    lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1",
    lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa",
    lightslategray: "778899", lightslategrey: "778899", lightsteelblue: "b0c4de",
    lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32",
    linen: "faf0e6", magenta: "ff00ff", maroon: "800000",
    mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3",
    mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee",
    mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585",
    midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1",
    moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080",
    oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23",
    orange: "ffa500", orangered: "ff4500", orchid: "da70d6",
    palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee",
    palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9",
    peru: "cd853f", pink: "ffc0cb", plum: "dda0dd",
    powderblue: "b0e0e6", purple: "800080", red: "ff0000",
    rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513",
    salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57",
    seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0",
    skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090",
    slategrey: "708090", snow: "fffafa", springgreen: "00ff7f",
    steelblue: "4682b4", tan: "d2b48c", teal: "008080",
    thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0",
    violet: "ee82ee", wheat: "f5deb3", white: "ffffff",
    whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32"
};

var browser$1 = support.browser;

var matchNamedColor = function (color) {
    var colorNames = Object.keys(namedColors);
    colorNames.push("transparent");

    var regexp = new RegExp("^(" + colorNames.join("|") + ")(\\W|$)", "i");
    matchNamedColor = function (color) { return regexp.exec(color); };

    return regexp.exec(color);
};

var BaseColor = (function (Class$$1) {
    function BaseColor() { Class$$1.call(this); }

    if ( Class$$1 ) BaseColor.__proto__ = Class$$1;
    BaseColor.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseColor.prototype.constructor = BaseColor;
    BaseColor.prototype.toHSV = function toHSV () { return this; };

    BaseColor.prototype.toRGB = function toRGB () { return this; };

    BaseColor.prototype.toHex = function toHex (options) { return this.toBytes().toHex(options); };

    BaseColor.prototype.toBytes = function toBytes () { return this; };

    BaseColor.prototype.toCss = function toCss (options) { return "#" + this.toHex(options); };

    BaseColor.prototype.toCssRgba = function toCssRgba () {
        var rgb = this.toBytes();
        return ("rgba(" + (rgb.r) + ", " + (rgb.g) + ", " + (rgb.b) + ", " + (parseFloat((Number(this.a)).toFixed(3))) + ")");
    };

    BaseColor.prototype.toDisplay = function toDisplay () {
        if (browser$1.msie && browser$1.version < 9) {
            return this.toCss(); // no RGBA support; does it support any opacity in colors?
        }
        return this.toCssRgba();
    };

    BaseColor.prototype.equals = function equals (c) {
        return c === this || ((c !== null && c !== undefined) && this.toCssRgba() === parseColor(c).toCssRgba());
    };

    BaseColor.prototype.diff = function diff (other) {
        if (other === null) {
            return NaN;
        }

        var c1 = this.toBytes();
        var c2 = other.toBytes();

        return Math.sqrt(Math.pow((c1.r - c2.r) * 0.30, 2) +
                         Math.pow((c1.g - c2.g) * 0.59, 2) +
                         Math.pow((c1.b - c2.b) * 0.11, 2));
    };

    BaseColor.prototype.clone = function clone () {
        var c = this.toBytes();
        if (c === this) {
            c = new Bytes(c.r, c.g, c.b, c.a);
        }

        return c;
    };

    return BaseColor;
}(Class));

var RGB = (function (BaseColor) {
    function RGB(r, g, b, a) {
        BaseColor.call(this);

        this.r = r;
        this.g = g;
        this.b = b;
        this.a = a;
    }

    if ( BaseColor ) RGB.__proto__ = BaseColor;
    RGB.prototype = Object.create( BaseColor && BaseColor.prototype );
    RGB.prototype.constructor = RGB;

    RGB.prototype.toHSV = function toHSV () {
        var ref = this;
        var r = ref.r;
        var g = ref.g;
        var b = ref.b;
        var min = Math.min(r, g, b);
        var max = Math.max(r, g, b);
        var delta = max - min;
        var v = max;
        var h, s;

        if (delta === 0) {
            return new HSV(0, 0, v, this.a);
        }

        if (max !== 0) {
            s = delta / max;
            if (r === max) {
                h = (g - b) / delta;
            } else if (g === max) {
                h = 2 + (b - r) / delta;
            } else {
                h = 4 + (r - g) / delta;
            }

            h *= 60;
            if (h < 0) {
                h += 360;
            }
        } else {
            s = 0;
            h = -1;
        }

        return new HSV(h, s, v, this.a);
    };

    RGB.prototype.toHSL = function toHSL () {
        var ref = this;
        var r = ref.r;
        var g = ref.g;
        var b = ref.b;
        var max = Math.max(r, g, b);
        var min = Math.min(r, g, b);
        var h, s, l = (max + min) / 2;

        if (max === min) {
            h = s = 0;
        } else {
            var d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
            switch (max) {
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
            default: break;
            }
        }

        return new HSL(h * 60, s * 100, l * 100, this.a);
    };

    RGB.prototype.toBytes = function toBytes () {
        return new Bytes(this.r * 255, this.g * 255, this.b * 255, this.a);
    };

    return RGB;
}(BaseColor));

var Bytes = (function (RGB) {
    function Bytes(r, g, b, a) {
        RGB.call(this, Math.round(r), Math.round(g), Math.round(b), a);
    }

    if ( RGB ) Bytes.__proto__ = RGB;
    Bytes.prototype = Object.create( RGB && RGB.prototype );
    Bytes.prototype.constructor = Bytes;

    Bytes.prototype.toRGB = function toRGB () {
        return new RGB(this.r / 255, this.g / 255, this.b / 255, this.a);
    };

    Bytes.prototype.toHSV = function toHSV () {
        return this.toRGB().toHSV();
    };

    Bytes.prototype.toHSL = function toHSL () {
        return this.toRGB().toHSL();
    };

    Bytes.prototype.toHex = function toHex (options) {
        var value = hex(this.r, 2) + hex(this.g, 2) + hex(this.b, 2);

        if (options && options.alpha) {
            value += hex(Math.round(this.a * 255), 2);
        }

        return value;
    };

    Bytes.prototype.toBytes = function toBytes () {
        return this;
    };

    return Bytes;
}(RGB));

function hex(n, width, pad) {
    if ( pad === void 0 ) pad = "0";

    var result = n.toString(16);
    while (width > result.length) {
        result = pad + result;
    }

    return result;
}

var HSV = (function (BaseColor) {
    function HSV(h, s, v, a) {
        BaseColor.call(this);

        this.h = h;
        this.s = s;
        this.v = v;
        this.a = a;
    }

    if ( BaseColor ) HSV.__proto__ = BaseColor;
    HSV.prototype = Object.create( BaseColor && BaseColor.prototype );
    HSV.prototype.constructor = HSV;

    HSV.prototype.toRGB = function toRGB () {
        var ref = this;
        var h = ref.h;
        var s = ref.s;
        var v = ref.v;
        var r, g, b;

        if (s === 0) {
            r = g = b = v;
        } else {
            h /= 60;

            var i = Math.floor(h);
            var f = h - i;
            var p = v * (1 - s);
            var q = v * (1 - s * f);
            var t = v * (1 - s * (1 - f));

            switch (i) {
            case 0: r = v; g = t; b = p; break;
            case 1: r = q; g = v; b = p; break;
            case 2: r = p; g = v; b = t; break;
            case 3: r = p; g = q; b = v; break;
            case 4: r = t; g = p; b = v; break;
            default: r = v; g = p; b = q; break;
            }
        }

        return new RGB(r, g, b, this.a);
    };

    HSV.prototype.toHSL = function toHSL () {
        return this.toRGB().toHSL();
    };

    HSV.prototype.toBytes = function toBytes () {
        return this.toRGB().toBytes();
    };

    return HSV;
}(BaseColor));

var HSL = (function (BaseColor) {
    function HSL(h, s, l, a) {
        BaseColor.call(this);

        this.h = h;
        this.s = s;
        this.l = l;
        this.a = a;
    }

    if ( BaseColor ) HSL.__proto__ = BaseColor;
    HSL.prototype = Object.create( BaseColor && BaseColor.prototype );
    HSL.prototype.constructor = HSL;

    HSL.prototype.toRGB = function toRGB () {
        var h = this.h / 360;
        var s = this.s / 100;
        var l = this.l / 100;
        var r, g, b;

        if (s === 0) {
            r = g = b = l; // achromatic
        } else {
            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
            var p = 2 * l - q;
            r = hue2rgb(p, q, h + 1 / 3);
            g = hue2rgb(p, q, h);
            b = hue2rgb(p, q, h - 1 / 3);
        }

        return new RGB(r, g, b, this.a);
    };

    HSL.prototype.toHSV = function toHSV () {
        return this.toRGB().toHSV();
    };

    HSL.prototype.toBytes = function toBytes () {
        return this.toRGB().toBytes();
    };

    return HSL;
}(BaseColor));

function hue2rgb(p, q, s) {
    var t = s;

    if (t < 0) {
        t += 1;
    }

    if (t > 1) {
        t -= 1;
    }

    if (t < 1 / 6) {
        return p + (q - p) * 6 * t;
    }

    if (t < 1 / 2) {
        return q;
    }

    if (t < 2 / 3) {
        return p + (q - p) * (2 / 3 - t) * 6;
    }

    return p;
}

function alphaFromHex(a) {
    return parseFloat(parseFloat(parseInt(a, 16) / 255 ).toFixed(3));
}

function parseColor(value, safe) {
    var m, ret;

    if (value == null || value === "none") {
        return null;
    }

    if (value instanceof BaseColor) {
        return value;
    }

    var color = value.toLowerCase();
    if ((m = matchNamedColor(color))) {
        if (m[1] === "transparent") {
            color = new RGB(1, 1, 1, 0);
        } else {
            color = parseColor(namedColors[m[1]], safe);
        }
        color.match = [ m[1] ];
        return color;
    }
    if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(color))) {
        ret = new Bytes(parseInt(m[1], 16),
            parseInt(m[2], 16),
            parseInt(m[3], 16), 1);
    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(color))) {
        ret = new Bytes(parseInt(m[1] + m[1], 16),
            parseInt(m[2] + m[2], 16),
            parseInt(m[3] + m[3], 16), 1);
    } else if ((m = /^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(color))) { // Parse 4 digit hex color
        ret = new Bytes(parseInt(m[1] + m[1], 16),
            parseInt(m[2] + m[2], 16),
            parseInt(m[3] + m[3], 16),
            alphaFromHex(m[4] + m[4]));
    } else if ((m = /^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(color))) { // Parse 8 digit hex color
        ret = new Bytes(parseInt(m[1], 16),
            parseInt(m[2], 16),
            parseInt(m[3], 16),
            alphaFromHex(m[4]));
    } else if ((m = /^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(color))) {
        ret = new Bytes(parseInt(m[1], 10),
            parseInt(m[2], 10),
            parseInt(m[3], 10), 1);
    } else if ((m = /^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(color))) {
        ret = new Bytes(parseInt(m[1], 10),
            parseInt(m[2], 10),
            parseInt(m[3], 10), parseFloat(m[4]));
    } else if ((m = /^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(color))) {
        ret = new RGB(parseFloat(m[1]) / 100,
            parseFloat(m[2]) / 100,
            parseFloat(m[3]) / 100, 1);
    } else if ((m = /^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(color))) {
        ret = new RGB(parseFloat(m[1]) / 100,
            parseFloat(m[2]) / 100,
            parseFloat(m[3]) / 100, parseFloat(m[4]));
    }

    if (ret) {
        ret.match = m;
    } else if (!safe) {
        throw new Error("Cannot parse color: " + color);
    }

    return ret;
}

var DARK_TRESHOLD = 180;

var Color = (function (Class$$1) {
    function Color(value) {
        var this$1 = this;

        Class$$1.call(this);

        if (arguments.length === 1) {
            var formats = Color.formats;
            var resolvedColor = this.resolveColor(value);

            for (var idx = 0; idx < formats.length; idx++) {
                var formatRegex = formats[idx].re;
                var processor = formats[idx].process;
                var parts = formatRegex.exec(resolvedColor);

                if (parts) {
                    var channels = processor(parts);
                    this$1.r = channels[0];
                    this$1.g = channels[1];
                    this$1.b = channels[2];
                }
            }
        } else {
            this.r = arguments[0];
            this.g = arguments[1];
            this.b = arguments[2];
        }

        this.r = this.normalizeByte(this.r);
        this.g = this.normalizeByte(this.g);
        this.b = this.normalizeByte(this.b);
    }

    if ( Class$$1 ) Color.__proto__ = Class$$1;
    Color.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Color.prototype.constructor = Color;

    Color.prototype.toHex = function toHex () {
        var pad = this.padDigit;
        var r = this.r.toString(16);
        var g = this.g.toString(16);
        var b = this.b.toString(16);

        return "#" + pad(r) + pad(g) + pad(b);
    };

    Color.prototype.resolveColor = function resolveColor (value) {
        var color = value || "black";

        if (color.charAt(0) === "#") {
            color = color.substr(1, 6);
        }

        color = color.replace(/ /g, "");
        color = color.toLowerCase();
        color = Color.namedColors[color] || color;

        return color;
    };

    Color.prototype.normalizeByte = function normalizeByte (value) {
        if (value < 0 || isNaN(value)) {
            return 0;
        }

        return value > 255 ? 255 : value;
    };

    Color.prototype.padDigit = function padDigit (value) {
        return (value.length === 1) ? "0" + value : value;
    };

    Color.prototype.brightness = function brightness (value) {
        var round = Math.round;

        this.r = round(this.normalizeByte(this.r * value));
        this.g = round(this.normalizeByte(this.g * value));
        this.b = round(this.normalizeByte(this.b * value));

        return this;
    };

    Color.prototype.percBrightness = function percBrightness () {
        return Math.sqrt(0.241 * this.r * this.r + 0.691 * this.g * this.g + 0.068 * this.b * this.b);
    };

    Color.prototype.isDark = function isDark () {
        return this.percBrightness() < DARK_TRESHOLD;
    };

    Color.fromBytes = function fromBytes (r, g, b, a) {
        return new Bytes(r, g, b, a != null ? a : 1);
    };

    Color.fromRGB = function fromRGB (r, g, b, a) {
        return new RGB(r, g, b, a != null ? a : 1);
    };

    Color.fromHSV = function fromHSV (h, s, v, a) {
        return new HSV(h, s, v, a != null ? a : 1);
    };

    Color.fromHSL = function fromHSL (h, s, l, a) {
        return new HSL(h, s, l, a != null ? a : 1);
    };

    return Color;
}(Class));

Color.formats = [ {
    re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
    process: function(parts) {
        return [
            parseInt(parts[1], 10), parseInt(parts[2], 10), parseInt(parts[3], 10)
        ];
    }
}, {
    re: /^(\w{2})(\w{2})(\w{2})$/,
    process: function(parts) {
        return [
            parseInt(parts[1], 16), parseInt(parts[2], 16), parseInt(parts[3], 16)
        ];
    }
}, {
    re: /^(\w{1})(\w{1})(\w{1})$/,
    process: function(parts) {
        return [
            parseInt(parts[1] + parts[1], 16),
            parseInt(parts[2] + parts[2], 16),
            parseInt(parts[3] + parts[3], 16)
        ];
    }
} ];

Color.namedColors = namedColors;

var HasObservers = (function (Class$$1) {
    function HasObservers () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) HasObservers.__proto__ = Class$$1;
    HasObservers.prototype = Object.create( Class$$1 && Class$$1.prototype );
    HasObservers.prototype.constructor = HasObservers;

    HasObservers.prototype.observers = function observers () {
        this._observers = this._observers || [];
        return this._observers;
    };

    HasObservers.prototype.addObserver = function addObserver (element) {
        if (!this._observers) {
            this._observers = [ element ];
        } else {
            this._observers.push(element);
        }
        return this;
    };

    HasObservers.prototype.removeObserver = function removeObserver (element) {
        var observers = this.observers();
        var index = observers.indexOf(element);
        if (index !== -1) {
            observers.splice(index, 1);
        }
        return this;
    };

    HasObservers.prototype.trigger = function trigger (methodName, event) {
        var observers = this._observers;

        if (observers && !this._suspended) {
            for (var idx = 0; idx < observers.length; idx++) {
                var observer = observers[idx];
                if (observer[methodName]) {
                    observer[methodName](event);
                }
            }
        }
        return this;
    };

    HasObservers.prototype.optionsChange = function optionsChange (e) {
        if ( e === void 0 ) e = {};

        e.element = this;
        this.trigger("optionsChange", e);
    };

    HasObservers.prototype.geometryChange = function geometryChange () {
        this.trigger("geometryChange", {
            element: this
        });
    };

    HasObservers.prototype.suspend = function suspend () {
        this._suspended = (this._suspended || 0) + 1;
        return this;
    };

    HasObservers.prototype.resume = function resume () {
        this._suspended = Math.max((this._suspended || 0) - 1, 0);
        return this;
    };

    HasObservers.prototype._observerField = function _observerField (field, value) {
        if (this[field]) {
            this[field].removeObserver(this);
        }
        this[field] = value;
        value.addObserver(this);
    };

    return HasObservers;
}(Class));

function append$1$1(first, second) {
    first.push.apply(first, second);
    return first;
}

/* eslint-disable key-spacing,no-multi-spaces,no-param-reassign */

var literals = {
    1    : "i",       10   : "x",       100  : "c",
    2    : "ii",      20   : "xx",      200  : "cc",
    3    : "iii",     30   : "xxx",     300  : "ccc",
    4    : "iv",      40   : "xl",      400  : "cd",
    5    : "v",       50   : "l",       500  : "d",
    6    : "vi",      60   : "lx",      600  : "dc",
    7    : "vii",     70   : "lxx",     700  : "dcc",
    8    : "viii",    80   : "lxxx",    800  : "dccc",
    9    : "ix",      90   : "xc",      900  : "cm",
    1000 : "m"
};

function arabicToRoman(n) {
    var values = [ 1000,
        900 , 800, 700, 600, 500, 400, 300, 200, 100,
        90  , 80 , 70 , 60 , 50 , 40 , 30 , 20 , 10 ,
        9   , 8  , 7  , 6  , 5  , 4  , 3  , 2  , 1 ];

    var roman = "";
    while (n > 0) {
        if (n < values[0]) {
            values.shift();
        } else {
            roman += literals[values[0]];
            n -= values[0];
        }
    }
    return roman;
}

function createPromise() {
    var resolveFn, rejectFn;
    var promise = new Promise(function (resolve, reject) {
        resolveFn = function (data) {
            promise._state = "resolved";
            resolve(data);
            return promise;
        };
        rejectFn = function (data) {
            promise._state = "rejected";
            reject(data);

            return promise;
        };
    });
    promise._state = "pending";
    promise.resolve = resolveFn;
    promise.reject = rejectFn;
    promise.state = function () { return promise._state; };

    return promise;
}

var UNDEFINED = "undefined";

function defined(value) {
    return typeof value !== UNDEFINED;
}

var defId = 1;

function definitionId() {
    return "kdef" + defId++;
}

var DEG_TO_RAD = Math.PI / 180;
var MAX_NUM = Number.MAX_VALUE;
var MIN_NUM = -Number.MAX_VALUE;

function deg(radians) {
    return radians / DEG_TO_RAD;
}

var fromCharCode = String.fromCharCode;

var BOM = '\xfe\xff';

// Encodes a string as UTF-8
function encodeUTF8(input) {
    var output = "";

    for (var i = 0; i < input.length; i++) {
        var code = input.charCodeAt(i);

        if (0xD800 <= code && code <= 0xDBFF) {
            var hi = code;
            var low = input.charCodeAt(++i);

            if (!isNaN(low)) {
                // Combine high and low surrogate
                // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt
                code = (hi - 0xD800) * 0x400 +
                       (low - 0xDC00) + 0x10000;
            }
        }

        if (code < 0x80) {
            // One byte
            output += fromCharCode(code);
        } else if (code < 0x800) {
            // Two bytes
            output += fromCharCode(0xC0 | (code >>> 6));
            output += fromCharCode(0x80 | (code & 0x3f));
        } else if (code < 0x10000) {
            // Three bytes
            output += fromCharCode(0xE0 | (code >>> 12));
            output += fromCharCode(0x80 | (code >>> 6 & 0x3f));
            output += fromCharCode(0x80 | (code & 0x3f));
        } else if (code < 0x10FFFF) {
            // Four bytes
            output += fromCharCode(0xF0 | (code >>> 18));
            output += fromCharCode(0x80 | (code >>> 12 & 0x3f));
            output += fromCharCode(0x80 | (code >>> 6 & 0x3f));
            output += fromCharCode(0x80 | (code & 0x3f));
        }
    }

    return output;
}

function encodeUnit(codeUnit) {
    return fromCharCode(codeUnit >> 8) + fromCharCode(codeUnit & 0x00ff);
}

// Encodes a string as UTF-16 big-endian
function encodeUTF16BE(input) {
    var output = '';

    for (var i = 0; i < input.length; i++) {
        var c = input.charCodeAt(i);

        if (c < 0xFFFF) {
            output += encodeUnit(c);
        } else {
            var lead = ((c - 0x10000) >> 10) + 0xD800;
            var trail = ((c - 0x10000) & 0x3FF) + 0xDC00;
            output += encodeUnit(lead);
            output += encodeUnit(trail);
        }
    }

    return output;
}

var KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";

function encodeBase64(input) {
    var output = "";
    var i = 0;

    var utfInput = encodeUTF8(input);

    while (i < utfInput.length) {
        var chr1 = utfInput.charCodeAt(i++);
        var chr2 = utfInput.charCodeAt(i++);
        var chr3 = utfInput.charCodeAt(i++);

        var enc1 = chr1 >> 2;
        var enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
        var enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
        var enc4 = chr3 & 63;

        if (isNaN(chr2)) {
            enc3 = enc4 = 64;
        } else if (isNaN(chr3)) {
            enc4 = 64;
        }

        output = output +
            KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) +
            KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);
    }

    return output;
}

function eventCoordinates(e) {
    if (defined((e.x || {}).location)) {
        return {
            x: e.x.location,
            y: e.y.location
        };
    }

    return {
        x: e.pageX || e.clientX || 0,
        y: e.pageY || e.clientY || 0
    };
}

function eventElement(e) {
    if ( e === void 0 ) e = {};

    return e.touch ? e.touch.initialTouch : e.target;
}

function isTransparent(color) {
    return color === "" || color === null || color === "none" || color === "transparent" || !defined(color);
}

function last(array) {
    if (array) {
        return array[array.length - 1];
    }
}

function limitValue(value, min, max) {
    return Math.max(Math.min(value, max), min);
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

// mergeSort is stable.
function mergeSort(a, cmp) {
    if (a.length < 2) {
        return a.slice();
    }
    function merge(a, b) {
        var r = [], ai = 0, bi = 0, i = 0;
        while (ai < a.length && bi < b.length) {
            if (cmp(a[ai], b[bi]) <= 0) {
                r[i++] = a[ai++];
            } else {
                r[i++] = b[bi++];
            }
        }
        if (ai < a.length) {
            r.push.apply(r, a.slice(ai));
        }
        if (bi < b.length) {
            r.push.apply(r, b.slice(bi));
        }
        return r;
    }
    return (function sort(a) {
        if (a.length <= 1) {
            return a;
        }
        var m = Math.floor(a.length / 2);
        var left = a.slice(0, m);
        var right = a.slice(m);
        left = sort(left);
        right = sort(right);
        return merge(left, right);
    })(a);
}

function promiseAll(promises) {
    return Promise.all(promises);
}

function rad(degrees) {
    return degrees * DEG_TO_RAD;
}

function pow(p) {
    if (p) {
        return Math.pow(10, p);
    }

    return 1;
}

function round(value, precision) {
    var power = pow(precision);
    return Math.round(value * power) / power;
}

function valueOrDefault(value, defaultValue) {
    return defined(value) ? value : defaultValue;
}

function bindEvents(element, events) {
    for (var eventName in events) {
        var eventNames = eventName.trim().split(" ");
        for (var idx = 0; idx < eventNames.length; idx++) {
            element.addEventListener(eventNames[idx], events[eventName], false);
        }
    }
}

function elementOffset(element) {
    var box = element.getBoundingClientRect();

    var documentElement = document.documentElement;

    return {
        top: box.top + (window.pageYOffset || documentElement.scrollTop) - (documentElement.clientTop || 0),
        left: box.left + (window.pageXOffset || documentElement.scrollLeft) - (documentElement.clientLeft || 0)
    };
}

function elementStyles(element, styles) {
    var result = {};
    var style = window.getComputedStyle(element) || {};
    var stylesArray = Array.isArray(styles) ? styles : [ styles ];

    for (var idx = 0; idx < stylesArray.length; idx++) {
        var field = stylesArray[idx];
        result[field] = style[field];
    }

    return result;
}

function getPixels(value) {
    if (isNaN(value)) {
        return value;
    }
    return value + "px";
}

function elementSize(element, size) {
    if (size) {
        var width = size.width;
        var height = size.height;

        if (defined(width)) {
            element.style.width = getPixels(width);
        }

        if (defined(height)) {
            element.style.height = getPixels(height);
        }

    } else {
        var size$1 = elementStyles(element, [ 'width', 'height' ]);

        return {
            width: parseInt(size$1.width, 10),
            height: parseInt(size$1.height, 10)
        };
    }
}

function unbindEvents(element, events) {
    if ( events === void 0 ) events = {};

    for (var name in events) {
        var eventNames = name.trim().split(" ");
        for (var idx = 0; idx < eventNames.length; idx++) {
            element.removeEventListener(eventNames[idx], events[name], false);
        }
    }
}

function elementPadding(element) {
    var ref = elementStyles(element, [ "paddingLeft", "paddingTop" ]);
    var paddingLeft = ref.paddingLeft;
    var paddingTop = ref.paddingTop;
    return {
        top: parseFloat(paddingTop),
        left: parseFloat(paddingLeft)
    };
}

var Matrix = (function (Class$$1) {
    function Matrix(a, b, c, d, e, f) {
        if ( a === void 0 ) a = 0;
        if ( b === void 0 ) b = 0;
        if ( c === void 0 ) c = 0;
        if ( d === void 0 ) d = 0;
        if ( e === void 0 ) e = 0;
        if ( f === void 0 ) f = 0;

        Class$$1.call(this);

        this.a = a;
        this.b = b;
        this.c = c;
        this.d = d;
        this.e = e;
        this.f = f;
    }

    if ( Class$$1 ) Matrix.__proto__ = Class$$1;
    Matrix.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Matrix.prototype.constructor = Matrix;

    Matrix.prototype.multiplyCopy = function multiplyCopy (matrix) {
        return new Matrix(
            this.a * matrix.a + this.c * matrix.b,
            this.b * matrix.a + this.d * matrix.b,
            this.a * matrix.c + this.c * matrix.d,
            this.b * matrix.c + this.d * matrix.d,
            this.a * matrix.e + this.c * matrix.f + this.e,
            this.b * matrix.e + this.d * matrix.f + this.f
        );
    };

    Matrix.prototype.invert = function invert () {
        var ref = this;
        var a = ref.a;
        var b = ref.b;
        var d = ref.c;
        var e = ref.d;
        var g = ref.e;
        var h = ref.f;
        var det = a * e - b * d;

        if (det === 0) {
            return null;
        }

        return new Matrix(e / det, -b / det, -d / det, a / det,
            (d * h - e * g) / det, (b * g - a * h) / det);
    };

    Matrix.prototype.clone = function clone () {
        return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);
    };

    Matrix.prototype.equals = function equals (other) {
        if (!other) {
            return false;
        }

        return this.a === other.a && this.b === other.b &&
            this.c === other.c && this.d === other.d &&
            this.e === other.e && this.f === other.f;
    };

    Matrix.prototype.round = function round$1 (precision) {
        this.a = round(this.a, precision);
        this.b = round(this.b, precision);
        this.c = round(this.c, precision);
        this.d = round(this.d, precision);
        this.e = round(this.e, precision);
        this.f = round(this.f, precision);

        return this;
    };

    Matrix.prototype.toArray = function toArray (precision) {
        var result = [ this.a, this.b, this.c, this.d, this.e, this.f ];

        if (defined(precision)) {
            for (var i = 0; i < result.length; i++) {
                result[i] = round(result[i], precision);
            }
        }

        return result;
    };

    Matrix.prototype.toString = function toString (precision, separator) {
        if ( separator === void 0 ) separator = ",";

        return this.toArray(precision).join(separator);
    };

    Matrix.translate = function translate (x, y) {
        return new Matrix(1, 0, 0, 1, x, y);
    };

    Matrix.unit = function unit () {
        return new Matrix(1, 0, 0, 1, 0, 0);
    };

    Matrix.rotate = function rotate (angle, x, y) {
        var matrix = new Matrix();
        matrix.a = Math.cos(rad(angle));
        matrix.b = Math.sin(rad(angle));
        matrix.c = -matrix.b;
        matrix.d = matrix.a;
        matrix.e = (x - x * matrix.a + y * matrix.b) || 0;
        matrix.f = (y - y * matrix.a - x * matrix.b) || 0;

        return matrix;
    };

    Matrix.scale = function scale (scaleX, scaleY) {
        return new Matrix(scaleX, 0, 0, scaleY, 0, 0);
    };

    return Matrix;
}(Class));

Matrix.IDENTITY = Matrix.unit();

var matrixRegexp = /matrix\((.*)\)/;

function parseMatrix(matrixString) {
    var match = matrixString.match(matrixRegexp);
    if (match === null || match.length !== 2) {
        return Matrix.unit();
    }

    var members = match[1].split(',').map(function (x) { return parseFloat(x); });
    return new (Function.prototype.bind.apply( Matrix, [ null ].concat( members) ));
}

function transformMatrix(element) {
    var transform = getComputedStyle(element).transform;

    if (transform === 'none') {
        return Matrix.unit();
    }

    return parseMatrix(transform);
}

function elementScale(element) {
    if (!element) {
        return Matrix.unit();
    }

    var matrix = transformMatrix(element);
    var parent = element.parentElement;
    while (parent) {
        var parentMatrix = transformMatrix(parent);
        matrix = matrix.multiplyCopy(parentMatrix);
        parent = parent.parentElement;
    }

    matrix.b = matrix.c = matrix.e = matrix.f = 0;
    return matrix;
}

var LRUCache = (function (Class$$1) {
    function LRUCache(size) {
        Class$$1.call(this);

        this._size = size;
        this._length = 0;
        this._map = {};
    }

    if ( Class$$1 ) LRUCache.__proto__ = Class$$1;
    LRUCache.prototype = Object.create( Class$$1 && Class$$1.prototype );
    LRUCache.prototype.constructor = LRUCache;

    LRUCache.prototype.put = function put (key, value) {
        var map = this._map;
        var entry = { key: key, value: value };

        map[key] = entry;

        if (!this._head) {
            this._head = this._tail = entry;
        } else {
            this._tail.newer = entry;
            entry.older = this._tail;
            this._tail = entry;
        }

        if (this._length >= this._size) {
            map[this._head.key] = null;
            this._head = this._head.newer;
            this._head.older = null;
        } else {
            this._length++;
        }
    };

    LRUCache.prototype.get = function get (key) {
        var entry = this._map[key];

        if (entry) {
            if (entry === this._head && entry !== this._tail) {
                this._head = entry.newer;
                this._head.older = null;
            }

            if (entry !== this._tail) {
                if (entry.older) {
                    entry.older.newer = entry.newer;
                    entry.newer.older = entry.older;
                }

                entry.older = this._tail;
                entry.newer = null;

                this._tail.newer = entry;
                this._tail = entry;
            }

            return entry.value;
        }
    };

    return LRUCache;
}(Class));

var REPLACE_REGEX = /\r?\n|\r|\t/g;
var SPACE = ' ';

function normalizeText(text) {
    return String(text).replace(REPLACE_REGEX, SPACE);
}

function objectKey(object) {
    var parts = [];
    for (var key in object) {
        parts.push(key + object[key]);
    }

    return parts.sort().join("");
}

// Computes FNV-1 hash
// See http://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function
function hashKey(str) {
    // 32-bit FNV-1 offset basis
    // See http://isthe.com/chongo/tech/comp/fnv/#FNV-param
    var hash = 0x811C9DC5;

    for (var i = 0; i < str.length; ++i) {
        hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);
        hash ^= str.charCodeAt(i);
    }

    return hash >>> 0;
}

function zeroSize() {
    return { width: 0, height: 0, baseline: 0 };
}

var DEFAULT_OPTIONS = {
    baselineMarkerSize: 1
};

var defaultMeasureBox;

if (typeof document !== "undefined") {
    defaultMeasureBox = document.createElement("div");
    defaultMeasureBox.style.cssText = "position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;" +
              "padding: 0 !important; margin: 0 !important; border: 0 !important;" +
              "line-height: normal !important; visibility: hidden !important; white-space: pre!important;";
}

var TextMetrics = (function (Class$$1) {
    function TextMetrics(options) {
        Class$$1.call(this);

        this._cache = new LRUCache(1000);
        this.options = Object.assign({}, DEFAULT_OPTIONS, options);
    }

    if ( Class$$1 ) TextMetrics.__proto__ = Class$$1;
    TextMetrics.prototype = Object.create( Class$$1 && Class$$1.prototype );
    TextMetrics.prototype.constructor = TextMetrics;

    TextMetrics.prototype.measure = function measure (text, style, options) {
        if ( options === void 0 ) options = {};

        if (typeof text === 'undefined' || text === null) {
            return zeroSize();
        }

        var styleKey = objectKey(style);
        var cacheKey = hashKey(text + styleKey);
        var cachedResult = this._cache.get(cacheKey);

        if (cachedResult) {
            return cachedResult;
        }

        var size = zeroSize();
        var measureBox = options.box || defaultMeasureBox;
        var baselineMarker = this._baselineMarker().cloneNode(false);

        for (var key in style) {
            var value = style[key];
            if (typeof value !== "undefined") {
                measureBox.style[key] = value;
            }
        }

        var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);

        measureBox.textContent = textStr;
        measureBox.appendChild(baselineMarker);
        document.body.appendChild(measureBox);

        if (textStr.length) {
            size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;
            size.height = measureBox.offsetHeight;
            size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;
        }

        if (size.width > 0 && size.height > 0) {
            this._cache.put(cacheKey, size);
        }

        measureBox.parentNode.removeChild(measureBox);

        return size;
    };

    TextMetrics.prototype._baselineMarker = function _baselineMarker () {
        var marker = document.createElement("div");
        marker.style.cssText = "display: inline-block; vertical-align: baseline;width: " +
            this.options.baselineMarkerSize + "px; height: " + this.options.baselineMarkerSize + "px;overflow: hidden;";

        return marker;
    };

    return TextMetrics;
}(Class));

TextMetrics.current = new TextMetrics();

function measureText(text, style, measureBox) {
    return TextMetrics.current.measure(text, style, measureBox);
}



var util = Object.freeze({
	append: append$1$1,
	arabicToRoman: arabicToRoman,
	createPromise: createPromise,
	defined: defined,
	definitionId: definitionId,
	deg: deg,
	encodeBase64: encodeBase64,
	eventCoordinates: eventCoordinates,
	eventElement: eventElement,
	isTransparent: isTransparent,
	last: last,
	limitValue: limitValue,
	mergeSort: mergeSort,
	now: now,
	promiseAll: promiseAll,
	rad: rad,
	round: round,
	valueOrDefault: valueOrDefault,
	bindEvents: bindEvents,
	elementOffset: elementOffset,
	elementSize: elementSize,
	elementStyles: elementStyles,
	unbindEvents: unbindEvents,
	elementPadding: elementPadding,
	elementScale: elementScale,
	DEG_TO_RAD: DEG_TO_RAD,
	MAX_NUM: MAX_NUM,
	MIN_NUM: MIN_NUM,
	LRUCache: LRUCache,
	TextMetrics: TextMetrics,
	measureText: measureText,
	objectKey: objectKey,
	hashKey: hashKey,
	normalizeText: normalizeText
});

var toString$1 = {}.toString;

var OptionsStore = (function (HasObservers$$1) {
    function OptionsStore(options, prefix) {
        var this$1 = this;
        if ( prefix === void 0 ) prefix = "";

        HasObservers$$1.call(this);

        this.prefix = prefix;

        for (var field in options) {
            var member = options[field];
            member = this$1._wrap(member, field);
            this$1[field] = member;
        }
    }

    if ( HasObservers$$1 ) OptionsStore.__proto__ = HasObservers$$1;
    OptionsStore.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    OptionsStore.prototype.constructor = OptionsStore;

    OptionsStore.prototype.get = function get (field) {
        var parts = field.split(".");
        var result = this;

        while (parts.length && result) {
            var part = parts.shift();
            result = result[part];
        }

        return result;
    };

    OptionsStore.prototype.set = function set (field, value) {
        var current = this.get(field);

        if (current !== value) {
            this._set(field, this._wrap(value, field));
            this.optionsChange({
                field: this.prefix + field,
                value: value
            });
        }
    };

    OptionsStore.prototype._set = function _set (field, value) {
        var this$1 = this;

        var composite = field.indexOf(".") >= 0;
        var parentObj = this;
        var fieldName = field;

        if (composite) {
            var parts = fieldName.split(".");
            var prefix = this.prefix;

            while (parts.length > 1) {
                fieldName = parts.shift();
                prefix += fieldName + ".";

                var obj = parentObj[fieldName];

                if (!obj) {
                    obj = new OptionsStore({}, prefix);
                    obj.addObserver(this$1);
                    parentObj[fieldName] = obj;
                }
                parentObj = obj;
            }
            fieldName = parts[0];
        }

        parentObj._clear(fieldName);
        parentObj[fieldName] = value;
    };

    OptionsStore.prototype._clear = function _clear (field) {
        var current = this[field];
        if (current && current.removeObserver) {
            current.removeObserver(this);
        }
    };

    OptionsStore.prototype._wrap = function _wrap (object, field) {
        var type = toString$1.call(object);
        var wrapped = object;

        if (wrapped !== null && defined(wrapped) && type === "[object Object]") {
            if (!(object instanceof OptionsStore) && !(object instanceof Class)) {
                wrapped = new OptionsStore(wrapped, this.prefix + field + ".");
            }

            wrapped.addObserver(this);
        }

        return wrapped;
    };

    return OptionsStore;
}(HasObservers));

function setAccessor(field) {
    return function(value) {
        if (this[field] !== value) {
            this[field] = value;
            this.geometryChange();
        }

        return this;
    };
}

function getAccessor(field) {
    return function() {
        return this[field];
    };
}

function defineAccessors(fn, fields) {
    for (var i = 0; i < fields.length; i++) {
        var name = fields[i];
        var capitalized = name.charAt(0).toUpperCase() +
                          name.substring(1, name.length);

        fn["set" + capitalized] = setAccessor(name);
        fn["get" + capitalized] = getAccessor(name);
    }
}

var withAccessors = function (TBase, names) {
    var result = (function (TBase) {
        function result () {
            TBase.apply(this, arguments);
        }if ( TBase ) result.__proto__ = TBase;
        result.prototype = Object.create( TBase && TBase.prototype );
        result.prototype.constructor = result;

        

        return result;
    }(TBase));
    defineAccessors(result.prototype, names);

    return result;
};

function toMatrix(transformation) {
    if (transformation && typeof transformation.matrix === "function") {
        return transformation.matrix();
    }

    return transformation;
}

var Point = (function (superclass) {
    function Point(x, y) {
        superclass.call(this);

        this.x = x || 0;
        this.y = y || 0;
    }

    if ( superclass ) Point.__proto__ = superclass;
    Point.prototype = Object.create( superclass && superclass.prototype );
    Point.prototype.constructor = Point;

    var staticAccessors = { ZERO: {} };

    Point.prototype.equals = function equals (other) {
        return other && other.x === this.x && other.y === this.y;
    };

    Point.prototype.clone = function clone () {
        return new Point(this.x, this.y);
    };

    Point.prototype.rotate = function rotate (angle, origin) {
        var originPoint = Point.create(origin) || Point.ZERO;

        return this.transform(Matrix.rotate(angle, originPoint.x, originPoint.y));
    };

    Point.prototype.translate = function translate (x, y) {
        this.x += x;
        this.y += y;

        this.geometryChange();

        return this;
    };

    Point.prototype.translateWith = function translateWith (point) {
        return this.translate(point.x, point.y);
    };

    Point.prototype.move = function move (x, y) {
        this.x = this.y = 0;
        return this.translate(x, y);
    };

    Point.prototype.scale = function scale (scaleX, scaleY) {
        if ( scaleY === void 0 ) scaleY = scaleX;

        this.x *= scaleX;
        this.y *= scaleY;

        this.geometryChange();

        return this;
    };

    Point.prototype.scaleCopy = function scaleCopy (scaleX, scaleY) {
        return this.clone().scale(scaleX, scaleY);
    };

    Point.prototype.transform = function transform (transformation) {
        var matrix = toMatrix(transformation);
        var ref = this;
        var x = ref.x;
        var y = ref.y;

        this.x = matrix.a * x + matrix.c * y + matrix.e;
        this.y = matrix.b * x + matrix.d * y + matrix.f;

        this.geometryChange();

        return this;
    };

    Point.prototype.transformCopy = function transformCopy (transformation) {
        var point = this.clone();

        if (transformation) {
            point.transform(transformation);
        }

        return point;
    };

    Point.prototype.distanceTo = function distanceTo (point) {
        var dx = this.x - point.x;
        var dy = this.y - point.y;

        return Math.sqrt(dx * dx + dy * dy);
    };

    Point.prototype.round = function round$1 (digits) {
        this.x = round(this.x, digits);
        this.y = round(this.y, digits);

        this.geometryChange();

        return this;
    };

    Point.prototype.toArray = function toArray (digits) {
        var doRound = defined(digits);
        var x = doRound ? round(this.x, digits) : this.x;
        var y = doRound ? round(this.y, digits) : this.y;

        return [ x, y ];
    };

    Point.prototype.toString = function toString (digits, separator) {
        if ( separator === void 0 ) separator = " ";

        var ref = this;
        var x = ref.x;
        var y = ref.y;

        if (defined(digits)) {
            x = round(x, digits);
            y = round(y, digits);
        }

        return x + separator + y;
    };

    Point.create = function create (arg0, arg1) {
        if (defined(arg0)) {
            if (arg0 instanceof Point) {
                return arg0;
            } else if (arguments.length === 1 && arg0.length === 2) {
                return new Point(arg0[0], arg0[1]);
            }

            return new Point(arg0, arg1);
        }
    };

    Point.min = function min () {
        var arguments$1 = arguments;

        var minX = MAX_NUM;
        var minY = MAX_NUM;

        for (var i = 0; i < arguments.length; i++) {
            var point = arguments$1[i];
            minX = Math.min(point.x, minX);
            minY = Math.min(point.y, minY);
        }

        return new Point(minX, minY);
    };

    Point.max = function max () {
        var arguments$1 = arguments;

        var maxX = MIN_NUM;
        var maxY = MIN_NUM;

        for (var i = 0; i < arguments.length; i++) {
            var point = arguments$1[i];
            maxX = Math.max(point.x, maxX);
            maxY = Math.max(point.y, maxY);
        }

        return new Point(maxX, maxY);
    };

    Point.minPoint = function minPoint () {
        return new Point(MIN_NUM, MIN_NUM);
    };

    Point.maxPoint = function maxPoint () {
        return new Point(MAX_NUM, MAX_NUM);
    };

    staticAccessors.ZERO.get = function () {
        return new Point(0, 0);
    };

    Object.defineProperties( Point, staticAccessors );

    return Point;
}(withAccessors(HasObservers, [ "x", "y" ])));

var Size = (function (superclass) {
    function Size(width, height) {
        superclass.call(this);

        this.width = width || 0;
        this.height = height || 0;
    }

    if ( superclass ) Size.__proto__ = superclass;
    Size.prototype = Object.create( superclass && superclass.prototype );
    Size.prototype.constructor = Size;

    var staticAccessors = { ZERO: {} };

    Size.prototype.equals = function equals (other) {
        return other && other.width === this.width && other.height === this.height;
    };

    Size.prototype.clone = function clone () {
        return new Size(this.width, this.height);
    };

    Size.prototype.toArray = function toArray (digits) {
        var doRound = defined(digits);
        var width = doRound ? round(this.width, digits) : this.width;
        var height = doRound ? round(this.height, digits) : this.height;

        return [ width, height ];
    };

    Size.create = function create (arg0, arg1) {
        if (defined(arg0)) {
            if (arg0 instanceof Size) {
                return arg0;
            } else if (arguments.length === 1 && arg0.length === 2) {
                return new Size(arg0[0], arg0[1]);
            }

            return new Size(arg0, arg1);
        }
    };

    staticAccessors.ZERO.get = function () {
        return new Size(0, 0);
    };

    Object.defineProperties( Size, staticAccessors );

    return Size;
}(withAccessors(HasObservers, [ "width", "height" ])));

var Rect = (function (HasObservers$$1) {
    function Rect(origin, size, cornerRadius) {
        if ( origin === void 0 ) origin = new Point();
        if ( size === void 0 ) size = new Size();
        if ( cornerRadius === void 0 ) cornerRadius = 0;

        HasObservers$$1.call(this);

        this.setOrigin(origin);
        this.setSize(size);
        this.setCornerRadius(cornerRadius);
    }

    if ( HasObservers$$1 ) Rect.__proto__ = HasObservers$$1;
    Rect.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    Rect.prototype.constructor = Rect;

    Rect.prototype.clone = function clone () {
        return new Rect(
            this.origin.clone(),
            this.size.clone()
        );
    };

    Rect.prototype.equals = function equals (other) {
        return other &&
               other.origin.equals(this.origin) &&
               other.size.equals(this.size);
    };

    Rect.prototype.setOrigin = function setOrigin (value) {
        this._observerField("origin", Point.create(value));
        this.geometryChange();
        return this;
    };

    Rect.prototype.getOrigin = function getOrigin () {
        return this.origin;
    };

    Rect.prototype.setCornerRadius = function setCornerRadius (radius) {
        this.cornerRadius = Array.isArray(radius) ? radius : [ radius, radius ];

        this.geometryChange();
        return this;
    };

    Rect.prototype.getCornerRadius = function getCornerRadius () {
        return this.cornerRadius;
    };

    Rect.prototype.setSize = function setSize (value) {
        this._observerField("size", Size.create(value));
        this.geometryChange();
        return this;
    };

    Rect.prototype.getSize = function getSize () {
        return this.size;
    };

    Rect.prototype.width = function width () {
        return this.size.width;
    };

    Rect.prototype.height = function height () {
        return this.size.height;
    };

    Rect.prototype.topLeft = function topLeft () {
        return this.origin.clone();
    };

    Rect.prototype.bottomRight = function bottomRight () {
        return this.origin.clone().translate(this.width(), this.height());
    };

    Rect.prototype.topRight = function topRight () {
        return this.origin.clone().translate(this.width(), 0);
    };

    Rect.prototype.bottomLeft = function bottomLeft () {
        return this.origin.clone().translate(0, this.height());
    };

    Rect.prototype.center = function center () {
        return this.origin.clone().translate(this.width() / 2, this.height() / 2);
    };

    Rect.prototype.bbox = function bbox (matrix) {
        var tl = this.topLeft().transformCopy(matrix);
        var tr = this.topRight().transformCopy(matrix);
        var br = this.bottomRight().transformCopy(matrix);
        var bl = this.bottomLeft().transformCopy(matrix);

        return Rect.fromPoints(tl, tr, br, bl);
    };

    Rect.prototype.transformCopy = function transformCopy (m) {
        return Rect.fromPoints(
            this.topLeft().transform(m),
            this.bottomRight().transform(m)
        );
    };

    Rect.prototype.expand = function expand (x, y) {
        if ( y === void 0 ) y = x;


        this.size.width += 2 * x;
        this.size.height += 2 * y;

        this.origin.translate(-x, -y);

        return this;
    };

    Rect.prototype.expandCopy = function expandCopy (x, y) {
        return this.clone().expand(x, y);
    };

    Rect.prototype.containsPoint = function containsPoint (point) {
        var origin = this.origin;
        var bottomRight = this.bottomRight();
        return !(point.x < origin.x || point.y < origin.y || bottomRight.x < point.x || bottomRight.y < point.y);
    };

    Rect.prototype._isOnPath = function _isOnPath (point, width) {
        var rectOuter = this.expandCopy(width, width);
        var rectInner = this.expandCopy(-width, -width);

        return rectOuter.containsPoint(point) && !rectInner.containsPoint(point);
    };

    Rect.fromPoints = function fromPoints () {
        var topLeft = Point.min.apply(null, arguments);
        var bottomRight = Point.max.apply(null, arguments);
        var size = new Size(
            bottomRight.x - topLeft.x,
            bottomRight.y - topLeft.y
        );

        return new Rect(topLeft, size);
    };

    Rect.union = function union (a, b) {
        return Rect.fromPoints(
            Point.min(a.topLeft(), b.topLeft()),
            Point.max(a.bottomRight(), b.bottomRight())
        );
    };

    Rect.intersect = function intersect (a, b) {
        var rect1 = {
            left: a.topLeft().x,
            top: a.topLeft().y,
            right: a.bottomRight().x,
            bottom: a.bottomRight().y
        };

        var rect2 = {
            left: b.topLeft().x,
            top: b.topLeft().y,
            right: b.bottomRight().x,
            bottom: b.bottomRight().y
        };

        if (rect1.left <= rect2.right &&
            rect2.left <= rect1.right &&
            rect1.top <= rect2.bottom &&
            rect2.top <= rect1.bottom) {
            return Rect.fromPoints(
                new Point(Math.max(rect1.left, rect2.left), Math.max(rect1.top, rect2.top)),
                new Point(Math.min(rect1.right, rect2.right), Math.min(rect1.bottom, rect2.bottom))
            );
        }
    };

    return Rect;
}(HasObservers));

var Transformation = (function (HasObservers$$1) {
    function Transformation(matrix) {
        if ( matrix === void 0 ) matrix = Matrix.unit();

        HasObservers$$1.call(this);

        this._matrix = matrix;
    }

    if ( HasObservers$$1 ) Transformation.__proto__ = HasObservers$$1;
    Transformation.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    Transformation.prototype.constructor = Transformation;

    Transformation.prototype.clone = function clone () {
        return new Transformation(
            this._matrix.clone()
        );
    };

    Transformation.prototype.equals = function equals (other) {
        return other &&
               other._matrix.equals(this._matrix);
    };

    Transformation.prototype.translate = function translate (x, y) {
        this._matrix = this._matrix.multiplyCopy(Matrix.translate(x, y));

        this._optionsChange();
        return this;
    };

    Transformation.prototype.scale = function scale (scaleX, scaleY, origin) {
        if ( scaleY === void 0 ) scaleY = scaleX;
        if ( origin === void 0 ) origin = null;

        var originPoint = origin;

        if (originPoint) {
            originPoint = Point.create(originPoint);
            this._matrix = this._matrix.multiplyCopy(Matrix.translate(originPoint.x, originPoint.y));
        }

        this._matrix = this._matrix.multiplyCopy(Matrix.scale(scaleX, scaleY));

        if (originPoint) {
            this._matrix = this._matrix.multiplyCopy(Matrix.translate(-originPoint.x, -originPoint.y));
        }

        this._optionsChange();
        return this;
    };

    Transformation.prototype.rotate = function rotate (angle, origin) {
        var originPoint = Point.create(origin) || Point.ZERO;

        this._matrix = this._matrix.multiplyCopy(Matrix.rotate(angle, originPoint.x, originPoint.y));

        this._optionsChange();
        return this;
    };

    Transformation.prototype.multiply = function multiply (transformation) {
        var matrix = toMatrix(transformation);

        this._matrix = this._matrix.multiplyCopy(matrix);

        this._optionsChange();
        return this;
    };

    Transformation.prototype.matrix = function matrix (value) {
        if (value) {
            this._matrix = value;
            this._optionsChange();
            return this;
        }

        return this._matrix;
    };

    Transformation.prototype._optionsChange = function _optionsChange () {
        this.optionsChange({
            field: "transform",
            value: this
        });
    };

    return Transformation;
}(HasObservers));

function transform$1(matrix) {
    if (matrix === null) {
        return null;
    }

    if (matrix instanceof Transformation) {
        return matrix;
    }

    return new Transformation(matrix);
}

var Element$1 = (function (HasObservers$$1) {
    function Element(options) {
        HasObservers$$1.call(this);

        this._initOptions(options);
    }

    if ( HasObservers$$1 ) Element.__proto__ = HasObservers$$1;
    Element.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    Element.prototype.constructor = Element;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Rect";
    };

    Element.prototype._initOptions = function _initOptions (options) {
        if ( options === void 0 ) options = {};

        var clip = options.clip;
        var transform = options.transform;

        if (transform) {
            options.transform = transform$1(transform);
        }

        if (clip && !clip.id) {
            clip.id = definitionId();
        }

        this.options = new OptionsStore(options);
        this.options.addObserver(this);
    };

    Element.prototype.transform = function transform (value) {
        if (defined(value)) {
            this.options.set("transform", transform$1(value));
        } else {
            return this.options.get("transform");
        }
    };

    Element.prototype.parentTransform = function parentTransform () {
        var element = this;
        var parentMatrix;

        while (element.parent) {
            element = element.parent;
            var transformation = element.transform();
            if (transformation) {
                parentMatrix = transformation.matrix().multiplyCopy(parentMatrix || Matrix.unit());
            }
        }

        if (parentMatrix) {
            return transform$1(parentMatrix);
        }
    };

    Element.prototype.currentTransform = function currentTransform (parentTransform) {
        if ( parentTransform === void 0 ) parentTransform = this.parentTransform();

        var elementTransform = this.transform();
        var elementMatrix = toMatrix(elementTransform);

        var parentMatrix = toMatrix(parentTransform);
        var combinedMatrix;

        if (elementMatrix && parentMatrix) {
            combinedMatrix = parentMatrix.multiplyCopy(elementMatrix);
        } else {
            combinedMatrix = elementMatrix || parentMatrix;
        }

        if (combinedMatrix) {
            return transform$1(combinedMatrix);
        }
    };

    Element.prototype.visible = function visible (value) {
        if (defined(value)) {
            this.options.set("visible", value);
            return this;
        }

        return this.options.get("visible") !== false;
    };

    Element.prototype.clip = function clip (value) {
        var options = this.options;
        if (defined(value)) {
            if (value && !value.id) {
                value.id = definitionId();
            }
            options.set("clip", value);
            return this;
        }

        return options.get("clip");
    };

    Element.prototype.opacity = function opacity (value) {
        if (defined(value)) {
            this.options.set("opacity", value);
            return this;
        }

        return valueOrDefault(this.options.get("opacity"), 1);
    };

    Element.prototype.className = function className (value) {
        if (defined(value)) {
            this.options.set("className", value);
            return this;
        }

        return this.options.get("className");
    };

    Element.prototype.clippedBBox = function clippedBBox (transformation) {
        var bbox = this._clippedBBox(transformation);
        if (bbox) {
            var clip = this.clip();
            return clip ? Rect.intersect(bbox, clip.bbox(transformation)) : bbox;
        }
    };

    Element.prototype.containsPoint = function containsPoint (point, parentTransform) {
        if (this.visible()) {
            var transform = this.currentTransform(parentTransform);
            var transformedPoint = point;
            if (transform) {
                transformedPoint = point.transformCopy(transform.matrix().invert());
            }
            return (this._hasFill() && this._containsPoint(transformedPoint)) || (this._isOnPath && this._hasStroke() && this._isOnPath(transformedPoint));
        }
        return false;
    };

    Element.prototype._hasFill = function _hasFill () {
        var fill = this.options.fill;
        return fill && !isTransparent(fill.color);
    };

    Element.prototype._hasStroke = function _hasStroke () {
        var stroke = this.options.stroke;
        return stroke && stroke.width > 0 && !isTransparent(stroke.color);
    };

    Element.prototype._clippedBBox = function _clippedBBox (transformation) {
        return this.bbox(transformation);
    };

    Object.defineProperties( Element.prototype, prototypeAccessors );

    return Element;
}(HasObservers));

function ellipseExtremeAngles(center, rx, ry, matrix) {
    var extremeX = 0;
    var extremeY = 0;

    if (matrix) {
        extremeX = Math.atan2(matrix.c * ry, matrix.a * rx);
        if (matrix.b !== 0) {
            extremeY = Math.atan2(matrix.d * ry, matrix.b * rx);
        }
    }

    return {
        x: extremeX,
        y: extremeY
    };
}

var PI_DIV_2 = Math.PI / 2;

var Circle$2 = (function (superclass) {
    function Circle(center, radius) {
        if ( center === void 0 ) center = new Point();
        if ( radius === void 0 ) radius = 0;

        superclass.call(this);

        this.setCenter(center);
        this.setRadius(radius);
    }

    if ( superclass ) Circle.__proto__ = superclass;
    Circle.prototype = Object.create( superclass && superclass.prototype );
    Circle.prototype.constructor = Circle;

    Circle.prototype.setCenter = function setCenter (value) {
        this._observerField("center", Point.create(value));
        this.geometryChange();
        return this;
    };

    Circle.prototype.getCenter = function getCenter () {
        return this.center;
    };

    Circle.prototype.equals = function equals (other) {
        return other &&
               other.center.equals(this.center) &&
               other.radius === this.radius;
    };

    Circle.prototype.clone = function clone () {
        return new Circle(this.center.clone(), this.radius);
    };

    Circle.prototype.pointAt = function pointAt (angle) {
        return this._pointAt(rad(angle));
    };

    Circle.prototype.bbox = function bbox (matrix) {
        var this$1 = this;

        var extremeAngles = ellipseExtremeAngles(this.center, this.radius, this.radius, matrix);
        var minPoint = Point.maxPoint();
        var maxPoint = Point.minPoint();

        for (var i = 0; i < 4; i++) {
            var currentPointX = this$1._pointAt(extremeAngles.x + i * PI_DIV_2).transformCopy(matrix);
            var currentPointY = this$1._pointAt(extremeAngles.y + i * PI_DIV_2).transformCopy(matrix);
            var currentPoint = new Point(currentPointX.x, currentPointY.y);

            minPoint = Point.min(minPoint, currentPoint);
            maxPoint = Point.max(maxPoint, currentPoint);
        }

        return Rect.fromPoints(minPoint, maxPoint);
    };

    Circle.prototype._pointAt = function _pointAt (angle) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;

        return new Point(
            center.x + radius * Math.cos(angle),
            center.y + radius * Math.sin(angle)
        );
    };

    Circle.prototype.containsPoint = function containsPoint (point) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;
        var inCircle = Math.pow(point.x - center.x, 2) +
            Math.pow(point.y - center.y, 2) <= Math.pow(radius, 2);
        return inCircle;
    };

    Circle.prototype._isOnPath = function _isOnPath (point, width) {
        var ref = this;
        var center = ref.center;
        var radius = ref.radius;
        var pointDistance = center.distanceTo(point);

        return radius - width <= pointDistance && pointDistance <= radius + width;
    };

    return Circle;
}(withAccessors(HasObservers, [ "radius" ])));

var GRADIENT = "Gradient";

var paintable = function (TBase) { return (
    (function (TBase) {
        function anonymous () {
            TBase.apply(this, arguments);
        }

        if ( TBase ) anonymous.__proto__ = TBase;
        anonymous.prototype = Object.create( TBase && TBase.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.fill = function fill (color, opacity) {
            var options = this.options;

            if (defined(color)) {
                if (color && color.nodeType !== GRADIENT) {
                    var newFill = {
                        color: color
                    };
                    if (defined(opacity)) {
                        newFill.opacity = opacity;
                    }
                    options.set("fill", newFill);
                } else {
                    options.set("fill", color);
                }

                return this;
            }

            return options.get("fill");
        };

        anonymous.prototype.stroke = function stroke (color, width, opacity) {
            if (defined(color)) {
                this.options.set("stroke.color", color);

                if (defined(width)) {
                    this.options.set("stroke.width", width);
                }

                if (defined(opacity)) {
                    this.options.set("stroke.opacity", opacity);
                }

                return this;
            }

            return this.options.get("stroke");
        };

        return anonymous;
    }(TBase))
); };

var IDENTITY_MATRIX_HASH = Matrix.IDENTITY.toString();

var measurable = function (TBase) { return (
    (function (TBase) {
        function anonymous () {
            TBase.apply(this, arguments);
        }

        if ( TBase ) anonymous.__proto__ = TBase;
        anonymous.prototype = Object.create( TBase && TBase.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.bbox = function bbox (transformation) {
            var combinedMatrix = toMatrix(this.currentTransform(transformation));
            var matrixHash = combinedMatrix ? combinedMatrix.toString() : IDENTITY_MATRIX_HASH;
            var bbox;

            if (this._bboxCache && this._matrixHash === matrixHash) {
                bbox = this._bboxCache.clone();
            } else {
                bbox = this._bbox(combinedMatrix);
                this._bboxCache = bbox ? bbox.clone() : null;
                this._matrixHash = matrixHash;
            }

            var strokeWidth = this.options.get("stroke.width");
            if (strokeWidth && bbox) {
                bbox.expand(strokeWidth / 2);
            }

            return bbox;
        };

        anonymous.prototype.geometryChange = function geometryChange () {
            delete this._bboxCache;
            this.trigger("geometryChange", {
                element: this
            });
        };

        return anonymous;
    }(TBase))
); };

function geometryAccessor(name) {
    var fieldName = "_" + name;
    return function(value) {
        if (defined(value)) {
            this._observerField(fieldName, value);
            this.geometryChange();
            return this;
        }

        return this[fieldName];
    };
}

function defineGeometryAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = geometryAccessor(names[i]);
    }
}

var withGeometry = function (TBase, names) {
    if ( names === void 0 ) names = [ "geometry" ];

    var result = (function (TBase) {
        function result () {
            TBase.apply(this, arguments);
        }if ( TBase ) result.__proto__ = TBase;
        result.prototype = Object.create( TBase && TBase.prototype );
        result.prototype.constructor = result;

        

        return result;
    }(TBase));
    defineGeometryAccessors(result.prototype, names);

    return result;
};

var DEFAULT_STROKE = "#000";

var Circle = (function (superclass) {
    function Circle(geometry, options) {
        if ( geometry === void 0 ) geometry = new Circle$2();
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke(DEFAULT_STROKE);
        }
    }

    if ( superclass ) Circle.__proto__ = superclass;
    Circle.prototype = Object.create( superclass && superclass.prototype );
    Circle.prototype.constructor = Circle;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Circle";
    };

    Circle.prototype.rawBBox = function rawBBox () {
        return this._geometry.bbox();
    };

    Circle.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Circle.prototype._containsPoint = function _containsPoint (point) {
        return this.geometry().containsPoint(point);
    };

    Circle.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    Object.defineProperties( Circle.prototype, prototypeAccessors );

    return Circle;
}(paintable(measurable(withGeometry(Element$1)))));

var PRECISION = 10;

function close$1(a, b, tolerance) {
    if ( tolerance === void 0 ) tolerance = PRECISION;

    return round(Math.abs(a - b), tolerance) === 0;
}

function closeOrLess(a, b, tolerance) {
    return a < b || close$1(a, b, tolerance);
}

function lineIntersection(p0, p1, p2, p3) {
    var s1x = p1.x - p0.x;
    var s2x = p3.x - p2.x;
    var s1y = p1.y - p0.y;
    var s2y = p3.y - p2.y;
    var nx = p0.x - p2.x;
    var ny = p0.y - p2.y;
    var d = s1x * s2y - s2x * s1y;
    var s = (s1x * ny - s1y * nx) / d;
    var t = (s2x * ny - s2y * nx) / d;

    if (s >= 0 && s <= 1 && t >= 0 && t <= 1) {
        return new Point(p0.x + t * s1x, p0.y + t * s1y);
    }
}

var MAX_INTERVAL = 45;
var pow$1 = Math.pow;
var accessors = [ "radiusX", "radiusY", "startAngle", "endAngle", "anticlockwise" ];

var Arc$2 = (function (superclass) {
    function Arc(center, options) {
        if ( center === void 0 ) center = new Point();
        if ( options === void 0 ) options = {};

        superclass.call(this);

        this.setCenter(center);

        this.radiusX = options.radiusX;
        this.radiusY = options.radiusY || options.radiusX;
        this.startAngle = options.startAngle;
        this.endAngle = options.endAngle;
        this.anticlockwise = options.anticlockwise || false;
        this.xRotation = options.xRotation;
    }

    if ( superclass ) Arc.__proto__ = superclass;
    Arc.prototype = Object.create( superclass && superclass.prototype );
    Arc.prototype.constructor = Arc;

    Arc.prototype.clone = function clone () {
        return new Arc(this.center, {
            radiusX: this.radiusX,
            radiusY: this.radiusY,
            startAngle: this.startAngle,
            endAngle: this.endAngle,
            anticlockwise: this.anticlockwise
        });
    };

    Arc.prototype.setCenter = function setCenter (value) {
        this._observerField("center", Point.create(value));
        this.geometryChange();
        return this;
    };

    Arc.prototype.getCenter = function getCenter () {
        return this.center;
    };

    Arc.prototype.pointAt = function pointAt (angle) {
        var center = this.center;
        var radian = rad(angle);

        return new Point(
            center.x + this.radiusX * Math.cos(radian),
            center.y + this.radiusY * Math.sin(radian)
        );
    };

    Arc.prototype.curvePoints = function curvePoints () {
        var this$1 = this;

        var startAngle = this.startAngle;
        var dir = this.anticlockwise ? -1 : 1;
        var curvePoints = [ this.pointAt(startAngle) ];
        var interval = this._arcInterval();
        var intervalAngle = interval.endAngle - interval.startAngle;
        var subIntervalsCount = Math.ceil(intervalAngle / MAX_INTERVAL);
        var subIntervalAngle = intervalAngle / subIntervalsCount;
        var currentAngle = startAngle;
        var transformation;
        if (this.xRotation) {
            transformation = transform$1().rotate(this.xRotation, this.center);
        }

        for (var i = 1; i <= subIntervalsCount; i++) {
            var nextAngle = currentAngle + dir * subIntervalAngle;
            var points = this$1._intervalCurvePoints(currentAngle, nextAngle, transformation);

            curvePoints.push(points.cp1, points.cp2, points.p2);
            currentAngle = nextAngle;
        }

        return curvePoints;
    };

    Arc.prototype.bbox = function bbox (matrix) {
        var this$1 = this;

        var interval = this._arcInterval();
        var startAngle = interval.startAngle;
        var endAngle = interval.endAngle;
        var extremeAngles = ellipseExtremeAngles(this.center, this.radiusX, this.radiusY, matrix);
        var extremeX = deg(extremeAngles.x);
        var extremeY = deg(extremeAngles.y);
        var endPoint = this.pointAt(endAngle).transformCopy(matrix);
        var currentAngleX = bboxStartAngle(extremeX, startAngle);
        var currentAngleY = bboxStartAngle(extremeY, startAngle);
        var currentPoint = this.pointAt(startAngle).transformCopy(matrix);
        var minPoint = Point.min(currentPoint, endPoint);
        var maxPoint = Point.max(currentPoint, endPoint);

        while (currentAngleX < endAngle || currentAngleY < endAngle) {
            var currentPointX = (void 0);
            if (currentAngleX < endAngle) {
                currentPointX = this$1.pointAt(currentAngleX).transformCopy(matrix);
                currentAngleX += 90;
            }

            var currentPointY = (void 0);
            if (currentAngleY < endAngle) {
                currentPointY = this$1.pointAt(currentAngleY).transformCopy(matrix);
                currentAngleY += 90;
            }

            currentPoint = new Point(currentPointX.x, currentPointY.y);
            minPoint = Point.min(minPoint, currentPoint);
            maxPoint = Point.max(maxPoint, currentPoint);
        }

        return Rect.fromPoints(minPoint, maxPoint);
    };

    Arc.prototype._arcInterval = function _arcInterval () {
        var ref = this;
        var startAngle = ref.startAngle;
        var endAngle = ref.endAngle;
        var anticlockwise = ref.anticlockwise;

        if (anticlockwise) {
            var oldStart = startAngle;
            startAngle = endAngle;
            endAngle = oldStart;
        }

        if (startAngle > endAngle || (anticlockwise && startAngle === endAngle)) {
            endAngle += 360;
        }

        return {
            startAngle: startAngle,
            endAngle: endAngle
        };
    };

    Arc.prototype._intervalCurvePoints = function _intervalCurvePoints (startAngle, endAngle, transformation) {
        var p1 = this.pointAt(startAngle);
        var p2 = this.pointAt(endAngle);
        var p1Derivative = this._derivativeAt(startAngle);
        var p2Derivative = this._derivativeAt(endAngle);
        var t = (rad(endAngle) - rad(startAngle)) / 3;
        var cp1 = new Point(p1.x + t * p1Derivative.x, p1.y + t * p1Derivative.y);
        var cp2 = new Point(p2.x - t * p2Derivative.x, p2.y - t * p2Derivative.y);
        if (transformation) {
            p1.transform(transformation);
            p2.transform(transformation);
            cp1.transform(transformation);
            cp2.transform(transformation);
        }

        return {
            p1: p1,
            cp1: cp1,
            cp2: cp2,
            p2: p2
        };
    };

    Arc.prototype._derivativeAt = function _derivativeAt (angle) {
        var radian = rad(angle);

        return new Point(-this.radiusX * Math.sin(radian), this.radiusY * Math.cos(radian));
    };

    Arc.prototype.containsPoint = function containsPoint (point) {
        var interval = this._arcInterval();
        var intervalAngle = interval.endAngle - interval.startAngle;
        var ref = this;
        var center = ref.center;
        var radiusX = ref.radiusX;
        var radiusY = ref.radiusY;
        var distance = center.distanceTo(point);
        var angleRad = Math.atan2(point.y - center.y, point.x - center.x);
        var pointRadius = (radiusX * radiusY) /
            Math.sqrt(pow$1(radiusX, 2) * pow$1(Math.sin(angleRad), 2) + pow$1(radiusY, 2) * pow$1(Math.cos(angleRad), 2));
        var startPoint = this.pointAt(this.startAngle).round(PRECISION);
        var endPoint = this.pointAt(this.endAngle).round(PRECISION);
        var intersection = lineIntersection(center, point.round(PRECISION), startPoint, endPoint);
        var containsPoint;

        if (intervalAngle < 180) {
            containsPoint = intersection && closeOrLess(center.distanceTo(intersection), distance) && closeOrLess(distance, pointRadius);
        } else {
            var angle = calculateAngle(center.x, center.y, radiusX, radiusY, point.x, point.y);
            if (angle !== 360) {
                angle = (360 + angle) % 360;
            }

            var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;
            containsPoint = (inAngleRange && closeOrLess(distance, pointRadius)) || (!inAngleRange && (!intersection || intersection.equals(point)));
        }
        return containsPoint;
    };

    Arc.prototype._isOnPath = function _isOnPath (point, width) {
        var interval = this._arcInterval();
        var center = this.center;
        var angle = calculateAngle(center.x, center.y, this.radiusX, this.radiusY, point.x, point.y);
        if (angle !== 360) {
            angle = (360 + angle) % 360;
        }

        var inAngleRange = interval.startAngle <= angle && angle <= interval.endAngle;

        return inAngleRange && this.pointAt(angle).distanceTo(point) <= width;
    };

    Arc.fromPoints = function fromPoints (start, end, rx, ry, largeArc, swipe, rotation) {// eslint-disable-line max-params
        var arcParameters = normalizeArcParameters({
            x1: start.x,
            y1: start.y,
            x2: end.x,
            y2: end.y,
            rx: rx,
            ry: ry,
            largeArc: largeArc,
            swipe: swipe,
            rotation: rotation
        });

        return new Arc(arcParameters.center, {
            startAngle: arcParameters.startAngle,
            endAngle: arcParameters.endAngle,
            radiusX: arcParameters.radiusX,
            radiusY: arcParameters.radiusY,
            xRotation: arcParameters.xRotation,
            anticlockwise: swipe === 0
        });
    };

    return Arc;
}(withAccessors(HasObservers, accessors)));

function calculateAngle(cx, cy, rx, ry, x, y) {
    var cos = round((x - cx) / rx, 3);
    var sin = round((y - cy) / ry, 3);

    return round(deg(Math.atan2(sin, cos)));
}

function normalizeArcParameters(parameters) {
    var x1 = parameters.x1;
    var y1 = parameters.y1;
    var x2 = parameters.x2;
    var y2 = parameters.y2;
    var rx = parameters.rx;
    var ry = parameters.ry;
    var largeArc = parameters.largeArc;
    var swipe = parameters.swipe;
    var rotation = parameters.rotation; if ( rotation === void 0 ) rotation = 0;

    var radians = rad(rotation);
    var cosine = Math.cos(radians);
    var sine = Math.sin(radians);

    var xT = cosine * (x1 - x2) / 2 + sine * (y1 - y2) / 2;
    var yT = -sine * (x1 - x2) / 2 + cosine * (y1 - y2) / 2;

    var sign = largeArc !== swipe ? 1 : -1;

    var xt2 = Math.pow(xT, 2);
    var yt2 = Math.pow(yT, 2);
    var rx2 = Math.pow(rx, 2);
    var ry2 = Math.pow(ry, 2);

    var delta = xt2 / rx2 + yt2 / ry2;

    if (delta > 1) {
        delta = Math.sqrt(xt2 / rx2 + yt2 / ry2);
        rx = delta * rx;
        rx2 = Math.pow(rx, 2);

        ry = delta * ry;
        ry2 = Math.pow(ry, 2);
    }

    var constT = sign * Math.sqrt((rx2 * ry2 - rx2 * yt2 - ry2 * xt2) / (rx2 * yt2 + ry2 * xt2));
    // due to rounding errors the value could become NaN even after radii correction
    if (isNaN(constT)) {
        constT = 0;
    }

    var cxT = constT * (rx * yT) / ry;
    var cyT = - constT * (ry * xT) / rx;

    var cx = cosine * cxT - sine * cyT + (x1 + x2) / 2;
    var cy = sine * cxT + cosine * cyT + (y1 + y2) / 2;


    var uX = (xT - cxT) / rx;
    var uY = (yT - cyT) / ry;
    var vX = -(xT + cxT) / rx;
    var vY = -(yT + cyT) / ry;

    var startAngle = (uY >= 0 ? 1 : -1) * deg(Math.acos(uX / Math.sqrt(uX * uX + uY * uY)));

    var angleCosine = round((uX * vX + uY * vY) / (Math.sqrt(uX * uX + uY * uY) * Math.sqrt(vX * vX + vY * vY)), 10);
    var angle = (uX * vY - uY * vX >= 0 ? 1 : -1) * deg(Math.acos(angleCosine));

    if (!swipe && angle > 0) {
        angle -= 360;
    }

    if (swipe && angle < 0) {
        angle += 360;
    }
    var endAngle = startAngle + angle;
    var signEndAngle = endAngle >= 0 ? 1 : -1;
    endAngle = (Math.abs(endAngle) % 360) * signEndAngle;

    return {
        center: new Point(cx, cy),
        startAngle: startAngle,
        endAngle: endAngle,
        radiusX: rx,
        radiusY: ry,
        xRotation: rotation
    };
}

function bboxStartAngle(angle, start) {
    var startAngle = angle;

    while (startAngle < start) {
        startAngle += 90;
    }

    return startAngle;
}

var push = [].push;
var pop = [].pop;
var splice = [].splice;
var shift = [].shift;
var slice = [].slice;
var unshift = [].unshift;

var ElementsArray = (function (HasObservers$$1) {
    function ElementsArray(array) {
        if ( array === void 0 ) array = [];

        HasObservers$$1.call(this);

        this.length = 0;
        this._splice(0, array.length, array);
    }

    if ( HasObservers$$1 ) ElementsArray.__proto__ = HasObservers$$1;
    ElementsArray.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    ElementsArray.prototype.constructor = ElementsArray;

    ElementsArray.prototype.elements = function elements (value) {
        if (value) {
            this._splice(0, this.length, value);

            this._change();
            return this;
        }

        return this.slice(0);
    };

    ElementsArray.prototype.push = function push$1 () {
        var elements = arguments;
        var result = push.apply(this, elements);

        this._add(elements);

        return result;
    };

    ElementsArray.prototype.slice = function slice$1 () {
        return slice.call(this);
    };

    ElementsArray.prototype.pop = function pop$1 () {
        var length = this.length;
        var result = pop.apply(this);

        if (length) {
            this._remove([ result ]);
        }

        return result;
    };

    ElementsArray.prototype.splice = function splice$1 (index, howMany) {
        var elements = slice.call(arguments, 2);
        var result = this._splice(index, howMany, elements);

        this._change();

        return result;
    };

    ElementsArray.prototype.shift = function shift$1 () {
        var length = this.length;
        var result = shift.apply(this);

        if (length) {
            this._remove([ result ]);
        }

        return result;
    };

    ElementsArray.prototype.unshift = function unshift$1 () {
        var elements = arguments;
        var result = unshift.apply(this, elements);

        this._add(elements);

        return result;
    };

    ElementsArray.prototype.indexOf = function indexOf (element) {
        var this$1 = this;

        var length = this.length;

        for (var idx = 0; idx < length; idx++) {
            if (this$1[idx] === element) {
                return idx;
            }
        }
        return -1;
    };

    ElementsArray.prototype._splice = function _splice (index, howMany, elements) {
        var result = splice.apply(this, [ index, howMany ].concat(elements));

        this._clearObserver(result);
        this._setObserver(elements);

        return result;
    };

    ElementsArray.prototype._add = function _add (elements) {
        this._setObserver(elements);
        this._change();
    };

    ElementsArray.prototype._remove = function _remove (elements) {
        this._clearObserver(elements);
        this._change();
    };

    ElementsArray.prototype._setObserver = function _setObserver (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            elements[idx].addObserver(this$1);
        }
    };

    ElementsArray.prototype._clearObserver = function _clearObserver (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            elements[idx].removeObserver(this$1);
        }
    };

    ElementsArray.prototype._change = function _change () {};

    return ElementsArray;
}(HasObservers));

var GeometryElementsArray = (function (ElementsArray$$1) {
    function GeometryElementsArray () {
        ElementsArray$$1.apply(this, arguments);
    }

    if ( ElementsArray$$1 ) GeometryElementsArray.__proto__ = ElementsArray$$1;
    GeometryElementsArray.prototype = Object.create( ElementsArray$$1 && ElementsArray$$1.prototype );
    GeometryElementsArray.prototype.constructor = GeometryElementsArray;

    GeometryElementsArray.prototype._change = function _change () {
        this.geometryChange();
    };

    return GeometryElementsArray;
}(ElementsArray));

function isOutOfEndPoint(endPoint, controlPoint, point) {
    var angle = deg(Math.atan2(controlPoint.y - endPoint.y, controlPoint.x - endPoint.x));
    var rotatedPoint = point.transformCopy(transform$1().rotate(-angle, endPoint));

    return rotatedPoint.x < endPoint.x;
}

function calculateCurveAt(t, field, points) {
    var t1 = 1 - t;
    return Math.pow(t1, 3) * points[0][field] +
        3 * Math.pow(t1, 2) * t * points[1][field] +
        3 * Math.pow(t, 2) * t1 * points[2][field] +
        Math.pow(t, 3) * points[3][field];
}

function toCubicPolynomial(points, field) {
    return [ -points[0][field] + 3 * points[1][field] - 3 * points[2][field] + points[3][field],
        3 * (points[0][field] - 2 * points[1][field] + points[2][field]),
        3 * (-points[0][field] + points[1][field]),
        points[0][field]
    ];
}

var ComplexNumber = (function (Class$$1) {
    function ComplexNumber(real, img) {
        if ( real === void 0 ) real = 0;
        if ( img === void 0 ) img = 0;

        Class$$1.call(this);

        this.real = real;
        this.img = img;
    }

    if ( Class$$1 ) ComplexNumber.__proto__ = Class$$1;
    ComplexNumber.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ComplexNumber.prototype.constructor = ComplexNumber;

    ComplexNumber.prototype.add = function add (cNumber) {
        return new ComplexNumber(round(this.real + cNumber.real, PRECISION), round(this.img + cNumber.img, PRECISION));
    };

    ComplexNumber.prototype.addConstant = function addConstant (value) {
        return new ComplexNumber(this.real + value, this.img);
    };

    ComplexNumber.prototype.negate = function negate () {
        return new ComplexNumber(-this.real, -this.img);
    };

    ComplexNumber.prototype.multiply = function multiply (cNumber) {
        return new ComplexNumber(this.real * cNumber.real - this.img * cNumber.img,
            this.real * cNumber.img + this.img * cNumber.real);
    };

    ComplexNumber.prototype.multiplyConstant = function multiplyConstant (value) {
        return new ComplexNumber(this.real * value, this.img * value);
    };

    ComplexNumber.prototype.nthRoot = function nthRoot (n) {
        var rad$$1 = Math.atan2(this.img, this.real);
        var r = Math.sqrt(Math.pow(this.img, 2) + Math.pow(this.real, 2));
        var nthR = Math.pow(r, 1 / n);

        return new ComplexNumber(nthR * Math.cos(rad$$1 / n), nthR * Math.sin(rad$$1 / n)); //Moivre's formula
    };

    ComplexNumber.prototype.equals = function equals (cNumber) {
        return this.real === cNumber.real && this.img === cNumber.img;
    };

    ComplexNumber.prototype.isReal = function isReal () {
        return this.img === 0;
    };

    return ComplexNumber;
}(Class));

function numberSign$1(x) {
    return x < 0 ? -1 : 1;
}

function solveQuadraticEquation(a, b, c) {
    var squareRoot = Math.sqrt(Math.pow(b, 2) - 4 * a * c);
    return [
        (-b + squareRoot) / (2 * a),
        (-b - squareRoot) / (2 * a)
    ];
}

//Cardano's formula
function solveCubicEquation(a, b, c, d) {
    if (a === 0) {
        return solveQuadraticEquation(b, c, d);
    }

    var p = (3 * a * c - Math.pow(b, 2)) / (3 * Math.pow(a, 2));
    var q = (2 * Math.pow(b, 3) - 9 * a * b * c + 27 * Math.pow(a, 2) * d) / (27 * Math.pow(a, 3));
    var Q = Math.pow(p / 3, 3) + Math.pow(q / 2, 2);
    var i = new ComplexNumber(0,1);
    var b3a = -b / (3 * a);
    var x1, x2, y1, y2, y3, z1, z2;

    if (Q < 0) {
        x1 = new ComplexNumber(-q / 2, Math.sqrt(-Q)).nthRoot(3);
        x2 = new ComplexNumber(-q / 2, - Math.sqrt(-Q)).nthRoot(3);
    } else {
        x1 = -q / 2 + Math.sqrt(Q);
        x1 = new ComplexNumber(numberSign$1(x1) * Math.pow(Math.abs(x1), 1 / 3));
        x2 = -q / 2 - Math.sqrt(Q);
        x2 = new ComplexNumber(numberSign$1(x2) * Math.pow(Math.abs(x2), 1 / 3));
    }

    y1 = x1.add(x2);

    z1 = x1.add(x2).multiplyConstant(-1 / 2);
    z2 = x1.add(x2.negate()).multiplyConstant(Math.sqrt(3) / 2);

    y2 = z1.add(i.multiply(z2));
    y3 = z1.add(i.negate().multiply(z2));

    var result = [];

    if (y1.isReal()) {
        result.push(round(y1.real + b3a, PRECISION));
    }
    if (y2.isReal()) {
        result.push(round(y2.real + b3a, PRECISION));
    }
    if (y3.isReal()) {
        result.push(round(y3.real + b3a, PRECISION));
    }

    return result;
}

function hasRootsInRange(points, point, field, rootField, range) {
    var polynomial = toCubicPolynomial(points, rootField);
    var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point[rootField]);
    var intersection;

    for (var idx = 0; idx < roots.length; idx++) {
        if (0 <= roots[idx] && roots[idx] <= 1) {
            intersection = calculateCurveAt(roots[idx], field, points);
            if (Math.abs(intersection - point[field]) <= range) {
                return true;
            }
        }
    }
}

function curveIntersectionsCount(points, point, bbox) {
    var polynomial = toCubicPolynomial(points, "x");
    var roots = solveCubicEquation(polynomial[0], polynomial[1], polynomial[2], polynomial[3] - point.x);
    var rayIntersection, intersectsRay;
    var count = 0;
    for (var i = 0; i < roots.length; i++) {
        rayIntersection = calculateCurveAt(roots[i], "y", points);
        intersectsRay = close$1(rayIntersection, point.y) || rayIntersection > point.y;
        if (intersectsRay && (((roots[i] === 0 || roots[i] === 1) && bbox.bottomRight().x > point.x) || (0 < roots[i] && roots[i] < 1))) {
            count++;
        }
    }

    return count;
}

function lineIntersectionsCount(a, b, point) {
    var intersects;
    if (a.x !== b.x) {
        var minX = Math.min(a.x, b.x);
        var maxX = Math.max(a.x, b.x);
        var minY = Math.min(a.y, b.y);
        var maxY = Math.max(a.y, b.y);
        var inRange = minX <= point.x && point.x < maxX;

        if (minY === maxY) {
            intersects = point.y <= minY && inRange;
        } else {
            intersects = inRange && (((maxY - minY) * ((a.x - b.x) * (a.y - b.y) > 0 ? point.x - minX : maxX - point.x)) / (maxX - minX) + minY - point.y) >= 0;
        }
    }

    return intersects ? 1 : 0;
}

function pointAccessor(name) {
    var fieldName = "_" + name;
    return function(value) {
        if (defined(value)) {
            this._observerField(fieldName, Point.create(value));
            this.geometryChange();
            return this;
        }

        return this[fieldName];
    };
}

function definePointAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = pointAccessor(names[i]);
    }
}

var withPoints = function (TBase, names) {
    var result = (function (TBase) {
        function result () {
            TBase.apply(this, arguments);
        }if ( TBase ) result.__proto__ = TBase;
        result.prototype = Object.create( TBase && TBase.prototype );
        result.prototype.constructor = result;

        

        return result;
    }(TBase));
    definePointAccessors(result.prototype, names);

    return result;
};

var points = [ "anchor", "controlIn", "controlOut" ];

var Segment = (function (superclass) {
    function Segment(anchor, controlIn, controlOut) {
        superclass.call(this);

        this.anchor(anchor || new Point());
        this.controlIn(controlIn);
        this.controlOut(controlOut);
    }

    if ( superclass ) Segment.__proto__ = superclass;
    Segment.prototype = Object.create( superclass && superclass.prototype );
    Segment.prototype.constructor = Segment;

    Segment.prototype.bboxTo = function bboxTo (toSegment, matrix) {
        var segmentAnchor = this.anchor().transformCopy(matrix);
        var toSegmentAnchor = toSegment.anchor().transformCopy(matrix);
        var rect;

        if (this.controlOut() && toSegment.controlIn()) {
            rect = this._curveBoundingBox(
                segmentAnchor, this.controlOut().transformCopy(matrix),
                toSegment.controlIn().transformCopy(matrix), toSegmentAnchor
            );
        } else {
            rect = this._lineBoundingBox(segmentAnchor, toSegmentAnchor);
        }

        return rect;
    };

    Segment.prototype._lineBoundingBox = function _lineBoundingBox (p1, p2) {
        return Rect.fromPoints(p1, p2);
    };

    Segment.prototype._curveBoundingBox = function _curveBoundingBox (p1, cp1, cp2, p2) {
        var points = [ p1, cp1, cp2, p2 ];
        var extremesX = this._curveExtremesFor(points, "x");
        var extremesY = this._curveExtremesFor(points, "y");
        var xLimits = arrayLimits([ extremesX.min, extremesX.max, p1.x, p2.x ]);
        var yLimits = arrayLimits([ extremesY.min, extremesY.max, p1.y, p2.y ]);

        return Rect.fromPoints(new Point(xLimits.min, yLimits.min), new Point(xLimits.max, yLimits.max));
    };

    Segment.prototype._curveExtremesFor = function _curveExtremesFor (points, field) {
        var extremes = this._curveExtremes(
            points[0][field], points[1][field],
            points[2][field], points[3][field]
        );

        return {
            min: calculateCurveAt(extremes.min, field, points),
            max: calculateCurveAt(extremes.max, field, points)
        };
    };

    Segment.prototype._curveExtremes = function _curveExtremes (x1, x2, x3, x4) {
        var a = x1 - 3 * x2 + 3 * x3 - x4;
        var b = - 2 * (x1 - 2 * x2 + x3);
        var c = x1 - x2;
        var sqrt = Math.sqrt(b * b - 4 * a * c);
        var t1 = 0;
        var t2 = 1;

        if (a === 0) {
            if (b !== 0) {
                t1 = t2 = -c / b;
            }
        } else if (!isNaN(sqrt)) {
            t1 = (- b + sqrt) / (2 * a);
            t2 = (- b - sqrt) / (2 * a);
        }

        var min = Math.max(Math.min(t1, t2), 0);
        if (min < 0 || min > 1) {
            min = 0;
        }

        var max = Math.min(Math.max(t1, t2), 1);
        if (max > 1 || max < 0) {
            max = 1;
        }

        return {
            min: min,
            max: max
        };
    };

    Segment.prototype._intersectionsTo = function _intersectionsTo (segment, point) {
        var intersectionsCount;
        if (this.controlOut() && segment.controlIn()) {
            intersectionsCount = curveIntersectionsCount([ this.anchor(), this.controlOut(), segment.controlIn(), segment.anchor() ], point, this.bboxTo(segment));
        } else {
            intersectionsCount = lineIntersectionsCount(this.anchor(), segment.anchor(), point);
        }
        return intersectionsCount;
    };

    Segment.prototype._isOnCurveTo = function _isOnCurveTo (segment, point, width, endSegment) {
        var bbox = this.bboxTo(segment).expand(width, width);
        if (bbox.containsPoint(point)) {
            var p1 = this.anchor();
            var p2 = this.controlOut();
            var p3 = segment.controlIn();
            var p4 = segment.anchor();

            if (endSegment === "start" && p1.distanceTo(point) <= width) {
                return !isOutOfEndPoint(p1, p2, point);
            } else if (endSegment === "end" && p4.distanceTo(point) <= width) {
                return !isOutOfEndPoint(p4, p3, point);
            }

            //the approach is not entirely correct but is close and the alternatives are solving a 6th degree polynomial or testing the segment points
            var points = [ p1, p2, p3, p4 ];
            if (hasRootsInRange(points, point, "x", "y", width) || hasRootsInRange(points, point, "y", "x", width)) {
                return true;
            }
            var rotation = transform$1().rotate(45, point);
            var rotatedPoints = [ p1.transformCopy(rotation), p2.transformCopy(rotation), p3.transformCopy(rotation), p4.transformCopy(rotation) ];
            return hasRootsInRange(rotatedPoints, point, "x", "y", width) || hasRootsInRange(rotatedPoints, point, "y", "x", width);
        }
    };

    Segment.prototype._isOnLineTo = function _isOnLineTo (segment, point, width) {
        var p1 = this.anchor();
        var p2 = segment.anchor();
        var angle = deg(Math.atan2(p2.y - p1.y, p2.x - p1.x));
        var rect = new Rect([ p1.x, p1.y - width / 2 ], [ p1.distanceTo(p2), width ]);
        return rect.containsPoint(point.transformCopy(transform$1().rotate(-angle, p1)));
    };

    Segment.prototype._isOnPathTo = function _isOnPathTo (segment, point, width, endSegment) {
        var isOnPath;
        if (this.controlOut() && segment.controlIn()) {
            isOnPath = this._isOnCurveTo(segment, point, width / 2, endSegment);
        } else {
            isOnPath = this._isOnLineTo(segment, point, width);
        }
        return isOnPath;
    };

    return Segment;
}(withPoints(HasObservers, points)));

function arrayLimits(arr) {
    var length = arr.length;
    var min = MAX_NUM;
    var max = MIN_NUM;

    for (var i = 0; i < length; i ++) {
        max = Math.max(max, arr[i]);
        min = Math.min(min, arr[i]);
    }

    return {
        min: min,
        max: max
    };
}



var geometry = Object.freeze({
	Circle: Circle$2,
	Arc: Arc$2,
	Rect: Rect,
	Point: Point,
	Segment: Segment,
	Matrix: Matrix,
	Size: Size,
	toMatrix: toMatrix,
	Transformation: Transformation,
	transform: transform$1
});

var WEIGHT = 0.333;
var EXTREMUM_ALLOWED_DEVIATION = 0.01;
var X = "x";
var Y = "y";

function pointsToCurve(pointsIn, closed) {
    var points = pointsIn.slice(0);
    var segments = [];
    var length = points.length;

    if (length > 2) {
        removeDuplicates(0, points);
        length = points.length;
    }

    if (length < 2 || (length === 2 && points[0].equals(points[1]))) {
        return segments;
    }

    var p0 = points[0];
    var p1 = points[1];
    var p2 = points[2];

    segments.push(new Segment(p0));

    while (p0.equals(points[length - 1])) {
        closed = true;
        points.pop();
        length--;
    }

    if (length === 2) {
        var tangent = getTangent(p0,p1, X, Y);

        last(segments).controlOut(
            firstControlPoint(tangent, p0, p1, X, Y)
        );

        segments.push(new Segment(
            p1,
            secondControlPoint(tangent, p0, p1, X, Y)
        ));

        return segments;
    }

    var initialControlPoint, lastControlPoint;

    if (closed) {
        p0 = points[length - 1]; p1 = points[0]; p2 = points[1];
        var controlPoints = getControlPoints(p0, p1, p2);
        initialControlPoint = controlPoints[1];
        lastControlPoint = controlPoints[0];
    } else {
        var tangent$1 = getTangent(p0, p1, X,Y);
        initialControlPoint = firstControlPoint(tangent$1, p0, p1, X, Y);
    }

    var cp0 = initialControlPoint;
    for (var idx = 0; idx <= length - 3; idx++) {
        removeDuplicates(idx, points);
        length = points.length;
        if (idx + 3 <= length) {
            p0 = points[idx]; p1 = points[idx + 1]; p2 = points[idx + 2];
            var controlPoints$1 = getControlPoints(p0,p1,p2);

            last(segments).controlOut(cp0);
            cp0 = controlPoints$1[1];

            var cp1 = controlPoints$1[0];
            segments.push(new Segment(p1, cp1));
        }
    }

    if (closed) {
        p0 = points[length - 2]; p1 = points[length - 1]; p2 = points[0];
        var controlPoints$2 = getControlPoints(p0, p1, p2);

        last(segments).controlOut(cp0);
        segments.push(new Segment(
            p1,
            controlPoints$2[0]
        ));

        last(segments).controlOut(controlPoints$2[1]);
        segments.push(new Segment(
            p2,
            lastControlPoint
        ));
    } else {
        var tangent$2 = getTangent(p1, p2, X, Y);

        last(segments).controlOut(cp0);
        segments.push(new Segment(
            p2,
            secondControlPoint(tangent$2, p1, p2, X, Y)
        ));
    }

    return segments;
}



function removeDuplicates(idx, points) {
    while (points[idx + 1] && (points[idx].equals(points[idx + 1]) || points[idx + 1].equals(points[idx + 2]))) {
        points.splice(idx + 1, 1);
    }
}

function invertAxis(p0, p1, p2) {
    var invertAxis = false;

    if (p0.x === p1.x) {
        invertAxis = true;
    } else if (p1.x === p2.x) {
        if ((p1.y < p2.y && p0.y <= p1.y) || (p2.y < p1.y && p1.y <= p0.y)) {
            invertAxis = true;
        }
    } else {
        var fn = lineFunction(p0,p1);
        var y2 = calculateFunction(fn, p2.x);
        if (!(p0.y <= p1.y && p2.y <= y2) &&
            !(p1.y <= p0.y && p2.y >= y2)) {
            invertAxis = true;
        }
    }

    return invertAxis;
}

function isLine(p0, p1, p2) {
    var fn = lineFunction(p0, p1);
    var y2 = calculateFunction(fn, p2.x);

    return (p0.x === p1.x && p1.x === p2.x) || round(y2, 1) === round(p2.y, 1);
}

function lineFunction(p1, p2) {
    var a = (p2.y - p1.y) / (p2.x - p1.x);
    var b = p1.y - a * p1.x;

    return [ b, a ];
}

function getControlPoints(p0, p1, p2) {
    var xField = X;
    var yField = Y;
    var restrict = false;
    var switchOrientation = false;
    var tangent;

    if (isLine(p0, p1, p2)) {
        tangent = getTangent(p0, p1, X, Y);
    } else {
        var monotonic = {
            x: isMonotonicByField(p0, p1, p2, X),
            y: isMonotonicByField(p0, p1, p2, Y)
        };

        if (monotonic.x && monotonic.y) {
            tangent = getTangent(p0, p2, X, Y);
            restrict = true;
        } else {
            if (invertAxis(p0, p1, p2)) {
                xField = Y;
                yField = X;
            }

            if (monotonic[xField]) {
                tangent = 0;
            } else {
                var sign;
                if ((p2[yField] < p0[yField] && p0[yField] <= p1[yField]) ||
                    (p0[yField] < p2[yField] && p1[yField] <= p0[yField])) {
                    sign = numberSign((p2[yField] - p0[yField]) * (p1[xField] - p0[xField]));
                } else {
                    sign = -numberSign((p2[xField] - p0[xField]) * (p1[yField] - p0[yField]));
                }

                tangent = EXTREMUM_ALLOWED_DEVIATION * sign;
                switchOrientation = true;
            }
        }
    }

    var secondCP = secondControlPoint(tangent, p0, p1, xField, yField);

    if (switchOrientation) {
        var oldXField = xField;
        xField = yField;
        yField = oldXField;
    }

    var firstCP = firstControlPoint(tangent, p1, p2, xField, yField);

    if (restrict) {
        restrictControlPoint(p0, p1, secondCP, tangent);
        restrictControlPoint(p1, p2, firstCP, tangent);
    }

    return [ secondCP, firstCP ];
}

function restrictControlPoint(p1, p2, cp, tangent) {
    if (p1.y < p2.y) {
        if (p2.y < cp.y) {
            cp.x = p1.x + (p2.y - p1.y) / tangent;
            cp.y = p2.y;
        } else if (cp.y < p1.y) {
            cp.x = p2.x - (p2.y - p1.y) / tangent;
            cp.y = p1.y;
        }
    } else {
        if (cp.y < p2.y) {
            cp.x = p1.x - (p1.y - p2.y) / tangent;
            cp.y = p2.y;
        } else if (p1.y < cp.y) {
            cp.x = p2.x + (p1.y - p2.y) / tangent;
            cp.y = p1.y;
        }
    }
}

function getTangent(p0, p1, xField, yField) {
    var x = p1[xField] - p0[xField];
    var y = p1[yField] - p0[yField];
    var tangent;

    if (x === 0) {
        tangent = 0;
    } else {
        tangent = y / x;
    }

    return tangent;
}

function isMonotonicByField(p0, p1, p2, field) {
    return (p2[field] > p1[field] && p1[field] > p0[field]) ||
                (p2[field] < p1[field] && p1[field] < p0[field]);
}

function firstControlPoint(tangent, p0, p3, xField, yField) {
    var t1 = p0[xField];
    var t2 = p3[xField];
    var distance = (t2 - t1) * WEIGHT;

    return point(t1 + distance, p0[yField] + distance * tangent, xField, yField);
}

function secondControlPoint(tangent, p0, p3, xField, yField) {
    var t1 = p0[xField];
    var t2 = p3[xField];
    var distance = (t2 - t1) * WEIGHT;

    return point(t2 - distance, p3[yField] - distance * tangent, xField, yField);
}

function point(xValue, yValue, xField, yField) {
    var controlPoint = new Point();
    controlPoint[xField] = xValue;
    controlPoint[yField] = yValue;

    return controlPoint;
}

function calculateFunction(fn, x) {
    var length = fn.length;
    var result = 0;

    for (var i = 0; i < length; i++) {
        result += Math.pow(x,i) * fn[i];
    }
    return result;
}

function numberSign(value) {
    return value <= 0 ? -1 : 1;
}

var ShapeMap = {
    l: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 2) {
            var point = new Point(parameters[i], parameters[i + 1]);

            if (options.isRelative) {
                point.translateWith(position);
            }

            path.lineTo(point.x, point.y);

            position.x = point.x;
            position.y = point.y;
        }
    },

    c: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 6) {
            var controlOut = new Point(parameters[i], parameters[i + 1]);
            var controlIn = new Point(parameters[i + 2], parameters[i + 3]);
            var point = new Point(parameters[i + 4], parameters[i + 5]);
            if (options.isRelative) {
                controlIn.translateWith(position);
                controlOut.translateWith(position);
                point.translateWith(position);
            }

            path.curveTo(controlOut, controlIn, point);

            position.x = point.x;
            position.y = point.y;
        }
    },

    v: function(path, options) {
        var value = options.isRelative ? 0 : options.position.x;

        toLineParamaters(options.parameters, true, value);
        this.l(path, options);
    },

    h: function(path, options) {
        var value = options.isRelative ? 0 : options.position.y;

        toLineParamaters(options.parameters, false, value);
        this.l(path, options);
    },

    a: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 7) {
            var radiusX = parameters[i];
            var radiusY = parameters[i + 1];
            var rotation = parameters[i + 2];
            var largeArc = parameters[i + 3];
            var swipe = parameters[i + 4];
            var endPoint = new Point(parameters[i + 5], parameters[i + 6]);

            if (options.isRelative) {
                endPoint.translateWith(position);
            }
            if (position.x !== endPoint.x || position.y !== endPoint.y) {
                path.arcTo(endPoint, radiusX, radiusY, largeArc, swipe, rotation);

                position.x = endPoint.x;
                position.y = endPoint.y;
            }
        }
    },

    s: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;
        var previousCommand = options.previousCommand;
        var lastControlIn;

        if (previousCommand === "s" || previousCommand === "c") {
            lastControlIn = last(last(path.paths).segments).controlIn();
        }

        for (var i = 0; i < parameters.length; i += 4) {
            var controlIn = new Point(parameters[i], parameters[i + 1]);
            var endPoint = new Point(parameters[i + 2], parameters[i + 3]);
            var controlOut = (void 0);

            if (options.isRelative) {
                controlIn.translateWith(position);
                endPoint.translateWith(position);
            }

            if (lastControlIn) {
                controlOut = reflectionPoint(lastControlIn, position);
            } else {
                controlOut = position.clone();
            }

            lastControlIn = controlIn;

            path.curveTo(controlOut, controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    },

    q: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;

        for (var i = 0; i < parameters.length; i += 4) {
            var controlPoint = new Point(parameters[i], parameters[i + 1]);
            var endPoint = new Point(parameters[i + 2], parameters[i + 3]);

            if (options.isRelative) {
                controlPoint.translateWith(position);
                endPoint.translateWith(position);
            }

            var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);

            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    },

    t: function(path, options) {
        var parameters = options.parameters;
        var position = options.position;
        var previousCommand = options.previousCommand;
        var controlPoint;

        if (previousCommand === "q" || previousCommand === "t") {
            var lastSegment = last(last(path.paths).segments);
            controlPoint = lastSegment.controlIn().clone()
                .translateWith(position.scaleCopy(-1 / 3))
                .scale(3 / 2);
        }

        for (var i = 0; i < parameters.length; i += 2) {
            var endPoint = new Point(parameters[i], parameters[i + 1]);
            if (options.isRelative) {
                endPoint.translateWith(position);
            }

            if (controlPoint) {
                controlPoint = reflectionPoint(controlPoint, position);
            } else {
                controlPoint = position.clone();
            }

            var cubicControlPoints = quadraticToCubicControlPoints(position, controlPoint, endPoint);

            path.curveTo(cubicControlPoints.controlOut, cubicControlPoints.controlIn, endPoint);

            position.x = endPoint.x;
            position.y = endPoint.y;
        }
    }
};

function toLineParamaters(parameters, isVertical, value) {
    var insertPosition = isVertical ? 0 : 1;

    for (var i = 0; i < parameters.length; i += 2) {
        parameters.splice(i + insertPosition, 0, value);
    }
}

function reflectionPoint(point, center) {
    if (point && center) {
        return center.scaleCopy(2).translate(-point.x, -point.y);
    }
}

var third = 1 / 3;

function quadraticToCubicControlPoints(position, controlPoint, endPoint) {
    var scaledPoint = controlPoint.clone().scale(2 / 3);
    return {
        controlOut: scaledPoint.clone().translateWith(position.scaleCopy(third)),
        controlIn: scaledPoint.translateWith(endPoint.scaleCopy(third))
    };
}

var SEGMENT_REGEX = /([a-df-z]{1})([^a-df-z]*)(z)?/gi;
var SPLIT_REGEX = /[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g;
var MOVE = "m";
var CLOSE = "z";

function parseParameters(str) {
    var parameters = [];
    str.replace(SPLIT_REGEX, function(match, number) {
        parameters.push(parseFloat(number));
    });
    return parameters;
}

function parsePath(pathInstance, str) {
    var position = new Point();
    var previousCommand;

    str.replace(SEGMENT_REGEX, function (match, element, params, closePath) {
        var command = element.toLowerCase();
        var isRelative = command === element;
        var parameters = parseParameters(params.trim());

        if (command === MOVE) {
            if (isRelative) {
                position.x += parameters[0];
                position.y += parameters[1];
            } else {
                position.x = parameters[0];
                position.y = parameters[1];
            }

            pathInstance.moveTo(position.x, position.y);

            if (parameters.length > 2) {
                command = "l";
                parameters.splice(0, 2);
            }
        }

        if (ShapeMap[command]) {
            ShapeMap[command](
                pathInstance, {
                    parameters: parameters,
                    position: position,
                    isRelative: isRelative,
                    previousCommand: previousCommand
                }
            );

            if (closePath && closePath.toLowerCase() === CLOSE) {
                pathInstance.close();
            }
        } else if (command !== MOVE) {
            throw new Error("Error while parsing SVG path. Unsupported command: " + command);
        }

        previousCommand = command;
    });

    return pathInstance;
}

function elementsBoundingBox(elements, applyTransform, transformation) {
    var boundingBox;

    for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        if (element.visible()) {
            var elementBoundingBox = applyTransform ? element.bbox(transformation) : element.rawBBox();
            if (elementBoundingBox) {
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, elementBoundingBox);
                } else {
                    boundingBox = elementBoundingBox;
                }
            }
        }
    }

    return boundingBox;
}

function elementsClippedBoundingBox(elements, transformation) {
    var boundingBox;

    for (var i = 0; i < elements.length; i++) {
        var element = elements[i];
        if (element.visible()) {
            var elementBoundingBox = element.clippedBBox(transformation);
            if (elementBoundingBox) {
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, elementBoundingBox);
                } else {
                    boundingBox = elementBoundingBox;
                }
            }
        }
    }

    return boundingBox;
}

var SPACE$1 = ' ';
var printPoints = function (precision) { return function () {
    var points = [], len = arguments.length;
    while ( len-- ) points[ len ] = arguments[ len ];

    return points.map(function (p) { return p.toString(precision); }).join(SPACE$1);
 }    };
var segmentType = function (segmentStart, segmentEnd) { return segmentStart.controlOut() && segmentEnd.controlIn() ? 'C' : 'L'; };

var Path = (function (superclass) {
    function Path(options) {
        superclass.call(this, options);
        this.segments = new GeometryElementsArray();
        this.segments.addObserver(this);

        if (!defined(this.options.stroke)) {
            this.stroke('#000');

            if (!defined(this.options.stroke.lineJoin)) {
                this.options.set('stroke.lineJoin', 'miter');
            }
        }
    }

    if ( superclass ) Path.__proto__ = superclass;
    Path.prototype = Object.create( superclass && superclass.prototype );
    Path.prototype.constructor = Path;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return 'Path';
    };

    Path.prototype.moveTo = function moveTo (x, y) {
        this.suspend();
        this.segments.elements([]);
        this.resume();

        this.lineTo(x, y);

        return this;
    };

    Path.prototype.lineTo = function lineTo (x, y) {
        var point$$1 = defined(y) ? new Point(x, y) : x;
        var segment = new Segment(point$$1);

        this.segments.push(segment);

        return this;
    };

    Path.prototype.curveTo = function curveTo (controlOut, controlIn, point$$1) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var segment = new Segment(point$$1, controlIn);
            this.suspend();
            lastSegment.controlOut(controlOut);
            this.resume();

            this.segments.push(segment);
        }

        return this;
    };

    Path.prototype.arc = function arc (startAngle, endAngle, radiusX, radiusY, anticlockwise) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var anchor = lastSegment.anchor();
            var start = rad(startAngle);
            var center = new Point(anchor.x - radiusX * Math.cos(start),
                anchor.y - radiusY * Math.sin(start));
            var arc = new Arc$2(center, {
                startAngle: startAngle,
                endAngle: endAngle,
                radiusX: radiusX,
                radiusY: radiusY,
                anticlockwise: anticlockwise
            });

            this._addArcSegments(arc);
        }

        return this;
    };

    Path.prototype.arcTo = function arcTo (end, rx, ry, largeArc, swipe, rotation) {
        if (this.segments.length > 0) {
            var lastSegment = last(this.segments);
            var anchor = lastSegment.anchor();
            var arc = Arc$2.fromPoints(anchor, Point.create(end), rx, ry, largeArc, swipe, rotation);

            this._addArcSegments(arc);
        }
        return this;
    };

    Path.prototype._addArcSegments = function _addArcSegments (arc) {
        var this$1 = this;

        this.suspend();

        var curvePoints = arc.curvePoints();

        for (var i = 1; i < curvePoints.length; i += 3) {
            this$1.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);
        }

        this.resume();
        this.geometryChange();
    };

    Path.prototype.close = function close () {
        this.options.closed = true;
        this.geometryChange();

        return this;
    };

    Path.prototype.rawBBox = function rawBBox () {
        return this._bbox();
    };

    Path.prototype.toString = function toString (digits) {
        var output = '';

        var segments = this.segments;
        var length = segments.length;
        if (length > 0) {
            var parts = [];
            var print = printPoints(digits);
            var currentType;

            for (var i = 1; i < length; i++) {
                var type = segmentType(segments[i - 1], segments[i]);
                if (type !== currentType) {
                    currentType = type;
                    parts.push(type);
                }

                if (type === 'L') {
                    parts.push(print(segments[i].anchor()));
                } else {
                    parts.push(print(
                        segments[i - 1].controlOut(), segments[i].controlIn(), segments[i].anchor()
                    ));
                }
            }

            output = 'M' + print(segments[0].anchor()) + SPACE$1 + parts.join(SPACE$1);
            if (this.options.closed) {
                output += 'Z';
            }
        }

        return output;
    };

    Path.prototype._containsPoint = function _containsPoint (point$$1) {
        var segments = this.segments;
        var length = segments.length;
        var intersectionsCount = 0;
        var previous, current;

        for (var idx = 1; idx < length; idx++) {
            previous = segments[idx - 1];
            current = segments[idx];
            intersectionsCount += previous._intersectionsTo(current, point$$1);
        }

        if (this.options.closed || !segments[0].anchor().equals(segments[length - 1].anchor())) {
            intersectionsCount += lineIntersectionsCount(segments[0].anchor(), segments[length - 1].anchor(), point$$1);
        }

        return intersectionsCount % 2 !== 0;
    };

    Path.prototype._isOnPath = function _isOnPath (point$$1, width) {
        var segments = this.segments;
        var length = segments.length;
        var pathWidth = width || this.options.stroke.width;

        if (length > 1) {
            if (segments[0]._isOnPathTo(segments[1], point$$1, pathWidth, 'start')) {
                return true;
            }

            for (var idx = 2; idx <= length - 2; idx++) {
                if (segments[idx - 1]._isOnPathTo(segments[idx], point$$1, pathWidth)) {
                    return true;
                }
            }

            if (segments[length - 2]._isOnPathTo(segments[length - 1], point$$1, pathWidth, 'end')) {
                return true;
            }
        }
        return false;
    };

    Path.prototype._bbox = function _bbox (matrix) {
        var segments = this.segments;
        var length = segments.length;
        var boundingBox;

        if (length === 1) {
            var anchor = segments[0].anchor().transformCopy(matrix);
            boundingBox = new Rect(anchor, Size.ZERO);
        } else if (length > 0) {
            for (var i = 1; i < length; i++) {
                var segmentBox = segments[i - 1].bboxTo(segments[i], matrix);
                if (boundingBox) {
                    boundingBox = Rect.union(boundingBox, segmentBox);
                } else {
                    boundingBox = segmentBox;
                }
            }
        }

        return boundingBox;
    };

    Path.parse = function parse (str, options) {
        return MultiPath.parse(str, options);
    };

    Path.fromRect = function fromRect (rect, options) {
        var path = new Path(options);
        var ref = rect.cornerRadius;
        var rx = ref[0];
        var ry = ref[1];

        if (rx === 0 && ry === 0) {
            path.moveTo(rect.topLeft())
                .lineTo(rect.topRight())
                .lineTo(rect.bottomRight())
                .lineTo(rect.bottomLeft())
                .close();
        } else {
            var origin = rect.origin;
            var x = origin.x;
            var y = origin.y;
            var width = rect.width();
            var height = rect.height();
            rx = limitValue(rx, 0, width / 2);
            ry = limitValue(ry, 0, height / 2);

            path.moveTo(x + rx, y)
                .lineTo(x + width - rx, y)
                .arcTo([ x + width, y + ry ], rx, ry, false)
                .lineTo(x + width, y + height - ry)
                .arcTo([ x + width - rx, y + height ], rx, ry, false)
                .lineTo(x + rx, y + height)
                .arcTo([ x, y + height - ry ], rx, ry, false)
                .lineTo(x, y + ry)
                .arcTo([ x + rx, y ], rx, ry, false);
        }

        return path;
    };

    Path.fromPoints = function fromPoints (points, options) {
        if (points) {
            var path = new Path(options);

            for (var i = 0; i < points.length; i++) {
                var point$$1 = Point.create(points[i]);
                if (point$$1) {
                    if (i === 0) {
                        path.moveTo(point$$1);
                    } else {
                        path.lineTo(point$$1);
                    }
                }
            }

            return path;
        }
    };

    Path.curveFromPoints = function curveFromPoints (points, options) {
        if (points) {
            var segments = pointsToCurve(points);
            var path = new Path(options);
            path.segments.push.apply(path.segments, segments);

            return path;
        }
    };

    Path.fromArc = function fromArc (arc, options) {
        var path = new Path(options);
        var startAngle = arc.startAngle;
        var start = arc.pointAt(startAngle);
        path.moveTo(start.x, start.y);
        path.arc(startAngle, arc.endAngle, arc.radiusX, arc.radiusY, arc.anticlockwise);
        return path;
    };

    Object.defineProperties( Path.prototype, prototypeAccessors );

    return Path;
}(paintable(measurable(Element$1))));

var MultiPath = (function (superclass) {
    function MultiPath(options) {
        superclass.call(this, options);
        this.paths = new GeometryElementsArray();
        this.paths.addObserver(this);

        if (!defined(this.options.stroke)) {
            this.stroke('#000');
        }
    }

    if ( superclass ) MultiPath.__proto__ = superclass;
    MultiPath.prototype = Object.create( superclass && superclass.prototype );
    MultiPath.prototype.constructor = MultiPath;

    var prototypeAccessors$1 = { nodeType: {} };

    MultiPath.parse = function parse (str, options) {
        var instance = new MultiPath(options);
        return parsePath(instance, str);
    };

    MultiPath.prototype.toString = function toString (digits) {
        var paths = this.paths;
        var output = '';

        if (paths.length > 0) {
            var result = [];

            for (var i = 0; i < paths.length; i++) {
                result.push(paths[i].toString(digits));
            }

            output = result.join(SPACE$1);
        }

        return output;
    };

    prototypeAccessors$1.nodeType.get = function () {
        return 'MultiPath';
    };

    MultiPath.prototype.moveTo = function moveTo (x, y) {
        var path = new Path();
        path.moveTo(x, y);

        this.paths.push(path);

        return this;
    };

    MultiPath.prototype.lineTo = function lineTo (x, y) {
        if (this.paths.length > 0) {
            last(this.paths).lineTo(x, y);
        }

        return this;
    };

    MultiPath.prototype.curveTo = function curveTo (controlOut, controlIn, point$$1) {
        if (this.paths.length > 0) {
            last(this.paths).curveTo(controlOut, controlIn, point$$1);
        }

        return this;
    };

    MultiPath.prototype.arc = function arc (startAngle, endAngle, radiusX, radiusY, anticlockwise) {
        if (this.paths.length > 0) {
            last(this.paths).arc(startAngle, endAngle, radiusX, radiusY, anticlockwise);
        }

        return this;
    };

    MultiPath.prototype.arcTo = function arcTo (end, rx, ry, largeArc, swipe, rotation) {
        if (this.paths.length > 0) {
            last(this.paths).arcTo(end, rx, ry, largeArc, swipe, rotation);
        }

        return this;
    };

    MultiPath.prototype.close = function close () {
        if (this.paths.length > 0) {
            last(this.paths).close();
        }

        return this;
    };

    MultiPath.prototype._bbox = function _bbox (matrix) {
        return elementsBoundingBox(this.paths, true, matrix);
    };

    MultiPath.prototype.rawBBox = function rawBBox () {
        return elementsBoundingBox(this.paths, false);
    };

    MultiPath.prototype._containsPoint = function _containsPoint (point$$1) {
        var paths = this.paths;

        for (var idx = 0; idx < paths.length; idx++) {
            if (paths[idx]._containsPoint(point$$1)) {
                return true;
            }
        }
        return false;
    };

    MultiPath.prototype._isOnPath = function _isOnPath (point$$1) {
        var paths = this.paths;
        var width = this.options.stroke.width;

        for (var idx = 0; idx < paths.length; idx++) {
            if (paths[idx]._isOnPath(point$$1, width)) {
                return true;
            }
        }
        return false;
    };

    MultiPath.prototype._clippedBBox = function _clippedBBox (transformation) {
        return elementsClippedBoundingBox(this.paths, this.currentTransform(transformation));
    };

    Object.defineProperties( MultiPath.prototype, prototypeAccessors$1 );

    return MultiPath;
}(paintable(measurable(Element$1))));

var DEFAULT_STROKE$1 = "#000";

var Arc = (function (superclass) {
    function Arc(geometry, options) {
        if ( geometry === void 0 ) geometry = new Arc$2();
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke(DEFAULT_STROKE$1);
        }
    }

    if ( superclass ) Arc.__proto__ = superclass;
    Arc.prototype = Object.create( superclass && superclass.prototype );
    Arc.prototype.constructor = Arc;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Arc";
    };

    Arc.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Arc.prototype.rawBBox = function rawBBox () {
        return this.geometry().bbox();
    };

    Arc.prototype.toPath = function toPath () {
        var path = new Path();
        var curvePoints = this.geometry().curvePoints();

        if (curvePoints.length > 0) {
            path.moveTo(curvePoints[0].x, curvePoints[0].y);

            for (var i = 1; i < curvePoints.length; i += 3) {
                path.curveTo(curvePoints[i], curvePoints[i + 1], curvePoints[i + 2]);
            }
        }

        return path;
    };

    Arc.prototype._containsPoint = function _containsPoint (point) {
        return this.geometry().containsPoint(point);
    };

    Arc.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    Object.defineProperties( Arc.prototype, prototypeAccessors );

    return Arc;
}(paintable(measurable(withGeometry(Element$1)))));

var DEFAULT_FONT = "12px sans-serif";
var DEFAULT_FILL = "#000";

var Text = (function (superclass) {
    function Text(content, position, options) {
        if ( position === void 0 ) position = new Point();
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.content(content);
        this.position(position);

        if (!this.options.font) {
            this.options.font = DEFAULT_FONT;
        }

        if (!defined(this.options.fill)) {
            this.fill(DEFAULT_FILL);
        }
    }

    if ( superclass ) Text.__proto__ = superclass;
    Text.prototype = Object.create( superclass && superclass.prototype );
    Text.prototype.constructor = Text;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Text";
    };

    Text.prototype.content = function content (value) {
        if (defined(value)) {
            this.options.set("content", value);
            return this;
        }

        return this.options.get("content");
    };

    Text.prototype.measure = function measure () {
        var metrics = measureText(this.content(), {
            font: this.options.get("font")
        });

        return metrics;
    };

    Text.prototype.rect = function rect () {
        var size = this.measure();
        var pos = this.position().clone();
        return new Rect(pos, [ size.width, size.height ]);
    };

    Text.prototype.bbox = function bbox (transformation) {
        var combinedMatrix = toMatrix(this.currentTransform(transformation));
        return this.rect().bbox(combinedMatrix);
    };

    Text.prototype.rawBBox = function rawBBox () {
        return this.rect().bbox();
    };

    Text.prototype._containsPoint = function _containsPoint (point) {
        return this.rect().containsPoint(point);
    };

    Object.defineProperties( Text.prototype, prototypeAccessors );

    return Text;
}(paintable(withPoints(Element$1, [ "position" ]))));

var Image$1 = (function (superclass) {
    function Image(src, rect, options) {
        if ( rect === void 0 ) rect = new Rect();
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.src(src);
        this.rect(rect);
    }

    if ( superclass ) Image.__proto__ = superclass;
    Image.prototype = Object.create( superclass && superclass.prototype );
    Image.prototype.constructor = Image;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Image";
    };

    Image.prototype.src = function src (value) {
        if (defined(value)) {
            this.options.set("src", value);
            return this;
        }

        return this.options.get("src");
    };

    Image.prototype.bbox = function bbox (transformation) {
        var combinedMatrix = toMatrix(this.currentTransform(transformation));
        return this._rect.bbox(combinedMatrix);
    };

    Image.prototype.rawBBox = function rawBBox () {
        return this._rect.bbox();
    };

    Image.prototype._containsPoint = function _containsPoint (point) {
        return this._rect.containsPoint(point);
    };

    Image.prototype._hasFill = function _hasFill () {
        return this.src();
    };

    Object.defineProperties( Image.prototype, prototypeAccessors );

    return Image;
}(withGeometry(Element$1, [ "rect" ])));

var traversable = function (TBase, childrenField) { return (
    (function (TBase) {
        function anonymous () {
            TBase.apply(this, arguments);
        }

        if ( TBase ) anonymous.__proto__ = TBase;
        anonymous.prototype = Object.create( TBase && TBase.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.traverse = function traverse (callback) {
            var children = this[childrenField];

            for (var i = 0; i < children.length; i++) {
                var child = children[i];

                if (child.traverse) {
                    child.traverse(callback);
                } else {
                    callback(child);
                }
            }

            return this;
        };

        return anonymous;
    }(TBase))
); };

var Group = (function (superclass) {
    function Group(options) {
        superclass.call(this, options);
        this.children = [];
    }

    if ( superclass ) Group.__proto__ = superclass;
    Group.prototype = Object.create( superclass && superclass.prototype );
    Group.prototype.constructor = Group;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Group";
    };

    Group.prototype.childrenChange = function childrenChange (action, items, index) {
        this.trigger("childrenChange",{
            action: action,
            items: items,
            index: index
        });
    };

    Group.prototype.append = function append$1 () {
        append$1$1(this.children, arguments);
        this._reparent(arguments, this);

        this.childrenChange("add", arguments);

        return this;
    };

    Group.prototype.insert = function insert (index, element) {
        this.children.splice(index, 0, element);
        element.parent = this;

        this.childrenChange("add", [ element ], index);

        return this;
    };

    Group.prototype.insertAt = function insertAt (element, index) {
        return this.insert(index, element);
    };

    Group.prototype.remove = function remove (element) {
        var index = this.children.indexOf(element);
        if (index >= 0) {
            this.children.splice(index, 1);
            element.parent = null;
            this.childrenChange("remove", [ element ], index);
        }

        return this;
    };

    Group.prototype.removeAt = function removeAt (index) {
        if (0 <= index && index < this.children.length) {
            var element = this.children[index];
            this.children.splice(index, 1);
            element.parent = null;
            this.childrenChange("remove", [ element ], index);
        }

        return this;
    };

    Group.prototype.clear = function clear () {
        var items = this.children;
        this.children = [];
        this._reparent(items, null);

        this.childrenChange("remove", items, 0);

        return this;
    };

    Group.prototype.bbox = function bbox (transformation) {
        return elementsBoundingBox(this.children, true, this.currentTransform(transformation));
    };

    Group.prototype.rawBBox = function rawBBox () {
        return elementsBoundingBox(this.children, false);
    };

    Group.prototype._clippedBBox = function _clippedBBox (transformation) {
        return elementsClippedBoundingBox(this.children, this.currentTransform(transformation));
    };

    Group.prototype.currentTransform = function currentTransform (transformation) {
        return Element$1.prototype.currentTransform.call(this, transformation) || null;
    };

    Group.prototype.containsPoint = function containsPoint (point, parentTransform) {
        if (this.visible()) {
            var children = this.children;
            var transform = this.currentTransform(parentTransform);
            for (var idx = 0; idx < children.length; idx++) {
                if (children[idx].containsPoint(point, transform)) {
                    return true;
                }
            }
        }
        return false;
    };

    Group.prototype._reparent = function _reparent (elements, newParent) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var child = elements[i];
            var parent = child.parent;
            if (parent && parent !== this$1 && parent.remove) {
                parent.remove(child);
            }

            child.parent = newParent;
        }
    };

    Object.defineProperties( Group.prototype, prototypeAccessors );

    return Group;
}(traversable(Element$1, "children")));

function translateToPoint(point, bbox, element) {
    var transofrm = element.transform() || transform$1();
    var matrix = transofrm.matrix();
    matrix.e += point.x - bbox.origin.x;
    matrix.f += point.y - bbox.origin.y;

    transofrm.matrix(matrix);
    element.transform(transofrm);
}

function alignStart(size, rect, align, axis, sizeField) {
    var start;
    if (align === "start") {
        start = rect.origin[axis];
    } else if (align === "end") {
        start = rect.origin[axis] + rect.size[sizeField] - size;
    } else {
        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;
    }

    return start;
}

function alignStartReverse(size, rect, align, axis, sizeField) {
    var start;
    if (align === "start") {
        start = rect.origin[axis] + rect.size[sizeField] - size;
    } else if (align === "end") {
        start = rect.origin[axis];
    } else {
        start = rect.origin[axis] + (rect.size[sizeField] - size) / 2;
    }

    return start;
}

var DEFAULT_OPTIONS$1 = {
    alignContent: "start",
    justifyContent: "start",
    alignItems: "start",
    spacing: 0,
    orientation: "horizontal",
    lineSpacing: 0,
    wrap: true,
    revers: false
};

var forEach = function (elements, callback) {
    elements.forEach(callback);
};

var forEachReverse = function (elements, callback) {
    var length = elements.length;

    for (var idx = length - 1; idx >= 0; idx--) {
        callback(elements[idx], idx);
    }
};

var Layout = (function (Group$$1) {
    function Layout(rect, options) {
        Group$$1.call(this, Object.assign({}, DEFAULT_OPTIONS$1, options));
        this._rect = rect;
        this._fieldMap = {};
    }

    if ( Group$$1 ) Layout.__proto__ = Group$$1;
    Layout.prototype = Object.create( Group$$1 && Group$$1.prototype );
    Layout.prototype.constructor = Layout;

    Layout.prototype.rect = function rect (value) {
        if (value) {
            this._rect = value;
            return this;
        }

        return this._rect;
    };

    Layout.prototype._initMap = function _initMap () {
        var options = this.options;
        var fieldMap = this._fieldMap;
        if (options.orientation === "horizontal") {
            fieldMap.sizeField = "width";
            fieldMap.groupsSizeField = "height";
            fieldMap.groupAxis = "x";
            fieldMap.groupsAxis = "y";
        } else {
            fieldMap.sizeField = "height";
            fieldMap.groupsSizeField = "width";
            fieldMap.groupAxis = "y";
            fieldMap.groupsAxis = "x";
        }

        if (options.reverse) {
            this.forEach = forEachReverse;
            this.justifyAlign = alignStartReverse;
        } else {
            this.forEach = forEach;
            this.justifyAlign = alignStart;
        }
    };

    Layout.prototype.reflow = function reflow () {
        var this$1 = this;

        if (!this._rect || this.children.length === 0) {
            return;
        }
        this._initMap();

        if (this.options.transform) {
            this.transform(null);
        }

        var options = this.options;
        var rect = this._rect;
        var ref = this._initGroups();
        var groups = ref.groups;
        var groupsSize = ref.groupsSize;
        var ref$1 = this._fieldMap;
        var sizeField = ref$1.sizeField;
        var groupsSizeField = ref$1.groupsSizeField;
        var groupAxis = ref$1.groupAxis;
        var groupsAxis = ref$1.groupsAxis;
        var groupOrigin = new Point();
        var elementOrigin = new Point();
        var size = new Size();
        var groupStart = alignStart(groupsSize, rect, options.alignContent, groupsAxis, groupsSizeField);
        var elementStart, group, groupBox;

        var arrangeElements = function (bbox, idx) {
            var element = group.elements[idx];

            elementOrigin[groupAxis] = elementStart;
            elementOrigin[groupsAxis] = alignStart(bbox.size[groupsSizeField], groupBox, options.alignItems, groupsAxis, groupsSizeField);
            translateToPoint(elementOrigin, bbox, element);
            elementStart += bbox.size[sizeField] + options.spacing;
        };

        for (var groupIdx = 0; groupIdx < groups.length; groupIdx++) {
            group = groups[groupIdx];
            groupOrigin[groupAxis] = elementStart = this$1.justifyAlign(group.size, rect, options.justifyContent, groupAxis, sizeField);
            groupOrigin[groupsAxis] = groupStart;
            size[sizeField] = group.size;
            size[groupsSizeField] = group.lineSize;
            groupBox = new Rect(groupOrigin, size);
            this$1.forEach(group.bboxes, arrangeElements);

            groupStart += group.lineSize + options.lineSpacing;
        }

        if (!options.wrap && group.size > rect.size[sizeField]) {
            var scale = rect.size[sizeField] / groupBox.size[sizeField];
            var scaledStart = groupBox.topLeft().scale(scale, scale);
            var scaledSize = groupBox.size[groupsSizeField] * scale;
            var newStart = alignStart(scaledSize, rect, options.alignContent, groupsAxis, groupsSizeField);
            var transform = transform$1();
            if (groupAxis === "x") {
                transform.translate(rect.origin.x - scaledStart.x, newStart - scaledStart.y);
            } else {
                transform.translate(newStart - scaledStart.x, rect.origin.y - scaledStart.y);
            }
            transform.scale(scale, scale);

            this.transform(transform);
        }
    };

    Layout.prototype._initGroups = function _initGroups () {
        var this$1 = this;

        var ref = this;
        var options = ref.options;
        var children = ref.children;
        var lineSpacing = options.lineSpacing;
        var wrap = options.wrap;
        var spacing = options.spacing;
        var sizeField = this._fieldMap.sizeField;
        var group = this._newGroup();
        var groups = [];
        var addGroup = function() {
            groups.push(group);
            groupsSize += group.lineSize + lineSpacing;
        };
        var groupsSize = -lineSpacing;

        for (var idx = 0; idx < children.length; idx++) {
            var element = children[idx];
            var bbox = children[idx].clippedBBox();
            if (element.visible() && bbox) {
                if (wrap && group.size + bbox.size[sizeField] + spacing > this$1._rect.size[sizeField]) {
                    if (group.bboxes.length === 0) {
                        this$1._addToGroup(group, bbox, element);
                        addGroup();
                        group = this$1._newGroup();
                    } else {
                        addGroup();
                        group = this$1._newGroup();
                        this$1._addToGroup(group, bbox, element);
                    }
                } else {
                    this$1._addToGroup(group, bbox, element);
                }
            }
        }

        if (group.bboxes.length) {
            addGroup();
        }

        return {
            groups: groups,
            groupsSize: groupsSize
        };
    };

    Layout.prototype._addToGroup = function _addToGroup (group, bbox, element) {
        group.size += bbox.size[this._fieldMap.sizeField] + this.options.spacing;
        group.lineSize = Math.max(bbox.size[this._fieldMap.groupsSizeField], group.lineSize);
        group.bboxes.push(bbox);
        group.elements.push(element);
    };

    Layout.prototype._newGroup = function _newGroup () {
        return {
            lineSize: 0,
            size: -this.options.spacing,
            bboxes: [],
            elements: []
        };
    };

    return Layout;
}(Group));

var Rect$2 = (function (superclass) {
    function Rect$$1(geometry, options) {
        if ( geometry === void 0 ) geometry = new Rect();
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.geometry(geometry);

        if (!defined(this.options.stroke)) {
            this.stroke("#000");
        }
    }

    if ( superclass ) Rect$$1.__proto__ = superclass;
    Rect$$1.prototype = Object.create( superclass && superclass.prototype );
    Rect$$1.prototype.constructor = Rect$$1;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Rect";
    };

    Rect$$1.prototype._bbox = function _bbox (matrix) {
        return this._geometry.bbox(matrix);
    };

    Rect$$1.prototype.rawBBox = function rawBBox () {
        return this._geometry.bbox();
    };

    Rect$$1.prototype._containsPoint = function _containsPoint (point) {
        return this._geometry.containsPoint(point);
    };

    Rect$$1.prototype._isOnPath = function _isOnPath (point) {
        return this.geometry()._isOnPath(point, this.options.stroke.width / 2);
    };

    Object.defineProperties( Rect$$1.prototype, prototypeAccessors );

    return Rect$$1;
}(paintable(measurable(withGeometry(Element$1)))));

function alignElements(elements, rect, alignment, axis, sizeField) {
    for (var idx = 0; idx < elements.length; idx++) {
        var bbox = elements[idx].clippedBBox();
        if (bbox) {
            var point = bbox.origin.clone();
            point[axis] = alignStart(bbox.size[sizeField], rect, alignment || "start", axis, sizeField);
            translateToPoint(point, bbox, elements[idx]);
        }
    }
}

function align(elements, rect, alignment) {
    alignElements(elements, rect, alignment, "x", "width");
}

function vAlign(elements, rect, alignment) {
    alignElements(elements, rect, alignment, "y", "height");
}

function stackElements(elements, stackAxis, otherAxis, sizeField) {
    if (elements.length > 1) {
        var origin = new Point();
        var previousBBox = elements[0].bbox;

        for (var idx = 1; idx < elements.length; idx++) {
            var element = elements[idx].element;
            var bbox = elements[idx].bbox;
            origin[stackAxis] = previousBBox.origin[stackAxis] + previousBBox.size[sizeField];
            origin[otherAxis] = bbox.origin[otherAxis];
            translateToPoint(origin, bbox, element);
            bbox.origin[stackAxis] = origin[stackAxis];
            previousBBox = bbox;
        }
    }
}

function createStackElements(elements) {
    var stackElements = [];

    for (var idx = 0; idx < elements.length; idx++) {
        var element = elements[idx];
        var bbox = element.clippedBBox();
        if (bbox) {
            stackElements.push({
                element: element,
                bbox: bbox
            });
        }
    }

    return stackElements;
}

function stack(elements) {
    stackElements(createStackElements(elements), "x", "y", "width");
}

function vStack(elements) {
    stackElements(createStackElements(elements), "y", "x", "height");
}

function getStacks(elements, rect, sizeField) {
    var maxSize = rect.size[sizeField];
    var stacks = [];
    var stack = [];
    var stackSize = 0;
    var element, bbox;

    var addElementToStack = function() {
        stack.push({
            element: element,
            bbox: bbox
        });
    };

    for (var idx = 0; idx < elements.length; idx++) {
        element = elements[idx];

        bbox = element.clippedBBox();
        if (bbox) {
            var size = bbox.size[sizeField];
            if (stackSize + size > maxSize) {
                if (stack.length) {
                    stacks.push(stack);
                    stack = [];
                    addElementToStack();
                    stackSize = size;
                } else {
                    addElementToStack();
                    stacks.push(stack);
                    stack = [];
                    stackSize = 0;
                }
            } else {
                addElementToStack();
                stackSize += size;
            }
        }
    }

    if (stack.length) {
        stacks.push(stack);
    }

    return stacks;
}

function wrapElements(elements, rect, axis, otherAxis, sizeField) {
    var stacks = getStacks(elements, rect, sizeField);
    var origin = rect.origin.clone();
    var result = [];

    for (var idx = 0; idx < stacks.length; idx++) {
        var stack = stacks[idx];
        var startElement = stack[0];
        origin[otherAxis] = startElement.bbox.origin[otherAxis];
        translateToPoint(origin, startElement.bbox, startElement.element);
        startElement.bbox.origin[axis] = origin[axis];
        stackElements(stack, axis, otherAxis, sizeField);
        result.push([]);
        for (var elementIdx = 0; elementIdx < stack.length; elementIdx++) {
            result[idx].push(stack[elementIdx].element);
        }
    }
    return result;
}

function wrap(elements, rect) {
    return wrapElements(elements, rect, "x", "y", "width");
}

function vWrap(elements, rect) {
    return wrapElements(elements, rect, "y", "x", "height");
}

function fit(element, rect) {
    var bbox = element.clippedBBox();
    if (bbox) {
        var elementSize = bbox.size;
        var rectSize = rect.size;
        if (rectSize.width < elementSize.width || rectSize.height < elementSize.height) {
            var scale = Math.min(rectSize.width / elementSize.width, rectSize.height / elementSize.height);
            var transform = element.transform() || transform$1();
            transform.scale(scale, scale);
            element.transform(transform);
        }
    }
}

var StopsArray = (function (ElementsArray$$1) {
    function StopsArray () {
        ElementsArray$$1.apply(this, arguments);
    }

    if ( ElementsArray$$1 ) StopsArray.__proto__ = ElementsArray$$1;
    StopsArray.prototype = Object.create( ElementsArray$$1 && ElementsArray$$1.prototype );
    StopsArray.prototype.constructor = StopsArray;

    StopsArray.prototype._change = function _change () {
        this.optionsChange({
            field: "stops"
        });
    };

    return StopsArray;
}(ElementsArray));

function optionsAccessor(name) {
    return function(value) {
        if (defined(value)) {
            this.options.set(name, value);
            return this;
        }

        return this.options.get(name);
    };
}

function defineOptionsAccessors(fn, names) {
    for (var i = 0; i < names.length; i++) {
        fn[names[i]] = optionsAccessor(names[i]);
    }
}

var withOptions = function (TBase, names) {
    var result = (function (TBase) {
        function result () {
            TBase.apply(this, arguments);
        }if ( TBase ) result.__proto__ = TBase;
        result.prototype = Object.create( TBase && TBase.prototype );
        result.prototype.constructor = result;

        

        return result;
    }(TBase));
    defineOptionsAccessors(result.prototype, names);

    return result;
};

var options = [ "offset", "color", "opacity" ];

var GradientStop = (function (superclass) {
    function GradientStop(offset, color, opacity) {
        superclass.call(this);

        this.options = new OptionsStore({
            offset: offset,
            color: color,
            opacity: defined(opacity) ? opacity : 1
        });

        this.options.addObserver(this);
    }

    if ( superclass ) GradientStop.__proto__ = superclass;
    GradientStop.prototype = Object.create( superclass && superclass.prototype );
    GradientStop.prototype.constructor = GradientStop;

    GradientStop.create = function create (arg) {
        if (defined(arg)) {
            var stop;
            if (arg instanceof GradientStop) {
                stop = arg;
            } else if (arg.length > 1) {
                stop = new GradientStop(arg[0], arg[1], arg[2]);
            } else {
                stop = new GradientStop(arg.offset, arg.color, arg.opacity);
            }

            return stop;
        }
    };

    return GradientStop;
}(withOptions(HasObservers, options)));

var Gradient = (function (HasObservers$$1) {
    function Gradient(options) {
        if ( options === void 0 ) options = {};

        HasObservers$$1.call(this);

        this.stops = new StopsArray(this._createStops(options.stops));
        this.stops.addObserver(this);
        this._userSpace = options.userSpace;
        this.id = definitionId();
    }

    if ( HasObservers$$1 ) Gradient.__proto__ = HasObservers$$1;
    Gradient.prototype = Object.create( HasObservers$$1 && HasObservers$$1.prototype );
    Gradient.prototype.constructor = Gradient;

    var prototypeAccessors = { nodeType: {} };

    prototypeAccessors.nodeType.get = function () {
        return "Gradient";
    };

    Gradient.prototype.userSpace = function userSpace (value) {
        if (defined(value)) {
            this._userSpace = value;
            this.optionsChange();
            return this;
        }

        return this._userSpace;
    };

    Gradient.prototype._createStops = function _createStops (stops) {
        if ( stops === void 0 ) stops = [];

        var result = [];
        for (var idx = 0; idx < stops.length; idx++) {
            result.push(GradientStop.create(stops[idx]));
        }

        return result;
    };

    Gradient.prototype.addStop = function addStop (offset, color, opacity) {
        this.stops.push(new GradientStop(offset, color, opacity));
    };

    Gradient.prototype.removeStop = function removeStop (stop) {
        var index = this.stops.indexOf(stop);
        if (index >= 0) {
            this.stops.splice(index, 1);
        }
    };

    Gradient.prototype.optionsChange = function optionsChange (e) {
        this.trigger("optionsChange", {
            field: "gradient" + (e ? "." + e.field : ""),
            value: this
        });
    };

    Gradient.prototype.geometryChange = function geometryChange () {
        this.optionsChange();
    };

    Object.defineProperties( Gradient.prototype, prototypeAccessors );

    return Gradient;
}(HasObservers));

var points$1 = [ "start", "end" ];

var LinearGradient = (function (superclass) {
    function LinearGradient(options) {
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.start(options.start || new Point());
        this.end(options.end || new Point(1, 0));
    }

    if ( superclass ) LinearGradient.__proto__ = superclass;
    LinearGradient.prototype = Object.create( superclass && superclass.prototype );
    LinearGradient.prototype.constructor = LinearGradient;

    return LinearGradient;
}(withPoints(Gradient, points$1)));

var RadialGradient = (function (superclass) {
    function RadialGradient(options) {
        if ( options === void 0 ) options = {};

        superclass.call(this, options);

        this.center(options.center || new Point());
        this._radius = defined(options.radius) ? options.radius : 1;
        this._fallbackFill = options.fallbackFill;
    }

    if ( superclass ) RadialGradient.__proto__ = superclass;
    RadialGradient.prototype = Object.create( superclass && superclass.prototype );
    RadialGradient.prototype.constructor = RadialGradient;

    RadialGradient.prototype.radius = function radius (value) {
        if (defined(value)) {
            this._radius = value;
            this.geometryChange();
            return this;
        }

        return this._radius;
    };

    RadialGradient.prototype.fallbackFill = function fallbackFill (value) {
        if (defined(value)) {
            this._fallbackFill = value;
            this.optionsChange();
            return this;
        }

        return this._fallbackFill;
    };

    return RadialGradient;
}(withPoints(Gradient, [ "center" ])));

function swing(position) {
    return 0.5 - Math.cos(position * Math.PI) / 2;
}

function linear(position) {
    return position;
}

function easeOutElastic(position, time, start, diff) {
    var s = 1.70158,
        p = 0,
        a = diff;

    if (position === 0) {
        return start;
    }

    if (position === 1) {
        return start + diff;
    }

    if (!p) {
        p = 0.5;
    }

    if (a < Math.abs(diff)) {
        a = diff;
        s = p / 4;
    } else {
        s = p / (2 * Math.PI) * Math.asin(diff / a);
    }

    return a * Math.pow(2, -10 * position) *
           Math.sin((Number(position) - s) * (1.1 * Math.PI) / p) + diff + start;
}


var easingFunctions = Object.freeze({
	swing: swing,
	linear: linear,
	easeOutElastic: easeOutElastic
});

var instance;

var AnimationFactory = (function (Class$$1) {
    function AnimationFactory() {
        Class$$1.call(this);

        this._items = [];
    }

    if ( Class$$1 ) AnimationFactory.__proto__ = Class$$1;
    AnimationFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    AnimationFactory.prototype.constructor = AnimationFactory;

    var staticAccessors = { current: {} };

    staticAccessors.current.get = function () {
        if (!instance) {
            instance = new AnimationFactory();
        }

        return instance;
    };

    AnimationFactory.prototype.register = function register (name, type) {
        this._items.push({
            name: name,
            type: type
        });
    };

    AnimationFactory.prototype.create = function create (element, options) {
        var items = this._items;
        var match;

        if (options && options.type) {
            var type = options.type.toLowerCase();
            for (var i = 0; i < items.length; i++) {
                if (items[i].name.toLowerCase() === type) {
                    match = items[i];
                    break;
                }
            }
        }

        if (match) {
            return new match.type(element, options);
        }
    };

    Object.defineProperties( AnimationFactory, staticAccessors );

    return AnimationFactory;
}(Class));

var Animation = (function (Class$$1) {
    function Animation(element, options) {
        Class$$1.call(this);

        this.options = Object.assign({}, this.options, options);
        this.element = element;
    }

    if ( Class$$1 ) Animation.__proto__ = Class$$1;
    Animation.prototype = Object.create( Class$$1 && Class$$1.prototype );
    Animation.prototype.constructor = Animation;

    var prototypeAccessors = { options: {} };

    Animation.create = function create (type, element, options) {
        return AnimationFactory.current.create(type, element, options);
    };

    prototypeAccessors.options.get = function () {
        return this._options || {
            duration: 500,
            easing: "swing"
        };
    };

    prototypeAccessors.options.set = function (value) {
        this._options = value;
    };

    Animation.prototype.setup = function setup () {};
    Animation.prototype.step = function step () {};

    Animation.prototype.play = function play () {
        var this$1 = this;

        var options = this.options;
        var duration = options.duration;
        var delay = options.delay; if ( delay === void 0 ) delay = 0;
        var easing = easingFunctions[options.easing];
        var start = now() + delay;
        var finish = start + duration;

        if (duration === 0) {
            this.step(1);
            this.abort();
        } else {
            setTimeout(function () {
                var loop = function () {
                    if (this$1._stopped) {
                        return;
                    }

                    var wallTime = now();

                    var time = limitValue(wallTime - start, 0, duration);
                    var position = time / duration;
                    var easingPosition = easing(position, time, 0, 1, duration);

                    this$1.step(easingPosition);

                    if (wallTime < finish) {
                        animationFrame(loop);
                    } else {
                        this$1.abort();
                    }
                };

                loop();
            }, delay);
        }
    };

    Animation.prototype.abort = function abort () {
        this._stopped = true;
    };

    Animation.prototype.destroy = function destroy () {
        this.abort();
    };

    Object.defineProperties( Animation.prototype, prototypeAccessors );

    return Animation;
}(Class));

var instance$1;

var PathParser = (function (Class$$1) {
    function PathParser () {
        Class$$1.apply(this, arguments);
    }

    if ( Class$$1 ) PathParser.__proto__ = Class$$1;
    PathParser.prototype = Object.create( Class$$1 && Class$$1.prototype );
    PathParser.prototype.constructor = PathParser;

    var staticAccessors = { current: {} };

    staticAccessors.current.get = function () {
        if (!instance$1) {
            instance$1 = new PathParser();
        }

        return instance$1;
    };

    PathParser.prototype.parse = function parse (str, options) {
        var multiPath = new MultiPath(options);
        return parsePath(multiPath, str);
    };

    Object.defineProperties( PathParser, staticAccessors );

    return PathParser;
}(Class));

var BaseNode = (function (Class$$1) {
    function BaseNode(srcElement) {
        Class$$1.call(this);

        this.childNodes = [];
        this.parent = null;

        if (srcElement) {
            this.srcElement = srcElement;
            this.observe();
        }
    }

    if ( Class$$1 ) BaseNode.__proto__ = Class$$1;
    BaseNode.prototype = Object.create( Class$$1 && Class$$1.prototype );
    BaseNode.prototype.constructor = BaseNode;

    BaseNode.prototype.destroy = function destroy () {
        var this$1 = this;

        if (this.srcElement) {
            this.srcElement.removeObserver(this);
        }

        var children = this.childNodes;
        for (var i = 0; i < children.length; i++) {
            this$1.childNodes[i].destroy();
        }

        this.parent = null;
    };

    BaseNode.prototype.load = function load () {};

    BaseNode.prototype.observe = function observe () {
        if (this.srcElement) {
            this.srcElement.addObserver(this);
        }
    };

    BaseNode.prototype.append = function append (node) {
        this.childNodes.push(node);
        node.parent = this;
    };

    BaseNode.prototype.insertAt = function insertAt (node, pos) {
        this.childNodes.splice(pos, 0, node);
        node.parent = this;
    };

    BaseNode.prototype.remove = function remove (index, count) {
        var this$1 = this;

        var end = index + count;
        for (var i = index; i < end; i++) {
            this$1.childNodes[i].removeSelf();
        }
        this.childNodes.splice(index, count);
    };

    BaseNode.prototype.removeSelf = function removeSelf () {
        this.clear();
        this.destroy();
    };

    BaseNode.prototype.clear = function clear () {
        this.remove(0, this.childNodes.length);
    };

    BaseNode.prototype.invalidate = function invalidate () {
        if (this.parent) {
            this.parent.invalidate();
        }
    };

    BaseNode.prototype.geometryChange = function geometryChange () {
        this.invalidate();
    };

    BaseNode.prototype.optionsChange = function optionsChange () {
        this.invalidate();
    };

    BaseNode.prototype.childrenChange = function childrenChange (e) {
        if (e.action === "add") {
            this.load(e.items, e.index);
        } else if (e.action === "remove") {
            this.remove(e.index, e.items.length);
        }

        this.invalidate();
    };

    return BaseNode;
}(Class));

var events = [
    "click",
    "mouseenter",
    "mouseleave",
    "mousemove",
    "resize"
];

var Surface$2 = (function (Observable$$1) {
    function Surface(element, options) {
        Observable$$1.call(this);

        this.options = Object.assign({}, options);
        this.element = element;
        this.element._kendoExportVisual = this.exportVisual.bind(this);

        this._click = this._handler("click");
        this._mouseenter = this._handler("mouseenter");
        this._mouseleave = this._handler("mouseleave");
        this._mousemove = this._handler("mousemove");

        this._visual = new Group();

        elementSize(element, this.options);

        this.bind(events, this.options);

        this._enableTracking();
    }

    if ( Observable$$1 ) Surface.__proto__ = Observable$$1;
    Surface.prototype = Object.create( Observable$$1 && Observable$$1.prototype );
    Surface.prototype.constructor = Surface;

    Surface.prototype.draw = function draw (element) {
        this._visual.children.push(element);
    };

    Surface.prototype.clear = function clear () {
        this._visual.children = [];
    };

    Surface.prototype.destroy = function destroy () {
        this._visual = null;
        this.element._kendoExportVisual = null;
        this.unbind();
    };

    Surface.prototype.eventTarget = function eventTarget (e) {
        var this$1 = this;

        var domNode = eventElement(e);
        var node;

        while (!node && domNode) {
            node = domNode._kendoNode;
            if (domNode === this$1.element) {
                break;
            }

            domNode = domNode.parentElement;
        }

        if (node) {
            return node.srcElement;
        }
    };

    Surface.prototype.exportVisual = function exportVisual () {
        return this._visual;
    };

    Surface.prototype.getSize = function getSize () {
        return elementSize(this.element);
    };

    Surface.prototype.currentSize = function currentSize (size) {
        if (size) {
            this._size = size;
        } else {
            return this._size;
        }
    };

    Surface.prototype.setSize = function setSize (size) {
        elementSize(this.element, size);

        this.currentSize(size);
        this._resize();
    };

    Surface.prototype.resize = function resize (force) {
        var size = this.getSize();
        var currentSize = this.currentSize();

        if (force || (size.width > 0 || size.height > 0) && (!currentSize || size.width !== currentSize.width || size.height !== currentSize.height)) {
            this.currentSize(size);
            this._resize(size, force);
            this.trigger("resize", size);
        }
    };

    Surface.prototype.size = function size (value) {
        if (!value) {
            return this.getSize();
        }

        this.setSize(value);
    };

    Surface.prototype.suspendTracking = function suspendTracking () {
        this._suspendedTracking = true;
    };

    Surface.prototype.resumeTracking = function resumeTracking () {
        this._suspendedTracking = false;
    };

    Surface.prototype._enableTracking = function _enableTracking () {};

    Surface.prototype._resize = function _resize () {};

    Surface.prototype._handler = function _handler (eventName) {
        var this$1 = this;

        return function (e) {
            var node = this$1.eventTarget(e);
            if (node && !this$1._suspendedTracking) {
                this$1.trigger(eventName, {
                    element: node,
                    originalEvent: e,
                    type: eventName
                });
            }
        };
    };

    Surface.prototype._elementOffset = function _elementOffset () {
        var element = this.element;
        var padding = elementPadding(element);
        var ref = elementOffset(element);
        var left = ref.left;
        var top = ref.top;

        return {
            left: left + padding.left,
            top: top + padding.top
        };
    };

    Surface.prototype._surfacePoint = function _surfacePoint (e) {
        var offset = this._elementOffset();
        var coord = eventCoordinates(e);
        var x = coord.x - offset.left;
        var y = coord.y - offset.top;

        var inverseTransform = elementScale(this.element).invert();
        var point = new Point(
            x,
            y
        ).transform(inverseTransform);

        return point;
    };

    return Surface;
}(Observable));

function renderAttr(name, value) {
    return (defined(value) && value !== null) ? (" " + name + "=\"" + value + "\" ") : "";
}

function renderAllAttr(attrs) {
    var output = "";
    for (var i = 0; i < attrs.length; i++) {
        output += renderAttr(attrs[i][0], attrs[i][1]);
    }

    return output;
}

function renderStyle(attrs) {
    var output = "";
    for (var i = 0; i < attrs.length; i++) {
        var value = attrs[i][1];
        if (defined(value)) {
            output += attrs[i][0] + ":" + value + ";";
        }
    }

    if (output !== "") {
        return output;
    }
}

var NODE_MAP = {};

var SVG_NS = "http://www.w3.org/2000/svg";
var NONE = "none";
var POINT_DIGITS = 3;

var applyStyle = function (styleString, element) { return styleString.split(';').filter(function (s) { return s !== ''; }).forEach(function (s) {
        var parts = s.split(':');
        element.style[parts[0].trim()] = parts[1].trim();
    }); };

var styleAttr = 'data-style';
var replaceStyleAttr = function (html) { return html.replace(/\sstyle=/g, ' ' + styleAttr + '='); };
var restoreStyleAttr = function (container) {
    Array.from(container.querySelectorAll('[' + styleAttr +']')).forEach(function (element) {
        var styleString = element.getAttribute(styleAttr);
        element.removeAttribute(styleAttr);
        applyStyle(styleString, element);
    });
};

var renderSVG = function(container, svg) {
    container.innerHTML = replaceStyleAttr(svg);
    restoreStyleAttr(container);
};

if (typeof document !== "undefined") {
    var testFragment = "<svg xmlns='" + SVG_NS + "'></svg>";
    var testContainer = document.createElement("div");
    var hasParser = typeof DOMParser !== "undefined";

    testContainer.innerHTML = testFragment;

    if (hasParser && testContainer.firstChild.namespaceURI !== SVG_NS) {
        renderSVG = function(container, svg) {
            var parser = new DOMParser();
            var chartDoc = parser.parseFromString(replaceStyleAttr(svg), "text/xml");
            restoreStyleAttr(chartDoc);
            var importedDoc = document.adoptNode(chartDoc.documentElement);

            container.innerHTML = "";
            container.appendChild(importedDoc);
        };
    }
}

var renderSVG$1 = renderSVG;

var TRANSFORM = "transform";
var DefinitionMap = {
    clip: "clip-path",
    fill: "fill"
};

function isDefinition(type, value) {
    return type === "clip" || (type === "fill" && (!value || value.nodeType === "Gradient"));
}

function baseUrl() {
    var base = document.getElementsByTagName("base")[0];
    var href = document.location.href;
    var url = "";

    if (base && !(support.browser || {}).msie) {
        var hashIndex = href.indexOf("#");
        if (hashIndex !== -1) {
            href = href.substring(0, hashIndex);
        }

        url = href;
    }

    return url;
}

var Node = (function (BaseNode$$1) {
    function Node(srcElement, options) {
        BaseNode$$1.call(this, srcElement);
        this.definitions = {};

        this.options = options;
    }

    if ( BaseNode$$1 ) Node.__proto__ = BaseNode$$1;
    Node.prototype = Object.create( BaseNode$$1 && BaseNode$$1.prototype );
    Node.prototype.constructor = Node;

    Node.prototype.destroy = function destroy () {
        if (this.element) {
            this.element._kendoNode = null;
            this.element = null;
        }

        this.clearDefinitions();
        BaseNode$$1.prototype.destroy.call(this);
    };

    Node.prototype.load = function load (elements, pos) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var srcElement = elements[i];
            var children = srcElement.children;

            var childNode = new NODE_MAP[srcElement.nodeType](srcElement, this$1.options);

            if (defined(pos)) {
                this$1.insertAt(childNode, pos);
            } else {
                this$1.append(childNode);
            }

            childNode.createDefinitions();

            if (children && children.length > 0) {
                childNode.load(children);
            }

            var element = this$1.element;
            if (element) {
                childNode.attachTo(element, pos);
            }
        }
    };

    Node.prototype.root = function root () {
        var root = this;

        while (root.parent) {
            root = root.parent;
        }

        return root;
    };

    Node.prototype.attachTo = function attachTo (domElement, pos) {
        var container = document.createElement("div");
        renderSVG$1(container,
            "<svg xmlns='" + SVG_NS + "' version='1.1'>" +
                this.render() +
            "</svg>"
        );

        var element = container.firstChild.firstChild;
        if (element) {
            if (defined(pos)) {
                domElement.insertBefore(element, domElement.childNodes[pos] || null);
            } else {
                domElement.appendChild(element);
            }
            this.setElement(element);
        }
    };

    Node.prototype.setElement = function setElement (element) {
        if (this.element) {
            this.element._kendoNode = null;
        }

        this.element = element;
        this.element._kendoNode = this;

        var nodes = this.childNodes;
        for (var i = 0; i < nodes.length; i++) {
            var childElement = element.childNodes[i];
            nodes[i].setElement(childElement);
        }
    };

    Node.prototype.clear = function clear () {
        this.clearDefinitions();

        if (this.element) {
            this.element.innerHTML = "";
        }

        var children = this.childNodes;
        for (var i = 0; i < children.length; i++) {
            children[i].destroy();
        }

        this.childNodes = [];
    };

    Node.prototype.removeSelf = function removeSelf () {
        if (this.element) {
            var parentNode = this.element.parentNode;
            if (parentNode) {
                parentNode.removeChild(this.element);
            }
            this.element = null;
        }

        BaseNode$$1.prototype.removeSelf.call(this);
    };

    Node.prototype.template = function template () {
        return this.renderChildren();
    };

    Node.prototype.render = function render () {
        return this.template();
    };

    Node.prototype.renderChildren = function renderChildren () {
        var nodes = this.childNodes;
        var output = "";

        for (var i = 0; i < nodes.length; i++) {
            output += nodes[i].render();
        }

        return output;
    };

    Node.prototype.optionsChange = function optionsChange (e) {
        var field = e.field;
        var value = e.value;

        if (field === "visible") {
            this.css("display", value ? "" : NONE);
        } else if (DefinitionMap[field] && isDefinition(field, value)) {
            this.updateDefinition(field, value);
        } else if (field === "opacity") {
            this.attr("opacity", value);
        } else if (field === "cursor") {
            this.css("cursor", value);
        } else if (field === "id") {
            if (value) {
                this.attr("id", value);
            } else {
                this.removeAttr("id");
            }
        }

        BaseNode$$1.prototype.optionsChange.call(this, e);
    };

    Node.prototype.accessibilityOptionsChange = function accessibilityOptionsChange (e) {
        var field = e.field;
        var value = e.value;
        
        
        if (field === "role") {
            if (value) {
                this.attr("role", value);
            } else {
                this.removeAttr("role");
            }
        } else if (field === "ariaLabel") {
            if (value) {
                this.attr("aria-label", value);
            } else {
                this.removeAttr("aria-label");
            }
        } else if (field === "ariaRoleDescription") {
            if (value) {
                this.attr("aria-roledescription", value);
            } else {
                this.removeAttr("aria-roledescription");
            }
        } else if (field === "ariaChecked") {
            if (defined(value)) {
                this.attr("aria-checked", value);
            } else {
                this.removeAttr("aria-checked");
            }
        } else if (field === "className") {
            this.className(value);
        }
    };

    Node.prototype.attr = function attr (name, value) {
        if (this.element) {
            this.element.setAttribute(name, value);
        }
    };

    Node.prototype.allAttr = function allAttr (attrs) {
        var this$1 = this;

        for (var i = 0; i < attrs.length; i++) {
            this$1.attr(attrs[i][0], attrs[i][1]);
        }
    };

    Node.prototype.toggleAttr = function toggleAttr (name, value) {
        if (value) {
            this.attr(name, value);
        } else {
            this.removeAttr(name);
        }
    };

    Node.prototype.css = function css (name, value) {
        if (this.element) {
            this.element.style[name] = value;
        }
    };

    Node.prototype.allCss = function allCss (styles) {
        var this$1 = this;

        for (var i = 0; i < styles.length; i++) {
            this$1.css(styles[i][0], styles[i][1]);
        }
    };

    Node.prototype.className = function className (value) {
        var this$1 = this;

        if (this.element) {
            (ref = this.element.classList).remove.apply(ref, this.element.classList);
            value.split(" ").forEach(function (item) {
                this$1.element.classList.add(item);
            });            
        }
        var ref;
    };

    Node.prototype.removeAttr = function removeAttr (name) {
        if (this.element) {
            this.element.removeAttribute(name);
        }
    };

    Node.prototype.mapTransform = function mapTransform (transform) {
        var attrs = [];
        if (transform) {
            attrs.push([
                TRANSFORM,
                "matrix(" + transform.matrix().toString(6) + ")"
            ]);
        }

        return attrs;
    };

    Node.prototype.renderTransform = function renderTransform () {
        return renderAllAttr(
            this.mapTransform(this.srcElement.transform())
        );
    };

    Node.prototype.transformChange = function transformChange (value) {
        if (value) {
            this.allAttr(this.mapTransform(value));
        } else {
            this.removeAttr(TRANSFORM);
        }
    };

    Node.prototype.mapStyle = function mapStyle () {
        var options = this.srcElement.options;
        var style = [ [ "cursor", options.cursor ] ];

        if (options.visible === false) {
            style.push([ "display", NONE ]);
        }

        return style;
    };

    Node.prototype.renderStyle = function renderStyle$1 () {
        return renderAttr("style", renderStyle(this.mapStyle(true)));
    };

    Node.prototype.renderOpacity = function renderOpacity () {
        return renderAttr("opacity", this.srcElement.options.opacity);
    };

    Node.prototype.renderId = function renderId () {
        return renderAttr("id", this.srcElement.options.id);
    };

    Node.prototype.renderClassName = function renderClassName () {
        return renderAttr("class", this.srcElement.options.className);
    };

    Node.prototype.renderRole = function renderRole () {
        return renderAttr("role", this.srcElement.options.role);
    };

    Node.prototype.renderAriaLabel = function renderAriaLabel () {
        return renderAttr("aria-label", this.srcElement.options.ariaLabel);
    };

    Node.prototype.renderAriaRoleDescription = function renderAriaRoleDescription () {
        return renderAttr("aria-roledescription", this.srcElement.options.ariaRoleDescription);
    };

    Node.prototype.renderAriaChecked = function renderAriaChecked () {
        return renderAttr("aria-checked", this.srcElement.options.ariaChecked);
    };

    Node.prototype.createDefinitions = function createDefinitions () {
        var srcElement = this.srcElement;
        var definitions = this.definitions;
        if (srcElement) {
            var options = srcElement.options;
            var hasDefinitions;

            for (var field in DefinitionMap) {
                var definition = options.get(field);
                if (definition && isDefinition(field, definition)) {
                    definitions[field] = definition;
                    hasDefinitions = true;
                }
            }
            if (hasDefinitions) {
                this.definitionChange({
                    action: "add",
                    definitions: definitions
                });
            }
        }
    };

    Node.prototype.definitionChange = function definitionChange (e) {
        if (this.parent) {
            this.parent.definitionChange(e);
        }
    };

    Node.prototype.updateDefinition = function updateDefinition (type, value) {
        var definitions = this.definitions;
        var current = definitions[type];
        var attr = DefinitionMap[type];
        var definition = {};
        if (current) {
            definition[type] = current;
            this.definitionChange({
                action: "remove",
                definitions: definition
            });
            delete definitions[type];
        }

        if (!value) {
            if (current) {
                this.removeAttr(attr);
            }
        } else {
            definition[type] = value;
            this.definitionChange({
                action: "add",
                definitions: definition
            });
            definitions[type] = value;
            this.attr(attr, this.refUrl(value.id));
        }
    };

    Node.prototype.clearDefinitions = function clearDefinitions () {
        var definitions = this.definitions;

        this.definitionChange({
            action: "remove",
            definitions: definitions
        });
        this.definitions = {};
    };

    Node.prototype.renderDefinitions = function renderDefinitions () {
        return renderAllAttr(this.mapDefinitions());
    };

    Node.prototype.mapDefinitions = function mapDefinitions () {
        var this$1 = this;

        var definitions = this.definitions;
        var attrs = [];

        for (var field in definitions) {
            attrs.push([ DefinitionMap[field], this$1.refUrl(definitions[field].id) ]);
        }

        return attrs;
    };

    Node.prototype.refUrl = function refUrl (id) {
        var skipBaseHref = (this.options || {}).skipBaseHref;
        var baseHref = this.baseUrl().replace(/'/g, "\\'");
        var base = skipBaseHref ? '' : baseHref;
        return ("url(" + base + "#" + id + ")");
    };

    Node.prototype.baseUrl = function baseUrl$1 () {
        return baseUrl();
    };

    return Node;
}(BaseNode));

var GradientStopNode = (function (Node$$1) {
    function GradientStopNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) GradientStopNode.__proto__ = Node$$1;
    GradientStopNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GradientStopNode.prototype.constructor = GradientStopNode;

    GradientStopNode.prototype.template = function template () {
        return ("<stop " + (this.renderOffset()) + " " + (this.renderStyle()) + " />");
    };

    GradientStopNode.prototype.renderOffset = function renderOffset () {
        return renderAttr("offset", this.srcElement.offset());
    };

    GradientStopNode.prototype.mapStyle = function mapStyle () {
        var srcElement = this.srcElement;
        return [
            [ "stop-color", srcElement.color() ],
            [ "stop-opacity", srcElement.opacity() ]
        ];
    };

    GradientStopNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "offset") {
            this.attr(e.field, e.value);
        } else if (e.field === "color" || e.field === "opacity") {
            this.css("stop-" + e.field, e.value);
        }
    };

    return GradientStopNode;
}(Node));

var GradientNode = (function (Node$$1) {
    function GradientNode(srcElement) {
        Node$$1.call(this, srcElement);

        this.id = srcElement.id;

        this.loadStops();
    }

    if ( Node$$1 ) GradientNode.__proto__ = Node$$1;
    GradientNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GradientNode.prototype.constructor = GradientNode;

    GradientNode.prototype.loadStops = function loadStops () {
        var this$1 = this;

        var stops = this.srcElement.stops;
        var element = this.element;

        for (var idx = 0; idx < stops.length; idx++) {
            var stopNode = new GradientStopNode(stops[idx]);
            this$1.append(stopNode);
            if (element) {
                stopNode.attachTo(element);
            }
        }
    };

    GradientNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "gradient.stops") {
            BaseNode.prototype.clear.call(this);
            this.loadStops();
        } else if (e.field === "gradient") {
            this.allAttr(this.mapCoordinates());
        }
    };

    GradientNode.prototype.renderCoordinates = function renderCoordinates () {
        return renderAllAttr(this.mapCoordinates());
    };

    GradientNode.prototype.mapSpace = function mapSpace () {
        return [ "gradientUnits", this.srcElement.userSpace() ? "userSpaceOnUse" : "objectBoundingBox" ];
    };

    return GradientNode;
}(Node));

var LinearGradientNode = (function (GradientNode$$1) {
    function LinearGradientNode () {
        GradientNode$$1.apply(this, arguments);
    }

    if ( GradientNode$$1 ) LinearGradientNode.__proto__ = GradientNode$$1;
    LinearGradientNode.prototype = Object.create( GradientNode$$1 && GradientNode$$1.prototype );
    LinearGradientNode.prototype.constructor = LinearGradientNode;

    LinearGradientNode.prototype.template = function template () {
        return ("<linearGradient id='" + (this.id) + "' " + (this.renderCoordinates()) + ">" + (this.renderChildren()) + "</linearGradient>");
    };

    LinearGradientNode.prototype.mapCoordinates = function mapCoordinates () {
        var srcElement = this.srcElement;
        var start = srcElement.start();
        var end = srcElement.end();
        var attrs = [
            [ "x1", start.x ],
            [ "y1", start.y ],
            [ "x2", end.x ],
            [ "y2", end.y ],
            this.mapSpace()
        ];

        return attrs;
    };

    return LinearGradientNode;
}(GradientNode));

var RadialGradientNode = (function (GradientNode$$1) {
    function RadialGradientNode () {
        GradientNode$$1.apply(this, arguments);
    }

    if ( GradientNode$$1 ) RadialGradientNode.__proto__ = GradientNode$$1;
    RadialGradientNode.prototype = Object.create( GradientNode$$1 && GradientNode$$1.prototype );
    RadialGradientNode.prototype.constructor = RadialGradientNode;

    RadialGradientNode.prototype.template = function template () {
        return ("<radialGradient id='" + (this.id) + "' " + (this.renderCoordinates()) + ">" + (this.renderChildren()) + "</radialGradient>");
    };

    RadialGradientNode.prototype.mapCoordinates = function mapCoordinates () {
        var srcElement = this.srcElement;
        var center = srcElement.center();
        var radius = srcElement.radius();
        var attrs = [
            [ "cx", center.x ],
            [ "cy", center.y ],
            [ "r", radius ],
            this.mapSpace()
        ];
        return attrs;
    };

    return RadialGradientNode;
}(GradientNode));

var ClipNode = (function (Node$$1) {
    function ClipNode(srcElement) {
        Node$$1.call(this);

        this.srcElement = srcElement;
        this.id = srcElement.id;

        this.load([ srcElement ]);
    }

    if ( Node$$1 ) ClipNode.__proto__ = Node$$1;
    ClipNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    ClipNode.prototype.constructor = ClipNode;

    ClipNode.prototype.renderClipRule = function renderClipRule () {
        return renderAttr("clip-rule", "evenodd");
    };
    ClipNode.prototype.template = function template () {
        return ("<clipPath " + (this.renderClipRule()) + " id='" + (this.id) + "'>" + (this.renderChildren()) + "</clipPath>");
    };

    return ClipNode;
}(Node));

var DefinitionNode = (function (Node$$1) {
    function DefinitionNode() {
        Node$$1.call(this);
        this.definitionMap = {};
    }

    if ( Node$$1 ) DefinitionNode.__proto__ = Node$$1;
    DefinitionNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    DefinitionNode.prototype.constructor = DefinitionNode;

    DefinitionNode.prototype.attachTo = function attachTo (domElement) {
        this.element = domElement;
    };

    DefinitionNode.prototype.template = function template () {
        return ("<defs>" + (this.renderChildren()) + "</defs>");
    };

    DefinitionNode.prototype.definitionChange = function definitionChange (e) {
        var definitions = e.definitions;
        var action = e.action;

        if (action === "add") {
            this.addDefinitions(definitions);
        } else if (action === "remove") {
            this.removeDefinitions(definitions);
        }
    };

    DefinitionNode.prototype.createDefinition = function createDefinition (type, item) {
        var nodeType;
        if (type === "clip") {
            nodeType = ClipNode;
        } else if (type === "fill") {
            if (item instanceof LinearGradient) {
                nodeType = LinearGradientNode;
            } else if (item instanceof RadialGradient) {
                nodeType = RadialGradientNode;
            }
        }
        return new nodeType(item);
    };

    DefinitionNode.prototype.addDefinitions = function addDefinitions (definitions) {
        var this$1 = this;

        for (var field in definitions) {
            this$1.addDefinition(field, definitions[field]);
        }
    };

    DefinitionNode.prototype.addDefinition = function addDefinition (type, srcElement) {
        var ref = this;
        var element = ref.element;
        var definitionMap = ref.definitionMap;
        var id = srcElement.id;
        var mapItem = definitionMap[id];
        if (!mapItem) {
            var node = this.createDefinition(type, srcElement);
            definitionMap[id] = {
                element: node,
                count: 1
            };
            this.append(node);
            if (element) {
                node.attachTo(this.element);
            }
        } else {
            mapItem.count++;
        }
    };

    DefinitionNode.prototype.removeDefinitions = function removeDefinitions (definitions) {
        var this$1 = this;

        for (var field in definitions) {
            this$1.removeDefinition(definitions[field]);
        }
    };

    DefinitionNode.prototype.removeDefinition = function removeDefinition (srcElement) {
        var definitionMap = this.definitionMap;
        var id = srcElement.id;
        var mapItem = definitionMap[id];

        if (mapItem) {
            mapItem.count--;
            if (mapItem.count === 0) {
                this.remove(this.childNodes.indexOf(mapItem.element), 1);
                delete definitionMap[id];
            }
        }
    };

    return DefinitionNode;
}(Node));

var RootNode = (function (Node$$1) {
    function RootNode(options) {
        Node$$1.call(this);
        this.options = options;
        this.defs = new DefinitionNode();
    }

    if ( Node$$1 ) RootNode.__proto__ = Node$$1;
    RootNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    RootNode.prototype.constructor = RootNode;

    RootNode.prototype.attachTo = function attachTo (domElement) {
        this.element = domElement;
        this.defs.attachTo(domElement.firstElementChild);
    };

    RootNode.prototype.clear = function clear () {
        BaseNode.prototype.clear.call(this);
    };

    RootNode.prototype.template = function template () {
        return this.defs.render() + this.renderChildren();
    };

    RootNode.prototype.definitionChange = function definitionChange (e) {
        this.defs.definitionChange(e);
    };

    return RootNode;
}(Node));

var DASH_ARRAYS = {
    dot: [ 1.5, 3.5 ],
    dash: [ 4, 3.5 ],
    longdash: [ 8, 3.5 ],
    dashdot: [ 3.5, 3.5, 1.5, 3.5 ],
    longdashdot: [ 8, 3.5, 1.5, 3.5 ],
    longdashdotdot: [ 8, 3.5, 1.5, 3.5, 1.5, 3.5 ]
};

var SOLID = "solid";
var BUTT = "butt";

var ATTRIBUTE_MAP = {
    "fill.opacity": "fill-opacity",
    "stroke.color": "stroke",
    "stroke.width": "stroke-width",
    "stroke.opacity": "stroke-opacity"
};

var PathNode = (function (Node$$1) {
    function PathNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) PathNode.__proto__ = Node$$1;
    PathNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    PathNode.prototype.constructor = PathNode;

    PathNode.prototype.geometryChange = function geometryChange () {
        this.attr("d", this.renderData());
        this.invalidate();
    };

    PathNode.prototype.optionsChange = function optionsChange (e) {
        switch (e.field) {
        case "fill":
            if (e.value) {
                this.allAttr(this.mapFill(e.value));
            } else {
                this.removeAttr("fill");
            }
            break;

        case "fill.color":
            this.allAttr(this.mapFill({ color: e.value }));
            break;

        case "stroke":
            if (e.value) {
                this.allAttr(this.mapStroke(e.value));
            } else {
                this.removeAttr("stroke");
            }
            break;

        case "transform":
            this.transformChange(e.value);
            break;

        default:
            var name = ATTRIBUTE_MAP[e.field];
            if (name) {
                this.attr(name, e.value);
            }
            break;
        }

        this.accessibilityOptionsChange(e);

        Node$$1.prototype.optionsChange.call(this, e);
    };

    PathNode.prototype.content = function content () {
        if (this.element) {
            this.element.textContent = this.srcElement.content();
        }
    };

    PathNode.prototype.renderData = function renderData () {
        return this.srcElement.toString(POINT_DIGITS) || undefined;
    };

    PathNode.prototype.mapStroke = function mapStroke (stroke) {
        var attrs = [];

        if (stroke && !isTransparent(stroke.color)) {
            attrs.push([ "stroke", stroke.color ]);
            attrs.push([ "stroke-width", stroke.width ]);
            attrs.push([ "stroke-linecap", this.renderLinecap(stroke) ]);
            attrs.push([ "stroke-linejoin", stroke.lineJoin ]);

            if (defined(stroke.opacity)) {
                attrs.push([ "stroke-opacity", stroke.opacity ]);
            }

            if (defined(stroke.dashType)) {
                attrs.push([ "stroke-dasharray", this.renderDashType(stroke) ]);
            }
        } else {
            attrs.push([ "stroke", NONE ]);
        }

        return attrs;
    };

    PathNode.prototype.renderStroke = function renderStroke () {
        return renderAllAttr(
            this.mapStroke(this.srcElement.options.stroke)
        );
    };

    PathNode.prototype.renderDashType = function renderDashType (stroke) {
        var dashType = stroke.dashType;
        var width = stroke.width; if ( width === void 0 ) width = 1;

        if (dashType && dashType !== SOLID) {
            var dashArray = DASH_ARRAYS[dashType.toLowerCase()];
            var result = [];

            for (var i = 0; i < dashArray.length; i++) {
                result.push(dashArray[i] * width);
            }

            return result.join(" ");
        }
    };

    PathNode.prototype.renderLinecap = function renderLinecap (stroke) {
        var dashType = stroke.dashType;
        var lineCap = stroke.lineCap;

        return (dashType && dashType !== "solid") ? BUTT : lineCap;
    };

    PathNode.prototype.mapFill = function mapFill (fill) {
        var attrs = [];
        if (!(fill && fill.nodeType === "Gradient")) {
            if (fill && !isTransparent(fill.color)) {
                attrs.push([ "fill", fill.color ]);

                if (defined(fill.opacity)) {
                    attrs.push([ "fill-opacity", fill.opacity ]);
                }
            } else {
                attrs.push([ "fill", NONE ]);
            }
        }

        return attrs;
    };

    PathNode.prototype.renderFill = function renderFill () {
        return renderAllAttr(
            this.mapFill(this.srcElement.options.fill)
        );
    };

    PathNode.prototype.template = function template () {
        return "<path " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) + " " + (renderAttr('d', this.renderData())) +
                "" + (this.renderStroke()) + (this.renderFill()) + (this.renderDefinitions()) + (this.renderTransform()) + 
                (this.renderClassName()) + " " + (this.renderRole()) +
                (this.renderAriaLabel()) + " " + (this.renderAriaRoleDescription()) +
                (this.renderAriaChecked()) + " ></path>";
    };

    return PathNode;
}(Node));

var ArcNode = (function (PathNode$$1) {
    function ArcNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) ArcNode.__proto__ = PathNode$$1;
    ArcNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    ArcNode.prototype.constructor = ArcNode;

    ArcNode.prototype.renderData = function renderData () {
        return this.srcElement.toPath().toString(POINT_DIGITS);
    };

    return ArcNode;
}(PathNode));

var CircleNode = (function (PathNode$$1) {
    function CircleNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) CircleNode.__proto__ = PathNode$$1;
    CircleNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    CircleNode.prototype.constructor = CircleNode;

    CircleNode.prototype.geometryChange = function geometryChange () {
        var center = this.center();
        this.attr("cx", center.x);
        this.attr("cy", center.y);
        this.attr("r", this.radius());
        this.invalidate();
    };

    CircleNode.prototype.center = function center () {
        return this.srcElement.geometry().center;
    };

    CircleNode.prototype.radius = function radius () {
        return this.srcElement.geometry().radius;
    };

    CircleNode.prototype.template = function template () {
        return "<circle " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) +
                    "cx='" + (this.center().x) + "' cy='" + (this.center().y) + "' r='" + (this.radius()) + "'" +
                    (this.renderStroke()) + " " + (this.renderFill()) + " " + (this.renderDefinitions()) +
                    (this.renderClassName()) + " " + (this.renderRole()) +
                    (this.renderAriaLabel()) + " " + (this.renderAriaRoleDescription()) +
                    (this.renderAriaChecked()) + " " + (this.renderTransform()) + " ></circle>";
    };

    return CircleNode;
}(PathNode));

var GroupNode = (function (Node$$1) {
    function GroupNode () {
        Node$$1.apply(this, arguments);
    }

    if ( Node$$1 ) GroupNode.__proto__ = Node$$1;
    GroupNode.prototype = Object.create( Node$$1 && Node$$1.prototype );
    GroupNode.prototype.constructor = GroupNode;

    GroupNode.prototype.template = function template () {
        return ("<g" + (this.renderId() + 
            this.renderTransform() + 
            this.renderClassName() + 
            this.renderStyle() + 
            this.renderOpacity() + 
            this.renderRole() + 
            this.renderAriaLabel() + 
            this.renderAriaRoleDescription() + 
            this.renderAriaChecked() +
            this.renderDefinitions()) + ">" + (this.renderChildren()) + "</g>");
    };

    GroupNode.prototype.optionsChange = function optionsChange (e) {
        var field = e.field;
        var value = e.value;

        if (field === "transform") {
            this.transformChange(value);
        }

        this.accessibilityOptionsChange(e);

        Node$$1.prototype.optionsChange.call(this, e);
    };

    return GroupNode;
}(Node));

var ImageNode = (function (PathNode$$1) {
    function ImageNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) ImageNode.__proto__ = PathNode$$1;
    ImageNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    ImageNode.prototype.constructor = ImageNode;

    ImageNode.prototype.geometryChange = function geometryChange () {
        this.allAttr(this.mapPosition());
        this.invalidate();
    };

    ImageNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "src") {
            this.allAttr(this.mapSource());
        }

        PathNode$$1.prototype.optionsChange.call(this, e);
    };

    ImageNode.prototype.mapPosition = function mapPosition () {
        var rect = this.srcElement.rect();
        var tl = rect.topLeft();

        return [
            [ "x", tl.x ],
            [ "y", tl.y ],
            [ "width", rect.width() + "px" ],
            [ "height", rect.height() + "px" ]
        ];
    };

    ImageNode.prototype.renderPosition = function renderPosition () {
        return renderAllAttr(this.mapPosition());
    };

    ImageNode.prototype.mapSource = function mapSource (encode) {
        var src = this.srcElement.src();

        if (encode) {
            src = htmlEncode(src);
        }

        return [ [ "xlink:href", src ] ];
    };

    ImageNode.prototype.renderSource = function renderSource () {
        return renderAllAttr(this.mapSource(true));
    };

    ImageNode.prototype.template = function template () {
        return "<image preserveAspectRatio='none' " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderTransform()) + " " + (this.renderOpacity()) +
               (this.renderPosition()) + " " + (this.renderSource()) + " " + (this.renderDefinitions()) +
               (this.renderClassName()) + " " + (this.renderRole()) +
                (this.renderAriaLabel()) + " " + (this.renderAriaRoleDescription()) +
                (this.renderAriaChecked()) + " >" +
               "</image>";
    };

    return ImageNode;
}(PathNode));

var MultiPathNode = (function (PathNode$$1) {
    function MultiPathNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) MultiPathNode.__proto__ = PathNode$$1;
    MultiPathNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    MultiPathNode.prototype.constructor = MultiPathNode;

    MultiPathNode.prototype.renderData = function renderData () {
        return this.srcElement.toString(POINT_DIGITS) || 'undefined';
    };

    return MultiPathNode;
}(PathNode));

var RectNode = (function (PathNode$$1) {
    function RectNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) RectNode.__proto__ = PathNode$$1;
    RectNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    RectNode.prototype.constructor = RectNode;

    RectNode.prototype.geometryChange = function geometryChange () {
        var geometry = this.srcElement.geometry();
        this.attr("x", geometry.origin.x);
        this.attr("y", geometry.origin.y);
        this.attr("width", geometry.size.width);
        this.attr("height", geometry.size.height);
        this.attr("rx", geometry.cornerRadius[0]);
        this.attr("ry", geometry.cornerRadius[1]);
        this.invalidate();
    };

    RectNode.prototype.size = function size () {
        return this.srcElement.geometry().size;
    };

    RectNode.prototype.origin = function origin () {
        return this.srcElement.geometry().origin;
    };

    RectNode.prototype.rx = function rx () {
        return this.srcElement.geometry().cornerRadius[0];
    };

    RectNode.prototype.ry = function ry () {
        return this.srcElement.geometry().cornerRadius[1];
    };

    RectNode.prototype.template = function template () {
        return "<rect " + (this.renderId()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) + " x='" + (this.origin().x) + "' y='" + (this.origin().y) + "' " +
                    "rx='" + (this.rx()) + "' ry='" + (this.ry()) + "' " +
                    "width='" + (this.size().width) + "' height='" + (this.size().height) + "' " + (this.renderStroke()) + " " +
                    (this.renderFill()) + " " + (this.renderDefinitions()) + " " + (this.renderTransform()) +
                    (this.renderClassName()) + " " + (this.renderRole()) +
                    (this.renderAriaLabel()) + " " + (this.renderAriaRoleDescription()) +
                    (this.renderAriaChecked()) + " />";
    };

    return RectNode;
}(PathNode));

var ENTITY_REGEX = /&(?:[a-zA-Z]+|#\d+);/g;

function decodeEntities(text) {
    if (!text || typeof text !== "string" || !ENTITY_REGEX.test(text)) {
        return text;
    }

    var element = decodeEntities._element;
    ENTITY_REGEX.lastIndex = 0;

    return text.replace(ENTITY_REGEX, function (match) {
        element.innerHTML = match;

        return element.textContent || element.innerText;
    });
}

if (typeof document !== "undefined") {
    decodeEntities._element = document.createElement("span");
}

var TextNode = (function (PathNode$$1) {
    function TextNode () {
        PathNode$$1.apply(this, arguments);
    }

    if ( PathNode$$1 ) TextNode.__proto__ = PathNode$$1;
    TextNode.prototype = Object.create( PathNode$$1 && PathNode$$1.prototype );
    TextNode.prototype.constructor = TextNode;

    TextNode.prototype.geometryChange = function geometryChange () {
        var pos = this.pos();
        this.attr("x", pos.x);
        this.attr("y", pos.y);
        this.invalidate();
    };

    TextNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "font") {
            this.attr("style", renderStyle(this.mapStyle()));
            this.geometryChange();
        } else if (e.field === "content") {
            PathNode$$1.prototype.content.call(this, this.srcElement.content());
        }

        PathNode$$1.prototype.optionsChange.call(this, e);
    };

    TextNode.prototype.mapStyle = function mapStyle (encode) {
        var style = PathNode$$1.prototype.mapStyle.call(this, encode);
        var font = this.srcElement.options.font;

        if (encode) {
            font = htmlEncode(font);
        }

        style.push([ "font", font ], [ "white-space", "pre" ]);

        return style;
    };

    TextNode.prototype.pos = function pos () {
        var pos = this.srcElement.position();
        var size = this.srcElement.measure();
        return pos.clone().setY(pos.y + size.baseline);
    };

    TextNode.prototype.renderContent = function renderContent () {
        var content = this.srcElement.content();
        content = decodeEntities(content);
        content = htmlEncode(content);

        return normalizeText(content);
    };

    TextNode.prototype.renderTextAnchor = function renderTextAnchor () {
        var anchor;

        if ((this.options || {}).rtl && !(support.browser.msie || support.browser.edge)) {
            anchor = 'end';
        }

        return renderAttr("text-anchor", anchor);
    };

    TextNode.prototype.template = function template () {
        return "<text " + (this.renderId()) + " " + (this.renderTextAnchor()) + " " + (this.renderStyle()) + " " + (this.renderOpacity()) +
                    "x='" + (this.pos().x) + "' y='" + (this.pos().y) + "' " + (this.renderStroke()) + " " + (this.renderTransform()) + " " + (this.renderDefinitions()) +
                    "" + (this.renderFill()) +
                    (this.renderClassName()) + " " + (this.renderRole()) +
                    (this.renderAriaLabel()) + " " + (this.renderAriaRoleDescription()) +
                    (this.renderAriaChecked()) + ">" + (this.renderContent()) + "</text>";
    };

    return TextNode;
}(PathNode));

NODE_MAP.Arc = ArcNode;
NODE_MAP.Circle = CircleNode;
NODE_MAP.Group = GroupNode;
NODE_MAP.Image = ImageNode;
NODE_MAP.MultiPath = MultiPathNode;
NODE_MAP.Path = PathNode;
NODE_MAP.Rect = RectNode;
NODE_MAP.Text = TextNode;

var RTL = 'rtl';

function alignToScreen(element) {
    var ctm;

    try {
        ctm = element.getScreenCTM ? element.getScreenCTM() : null;
    } catch (e) { } // eslint-disable-line no-empty

    if (ctm) {
        var left = - ctm.e % 1;
        var top = - ctm.f % 1;
        var style = element.style;

        if (left !== 0 || top !== 0) {
            style.left = left + "px";
            style.top = top + "px";
        }
    }
}

var Surface$3 = (function (BaseSurface) {
    function Surface(element, options) {
        BaseSurface.call(this, element, options);

        this._root = new RootNode(Object.assign({
            rtl: elementStyles(element, 'direction').direction === RTL
        }, this.options));

        renderSVG$1(this.element, this._template(''));

        this._rootElement = this.element.firstElementChild;
        this._rootElement.style.width = '100%';
        this._rootElement.style.height = '100%';
        this._rootElement.style.overflow = 'hidden';

        alignToScreen(this._rootElement);

        this._root.attachTo(this._rootElement);

        bindEvents(this.element, {
            click: this._click,
            mouseover: this._mouseenter,
            mouseout: this._mouseleave,
            mousemove: this._mousemove
        });

        this.resize();
    }

    if ( BaseSurface ) Surface.__proto__ = BaseSurface;
    Surface.prototype = Object.create( BaseSurface && BaseSurface.prototype );
    Surface.prototype.constructor = Surface;

    var prototypeAccessors = { type: {} };

    prototypeAccessors.type.get = function () {
        return "svg";
    };

    Surface.prototype.destroy = function destroy () {
        if (this._root) {
            this._root.destroy();
            this._root = null;
            this._rootElement = null;
            unbindEvents(this.element, {
                click: this._click,
                mouseover: this._mouseenter,
                mouseout: this._mouseleave,
                mousemove: this._mousemove
            });
        }

        BaseSurface.prototype.destroy.call(this);
    };

    Surface.prototype.translate = function translate (offset) {
        var viewBox = (Math.round(offset.x)) + " " + (Math.round(offset.y)) + " " + (this._size.width) + " " + (this._size.height);

        this._offset = offset;
        this._rootElement.setAttribute("viewBox", viewBox);
    };

    Surface.prototype.draw = function draw (element) {
        BaseSurface.prototype.draw.call(this, element);
        this._root.load([ element ]);
    };

    Surface.prototype.clear = function clear () {
        BaseSurface.prototype.clear.call(this);
        this._root.clear();
    };

    Surface.prototype.svg = function svg () {
        return "<?xml version='1.0' ?>" + this._template();
    };

    Surface.prototype.exportVisual = function exportVisual () {
        var ref = this;
        var visual = ref._visual;
        var offset = ref._offset;

        if (offset) {
            var wrap = new Group();
            wrap.children.push(visual);

            wrap.transform(
                transform$1().translate(-offset.x, -offset.y)
            );

            visual = wrap;
        }

        return visual;
    };

    Surface.prototype._resize = function _resize () {
        if (this._offset) {
            this.translate(this._offset);
        }
    };

    Surface.prototype._template = function _template (svgStyles) {
        var styles = typeof svgStyles === 'string' ? svgStyles :
            "style='width: 100%; height: 100%; overflow: hidden;' ";
        return ("<svg " + styles + "xmlns='" + SVG_NS + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + (this._root.render()) + "</svg>");
    };

    Object.defineProperties( Surface.prototype, prototypeAccessors );

    return Surface;
}(Surface$2));

var NODE_MAP$2 = {};

var Node$2 = (function (BaseNode$$1) {
    function Node(srcElement) {
        BaseNode$$1.call(this, srcElement);
        if (srcElement) {
            this.initClip();
        }
    }

    if ( BaseNode$$1 ) Node.__proto__ = BaseNode$$1;
    Node.prototype = Object.create( BaseNode$$1 && BaseNode$$1.prototype );
    Node.prototype.constructor = Node;

    Node.prototype.initClip = function initClip () {
        var clip = this.srcElement.clip();
        if (clip) {
            this.clip = clip;
            clip.addObserver(this);
        }
    };

    Node.prototype.clear = function clear () {
        if (this.srcElement) {
            this.srcElement.removeObserver(this);
        }

        this.clearClip();

        BaseNode$$1.prototype.clear.call(this);
    };

    Node.prototype.clearClip = function clearClip () {
        if (this.clip) {
            this.clip.removeObserver(this);
            delete this.clip;
        }
    };

    Node.prototype.setClip = function setClip (ctx) {
        if (this.clip) {
            ctx.beginPath();

            var clipNode = new NODE_MAP$2[this.clip.nodeType](this.clip);
            clipNode.renderPoints(ctx, this.clip);

            ctx.clip("evenodd");
        }
    };

    Node.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "clip") {
            this.clearClip();
            this.initClip();
        }

        BaseNode$$1.prototype.optionsChange.call(this, e);
    };

    Node.prototype.setTransform = function setTransform (ctx) {
        if (this.srcElement) {
            var transform = this.srcElement.transform();
            if (transform) {
                ctx.transform.apply(ctx, transform.matrix().toArray(6));
            }
        }
    };

    Node.prototype.loadElements = function loadElements (elements, pos, cors) {
        var this$1 = this;

        for (var i = 0; i < elements.length; i++) {
            var srcElement = elements[i];
            var children = srcElement.children;

            var childNode = new NODE_MAP$2[srcElement.nodeType](srcElement, cors);

            if (children && children.length > 0) {
                childNode.load(children, pos, cors);
            }

            if (defined(pos)) {
                this$1.insertAt(childNode, pos);
            } else {
                this$1.append(childNode);
            }
        }
    };

    Node.prototype.load = function load (elements, pos, cors) {
        this.loadElements(elements, pos, cors);

        this.invalidate();
    };

    Node.prototype.setOpacity = function setOpacity (ctx) {
        if (this.srcElement) {
            var opacity = this.srcElement.opacity();
            if (defined(opacity)) {
                this.globalAlpha(ctx, opacity);
            }
        }
    };

    Node.prototype.globalAlpha = function globalAlpha (ctx, value) {
        var opactity = value;
        if (opactity && ctx.globalAlpha) {
            opactity *= ctx.globalAlpha;
        }
        ctx.globalAlpha = opactity;
    };

    Node.prototype.visible = function visible () {
        var src = this.srcElement;
        return !src || (src && src.options.visible !== false);
    };

    return Node;
}(BaseNode));

var GroupNode$2 = (function (superclass) {
    function GroupNode () {
        superclass.apply(this, arguments);
    }

    if ( superclass ) GroupNode.__proto__ = superclass;
    GroupNode.prototype = Object.create( superclass && superclass.prototype );
    GroupNode.prototype.constructor = GroupNode;

    GroupNode.prototype.renderTo = function renderTo (ctx) {
        if (!this.visible()) {
            return;
        }

        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        var childNodes = this.childNodes;
        for (var i = 0; i < childNodes.length; i++) {
            var child = childNodes[i];
            if (child.visible()) {
                child.renderTo(ctx);
            }
        }

        ctx.restore();
    };

    return GroupNode;
}(traversable(Node$2, "childNodes")));

var FRAME_DELAY = 1000 / 60;

var RootNode$2 = (function (superclass) {
    function RootNode(canvas, size) {
        superclass.call(this);

        this.canvas = canvas;
        this.size = size;
        this.ctx = canvas.getContext("2d");

        var invalidateHandler = this._invalidate.bind(this);
        this.invalidate = throttle(function () {
            animationFrame(invalidateHandler);
        }, FRAME_DELAY);
    }

    if ( superclass ) RootNode.__proto__ = superclass;
    RootNode.prototype = Object.create( superclass && superclass.prototype );
    RootNode.prototype.constructor = RootNode;

    RootNode.prototype.destroy = function destroy () {
        superclass.prototype.destroy.call(this);
        this.canvas = null;
        this.ctx = null;
    };

    RootNode.prototype.load = function load (elements, pos, cors) {
        this.loadElements(elements, pos, cors);
        this._invalidate();
    };

    RootNode.prototype._rescale = function _rescale (scale) {
        var ref = this;
        var canvas = ref.canvas;
        var size = ref.size;
        canvas.width = size.width * scale;
        canvas.height = size.height * scale;
        this.ctx.scale(scale, scale);
    };

    RootNode.prototype._devicePixelRatio = function _devicePixelRatio () {
        if (typeof window.devicePixelRatio === 'number') {
            return window.devicePixelRatio;
        }

        return 1;
    };

    RootNode.prototype._invalidate = function _invalidate (options) {
        if (!this.ctx) {
            return;
        }

        var fixedScale = options && options.fixedScale;
        var scale = fixedScale ? 1 : this._devicePixelRatio();
        this._rescale(scale);

        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.renderTo(this.ctx);
    };

    return RootNode;
}(traversable(GroupNode$2, "childNodes")));

var QuadRoot = (function (Class$$1) {
    function QuadRoot() {
        Class$$1.call(this);

        this.shapes = [];
    }

    if ( Class$$1 ) QuadRoot.__proto__ = Class$$1;
    QuadRoot.prototype = Object.create( Class$$1 && Class$$1.prototype );
    QuadRoot.prototype.constructor = QuadRoot;

    QuadRoot.prototype._add = function _add (shape, bbox) {
        this.shapes.push({
            bbox: bbox,
            shape: shape
        });
        shape._quadNode = this;
    };

    QuadRoot.prototype.pointShapes = function pointShapes (point) {
        var shapes = this.shapes;
        var length = shapes.length;
        var result = [];
        for (var idx = 0; idx < length; idx++) {
            if (shapes[idx].bbox.containsPoint(point)) {
                result.push(shapes[idx].shape);
            }
        }
        return result;
    };

    QuadRoot.prototype.insert = function insert (shape, bbox) {
        this._add(shape, bbox);
    };

    QuadRoot.prototype.remove = function remove (shape) {
        var shapes = this.shapes;
        var length = shapes.length;

        for (var idx = 0; idx < length; idx++) {
            if (shapes[idx].shape === shape) {
                shapes.splice(idx, 1);
                break;
            }
        }
    };

    return QuadRoot;
}(Class));

var QuadNode = (function (QuadRoot$$1) {
    function QuadNode(rect) {
        QuadRoot$$1.call(this);
        this.children = [];
        this.rect = rect;
    }

    if ( QuadRoot$$1 ) QuadNode.__proto__ = QuadRoot$$1;
    QuadNode.prototype = Object.create( QuadRoot$$1 && QuadRoot$$1.prototype );
    QuadNode.prototype.constructor = QuadNode;

    QuadNode.prototype.inBounds = function inBounds (rect) {
        var nodeRect = this.rect;
        var nodeBottomRight = nodeRect.bottomRight();
        var bottomRight = rect.bottomRight();
        var inBounds = nodeRect.origin.x <= rect.origin.x && nodeRect.origin.y <= rect.origin.y && bottomRight.x <= nodeBottomRight.x &&
            bottomRight.y <= nodeBottomRight.y;
        return inBounds;
    };

    QuadNode.prototype.pointShapes = function pointShapes (point) {
        var children = this.children;
        var length = children.length;
        var result = QuadRoot$$1.prototype.pointShapes.call(this, point);
        for (var idx = 0; idx < length; idx++) {
            append$1$1(result, children[idx].pointShapes(point));
        }
        return result;
    };

    QuadNode.prototype.insert = function insert (shape, bbox) {
        var children = this.children;
        var inserted = false;

        if (this.inBounds(bbox)) {
            if (this.shapes.length < 4) {
                this._add(shape, bbox);
            } else {
                if (!children.length) {
                    this._initChildren();
                }

                for (var idx = 0; idx < children.length; idx++) {
                    if (children[idx].insert(shape, bbox)) {
                        inserted = true;
                        break;
                    }
                }

                if (!inserted) {
                    this._add(shape, bbox);
                }
            }
            inserted = true;
        }

        return inserted;
    };

    QuadNode.prototype._initChildren = function _initChildren () {
        var ref = this;
        var rect = ref.rect;
        var children = ref.children;
        var center = rect.center();
        var halfWidth = rect.width() / 2;
        var halfHeight = rect.height() / 2;

        children.push(
            new QuadNode(new Rect([ rect.origin.x, rect.origin.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ center.x, rect.origin.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ rect.origin.x, center.y ], [ halfWidth, halfHeight ])),
            new QuadNode(new Rect([ center.x, center.y ], [ halfWidth, halfHeight ]))
        );
    };

    return QuadNode;
}(QuadRoot));

var ROOT_SIZE = 3000;
var LEVEL_STEP = 10000;
var MAX_LEVEL = 75;

var ShapesQuadTree = (function (Class$$1) {
    function ShapesQuadTree() {
        Class$$1.call(this);

        this.initRoots();
    }

    if ( Class$$1 ) ShapesQuadTree.__proto__ = Class$$1;
    ShapesQuadTree.prototype = Object.create( Class$$1 && Class$$1.prototype );
    ShapesQuadTree.prototype.constructor = ShapesQuadTree;

    ShapesQuadTree.prototype.initRoots = function initRoots () {
        this.rootMap = {};
        this.root = new QuadRoot();
        this.rootElements = [];
    };

    ShapesQuadTree.prototype.clear = function clear () {
        var this$1 = this;

        var rootElements = this.rootElements;
        for (var idx = 0; idx < rootElements.length; idx++) {
            this$1.remove(rootElements[idx]);
        }
        this.initRoots();
    };

    ShapesQuadTree.prototype.pointShape = function pointShape (point) {
        var sectorRoot = ( this.rootMap[ Math.floor( point.x / ROOT_SIZE ) ] || {} )[ Math.floor( point.y / ROOT_SIZE ) ];
        var result = this.root.pointShapes(point);

        if (sectorRoot) {
            result = result.concat(sectorRoot.pointShapes(point));
        }

        this.assignZindex(result);

        result.sort(zIndexComparer);
        for (var idx = 0; idx < result.length; idx++) {
            if (result[idx].containsPoint(point)) {
                return result[idx];
            }
        }
    };

    ShapesQuadTree.prototype.assignZindex = function assignZindex (elements) {
        var this$1 = this;

        for (var idx = 0; idx < elements.length; idx++) {
            var element = elements[idx];
            var zIndex = 0;
            var levelWeight = Math.pow(LEVEL_STEP, MAX_LEVEL);
            var parents = [];

            while (element) {
                parents.push(element);
                element = element.parent;
            }

            while (parents.length) {
                element = parents.pop();
                zIndex += ((element.parent ? element.parent.children : this$1.rootElements).indexOf(element) + 1) * levelWeight;
                levelWeight /= LEVEL_STEP;
            }

            elements[idx]._zIndex = zIndex;
        }
    };

    ShapesQuadTree.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "transform" || e.field === "stroke.width") {
            this.bboxChange(e.element);
        }
    };

    ShapesQuadTree.prototype.geometryChange = function geometryChange (e) {
        this.bboxChange(e.element);
    };

    ShapesQuadTree.prototype.bboxChange = function bboxChange (element) {
        var this$1 = this;

        if (element.nodeType === "Group") {
            for (var idx = 0; idx < element.children.length; idx++) {
                this$1.bboxChange(element.children[idx]);
            }
        } else {
            if (element._quadNode) {
                element._quadNode.remove(element);
            }
            this._insertShape(element);
        }
    };

    ShapesQuadTree.prototype.add = function add (elements) {
        var elementsArray = Array.isArray(elements) ? elements.slice(0) : [ elements ];

        append$1$1(this.rootElements, elementsArray);
        this._insert(elementsArray);
    };

    ShapesQuadTree.prototype.childrenChange = function childrenChange (e) {
        var this$1 = this;

        if (e.action === "remove") {
            for (var idx = 0; idx < e.items.length; idx++) {
                this$1.remove(e.items[idx]);
            }
        } else {
            this._insert(Array.prototype.slice.call(e.items, 0));
        }
    };

    ShapesQuadTree.prototype._insert = function _insert (elements) {
        var this$1 = this;

        var element;

        while (elements.length > 0) {
            element = elements.pop();
            element.addObserver(this$1);
            if (element.nodeType === "Group") {
                append$1$1(elements, element.children);
            } else {
                this$1._insertShape(element);
            }
        }
    };

    ShapesQuadTree.prototype._insertShape = function _insertShape (shape) {
        var bbox = shape.bbox();
        if (bbox) {
            var sectors = this.getSectors(bbox);
            var x = sectors[0][0];
            var y = sectors[1][0];

            if (this.inRoot(sectors)) {
                this.root.insert(shape, bbox);
            } else {
                var rootMap = this.rootMap;
                if (!rootMap[x]) {
                    rootMap[x] = {};
                }

                if (!rootMap[x][y]) {
                    rootMap[x][y] = new QuadNode(
                        new Rect([ x * ROOT_SIZE, y * ROOT_SIZE ], [ ROOT_SIZE, ROOT_SIZE ])
                    );
                }

                rootMap[x][y].insert(shape, bbox);
            }
        }
    };

    ShapesQuadTree.prototype.remove = function remove (element) {
        var this$1 = this;

        element.removeObserver(this);

        if (element.nodeType === "Group") {
            var children = element.children;
            for (var idx = 0; idx < children.length; idx++) {
                this$1.remove(children[idx]);
            }
        } else if (element._quadNode) {
            element._quadNode.remove(element);
            delete element._quadNode;
        }
    };

    ShapesQuadTree.prototype.inRoot = function inRoot (sectors) {
        return sectors[0].length > 1 || sectors[1].length > 1;
    };

    ShapesQuadTree.prototype.getSectors = function getSectors (rect) {
        var bottomRight = rect.bottomRight();
        var bottomX = Math.floor(bottomRight.x / ROOT_SIZE);
        var bottomY = Math.floor(bottomRight.y / ROOT_SIZE);
        var sectors = [ [], [] ];
        for (var x = Math.floor(rect.origin.x / ROOT_SIZE); x <= bottomX; x++) {
            sectors[0].push(x);
        }
        for (var y = Math.floor(rect.origin.y / ROOT_SIZE); y <= bottomY; y++) {
            sectors[1].push(y);
        }
        return sectors;
    };

    return ShapesQuadTree;
}(Class));

function zIndexComparer(x1, x2) {
    if (x1._zIndex < x2._zIndex) {
        return 1;
    }
    if (x1._zIndex > x2._zIndex) {
        return -1;
    }

    return 0;
}

var SurfaceCursor = function SurfaceCursor(surface) {
    surface.bind("mouseenter", this._mouseenter.bind(this));
    surface.bind("mouseleave", this._mouseleave.bind(this));

    this.element = surface.element;
};

SurfaceCursor.prototype.clear = function clear () {
    this._resetCursor();
};

SurfaceCursor.prototype.destroy = function destroy () {
    this._resetCursor();
    delete this.element;
};

SurfaceCursor.prototype._mouseenter = function _mouseenter (e) {
    var cursor = this._shapeCursor(e);

    if (!cursor) {
        this._resetCursor();
    } else {
        if (!this._current) {
            this._defaultCursor = this._getCursor();
        }

        this._setCursor(cursor);
    }
};

SurfaceCursor.prototype._mouseleave = function _mouseleave () {
    this._resetCursor();
};

SurfaceCursor.prototype._shapeCursor = function _shapeCursor (e) {
    var shape = e.element;

    while (shape && !defined(shape.options.cursor)) {
        shape = shape.parent;
    }

    if (shape) {
        return shape.options.cursor;
    }
};

SurfaceCursor.prototype._getCursor = function _getCursor () {
    if (this.element) {
        return this.element.style.cursor;
    }
};

SurfaceCursor.prototype._setCursor = function _setCursor (cursor) {
    if (this.element) {
        this.element.style.cursor = cursor;
        this._current = cursor;
    }
};

SurfaceCursor.prototype._resetCursor = function _resetCursor () {
    if (this._current) {
        this._setCursor(this._defaultCursor || "");
        delete this._current;
    }
};

function renderPath(ctx, path) {
    var segments = path.segments;

    if (segments.length === 0) {
        return;
    }

    var segment = segments[0];
    var anchor = segment.anchor();
    ctx.moveTo(anchor.x, anchor.y);

    for (var i = 1; i < segments.length; i++) {
        segment = segments[i];
        anchor = segment.anchor();

        var prevSeg = segments[i - 1];
        var prevOut = prevSeg.controlOut();
        var controlIn = segment.controlIn();

        if (prevOut && controlIn) {
            ctx.bezierCurveTo(prevOut.x, prevOut.y,
                controlIn.x, controlIn.y,
                anchor.x, anchor.y);
        } else {
            ctx.lineTo(anchor.x, anchor.y);
        }
    }

    if (path.options.closed) {
        ctx.closePath();
    }
}

function addGradientStops(gradient, stops) {
    for (var idx = 0; idx < stops.length; idx++) {
        var stop = stops[idx];
        var color = parseColor(stop.color());

        color.a *= stop.opacity();

        gradient.addColorStop(stop.offset(), color.toCssRgba());
    }
}

var PathNode$2 = (function (Node) {
    function PathNode () {
        Node.apply(this, arguments);
    }

    if ( Node ) PathNode.__proto__ = Node;
    PathNode.prototype = Object.create( Node && Node.prototype );
    PathNode.prototype.constructor = PathNode;

    PathNode.prototype.renderTo = function renderTo (ctx) {
        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        ctx.beginPath();

        this.renderPoints(ctx, this.srcElement);

        this.setLineDash(ctx);
        this.setLineCap(ctx);
        this.setLineJoin(ctx);

        this.setFill(ctx);
        this.setStroke(ctx);

        ctx.restore();
    };

    PathNode.prototype.setFill = function setFill (ctx) {
        var fill = this.srcElement.options.fill;
        var hasFill = false;

        if (fill) {
            if (fill.nodeType === "Gradient") {
                this.setGradientFill(ctx, fill);
                hasFill = true;
            } else if (!isTransparent(fill.color)) {
                ctx.fillStyle = fill.color;

                ctx.save();
                this.globalAlpha(ctx, fill.opacity);
                ctx.fill();
                ctx.restore();

                hasFill = true;
            }
        }

        return hasFill;
    };

    PathNode.prototype.setGradientFill = function setGradientFill (ctx, fill) {
        var bbox = this.srcElement.rawBBox();
        var gradient;

        if (fill instanceof LinearGradient) {
            var start = fill.start();
            var end = fill.end();
            gradient = ctx.createLinearGradient(start.x, start.y, end.x, end.y);
        } else if (fill instanceof RadialGradient) {
            var center = fill.center();
            gradient = ctx.createRadialGradient(center.x, center.y, 0, center.x, center.y, fill.radius());
        }

        addGradientStops(gradient, fill.stops);

        ctx.save();

        if (!fill.userSpace()) {
            ctx.transform(bbox.width(), 0, 0, bbox.height(), bbox.origin.x, bbox.origin.y);
        }
        ctx.fillStyle = gradient;
        ctx.fill();

        ctx.restore();
    };

    PathNode.prototype.setStroke = function setStroke (ctx) {
        var stroke = this.srcElement.options.stroke;
        if (stroke && !isTransparent(stroke.color) && stroke.width > 0) {
            ctx.strokeStyle = stroke.color;
            ctx.lineWidth = valueOrDefault(stroke.width, 1);

            ctx.save();
            this.globalAlpha(ctx, stroke.opacity);
            ctx.stroke();
            ctx.restore();

            return true;
        }
    };

    PathNode.prototype.dashType = function dashType () {
        var stroke = this.srcElement.options.stroke;
        if (stroke && stroke.dashType) {
            return stroke.dashType.toLowerCase();
        }
    };

    PathNode.prototype.setLineDash = function setLineDash (ctx) {
        var dashType = this.dashType();
        if (dashType && dashType !== SOLID) {
            var dashArray = DASH_ARRAYS[dashType];
            if (ctx.setLineDash) {
                ctx.setLineDash(dashArray);
            } else {
                ctx.mozDash = dashArray;
                ctx.webkitLineDash = dashArray;
            }
        }
    };

    PathNode.prototype.setLineCap = function setLineCap (ctx) {
        var dashType = this.dashType();
        var stroke = this.srcElement.options.stroke;
        if (dashType && dashType !== SOLID) {
            ctx.lineCap = BUTT;
        } else if (stroke && stroke.lineCap) {
            ctx.lineCap = stroke.lineCap;
        }
    };

    PathNode.prototype.setLineJoin = function setLineJoin (ctx) {
        var stroke = this.srcElement.options.stroke;
        if (stroke && stroke.lineJoin) {
            ctx.lineJoin = stroke.lineJoin;
        }
    };

    PathNode.prototype.renderPoints = function renderPoints (ctx, path) {
        renderPath(ctx, path);
    };

    return PathNode;
}(Node$2));

var ArcNode$2 = (function (PathNode) {
    function ArcNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) ArcNode.__proto__ = PathNode;
    ArcNode.prototype = Object.create( PathNode && PathNode.prototype );
    ArcNode.prototype.constructor = ArcNode;

    ArcNode.prototype.renderPoints = function renderPoints (ctx) {
        var path = this.srcElement.toPath();
        renderPath(ctx, path);
    };

    return ArcNode;
}(PathNode$2));

var CircleNode$2 = (function (PathNode) {
    function CircleNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) CircleNode.__proto__ = PathNode;
    CircleNode.prototype = Object.create( PathNode && PathNode.prototype );
    CircleNode.prototype.constructor = CircleNode;

    CircleNode.prototype.renderPoints = function renderPoints (ctx) {
        var ref = this.srcElement.geometry();
        var center = ref.center;
        var radius = ref.radius;

        ctx.arc(center.x, center.y, radius, 0, Math.PI * 2);
    };

    return CircleNode;
}(PathNode$2));

var ImageNode$2 = (function (PathNode) {
    function ImageNode(srcElement, cors) {
        PathNode.call(this, srcElement);

        this.onLoad = this.onLoad.bind(this);
        this.onError = this.onError.bind(this);

        this.loading = createPromise();

        var img = this.img = new Image();
        var src = srcElement.src();

        if (cors && !(/^data:/i.test(src))) {
            img.crossOrigin = cors;
        }

        if (src) {
            img.src = src;
        }

        if (img.complete) {
            this.onLoad();
        } else {
            img.onload = this.onLoad;
            img.onerror = this.onError;
        }
    }

    if ( PathNode ) ImageNode.__proto__ = PathNode;
    ImageNode.prototype = Object.create( PathNode && PathNode.prototype );
    ImageNode.prototype.constructor = ImageNode;

    ImageNode.prototype.renderTo = function renderTo (ctx) {
        if (this.loading.state() === "resolved") {
            ctx.save();

            this.setTransform(ctx);
            this.setClip(ctx);

            this.drawImage(ctx);

            ctx.restore();
        }
    };

    ImageNode.prototype.optionsChange = function optionsChange (e) {
        if (e.field === "src") {
            this.loading = createPromise();
            this.img.src = this.srcElement.src();
        } else {
            PathNode.prototype.optionsChange.call(this, e);
        }
    };

    ImageNode.prototype.onLoad = function onLoad () {
        this.loading.resolve();
        this.invalidate();
    };

    ImageNode.prototype.onError = function onError () {
        this.loading.reject(new Error(
            "Unable to load image '" + this.img.src +
            "'. Check for connectivity and verify CORS headers."
        ));
    };

    ImageNode.prototype.drawImage = function drawImage (ctx) {
        var rect = this.srcElement.rect();
        var topLeft = rect.topLeft();

        ctx.drawImage(
            this.img, topLeft.x, topLeft.y, rect.width(), rect.height()
        );
    };

    return ImageNode;
}(PathNode$2));

var MultiPathNode$2 = (function (PathNode) {
    function MultiPathNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) MultiPathNode.__proto__ = PathNode;
    MultiPathNode.prototype = Object.create( PathNode && PathNode.prototype );
    MultiPathNode.prototype.constructor = MultiPathNode;

    MultiPathNode.prototype.renderPoints = function renderPoints (ctx) {
        var paths = this.srcElement.paths;
        for (var i = 0; i < paths.length; i++) {
            renderPath(ctx, paths[i]);
        }
    };

    return MultiPathNode;
}(PathNode$2));

var RectNode$2 = (function (PathNode) {
    function RectNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) RectNode.__proto__ = PathNode;
    RectNode.prototype = Object.create( PathNode && PathNode.prototype );
    RectNode.prototype.constructor = RectNode;

    RectNode.prototype.renderPoints = function renderPoints (ctx) {
        var geometry = this.srcElement.geometry();
        var ref = geometry.cornerRadius;
        var rx = ref[0];
        var ry = ref[1];

        if (rx === 0 && ry === 0) {
            var origin = geometry.origin;
            var size = geometry.size;
            ctx.rect(origin.x, origin.y, size.width, size.height);
        } else {
            PathNode.prototype.renderPoints.call(this, ctx, Path.fromRect(geometry));
        }
    };

    return RectNode;
}(PathNode$2));

var TextNode$2 = (function (PathNode) {
    function TextNode () {
        PathNode.apply(this, arguments);
    }

    if ( PathNode ) TextNode.__proto__ = PathNode;
    TextNode.prototype = Object.create( PathNode && PathNode.prototype );
    TextNode.prototype.constructor = TextNode;

    TextNode.prototype.renderTo = function renderTo (ctx) {
        var text = this.srcElement;
        var pos = text.position();
        var size = text.measure();

        ctx.save();

        this.setTransform(ctx);
        this.setClip(ctx);
        this.setOpacity(ctx);

        ctx.beginPath();

        ctx.font = text.options.font;
        ctx.textAlign = 'left';

        if (this.setFill(ctx)) {
            ctx.fillText(text.content(), pos.x, pos.y + size.baseline);
        }

        if (this.setStroke(ctx)) {
            this.setLineDash(ctx);
            ctx.strokeText(text.content(), pos.x, pos.y + size.baseline);
        }

        ctx.restore();
    };

    return TextNode;
}(PathNode$2));

NODE_MAP$2.Arc = ArcNode$2;
NODE_MAP$2.Circle = CircleNode$2;
NODE_MAP$2.Group = GroupNode$2;
NODE_MAP$2.Image = ImageNode$2;
NODE_MAP$2.MultiPath = MultiPathNode$2;
NODE_MAP$2.Path = PathNode$2;
NODE_MAP$2.Rect = RectNode$2;
NODE_MAP$2.Text = TextNode$2;


var Surface$4 = (function (BaseSurface) {
    function Surface(element, options) {
        BaseSurface.call(this, element, options);

        this.element.innerHTML = this._template(this);

        var canvas = this.element.firstElementChild;
        canvas.style.width = '100%';
        canvas.style.height = '100%';

        var size = elementSize(element);

        canvas.width = size.width;
        canvas.height = size.height;

        this._rootElement = canvas;

        this._root = new RootNode$2(canvas, size);

        this._mouseTrackHandler = this._trackMouse.bind(this);

        bindEvents(this.element, {
            click: this._mouseTrackHandler,
            mousemove: this._mouseTrackHandler
        });
    }

    if ( BaseSurface ) Surface.__proto__ = BaseSurface;
    Surface.prototype = Object.create( BaseSurface && BaseSurface.prototype );
    Surface.prototype.constructor = Surface;

    var prototypeAccessors = { type: {} };

    prototypeAccessors.type.get = function () {
        return "canvas";
    };

    Surface.prototype.destroy = function destroy () {
        BaseSurface.prototype.destroy.call(this);

        if (this._root) {
            this._root.destroy();
            this._root = null;
        }

        if (this._searchTree) {
            this._searchTree.clear();
            delete this._searchTree;
        }

        if (this._cursor) {
            this._cursor.destroy();
            delete this._cursor;
        }

        unbindEvents(this.element, {
            click: this._mouseTrackHandler,
            mousemove: this._mouseTrackHandler
        });
    };

    Surface.prototype.draw = function draw (element) {
        BaseSurface.prototype.draw.call(this, element);
        this._root.load([ element ], undefined, this.options.cors);

        if (this._searchTree) {
            this._searchTree.add([ element ]);
        }
    };

    Surface.prototype.clear = function clear () {
        BaseSurface.prototype.clear.call(this);
        this._root.clear();

        if (this._searchTree) {
            this._searchTree.clear();
        }

        if (this._cursor) {
            this._cursor.clear();
        }
    };

    Surface.prototype.eventTarget = function eventTarget (e) {
        if (this._searchTree) {
            var point = this._surfacePoint(e);
            var shape = this._searchTree.pointShape(point);
            return shape;
        }
    };

    Surface.prototype.image = function image () {
        var ref = this;
        var root = ref._root;
        var rootElement = ref._rootElement;
        var loadingStates = [];

        root.traverse(function (childNode) {
            if (childNode.loading) {
                loadingStates.push(childNode.loading);
            }
        });

        var promise = createPromise();
        var resolveDataURL = function () {
            root._invalidate({ fixedScale: true });

            try {
                var data = rootElement.toDataURL();
                promise.resolve(data);
            } catch (e) {
                promise.reject(e);
            }
        };

        promiseAll(loadingStates).then(resolveDataURL, resolveDataURL);

        return promise;
    };

    Surface.prototype.suspendTracking = function suspendTracking () {
        BaseSurface.prototype.suspendTracking.call(this);
        if (this._searchTree) {
            this._searchTree.clear();
            delete this._searchTree;
        }
    };

    Surface.prototype.resumeTracking = function resumeTracking () {
        BaseSurface.prototype.resumeTracking.call(this);
        if (!this._searchTree) {
            this._searchTree = new ShapesQuadTree();

            var childNodes = this._root.childNodes;
            var rootElements = [];
            for (var idx = 0; idx < childNodes.length; idx++) {
                rootElements.push(childNodes[idx].srcElement);
            }
            this._searchTree.add(rootElements);
        }
    };

    Surface.prototype._resize = function _resize () {
        this._rootElement.width = this._size.width;
        this._rootElement.height = this._size.height;

        this._root.size = this._size;
        this._root.invalidate();
    };

    Surface.prototype._template = function _template () {
        return "<canvas></canvas>";
    };

    Surface.prototype._enableTracking = function _enableTracking () {
        this._searchTree = new ShapesQuadTree();
        this._cursor = new SurfaceCursor(this);

        BaseSurface.prototype._enableTracking.call(this);
    };

    Surface.prototype._trackMouse = function _trackMouse (e) {
        if (this._suspendedTracking) {
            return;
        }

        var shape = this.eventTarget(e);

        if (e.type !== "click") {
            var currentShape = this._currentShape;
            if (currentShape && currentShape !== shape) {
                this.trigger("mouseleave", {
                    element: currentShape,
                    originalEvent: e,
                    type: "mouseleave"
                });
            }

            if (shape && currentShape !== shape) {
                this.trigger("mouseenter", {
                    element: shape,
                    originalEvent: e,
                    type: "mouseenter"
                });
            }

            this.trigger("mousemove", {
                element: shape,
                originalEvent: e,
                type: "mousemove"
            });

            this._currentShape = shape;
        } else if (shape) {
            this.trigger("click", {
                element: shape,
                originalEvent: e,
                type: "click"
            });
        }
    };

    Object.defineProperties( Surface.prototype, prototypeAccessors );

    return Surface;
}(Surface$2));

var instance$2;
var support$2;

var hasDocument = function () { return typeof document !== "undefined"; };

var supportsCanvas = function () { return hasDocument() &&
    document.createElement("canvas").getContext; };

var supportsSVG = function () { return hasDocument() &&
    document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1"); };

var SurfaceFactory = (function (Class$$1) {
    function SurfaceFactory() {
        Class$$1.call(this);

        this._items = [ {
            name: "svg",
            type: Surface$3
        }, {
            name: "canvas",
            type: Surface$4
        } ];
    }

    if ( Class$$1 ) SurfaceFactory.__proto__ = Class$$1;
    SurfaceFactory.prototype = Object.create( Class$$1 && Class$$1.prototype );
    SurfaceFactory.prototype.constructor = SurfaceFactory;

    var staticAccessors = { support: {},current: {} };

    staticAccessors.support.get = function () {
        if (!support$2) {
            support$2 = {
                canvas: supportsCanvas(),
                svg: supportsSVG()
            };
        }

        return support$2;
    };

    staticAccessors.current.get = function () {
        if (!instance$2) {
            instance$2 = new SurfaceFactory();
        }

        return instance$2;
    };

    SurfaceFactory.prototype.create = function create (element, options) {
        var items = this._items;
        var match = items[0];

        if (options && options.type) {
            var preferred = options.type.toLowerCase();
            for (var i = 0; i < items.length; i++) {
                if (items[i].name === preferred) {
                    match = items[i];
                    break;
                }
            }
        }

        if (match) {
            return new match.type(element, options);
        }

        logToConsole(
            "Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n" +
            "- The browser does not support SVG and Canvas. User agent: " + (navigator.userAgent));
    };

    Object.defineProperties( SurfaceFactory, staticAccessors );

    return SurfaceFactory;
}(Class));

var Surface = (function (BaseSurface) {
    function Surface () {
        BaseSurface.apply(this, arguments);
    }

    if ( BaseSurface ) Surface.__proto__ = BaseSurface;
    Surface.prototype = Object.create( BaseSurface && BaseSurface.prototype );
    Surface.prototype.constructor = Surface;

    var staticAccessors = { support: {} };

    staticAccessors.support.get = function () {
        return SurfaceFactory.support;
    };

    Surface.create = function create (element, options) {
        return SurfaceFactory.current.create(element, options);
    };

    Object.defineProperties( Surface, staticAccessors );

    return Surface;
}(Surface$2));

function exportGroup(group) {
    var root = new RootNode({
        skipBaseHref: true
    });
    var bbox = group.clippedBBox();
    var rootGroup = group;

    if (bbox) {
        var origin = bbox.getOrigin();
        var exportRoot = new Group();
        exportRoot.transform(transform$1().translate(-origin.x, -origin.y));
        exportRoot.children.push(group);
        rootGroup = exportRoot;
    }

    root.load([ rootGroup ]);

    var svg = "<?xml version='1.0' ?><svg xmlns='" + SVG_NS + "' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>" + (root.render()) + "</svg>";

    root.destroy();

    return svg;
}



var svg$1 = Object.freeze({
	Surface: Surface$3,
	RootNode: RootNode,
	Node: Node,
	GroupNode: GroupNode,
	ArcNode: ArcNode,
	CircleNode: CircleNode,
	RectNode: RectNode,
	ImageNode: ImageNode,
	TextNode: TextNode,
	PathNode: PathNode,
	MultiPathNode: MultiPathNode,
	DefinitionNode: DefinitionNode,
	ClipNode: ClipNode,
	GradientStopNode: GradientStopNode,
	LinearGradientNode: LinearGradientNode,
	RadialGradientNode: RadialGradientNode,
	exportGroup: exportGroup
});



var canvas = Object.freeze({
	Surface: Surface$4,
	RootNode: RootNode$2,
	Node: Node$2,
	GroupNode: GroupNode$2,
	ArcNode: ArcNode$2,
	CircleNode: CircleNode$2,
	RectNode: RectNode$2,
	ImageNode: ImageNode$2,
	TextNode: TextNode$2,
	PathNode: PathNode$2,
	MultiPathNode: MultiPathNode$2
});

function exportImage(group, options) {
    var defaults = {
        width: "800px", height: "600px",
        cors: "Anonymous"
    };

    var exportRoot = group;
    var bbox = group.clippedBBox();


    if (bbox) {
        var origin = bbox.getOrigin();
        exportRoot = new Group();
        exportRoot.transform(transform$1().translate(-origin.x, -origin.y));
        exportRoot.children.push(group);

        var size = bbox.getSize();
        defaults.width = size.width + "px";
        defaults.height = size.height + "px";
    }

    var surfaceOptions = Object.assign(defaults, options);

    var container = document.createElement("div");
    var style = container.style;

    style.display = "none";
    style.width = surfaceOptions.width;
    style.height = surfaceOptions.height;
    document.body.appendChild(container);

    var surface = new Surface$4(container, surfaceOptions);
    surface.suspendTracking();
    surface.draw(exportRoot);

    var promise = surface.image();
    var destroy = function () {
        surface.destroy();
        document.body.removeChild(container);
    };
    promise.then(destroy, destroy);

    return promise;
}

function exportSVG(group, options) {
    var svg = exportGroup(group);

    if (!options || !options.raw) {
        svg = "data:image/svg+xml;base64," + encodeBase64(svg);
    }

    return createPromise().resolve(svg);
}



var drawing = Object.freeze({
	svg: svg$1,
	canvas: canvas,
	util: util,
	HasObservers: HasObservers,
	PathParser: PathParser,
	parsePath: parsePath,
	BaseNode: BaseNode,
	OptionsStore: OptionsStore,
	Surface: Surface,
	SurfaceFactory: SurfaceFactory,
	exportImage: exportImage,
	exportSVG: exportSVG,
	QuadNode: QuadNode,
	ShapesQuadTree: ShapesQuadTree,
	Element: Element$1,
	Circle: Circle,
	Arc: Arc,
	Path: Path,
	MultiPath: MultiPath,
	Text: Text,
	Image: Image$1,
	Group: Group,
	Layout: Layout,
	Rect: Rect$2,
	align: align,
	vAlign: vAlign,
	stack: stack,
	vStack: vStack,
	wrap: wrap,
	vWrap: vWrap,
	fit: fit,
	LinearGradient: LinearGradient,
	RadialGradient: RadialGradient,
	GradientStop: GradientStop,
	Gradient: Gradient,
	Animation: Animation,
	AnimationFactory: AnimationFactory
});

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

// XXX: remove this junk (assume `true`) when we no longer have to support IE < 10
// IE 9 (at least compatibility) reports having Uint8Array but the request response does not contain ArrayBuffer which results in missing table head error
var HAS_TYPED_ARRAYS = typeof Uint8Array !== 'undefined' && support.browser && (!support.browser.msie || support.browser.version > 9);

var BASE64 = (function(){
    var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
    return {
        decode: function(str) {
            var input = str.replace(/[^A-Za-z0-9\+\/\=]/g, ""), i = 0, n = input.length, output = [];

            while (i < n) {
                var enc1 = keyStr.indexOf(input.charAt(i++));
                var enc2 = keyStr.indexOf(input.charAt(i++));
                var enc3 = keyStr.indexOf(input.charAt(i++));
                var enc4 = keyStr.indexOf(input.charAt(i++));

                var chr1 = (enc1 << 2) | (enc2 >>> 4);
                var chr2 = ((enc2 & 15) << 4) | (enc3 >>> 2);
                var chr3 = ((enc3 & 3) << 6) | enc4;

                output.push(chr1);
                if (enc3 != 64) {
                    output.push(chr2);
                }
                if (enc4 != 64) {
                    output.push(chr3);
                }
            }

            return output;
        },
        encode: function(bytes) {
            var i = 0, n = bytes.length;
            var output = "";

            while (i < n) {
                var chr1 = bytes[i++];
                var chr2 = bytes[i++];
                var chr3 = bytes[i++];

                var enc1 = chr1 >>> 2;
                var enc2 = ((chr1 & 3) << 4) | (chr2 >>> 4);
                var enc3 = ((chr2 & 15) << 2) | (chr3 >>> 6);
                var enc4 = chr3 & 63;

                if (i - n == 2) {
                    enc3 = enc4 = 64;
                } else if (i - n == 1) {
                    enc4 = 64;
                }

                output += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
            }
            return output;
        }
    };
}());

function BinaryStream(data) {
    var offset = 0, length = 0;
    if (data == null) {
        data = HAS_TYPED_ARRAYS ? new Uint8Array(256) : [];
    } else {
        length = data.length;
    }

    var ensure = HAS_TYPED_ARRAYS ? function(len) {
        if (len >= data.length) {
            var tmp = new Uint8Array(Math.max(len + 256, data.length * 2));
            tmp.set(data, 0);
            data = tmp;
        }
    } : function() {};

    var get = HAS_TYPED_ARRAYS ? function() {
        return new Uint8Array(data.buffer, 0, length);
    } : function() {
        return data;
    };

    var write = HAS_TYPED_ARRAYS ? function(bytes) {
        if (typeof bytes == "string") {
            return writeString(bytes);
        }
        var len = bytes.length;
        ensure(offset + len);
        data.set(bytes, offset);
        offset += len;
        if (offset > length) {
            length = offset;
        }
    } : function(bytes) {
        if (typeof bytes == "string") {
            return writeString(bytes);
        }
        for (var i = 0; i < bytes.length; ++i) {
            writeByte(bytes[i]);
        }
    };

    var slice = HAS_TYPED_ARRAYS ? function(start, length) {
        if (data.buffer.slice) {
            return new Uint8Array(data.buffer.slice(start, start + length));
        } else {
            // IE10
            var x = new Uint8Array(length);
            x.set(new Uint8Array(data.buffer, start, length));
            return x;
        }
    } : function(start, length) {
        return data.slice(start, start + length);
    };

    function eof() {
        return offset >= length;
    }
    function readByte() {
        return offset < length ? data[offset++] : 0;
    }
    function writeByte(b) {
        ensure(offset);
        data[offset++] = b & 0xFF;
        if (offset > length) {
            length = offset;
        }
    }
    function readShort() {
        return (readByte() << 8) | readByte();
    }
    function writeShort(w) {
        writeByte(w >> 8);
        writeByte(w);
    }
    function readShort_() {
        var w = readShort();
        return w >= 0x8000 ? w - 0x10000 : w;
    }
    function writeShort_(w) {
        writeShort(w < 0 ? w + 0x10000 : w);
    }
    function readLong() {
        return (readShort() * 0x10000) + readShort();
    }
    function writeLong(w) {
        writeShort((w >>> 16) & 0xFFFF);
        writeShort(w & 0xFFFF);
    }
    function readLong_() {
        var w = readLong();
        return w >= 0x80000000 ? w - 0x100000000 : w;
    }
    function writeLong_(w) {
        writeLong(w < 0 ? w + 0x100000000 : w);
    }
    function readFixed() {
        return readLong() / 0x10000;
    }
    function writeFixed(f) {
        writeLong(Math.round(f * 0x10000));
    }
    function readFixed_() {
        return readLong_() / 0x10000;
    }
    function writeFixed_(f) {
        writeLong_(Math.round(f * 0x10000));
    }
    function read(len) {
        return times(len, readByte);
    }
    function readString(len) {
        return String.fromCharCode.apply(String, read(len));
    }
    function writeString(str) {
        for (var i = 0; i < str.length; ++i) {
            writeByte(str.charCodeAt(i));
        }
    }
    function times(n, reader) {
        for (var ret = new Array(n), i = 0; i < n; ++i) {
            ret[i] = reader();
        }
        return ret;
    }

    var stream = {
        eof         : eof,
        readByte    : readByte,
        writeByte   : writeByte,
        readShort   : readShort,
        writeShort  : writeShort,
        readLong    : readLong,
        writeLong   : writeLong,
        readFixed   : readFixed,
        writeFixed  : writeFixed,

        // signed numbers.
        readShort_  : readShort_,
        writeShort_ : writeShort_,
        readLong_   : readLong_,
        writeLong_  : writeLong_,
        readFixed_  : readFixed_,
        writeFixed_ : writeFixed_,

        read        : read,
        write       : write,
        readString  : readString,
        writeString : writeString,

        times       : times,
        get         : get,
        slice       : slice,

        offset: function(pos) {
            if (pos != null) {
                offset = pos;
                return stream;
            }
            return offset;
        },

        skip: function(nbytes) {
            offset += nbytes;
        },

        toString: function() {
            throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!");
        },

        length: function() { return length; },

        saveExcursion: function(f) {
            var pos = offset;
            try {
                return f();
            } finally {
                offset = pos;
            }
        },

        writeBase64: function(base64) {
            if (window.atob) {
                writeString(window.atob(base64));
            } else {
                write(BASE64.decode(base64));
            }
        },
        base64: function() {
            return BASE64.encode(get());
        }
    };

    return stream;
}

function ucs2decode(string) {
    var output = [],
        counter = 0,
        length = string.length,
        value,
        extra;
    while (counter < length) {
        value = string.charCodeAt(counter++);
        if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
            // high surrogate, and there is a next character
            extra = string.charCodeAt(counter++);
            if ((extra & 0xFC00) == 0xDC00) { // low surrogate
                output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
            } else {
                // unmatched surrogate; only append this code unit, in case the next
                // code unit is the high surrogate of a surrogate pair
                output.push(value);
                counter--;
            }
        } else {
            output.push(value);
        }
    }
    return output;
}

function ucs2encode(array) {
    return array.map(function(value){
        var output = "";
        if (value > 0xFFFF) {
            value -= 0x10000;
            output += String.fromCharCode(value >>> 10 & 0x3FF | 0xD800);
            value = 0xDC00 | value & 0x3FF;
        }
        output += String.fromCharCode(value);
        return output;
    }).join("");
}

function atobUint8Array(base64) {
    var data = window.atob(base64);
    var result = new Uint8Array(data.length);

    for (var idx = 0; idx < data.length; idx++) {
        result[idx] = data.charCodeAt(idx);
    }

    return result;
}

function createUint8Array(data) {
    var result = new Uint8Array(data.length);

    for (var idx = 0; idx < data.length; idx++) {
        result[idx] = data[idx];
    }

    return result;
}

function base64ToUint8Array(base64) {
    if (window.atob) {
        return atobUint8Array(base64);
    }

    return createUint8Array(BASE64.decode(base64));
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

/*****************************************************************************\
 *
 * The code in this file, although written from scratch, is influenced by the
 * TrueType parser/encoder in PDFKit -- http://pdfkit.org/ (a CoffeeScript
 * library for producing PDF files).
 *
 * PDFKit is (c) Devon Govett 2014 and released under the MIT License.
 *
\*****************************************************************************/

function hasOwnProperty$1(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

function sortedKeys(obj) {
    return Object.keys(obj).sort(function(a, b){ return a - b; }).map(parseFloat);
}

///
var Directory = function Directory(data) {
    this.raw = data;
    this.scalerType = data.readLong();
    this.tableCount = data.readShort();
    this.searchRange = data.readShort();
    this.entrySelector = data.readShort();
    this.rangeShift = data.readShort();

    var tables = this.tables = {};
    for (var i = 0; i < this.tableCount; ++i) {
        var entry = {
            tag  : data.readString(4),
            checksum : data.readLong(),
            offset   : data.readLong(),
            length   : data.readLong()
        };
        tables[entry.tag] = entry;
    }
};

Directory.prototype.readTable = function readTable (name, Ctor) {
    var def = this.tables[name];
    if (!def) {
        throw new Error("Table " + name + " not found in directory");
    }
    return (this[name] = def.table = new Ctor(this, def));
};

Directory.prototype.render = function render (tables) {
        var this$1 = this;

    var tableCount = Object.keys(tables).length;

    var maxpow2 = Math.pow(2, Math.floor(Math.log(tableCount) / Math.LN2));
    var searchRange = maxpow2 * 16;
    var entrySelector = Math.floor(Math.log(maxpow2) / Math.LN2);
    var rangeShift = tableCount * 16 - searchRange;

    var out = BinaryStream();
    out.writeLong(this.scalerType);
    out.writeShort(tableCount);
    out.writeShort(searchRange);
    out.writeShort(entrySelector);
    out.writeShort(rangeShift);

    var directoryLength = tableCount * 16;
    var offset = out.offset() + directoryLength;
    var headOffset = null;
    var tableData = BinaryStream();

    for (var tag in tables) {
        if (hasOwnProperty$1(tables, tag)) {
            var table = tables[tag];

            out.writeString(tag);
            out.writeLong(this$1.checksum(table));
            out.writeLong(offset);
            out.writeLong(table.length);

            tableData.write(table);
            if (tag == "head") {
                headOffset = offset;
            }
            offset += table.length;

            while (offset % 4) {
                tableData.writeByte(0);
                offset++;
            }
        }
    }

    out.write(tableData.get());
    var sum = this.checksum(out.get());
    var adjustment = 0xB1B0AFBA - sum;

    out.offset(headOffset + 8);
    out.writeLong(adjustment);
    return out.get();
};

Directory.prototype.checksum = function checksum (data) {
    data = BinaryStream(data);
    var sum = 0;
    while (!data.eof()) {
        sum += data.readLong();
    }
    return sum & 0xFFFFFFFF;
};

var Table = function Table(file, def) {
    this.definition = def;
    this.length = def.length;
    this.offset = def.offset;
    this.file = file;
    this.rawData = file.raw;
    this.parse(file.raw);
};

Table.prototype.raw = function raw () {
    return this.rawData.slice(this.offset, this.length);
};

Table.prototype.parse = function parse () {};

var HeadTable = (function (Table) {
    function HeadTable () {
        Table.apply(this, arguments);
    }

    if ( Table ) HeadTable.__proto__ = Table;
    HeadTable.prototype = Object.create( Table && Table.prototype );
    HeadTable.prototype.constructor = HeadTable;

    HeadTable.prototype.parse = function parse (data) {
        data.offset(this.offset);
        this.version             = data.readLong();
        this.revision            = data.readLong();
        this.checkSumAdjustment  = data.readLong();
        this.magicNumber         = data.readLong();
        this.flags               = data.readShort();
        this.unitsPerEm          = data.readShort();
        this.created             = data.read(8);
        this.modified            = data.read(8);

        this.xMin = data.readShort_();
        this.yMin = data.readShort_();
        this.xMax = data.readShort_();
        this.yMax = data.readShort_();

        this.macStyle           = data.readShort();
        this.lowestRecPPEM      = data.readShort();
        this.fontDirectionHint  = data.readShort_();
        this.indexToLocFormat   = data.readShort_();
        this.glyphDataFormat    = data.readShort_();
    };

    HeadTable.prototype.render = function render (indexToLocFormat) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeLong(this.revision);
        out.writeLong(0);       // checksum adjustment; shall be computed later
        out.writeLong(this.magicNumber);
        out.writeShort(this.flags);
        out.writeShort(this.unitsPerEm);
        out.write(this.created);
        out.write(this.modified);
        out.writeShort_(this.xMin);
        out.writeShort_(this.yMin);
        out.writeShort_(this.xMax);
        out.writeShort_(this.yMax);
        out.writeShort(this.macStyle);
        out.writeShort(this.lowestRecPPEM);
        out.writeShort_(this.fontDirectionHint);
        out.writeShort_(indexToLocFormat); // this will depend on the `loca` table
        out.writeShort_(this.glyphDataFormat);
        return out.get();
    };

    return HeadTable;
}(Table));

var LocaTable = (function (Table) {
    function LocaTable () {
        Table.apply(this, arguments);
    }

    if ( Table ) LocaTable.__proto__ = Table;
    LocaTable.prototype = Object.create( Table && Table.prototype );
    LocaTable.prototype.constructor = LocaTable;

    LocaTable.prototype.parse = function parse (data) {
        data.offset(this.offset);
        var format = this.file.head.indexToLocFormat;
        if (format === 0) {
            this.offsets = data.times(this.length / 2, function(){
                return 2 * data.readShort();
            });
        } else {
            this.offsets = data.times(this.length / 4, data.readLong);
        }
    };

    LocaTable.prototype.offsetOf = function offsetOf (id) {
        return this.offsets[id];
    };

    LocaTable.prototype.lengthOf = function lengthOf (id) {
        return this.offsets[id + 1] - this.offsets[id];
    };

    LocaTable.prototype.render = function render (offsets) {
        var out = BinaryStream();
        var needsLongFormat = offsets[offsets.length - 1] > 0xFFFF;
        for (var i = 0; i < offsets.length; ++i) {
            if (needsLongFormat) {
                out.writeLong(offsets[i]);
            } else {
                out.writeShort(offsets[i] / 2);
            }
        }
        return {
            format: needsLongFormat ? 1 : 0,
            table: out.get()
        };
    };

    return LocaTable;
}(Table));

var HheaTable = (function (Table) {
    function HheaTable () {
        Table.apply(this, arguments);
    }

    if ( Table ) HheaTable.__proto__ = Table;
    HheaTable.prototype = Object.create( Table && Table.prototype );
    HheaTable.prototype.constructor = HheaTable;

    HheaTable.prototype.parse = function parse (data) {
        data.offset(this.offset);

        this.version              = data.readLong();
        this.ascent               = data.readShort_();
        this.descent              = data.readShort_();
        this.lineGap              = data.readShort_();
        this.advanceWidthMax      = data.readShort();
        this.minLeftSideBearing   = data.readShort_();
        this.minRightSideBearing  = data.readShort_();
        this.xMaxExtent           = data.readShort_();
        this.caretSlopeRise       = data.readShort_();
        this.caretSlopeRun        = data.readShort_();
        this.caretOffset          = data.readShort_();

        data.skip(4 * 2);       // reserved

        this.metricDataFormat     = data.readShort_();
        this.numOfLongHorMetrics  = data.readShort();
    };

    HheaTable.prototype.render = function render (ids) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeShort_(this.ascent);
        out.writeShort_(this.descent);
        out.writeShort_(this.lineGap);
        out.writeShort(this.advanceWidthMax);
        out.writeShort_(this.minLeftSideBearing);
        out.writeShort_(this.minRightSideBearing);
        out.writeShort_(this.xMaxExtent);
        out.writeShort_(this.caretSlopeRise);
        out.writeShort_(this.caretSlopeRun);
        out.writeShort_(this.caretOffset);

        out.write([ 0, 0, 0, 0, 0, 0, 0, 0 ]); // reserved bytes

        out.writeShort_(this.metricDataFormat);
        out.writeShort(ids.length);
        return out.get();
    };

    return HheaTable;
}(Table));

var MaxpTable = (function (Table) {
    function MaxpTable () {
        Table.apply(this, arguments);
    }

    if ( Table ) MaxpTable.__proto__ = Table;
    MaxpTable.prototype = Object.create( Table && Table.prototype );
    MaxpTable.prototype.constructor = MaxpTable;

    MaxpTable.prototype.parse = function parse (data) {
        data.offset(this.offset);
        this.version = data.readLong();
        this.numGlyphs = data.readShort();
        this.maxPoints = data.readShort();
        this.maxContours = data.readShort();
        this.maxComponentPoints = data.readShort();
        this.maxComponentContours = data.readShort();
        this.maxZones = data.readShort();
        this.maxTwilightPoints = data.readShort();
        this.maxStorage = data.readShort();
        this.maxFunctionDefs = data.readShort();
        this.maxInstructionDefs = data.readShort();
        this.maxStackElements = data.readShort();
        this.maxSizeOfInstructions = data.readShort();
        this.maxComponentElements = data.readShort();
        this.maxComponentDepth = data.readShort();
    };

    MaxpTable.prototype.render = function render (glyphIds) {
        var out = BinaryStream();
        out.writeLong(this.version);
        out.writeShort(glyphIds.length);
        out.writeShort(this.maxPoints);
        out.writeShort(this.maxContours);
        out.writeShort(this.maxComponentPoints);
        out.writeShort(this.maxComponentContours);
        out.writeShort(this.maxZones);
        out.writeShort(this.maxTwilightPoints);
        out.writeShort(this.maxStorage);
        out.writeShort(this.maxFunctionDefs);
        out.writeShort(this.maxInstructionDefs);
        out.writeShort(this.maxStackElements);
        out.writeShort(this.maxSizeOfInstructions);
        out.writeShort(this.maxComponentElements);
        out.writeShort(this.maxComponentDepth);
        return out.get();
    };

    return MaxpTable;
}(Table));

var HmtxTable = (function (Table) {
    function HmtxTable () {
        Table.apply(this, arguments);
    }

    if ( Table ) HmtxTable.__proto__ = Table;
    HmtxTable.prototype = Object.create( Table && Table.prototype );
    HmtxTable.prototype.constructor = HmtxTable;

    HmtxTable.prototype.parse = function parse (data) {
        data.offset(this.offset);
        var dir = this.file, hhea = dir.hhea;
        this.metrics = data.times(hhea.numOfLongHorMetrics, function(){
            return {
                advance: data.readShort(),
                lsb: data.readShort_()
            };
        });
        var lsbCount = dir.maxp.numGlyphs - dir.hhea.numOfLongHorMetrics;
        this.leftSideBearings = data.times(lsbCount, data.readShort_);
    };

    HmtxTable.prototype.forGlyph = function forGlyph (id) {
        var metrics = this.metrics;
        var n = metrics.length;
        if (id < n) {
            return metrics[id];
        }
        return {
            advance: metrics[n - 1].advance,
            lsb: this.leftSideBearings[id - n]
        };
    };

    HmtxTable.prototype.render = function render (glyphIds) {
        var this$1 = this;

        var out = BinaryStream();
        for (var i = 0; i < glyphIds.length; ++i) {
            var m = this$1.forGlyph(glyphIds[i]);
            out.writeShort(m.advance);
            out.writeShort_(m.lsb);
        }
        return out.get();
    };

    return HmtxTable;
}(Table));

var GlyfTable = (function(){
    var SimpleGlyph = function SimpleGlyph(raw) {
        this.raw = raw;
    };

    var prototypeAccessors = { compound: {} };

    prototypeAccessors.compound.get = function () {
        return false;
    };

    SimpleGlyph.prototype.render = function render () {
        return this.raw.get();
    };

    Object.defineProperties( SimpleGlyph.prototype, prototypeAccessors );

    var ARG_1_AND_2_ARE_WORDS     = 0x0001;
    var WE_HAVE_A_SCALE           = 0x0008;
    var MORE_COMPONENTS           = 0x0020;
    var WE_HAVE_AN_X_AND_Y_SCALE  = 0x0040;
    var WE_HAVE_A_TWO_BY_TWO      = 0x0080;
    //var WE_HAVE_INSTRUCTIONS      = 0x0100;

    var CompoundGlyph = function CompoundGlyph(data) {
        this.raw = data;
        var ids = this.glyphIds = [];
        var offsets = this.idOffsets = [];
        while (true) {      // eslint-disable-line no-constant-condition
            var flags = data.readShort();
            offsets.push(data.offset());
            ids.push(data.readShort());

            if (!(flags & MORE_COMPONENTS)) {
                break;
            }

            data.skip(flags & ARG_1_AND_2_ARE_WORDS ? 4 : 2);

            if (flags & WE_HAVE_A_TWO_BY_TWO) {
                data.skip(8);
            } else if (flags & WE_HAVE_AN_X_AND_Y_SCALE) {
                data.skip(4);
            } else if (flags & WE_HAVE_A_SCALE) {
                data.skip(2);
            }
        }
    };

    var prototypeAccessors$1 = { compound: {} };

    prototypeAccessors$1.compound.get = function () {
        return true;
    };

    CompoundGlyph.prototype.render = function render (old2new) {
            var this$1 = this;

        var out = BinaryStream(this.raw.get());
        for (var i = 0; i < this.glyphIds.length; ++i) {
            var id = this$1.glyphIds[i];
            out.offset(this$1.idOffsets[i]);
            out.writeShort(old2new[id]);
        }
        return out.get();
    };

    Object.defineProperties( CompoundGlyph.prototype, prototypeAccessors$1 );

    return (function (Table) {
        function anonymous () {
            Table.apply(this, arguments);
        }

        if ( Table ) anonymous.__proto__ = Table;
        anonymous.prototype = Object.create( Table && Table.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.parse = function parse () {
            this.cache = {};
        };

        anonymous.prototype.glyphFor = function glyphFor (id) {
            var cache = this.cache;
            if (hasOwnProperty$1(cache, id)) {
                return cache[id];
            }

            var loca = this.file.loca;
            var length = loca.lengthOf(id);

            if (length === 0) {
                return (cache[id] = null);
            }

            var data = this.rawData;
            var offset = this.offset + loca.offsetOf(id);
            var raw = BinaryStream(data.slice(offset, length));

            var numberOfContours = raw.readShort_();
            var xMin = raw.readShort_();
            var yMin = raw.readShort_();
            var xMax = raw.readShort_();
            var yMax = raw.readShort_();

            var glyph = cache[id] = numberOfContours < 0 ? new CompoundGlyph(raw) : new SimpleGlyph(raw);

            glyph.numberOfContours = numberOfContours;
            glyph.xMin = xMin;
            glyph.yMin = yMin;
            glyph.xMax = xMax;
            glyph.yMax = yMax;

            return glyph;
        };

        anonymous.prototype.render = function render (glyphs, oldIds, old2new) {
            var out = BinaryStream(), offsets = [];
            for (var i = 0; i < oldIds.length; ++i) {
                var id = oldIds[i];
                var glyph = glyphs[id];
                if (out.offset() % 2) {
                    out.writeByte(0);
                }
                offsets.push(out.offset());
                if (glyph) {
                    out.write(glyph.render(old2new));
                }
            }
            if (out.offset() % 2) {
                out.writeByte(0);
            }
            offsets.push(out.offset());
            return {
                table: out.get(),
                offsets: offsets
            };
        };

        return anonymous;
    }(Table));
}());

var NameTable = (function(){
    var NameEntry = function NameEntry(text, entry) {
        this.text = text;
        this.length = text.length;
        this.platformID = entry.platformID;
        this.platformSpecificID = entry.platformSpecificID;
        this.languageID = entry.languageID;
        this.nameID = entry.nameID;
    };

    return (function (Table) {
        function anonymous () {
            Table.apply(this, arguments);
        }

        if ( Table ) anonymous.__proto__ = Table;
        anonymous.prototype = Object.create( Table && Table.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.parse = function parse (data) {
            data.offset(this.offset);
            data.readShort();   // format
            var count = data.readShort();
            var stringOffset = this.offset + data.readShort();
            var nameRecords = data.times(count, function(){
                return {
                    platformID         : data.readShort(),
                    platformSpecificID : data.readShort(),
                    languageID         : data.readShort(),
                    nameID             : data.readShort(),
                    length             : data.readShort(),
                    offset             : data.readShort() + stringOffset
                };
            });
            var strings = this.strings = {};
            for (var i = 0; i < nameRecords.length; ++i) {
                var rec = nameRecords[i];
                data.offset(rec.offset);
                var text = data.readString(rec.length);
                if (!strings[rec.nameID]) {
                    strings[rec.nameID] = [];
                }
                strings[rec.nameID].push(new NameEntry(text, rec));
            }
            this.postscriptEntry = strings[6][0];
            this.postscriptName = this.postscriptEntry.text.replace(/[^\x20-\x7F]/g, "");
        };

        anonymous.prototype.render = function render (psName) {
            var this$1 = this;

            var strings = this.strings;
            var strCount = 0;
            for (var i in strings) {
                if (hasOwnProperty$1(strings, i)) {
                    strCount += strings[i].length;
                }
            }
            var out = BinaryStream();
            var strTable = BinaryStream();

            out.writeShort(0);  // format
            out.writeShort(strCount);
            out.writeShort(6 + 12 * strCount); // stringOffset

            for (i in strings) {
                if (hasOwnProperty$1(strings, i)) {
                    var list = i == 6 ? [
                        new NameEntry(psName, this$1.postscriptEntry)
                    ] : strings[i];
                    for (var j = 0; j < list.length; ++j) {
                        var str = list[j];
                        out.writeShort(str.platformID);
                        out.writeShort(str.platformSpecificID);
                        out.writeShort(str.languageID);
                        out.writeShort(str.nameID);
                        out.writeShort(str.length);
                        out.writeShort(strTable.offset());

                        strTable.writeString(str.text);
                    }
                }
            }

            out.write(strTable.get());

            return out.get();
        };

        return anonymous;
    }(Table));
})();

var PostTable = (function(){
    var POSTSCRIPT_GLYPHS = ".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g);

    return (function (Table) {
        function anonymous () {
            Table.apply(this, arguments);
        }

        if ( Table ) anonymous.__proto__ = Table;
        anonymous.prototype = Object.create( Table && Table.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.parse = function parse (data) {
            var this$1 = this;

            data.offset(this.offset);

            this.format = data.readLong();
            this.italicAngle = data.readFixed_();
            this.underlinePosition = data.readShort_();
            this.underlineThickness = data.readShort_();
            this.isFixedPitch = data.readLong();
            this.minMemType42 = data.readLong();
            this.maxMemType42 = data.readLong();
            this.minMemType1 = data.readLong();
            this.maxMemType1 = data.readLong();

            var numberOfGlyphs;

            switch (this.format) {
              case 0x00010000:
              case 0x00030000:
                break;

              case 0x00020000:
                numberOfGlyphs = data.readShort();
                this.glyphNameIndex = data.times(numberOfGlyphs, data.readShort);
                this.names = [];
                var limit = this.offset + this.length;
                while (data.offset() < limit) {
                    this$1.names.push(data.readString(data.readByte()));
                }
                break;

              case 0x00025000:
                numberOfGlyphs = data.readShort();
                this.offsets = data.read(numberOfGlyphs);
                break;

              case 0x00040000:
                this.map = data.times(this.file.maxp.numGlyphs, data.readShort);
                break;
            }
        };

        anonymous.prototype.glyphFor = function glyphFor (code) {
            switch (this.format) {
              case 0x00010000:
                return POSTSCRIPT_GLYPHS[code] || ".notdef";

              case 0x00020000:
                var index = this.glyphNameIndex[code];
                if (index < POSTSCRIPT_GLYPHS.length) {
                    return POSTSCRIPT_GLYPHS[index];
                }
                return this.names[index - POSTSCRIPT_GLYPHS.length] || ".notdef";

              case 0x00025000:

              case 0x00030000:
                return ".notdef";

              case 0x00040000:
                return this.map[code] || 0xFFFF;
            }
        };

        anonymous.prototype.render = function render (mapping) {
            var this$1 = this;

            if (this.format == 0x00030000) {
                return this.raw();
            }

            // keep original header, but set format to 2.0
            var out = BinaryStream(this.rawData.slice(this.offset, 32));
            out.writeLong(0x00020000);
            out.offset(32);

            var indexes = [];
            var strings = [];

            for (var i = 0; i < mapping.length; ++i) {
                var id = mapping[i];
                var post = this$1.glyphFor(id);
                var index = POSTSCRIPT_GLYPHS.indexOf(post);
                if (index >= 0) {
                    indexes.push(index);
                } else {
                    indexes.push(POSTSCRIPT_GLYPHS.length + strings.length);
                    strings.push(post);
                }
            }

            out.writeShort(mapping.length);

            for (i = 0; i < indexes.length; ++i) {
                out.writeShort(indexes[i]);
            }

            for (i = 0; i < strings.length; ++i) {
                out.writeByte(strings[i].length);
                out.writeString(strings[i]);
            }

            return out.get();
        };

        return anonymous;
    }(Table));
})();

var CmapTable = (function(){
    var CmapEntry = function CmapEntry(data, offset, codeMap) {
        var self = this;
        self.platformID = data.readShort();
        self.platformSpecificID = data.readShort();
        self.offset = offset + data.readLong();

        data.saveExcursion(function(){
            var code;
            data.offset(self.offset);
            self.format = data.readShort();

            switch (self.format) {
            case 0:
                self.length = data.readShort();
                self.language = data.readShort();
                for (var i = 0; i < 256; ++i) {
                    codeMap[i] = data.readByte();
                }
                break;

            case 4:
                self.length = data.readShort();
                self.language = data.readShort();
                var segCount = data.readShort() / 2;

                data.skip(6);   // searchRange, entrySelector, rangeShift
                var endCode = data.times(segCount, data.readShort);
                data.skip(2);   // reserved pad
                var startCode = data.times(segCount, data.readShort);
                var idDelta = data.times(segCount, data.readShort_);
                var idRangeOffset = data.times(segCount, data.readShort);

                var count = (self.length + self.offset - data.offset()) / 2;
                var glyphIds = data.times(count, data.readShort);

                for (i = 0; i < segCount; ++i) {
                    var start = startCode[i], end = endCode[i];
                    for (code = start; code <= end; ++code) {
                        var glyphId;
                        if (idRangeOffset[i] === 0) {
                            glyphId = code + idDelta[i];
                        } else {
                            ///
                            // When non-zero, idRangeOffset contains for each segment the byte offset of the Glyph ID
                            // into the glyphIds table, from the *current* `i` cell of idRangeOffset.  In other words,
                            // this offset spans from the first into the second array.  This works, because the arrays
                            // are consecutive in the TTF file:
                            //
                            // [ ...idRangeOffset... ][ ...glyphIds... ]
                            //   ...... 48 ......   .... ID ....
                            //          ^----- 48 bytes -----^
                            //
                            // (but I can't stop wondering why is it not just a plain index, possibly incremented by 1
                            // so that we can have that special `zero` value.)
                            //
                            // The elements of idRangeOffset are even numbers, because both arrays contain 16-bit words,
                            // yet the offset is in bytes.  That is why we divide it by 2.  Then we subtract the
                            // remaining segments (segCount-i), and add the code-start offset, to which we need to add
                            // the corresponding delta to get the actual glyph ID.
                            ///
                            var index = idRangeOffset[i] / 2 - (segCount - i) + (code - start);
                            glyphId = glyphIds[index] || 0;
                            if (glyphId !== 0) {
                                glyphId += idDelta[i];
                            }
                        }
                        codeMap[code] = glyphId & 0xFFFF;
                    }
                }
                break;

            case 6:
                self.length = data.readShort();
                self.language = data.readShort();
                code = data.readShort();
                var length = data.readShort();
                while (length-- > 0) {
                    codeMap[code++] = data.readShort();
                }
                break;

            case 12:
                data.readShort(); // reserved
                self.length = data.readLong();
                self.language = data.readLong();
                var ngroups = data.readLong();
                while (ngroups-- > 0) {
                    code = data.readLong();
                    var endCharCode = data.readLong();
                    var glyphCode = data.readLong();
                    while (code <= endCharCode) {
                        codeMap[code++] = glyphCode++;
                    }
                }
                break;

            default:
                if (window.console) {
                    window.console.error("Unhandled CMAP format: " + self.format);
                }
            }
        });
    };

    function renderCharmap(ncid2ogid, ogid2ngid) {
        var codes = sortedKeys(ncid2ogid);
        var startCodes = [];
        var endCodes = [];
        var last = null;
        var diff = null;

        function new_gid(charcode) {
            return ogid2ngid[ncid2ogid[charcode]];
        }

        for (var i = 0; i < codes.length; ++i) {
            var code = codes[i];
            var gid = new_gid(code);
            var delta = gid - code;
            if (last == null || delta !== diff) {
                if (last) {
                    endCodes.push(last);
                }
                startCodes.push(code);
                diff = delta;
            }
            last = code;
        }

        if (last) {
            endCodes.push(last);
        }
        endCodes.push(0xFFFF);
        startCodes.push(0xFFFF);

        var segCount = startCodes.length;
        var segCountX2 = segCount * 2;
        var searchRange = 2 * Math.pow(2, Math.floor(Math.log(segCount) / Math.LN2));
        var entrySelector = Math.log(searchRange / 2) / Math.LN2;
        var rangeShift = segCountX2 - searchRange;

        var deltas = [];
        var rangeOffsets = [];
        var glyphIds = [];

        for (i = 0; i < segCount; ++i) {
            var startCode = startCodes[i];
            var endCode = endCodes[i];
            if (startCode == 0xFFFF) {
                deltas.push(0);
                rangeOffsets.push(0);
                break;
            }
            var startGlyph = new_gid(startCode);
            if (startCode - startGlyph >= 0x8000) {
                deltas.push(0);
                rangeOffsets.push(2 * (glyphIds.length + segCount - i));
                for (var j = startCode; j <= endCode; ++j) {
                    glyphIds.push(new_gid(j));
                }
            } else {
                deltas.push(startGlyph - startCode);
                rangeOffsets.push(0);
            }
        }

        var out = BinaryStream();

        out.writeShort(3);      // platformID
        out.writeShort(1);      // platformSpecificID
        out.writeLong(12);      // offset
        out.writeShort(4);      // format
        out.writeShort(16 + segCount * 8 + glyphIds.length * 2); // length
        out.writeShort(0);      // language
        out.writeShort(segCountX2);
        out.writeShort(searchRange);
        out.writeShort(entrySelector);
        out.writeShort(rangeShift);

        endCodes.forEach(out.writeShort);
        out.writeShort(0);      // reserved pad
        startCodes.forEach(out.writeShort);
        deltas.forEach(out.writeShort_);
        rangeOffsets.forEach(out.writeShort);
        glyphIds.forEach(out.writeShort);

        return out.get();
    }

    return (function (Table) {
        function anonymous () {
            Table.apply(this, arguments);
        }

        if ( Table ) anonymous.__proto__ = Table;
        anonymous.prototype = Object.create( Table && Table.prototype );
        anonymous.prototype.constructor = anonymous;

        anonymous.prototype.parse = function parse (data) {
            var self = this;
            var offset = self.offset;
            data.offset(offset);
            self.codeMap = {};
            self.version = data.readShort();
            var tableCount = data.readShort();
            self.tables = data.times(tableCount, function(){
                return new CmapEntry(data, offset, self.codeMap);
            });
        };

        anonymous.render = function render (ncid2ogid, ogid2ngid) {
            var out = BinaryStream();
            out.writeShort(0);  // version
            out.writeShort(1);  // tableCount
            out.write(renderCharmap(ncid2ogid, ogid2ngid));
            return out.get();
        };

        return anonymous;
    }(Table));

})();

var OS2Table = (function (Table) {
    function OS2Table () {
        Table.apply(this, arguments);
    }

    if ( Table ) OS2Table.__proto__ = Table;
    OS2Table.prototype = Object.create( Table && Table.prototype );
    OS2Table.prototype.constructor = OS2Table;

    OS2Table.prototype.parse = function parse (data) {
        data.offset(this.offset);
        this.version = data.readShort();
        this.averageCharWidth = data.readShort_();
        this.weightClass = data.readShort();
        this.widthClass = data.readShort();
        this.type = data.readShort();
        this.ySubscriptXSize = data.readShort_();
        this.ySubscriptYSize = data.readShort_();
        this.ySubscriptXOffset = data.readShort_();
        this.ySubscriptYOffset = data.readShort_();
        this.ySuperscriptXSize = data.readShort_();
        this.ySuperscriptYSize = data.readShort_();
        this.ySuperscriptXOffset = data.readShort_();
        this.ySuperscriptYOffset = data.readShort_();
        this.yStrikeoutSize = data.readShort_();
        this.yStrikeoutPosition = data.readShort_();
        this.familyClass = data.readShort_();

        this.panose = data.times(10, data.readByte);
        this.charRange = data.times(4, data.readLong);

        this.vendorID = data.readString(4);
        this.selection = data.readShort();
        this.firstCharIndex = data.readShort();
        this.lastCharIndex = data.readShort();

        if (this.version > 0) {
            this.ascent = data.readShort_();
            this.descent = data.readShort_();
            this.lineGap = data.readShort_();
            this.winAscent = data.readShort();
            this.winDescent = data.readShort();
            this.codePageRange = data.times(2, data.readLong);

            if (this.version > 1) {
                this.xHeight = data.readShort();
                this.capHeight = data.readShort();
                this.defaultChar = data.readShort();
                this.breakChar = data.readShort();
                this.maxContext = data.readShort();
            }
        }
    };

    OS2Table.prototype.render = function render () {
        return this.raw();
    };

    return OS2Table;
}(Table));

var subsetTag = 100000;

function nextSubsetTag() {
    var ret = "", n = String(subsetTag);
    for (var i = 0; i < n.length; ++i) {
        ret += String.fromCharCode(n.charCodeAt(i) - 48 + 65);
    }
    ++subsetTag;
    return ret;
}

var Subfont = function Subfont(font) {
    this.font = font;
    this.subset = {};
    this.unicodes = {};
    this.ogid2ngid = { 0: 0 };
    this.ngid2ogid = { 0: 0 };
    this.ncid2ogid = {};
    this.next = this.firstChar = 1;
    this.nextGid = 1;
    this.psName = nextSubsetTag() + "+" + this.font.psName;
};

Subfont.prototype.use = function use (ch) {
    var self = this;
    if (typeof ch == "string") {
        return ucs2decode(ch).reduce(function(ret, code){
            return ret + String.fromCharCode(self.use(code));
        }, "");
    }
    var code = self.unicodes[ch];
    if (!code) {
        code = self.next++;
        self.subset[code] = ch;
        self.unicodes[ch] = code;

        // generate new GID (glyph ID) and maintain newGID ->
        // oldGID and back mappings
        var old_gid = self.font.cmap.codeMap[ch];
        if (old_gid) {
            self.ncid2ogid[code] = old_gid;
            if (self.ogid2ngid[old_gid] == null) {
                var new_gid = self.nextGid++;
                self.ogid2ngid[old_gid] = new_gid;
                self.ngid2ogid[new_gid] = old_gid;
            }
        }
    }
    return code;
};

Subfont.prototype.encodeText = function encodeText (text) {
    return this.use(text);
};

Subfont.prototype.glyphIds = function glyphIds () {
    return sortedKeys(this.ogid2ngid);
};

Subfont.prototype.glyphsFor = function glyphsFor (glyphIds, result) {
        var this$1 = this;

    if (!result) {
        result = {};
    }
    for (var i = 0; i < glyphIds.length; ++i) {
        var id = glyphIds[i];
        if (!result[id]) {
            var glyph = result[id] = this$1.font.glyf.glyphFor(id);
            if (glyph && glyph.compound) {
                this$1.glyphsFor(glyph.glyphIds, result);
            }
        }
    }
    return result;
};

Subfont.prototype.render = function render () {
        var this$1 = this;

    var glyphs = this.glyphsFor(this.glyphIds());

    // add missing sub-glyphs
    for (var old_gid in glyphs) {
        if (hasOwnProperty$1(glyphs, old_gid)) {
            old_gid = parseInt(old_gid, 10);
            if (this$1.ogid2ngid[old_gid] == null) {
                var new_gid = this$1.nextGid++;
                this$1.ogid2ngid[old_gid] = new_gid;
                this$1.ngid2ogid[new_gid] = old_gid;
            }
        }
    }

    // must obtain old_gid_ids in an order matching sorted
    // new_gid_ids
    var new_gid_ids = sortedKeys(this.ngid2ogid);
    var old_gid_ids = new_gid_ids.map(function(id){
        return this.ngid2ogid[id];
    }, this);

    var font = this.font;
    var glyf = font.glyf.render(glyphs, old_gid_ids, this.ogid2ngid);
    var loca = font.loca.render(glyf.offsets);

    this.lastChar = this.next - 1;

    var tables = {
        "cmap" : CmapTable.render(this.ncid2ogid, this.ogid2ngid),
        "glyf" : glyf.table,
        "loca" : loca.table,
        "hmtx" : font.hmtx.render(old_gid_ids),
        "hhea" : font.hhea.render(old_gid_ids),
        "maxp" : font.maxp.render(old_gid_ids),
        "post" : font.post.render(old_gid_ids),
        "name" : font.name.render(this.psName),
        "head" : font.head.render(loca.format),
        "OS/2" : font.os2.render()
    };

    return this.font.directory.render(tables);
};

Subfont.prototype.cidToGidMap = function cidToGidMap () {
        var this$1 = this;

    var out = BinaryStream(), len = 0;
    for (var cid = this.firstChar; cid < this.next; ++cid) {
        while (len < cid) {
            out.writeShort(0);
            len++;
        }
        var old_gid = this$1.ncid2ogid[cid];
        if (old_gid) {
            var new_gid = this$1.ogid2ngid[old_gid];
            out.writeShort(new_gid);
        } else {
            out.writeShort(0);
        }
        len++;
    }
    return out.get();
};

var TTFFont = function TTFFont(rawData, name) {
    var self = this;
    var data = self.contents = BinaryStream(rawData);
    if (data.readString(4) == "ttcf") {
        var offset;
        var parse = function() {
            data.offset(offset);
            self.parse();
        };
        if (!name) {
            throw new Error("Must specify a name for TTC files");
        }
        data.readLong();    // version
        var numFonts = data.readLong();
        for (var i = 0; i < numFonts; ++i) {
            offset = data.readLong();
            data.saveExcursion(parse);
            if (self.psName == name) {
                return;
            }
        }
        throw new Error("Font " + name + " not found in collection");
    } else {
        data.offset(0);
        self.parse();
    }
};

TTFFont.prototype.parse = function parse () {
    var dir = this.directory = new Directory(this.contents);

    this.head = dir.readTable("head", HeadTable);
    this.loca = dir.readTable("loca", LocaTable);
    this.hhea = dir.readTable("hhea", HheaTable);
    this.maxp = dir.readTable("maxp", MaxpTable);
    this.hmtx = dir.readTable("hmtx", HmtxTable);
    this.glyf = dir.readTable("glyf", GlyfTable);
    this.name = dir.readTable("name", NameTable);
    this.post = dir.readTable("post", PostTable);
    this.cmap = dir.readTable("cmap", CmapTable);
    this.os2  = dir.readTable("OS/2", OS2Table);

    this.psName = this.name.postscriptName;
    this.ascent = this.os2.ascent || this.hhea.ascent;
    this.descent = this.os2.descent || this.hhea.descent;
    this.lineGap = this.os2.lineGap || this.hhea.lineGap;
    this.scale = 1000 / this.head.unitsPerEm;
};

TTFFont.prototype.widthOfGlyph = function widthOfGlyph (glyph) {
    return this.hmtx.forGlyph(glyph).advance * this.scale;
};

TTFFont.prototype.makeSubset = function makeSubset () {
    return new Subfont(this);
};

var deflate$1 = _progress_pakoEsm.deflate;

function supportsDeflate() {
    return true;
}

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var browser$2 = support.browser;
var NL = "\n";

var RESOURCE_COUNTER = 0;

var PAPER_SIZE = {
    a0        : [ 2383.94 , 3370.39 ],
    a1        : [ 1683.78 , 2383.94 ],
    a2        : [ 1190.55 , 1683.78 ],
    a3        : [ 841.89  , 1190.55 ],
    a4        : [ 595.28  , 841.89  ],
    a5        : [ 419.53  , 595.28  ],
    a6        : [ 297.64  , 419.53  ],
    a7        : [ 209.76  , 297.64  ],
    a8        : [ 147.40  , 209.76  ],
    a9        : [ 104.88  , 147.40  ],
    a10       : [ 73.70   , 104.88  ],
    b0        : [ 2834.65 , 4008.19 ],
    b1        : [ 2004.09 , 2834.65 ],
    b2        : [ 1417.32 , 2004.09 ],
    b3        : [ 1000.63 , 1417.32 ],
    b4        : [ 708.66  , 1000.63 ],
    b5        : [ 498.90  , 708.66  ],
    b6        : [ 354.33  , 498.90  ],
    b7        : [ 249.45  , 354.33  ],
    b8        : [ 175.75  , 249.45  ],
    b9        : [ 124.72  , 175.75  ],
    b10       : [ 87.87   , 124.72  ],
    c0        : [ 2599.37 , 3676.54 ],
    c1        : [ 1836.85 , 2599.37 ],
    c2        : [ 1298.27 , 1836.85 ],
    c3        : [ 918.43  , 1298.27 ],
    c4        : [ 649.13  , 918.43  ],
    c5        : [ 459.21  , 649.13  ],
    c6        : [ 323.15  , 459.21  ],
    c7        : [ 229.61  , 323.15  ],
    c8        : [ 161.57  , 229.61  ],
    c9        : [ 113.39  , 161.57  ],
    c10       : [ 79.37   , 113.39  ],
    executive : [ 521.86  , 756.00  ],
    folio     : [ 612.00  , 936.00  ],
    legal     : [ 612.00  , 1008.00 ],
    letter    : [ 612.00  , 792.00  ],
    tabloid   : [ 792.00  , 1224.00 ]
};

function makeOutput() {
    var indentLevel = 0, output = BinaryStream();
    function out() {
        var arguments$1 = arguments;

        for (var i = 0; i < arguments.length; ++i) {
            var x = arguments$1[i];
            if (x === undefined) {
                throw new Error("Cannot output undefined to PDF");
            }
            else if (x instanceof PDFValue) {
                x.beforeRender(out);
                x.render(out);
            }
            else if (isArray(x)) {
                renderArray(x, out);
            }
            else if (isDate(x)) {
                renderDate(x, out);
            }
            else if (typeof x == "number") {
                if (isNaN(x)) {
                    throw new Error("Cannot output NaN to PDF");
                }
                // make sure it doesn't end up in exponent notation
                var num = x.toFixed(7);
                if (num.indexOf(".") >= 0) {
                    num = num.replace(/\.?0+$/, "");
                }
                if (num == "-0") {
                    num = "0";
                }
                output.writeString(num);
            }
            else if (/string|boolean/.test(typeof x)) {
                output.writeString(String(x));
            }
            else if (typeof x.get == "function") {
                output.write(x.get());
            }
            else if (typeof x == "object") {
                if (!x) {
                    output.writeString("null");
                } else {
                    out(new PDFDictionary(x));
                }
            }
        }
    }
    out.writeData = function(data) {
        output.write(data);
    };
    out.withIndent = function(f) {
        ++indentLevel;
        f(out);
        --indentLevel;
    };
    out.indent = function() {
        out(NL, pad("", indentLevel * 2, "  "));
        out.apply(null, arguments);
    };
    out.offset = function() {
        return output.offset();
    };
    out.toString = function() {
        throw new Error("FIX CALLER");
    };
    out.get = function() {
        return output.get();
    };
    out.stream = function() {
        return output;
    };
    return out;
}

function wrapObject(value, id) {
    var beforeRender = value.beforeRender;
    var renderValue = value.render;

    value.beforeRender = function(){};

    value.render = function(out) {
        out(id, " 0 R");
    };

    value.renderFull = function(out) {
        value._offset = out.offset();
        out(id, " 0 obj ");
        beforeRender.call(value, out);
        renderValue.call(value, out);
        out(" endobj");
    };
}

function getPaperOptions(getOption) {
    if (typeof getOption != "function") {
        var options = getOption;
        getOption = function(key, def) {
            return key in options ? options[key] : def;
        };
    }
    var paperSize = getOption("paperSize", PAPER_SIZE.a4);
    if (!paperSize) {
        return {};
    }
    if (typeof paperSize == "string") {
        paperSize = PAPER_SIZE[paperSize.toLowerCase()];
        if (paperSize == null) {
            throw new Error("Unknown paper size");
        }
    }

    paperSize[0] = unitsToPoints(paperSize[0]);
    paperSize[1] = unitsToPoints(paperSize[1]);

    if (getOption("landscape", false)) {
        paperSize = [
            Math.max(paperSize[0], paperSize[1]),
            Math.min(paperSize[0], paperSize[1])
        ];
    }

    var margin = getOption("margin");
    if (margin) {
        if (typeof margin == "string" || typeof margin == "number") {
            margin = unitsToPoints(margin, 0);
            margin = { left: margin, top: margin, right: margin, bottom: margin };
        } else {
            margin = {
                left   : unitsToPoints(margin.left, 0),
                top    : unitsToPoints(margin.top, 0),
                right  : unitsToPoints(margin.right, 0),
                bottom : unitsToPoints(margin.bottom, 0)
            };
        }
        if (getOption("addMargin")) {
            paperSize[0] += margin.left + margin.right;
            paperSize[1] += margin.top + margin.bottom;
        }
    }
    return { paperSize: paperSize, margin: margin };
}

var FONT_CACHE = {
    "Times-Roman"           : true,
    "Times-Bold"            : true,
    "Times-Italic"          : true,
    "Times-BoldItalic"      : true,
    "Helvetica"             : true,
    "Helvetica-Bold"        : true,
    "Helvetica-Oblique"     : true,
    "Helvetica-BoldOblique" : true,
    "Courier"               : true,
    "Courier-Bold"          : true,
    "Courier-Oblique"       : true,
    "Courier-BoldOblique"   : true,
    "Symbol"                : true,
    "ZapfDingbats"          : true
};

function loadBinary(url, cont) {
    // IE throws Accesss denied error for Data URIs
    var m;
    if (browser$2.msie && (m = /^data:.*?;base64,/i.exec(url))) {
        cont(base64ToUint8Array(url.substr(m[0].length)));
        return;
    }

    function error() {
        if (window.console) {
            if (window.console.error) {
                window.console.error("Cannot load URL: %s", url);
            } else {
                window.console.log("Cannot load URL: %s", url);
            }
        }
        cont(null);
    }
    var req = new XMLHttpRequest();
    req.open('GET', url, true);
    if (HAS_TYPED_ARRAYS) {
        req.responseType = "arraybuffer";
    }
    req.onload = function() {
        if (req.status == 200 || req.status == 304) {
            if (HAS_TYPED_ARRAYS) {
                cont(new Uint8Array(req.response));
            } else {
                cont(new window.VBArray(req.responseBody).toArray()); // IE9 only
            }
        } else {
            error();
        }
    };
    req.onerror = error;
    req.send(null);
}

function loadFont(url, cont) {
    var font = FONT_CACHE[url];
    if (font) {
        cont(font);
    } else {
        loadBinary(url, function(data){
            if (data == null) {
                throw new Error("Cannot load font from " + url);
            } else {
                var font = new TTFFont(data);
                FONT_CACHE[url] = font;
                cont(font);
            }
        });
    }
}

var IMAGE_CACHE = {};

function clearImageCache() {
    IMAGE_CACHE = {};
}

function loadImage(url, size, cont, options) {
    var img = IMAGE_CACHE[url], bloburl, blob;
    if (img) {
        cont(img);
    } else {
        img = new Image();
        if (!(/^data:/i.test(url))) {
            img.crossOrigin = "Anonymous";
        }
        if (HAS_TYPED_ARRAYS && !(/^data:/i.test(url))) {
            // IE10 fails to load images from another domain even when the server sends the
            // proper CORS headers.  a XHR, however, will be able to load the data.
            // http://stackoverflow.com/a/19734516/154985
            //
            // On the other hand, it's worth doing it this way for all browsers which support
            // responseType = "blob" (HAS_TYPED_ARRAYS will be true), because we can inspect the
            // mime type and if it's a JPEG (very common case) we can save a lot of time in
            // _load below.
            var xhr = new XMLHttpRequest();
            xhr.onload = function() {
                blob = xhr.response;
                if (browser$2.mozilla && blob.type == "image/svg+xml") {
                    // Firefox won't render SVGs that don't contain width and height attributes.
                    var reader = new FileReader();
                    reader.onload = function() {
                        var doc = new window.DOMParser().parseFromString(this.result, "image/svg+xml");
                        var svg = doc.documentElement;
                        if (svg.getAttribute("width") && svg.getAttribute("height")) {
                            // we're good, continue with the existing blob.
                            bloburl = URL.createObjectURL(blob);
                            _load(bloburl);
                        } else {
                            svg.setAttribute("width", size.width);
                            svg.setAttribute("height", size.height);
                            var xml = new window.XMLSerializer().serializeToString(svg);
                            var dataURL = "data:image/svg+xml;base64," + (encodeBase64(xml));
                            _load(dataURL);
                        }
                    };
                    reader.readAsText(blob);
                } else {
                    bloburl = URL.createObjectURL(blob);
                    _load(bloburl);
                }
            };
            xhr.onerror = _onerror;
            xhr.open("GET", url, true);
            xhr.responseType = "blob";
            xhr.send();
        } else {
            _load(url);
        }
    }

    function _load(url) {
        img.src = url;
        if (img.complete && !browser$2.msie) {
            // IE, bless its little heart, says img.complete == true even though the image is
            // not loaded (width=0), therefore we must go the onload route (ticket 929635).
            _onload.call(img);
        } else {
            img.onload = _onload;
            img.onerror = _onerror;
        }
    }

    function _trycanvas() {
        if (!size) {
            size = { width: img.width, height: img.height };
        }

        var canvas = document.createElement("canvas");
        canvas.width = size.width;
        canvas.height = size.height;

        var ctx = canvas.getContext("2d");
        ctx.drawImage(img, 0, 0, size.width, size.height);

        var imgdata;
        try {
            imgdata = ctx.getImageData(0, 0, size.width, size.height);
        } catch (ex) {
            // it tainted the canvas -- can't draw it.
            _onerror();
            return;
        } finally {
            if (bloburl) {
                URL.revokeObjectURL(bloburl);
            }
        }

        // in case it contains transparency, we must separate rgb data from the alpha
        // channel and create a PDFRawImage image with opacity.  otherwise we can use a
        // PDFJpegImage.
        //
        // to do this in one step, we create the rgb and alpha streams anyway, even if
        // we might end up not using them if hasAlpha remains false.

        var hasAlpha = false, rgb = BinaryStream(), alpha = BinaryStream();
        var rawbytes = imgdata.data;
        var i = 0;
        while (i < rawbytes.length) {
            rgb.writeByte(rawbytes[i++]);
            rgb.writeByte(rawbytes[i++]);
            rgb.writeByte(rawbytes[i++]);
            var a = rawbytes[i++];
            if (a < 255) {
                hasAlpha = true;
            }
            alpha.writeByte(a);
        }

        if (hasAlpha || options.keepPNG) {
            img = new PDFRawImage(size.width, size.height, rgb, alpha);
        } else {
            // no transparency, encode as JPEG.
            var data = canvas.toDataURL("image/jpeg", options.jpegQuality);
            data = data.substr(data.indexOf(";base64,") + 8);

            var stream = BinaryStream();
            stream.writeBase64(data);
            img = new PDFJpegImage(stream);
        }

        cont(IMAGE_CACHE[url] = img);
    }

    function _onerror() {
        cont(IMAGE_CACHE[url] = "ERROR");
    }

    function _onload() {
        if (size) {
            var svg = (blob && blob.type === 'image/svg+xml') || (
              /^data:image\/svg\+xml;/i.test(this.src.substring(0, 19))
            );

            var upscale = size.width >= img.width || size.height >= img.height;

            // Use the original image if requested size is bigger than the source,
            // unless it's an SVG that can be upscaled.
            if (!svg && upscale) {
                size = null;
            }
        }
        if (!size && blob && /^image\/jpe?g$/i.test(blob.type)) {
            // If we know we got a JPEG, we can skip the process of rendering it to a
            // canvas, getting the pixel data, searching for transparency we know we won't
            // find, getting back a data URI and then decoding the BASE64 to finally get the
            // binary we already have.  Also, we avoid downgrading the image quality, with
            // the possible drawback of making a bigger PDF; still, seems legit.
            //
            // Besides saving a lot of work, this also reuses the buffer memory
            // (BinaryStream does not create a copy), potentially saving some GC cycles.
            var reader = new FileReader();
            reader.onload = function() {
                try {
                    var img = new PDFJpegImage(BinaryStream(new Uint8Array(this.result)));
                    URL.revokeObjectURL(bloburl);
                    cont(IMAGE_CACHE[url] = img);
                } catch (ex) {
                    // if there's an error parsing the JPEG stream, it could be due to a
                    // misconfigured server (improper content-type:
                    // https://github.com/telerik/kendo-ui-core/issues/4184).  If that's the case,
                    // the canvas will still be able to draw it.
                    _trycanvas();
                }
            };
            reader.readAsArrayBuffer(blob);
        } else {
            _trycanvas();
        }
    }
}

function manyLoader(loadOne) {
    return function(urls, callback) {
        var n = urls.length, i = n;
        if (n === 0) {
            return callback();
        }
        function next() {
            if (--n === 0) {
                callback();
            }
        }
        while (i-- > 0) {
            loadOne(urls[i], next);
        }
    };
}

var loadFonts = manyLoader(loadFont);
var loadImages = function(images, callback, options) {
    options = Object.assign({
        jpegQuality : 0.92,
        keepPNG     : false
    }, options);
    var urls = Object.keys(images), n = urls.length;
    if (n === 0) {
        return callback();
    }
    function next() {
        if (--n === 0) {
            callback();
        }
    }
    urls.forEach(function(url){
        loadImage(url, images[url], next, options);
    });
};

var PDFDocument = function PDFDocument (options) {
    var self = this;
    var out = makeOutput();
    var objcount = 0;
    var objects = [];

    function getOption(name, defval) {
        return (options && options[name] != null) ? options[name] : defval;
    }

    self.getOption = getOption;

    self.attach = function(value) {
        if (objects.indexOf(value) < 0) {
            wrapObject(value, ++objcount);
            objects.push(value);
        }
        return value;
    };

    self.pages = [];

    self.FONTS = {};
    self.IMAGES = {};
    self.GRAD_COL_FUNCTIONS = {}; // cache for color gradient functions
    self.GRAD_OPC_FUNCTIONS = {}; // cache for opacity gradient functions
    self.GRAD_COL = {}; // cache for whole color gradient objects
    self.GRAD_OPC = {}; // cache for whole opacity gradient objects

    var catalog = self.attach(new PDFCatalog());
    var pageTree = self.attach(new PDFPageTree());

    if (getOption("autoPrint")) {
        var nameTree = {};
        nameTree.JavaScript = new PDFDictionary({ Names: [
            new PDFString("JS"), self.attach(new PDFDictionary({
                S: _("JavaScript"),
                JS: new PDFString("print(true);")
            }))
        ] });
        catalog.props.Names = new PDFDictionary(nameTree);
    }

    catalog.setPages(pageTree);

    var info = self.attach(new PDFDictionary({
        Producer : new PDFString(getOption("producer", "Kendo UI PDF Generator"), true), // XXX: kendo.version?
        Title    : new PDFString(getOption("title", ""), true),
        Author   : new PDFString(getOption("author", ""), true),
        Subject  : new PDFString(getOption("subject", ""), true),
        Keywords : new PDFString(getOption("keywords", ""), true),
        Creator  : new PDFString(getOption("creator", "Kendo UI PDF Generator"), true),
        CreationDate : getOption("date", new Date())
    }));

    self.addPage = function(options) {
        var paperOptions  = getPaperOptions(function(name, defval){
            return (options && options[name] != null) ? options[name] : defval;
        });
        var paperSize = paperOptions.paperSize;
        var margin    = paperOptions.margin;
        var contentWidth  = paperSize[0];
        var contentHeight = paperSize[1];
        if (margin) {
            contentWidth -= margin.left + margin.right;
            contentHeight -= margin.top + margin.bottom;
        }
        var content = new PDFStream(makeOutput(), null, true);
        var props = {
            Contents : self.attach(content),
            Parent   : pageTree,
            MediaBox : [ 0, 0, paperSize[0], paperSize[1] ]
        };
        var page = new PDFPage(self, props);
        page._content = content;
        pageTree.addPage(self.attach(page));

        // canvas-like coord. system.  (0,0) is upper-left.
        // text must be vertically mirorred before drawing.
        page.transform(1, 0, 0, -1, 0, paperSize[1]);

        if (margin) {
            page.translate(margin.left, margin.top);
            // XXX: clip to right/bottom margin.  Make this optional?
            page.rect(0, 0, contentWidth, contentHeight);
            page.clip();
        }

        self.pages.push(page);
        return page;
    };

    self.render = function() {
        var i;
        /// file header
        out("%PDF-1.4", NL, "%\xc2\xc1\xda\xcf\xce", NL, NL);

        /// file body
        for (i = 0; i < objects.length; ++i) {
            objects[i].renderFull(out);
            out(NL, NL);
        }

        /// cross-reference table
        var xrefOffset = out.offset();
        out("xref", NL, 0, " ", objects.length + 1, NL);
        out("0000000000 65535 f ", NL);
        for (i = 0; i < objects.length; ++i) {
            out(zeropad(objects[i]._offset, 10), " 00000 n ", NL);
        }
        out(NL);

        /// trailer
        out("trailer", NL);
        out(new PDFDictionary({
            Size: objects.length + 1,
            Root: catalog,
            Info: info
        }), NL, NL);

        /// end
        out("startxref", NL, xrefOffset, NL);
        out("%%EOF", NL);

        return out.stream().offset(0);
    };

    self.loadFonts = loadFonts;
    self.loadImages = loadImages;
};

PDFDocument.prototype.getFont = function getFont (url) {
    var font = this.FONTS[url];
    if (!font) {
        font = FONT_CACHE[url];
        if (!font) {
            throw new Error("Font " + url + " has not been loaded");
        }
        if (font === true) {
            font = this.attach(new PDFStandardFont(url));
        } else {
            font = this.attach(new PDFFont(this, font));
        }
        this.FONTS[url] = font;
    }
    return font;
};

PDFDocument.prototype.getImage = function getImage (url) {
    var img = this.IMAGES[url];
    if (!img) {
        img = IMAGE_CACHE[url];
        if (!img) {
            throw new Error("Image " + url + " has not been loaded");
        }
        if (img === "ERROR") {
            return null;
        }
        img = this.IMAGES[url] = this.attach(img.asStream(this));
    }
    return img;
};

PDFDocument.prototype.getOpacityGS = function getOpacityGS (opacity, forStroke) {
    var id = parseFloat(opacity).toFixed(3);
    opacity = parseFloat(id);
    id += forStroke ? "S" : "F";
    var cache = this._opacityGSCache || (this._opacityGSCache = {});
    var gs = cache[id];
    if (!gs) {
        var props = {
            Type: _("ExtGState")
        };
        if (forStroke) {
            props.CA = opacity;
        } else {
            props.ca = opacity;
        }
        gs = this.attach(new PDFDictionary(props));
        gs._resourceName = _("GS" + (++RESOURCE_COUNTER));
        cache[id] = gs;
    }
    return gs;
};

PDFDocument.prototype.dict = function dict (props) {
    return new PDFDictionary(props);
};

PDFDocument.prototype.name = function name (str) {
    return _(str);
};

PDFDocument.prototype.stream = function stream (props, content) {
    return new PDFStream(content, props);
};

/* -----[ utils ]----- */

function pad(str, len, ch) {
    while (str.length < len) {
        str = ch + str;
    }
    return str;
}

function zeropad(n, len) {
    return pad(String(n), len, "0");
}

function hasOwnProperty(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

var isArray = Array.isArray || function(obj) {
    return obj instanceof Array;
};

function isDate(obj) {
    return obj instanceof Date;
}

function renderArray(a, out) {
    out("[");
    if (a.length > 0) {
        out.withIndent(function(){
            for (var i = 0; i < a.length; ++i) {
                if (i > 0 && i % 8 === 0) {
                    out.indent(a[i]);
                } else {
                    out(" ", a[i]);
                }
            }
        });
        //out.indent();
    }
    out(" ]");
}

function renderDate(date, out) {
    out("(D:",
        zeropad(date.getUTCFullYear(), 4),
        zeropad(date.getUTCMonth() + 1, 2),
        zeropad(date.getUTCDate(), 2),
        zeropad(date.getUTCHours(), 2),
        zeropad(date.getUTCMinutes(), 2),
        zeropad(date.getUTCSeconds(), 2),
        "Z)");
}

function mm2pt(mm) {
    return mm * (72/25.4);
}

function cm2pt(cm) {
    return mm2pt(cm * 10);
}

function in2pt(inch)  {
    return inch * 72;
}


function unitsToPoints(x, def) {
    if (typeof x == "number") {
        return x;
    }
    if (typeof x == "string") {
        var m;
        m = /^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(x);
        if (m) {
            var num = parseFloat(m[1]);
            if (!isNaN(num)) {
                if (m[2] == "pt") {
                    return num;
                }
                return {
                    "mm": mm2pt,
                    "cm": cm2pt,
                    "in": in2pt
                }[m[2]](num);
            }
        }
    }
    if (def != null) {
        return def;
    }
    throw new Error("Can't parse unit: " + x);
}

/* -----[ PDF basic objects ]----- */

var PDFValue = function PDFValue () {};

PDFValue.prototype.beforeRender = function beforeRender () {};

var PDFString = (function (PDFValue) {
    function PDFString(value, utf16be) {
        PDFValue.call(this);
        this.value = value;
        this.utf16be = Boolean(utf16be);
    }

    if ( PDFValue ) PDFString.__proto__ = PDFValue;
    PDFString.prototype = Object.create( PDFValue && PDFValue.prototype );
    PDFString.prototype.constructor = PDFString;

    PDFString.prototype.render = function render (out) {
        var txt = this.value;
        if (this.utf16be) {
            txt = BOM + encodeUTF16BE(txt);
            txt = txt.replace(/([\(\)\\])/g, "\\$1");
            out("(", txt, ")");
        } else {
            // out.writeString truncates charcodes to 8 bits and
            // 0x128 & 0xFF is 40, the code for open paren.
            // therefore we need to do the chopping here to make
            // sure we backslash all cases.
            var data = [ 40 ]; // open PDF string '('
            for (var i = 0; i < txt.length; ++i) {
                var code = txt.charCodeAt(i) & 0xFF;
                if (code == 40 || code == 41 || code == 92) {
                    // backslash before (, ) and \
                    data.push(92);
                }
                data.push(code);
            }
            data.push(41);  // ')' close PDF string
            out.writeData(data);
        }
    };

    PDFString.prototype.toString = function toString () {
        return this.value;
    };

    return PDFString;
}(PDFValue));

var PDFHexString = (function (PDFString) {
    function PDFHexString(value) {
        PDFString.call(this, value);
        this.value = value;
    }

    if ( PDFString ) PDFHexString.__proto__ = PDFString;
    PDFHexString.prototype = Object.create( PDFString && PDFString.prototype );
    PDFHexString.prototype.constructor = PDFHexString;

    PDFHexString.prototype.render = function render (out) {
        var this$1 = this;

        out("<");
        for (var i = 0; i < this.value.length; ++i) {
            out(zeropad(this$1.value.charCodeAt(i).toString(16), 4));
        }
        out(">");
    };

    return PDFHexString;
}(PDFString));

/// names
var PDFName = (function (PDFValue) {
    function PDFName(name) {
        PDFValue.call(this);
        this.name = name;
    }

    if ( PDFValue ) PDFName.__proto__ = PDFValue;
    PDFName.prototype = Object.create( PDFValue && PDFValue.prototype );
    PDFName.prototype.constructor = PDFName;

    PDFName.get = function get (name) {
        return _(name);
    };

    PDFName.prototype.render = function render (out) {
        out("/" + this.escape());
    };

    PDFName.prototype.escape = function escape () {
        return this.name.replace(/[^\x21-\x7E]/g, function(c){
            return "#" + zeropad(c.charCodeAt(0).toString(16), 2);
        });
    };

    PDFName.prototype.toString = function toString () {
        return this.name;
    };

    return PDFName;
}(PDFValue));

function _(name) {
    return new PDFName(name);
}

/// dictionary

var PDFDictionary = (function (PDFValue) {
    function PDFDictionary(props) {
        PDFValue.call(this);
        this.props = props;
    }

    if ( PDFValue ) PDFDictionary.__proto__ = PDFValue;
    PDFDictionary.prototype = Object.create( PDFValue && PDFValue.prototype );
    PDFDictionary.prototype.constructor = PDFDictionary;

    PDFDictionary.prototype.render = function render (out) {
        var props = this.props, empty = true;
        out("<<");
        out.withIndent(function(){
            for (var i in props) {
                if (hasOwnProperty(props, i) && !/^_/.test(i)) {
                    empty = false;
                    out.indent(_(i), " ", props[i]);
                }
            }
        });
        if (!empty) {
            out.indent();
        }
        out(">>");
    };

    return PDFDictionary;
}(PDFValue));

/// streams

var PDFStream = (function (PDFValue) {
    function PDFStream(data, props, compress) {
        PDFValue.call(this);
        if (typeof data == "string") {
            var tmp = BinaryStream();
            tmp.write(data);
            data = tmp;
        }
        this.data = data;
        this.props = props || {};
        this.compress = compress;
    }

    if ( PDFValue ) PDFStream.__proto__ = PDFValue;
    PDFStream.prototype = Object.create( PDFValue && PDFValue.prototype );
    PDFStream.prototype.constructor = PDFStream;

    PDFStream.prototype.render = function render (out) {
        var data = this.data.get(), props = this.props;
        if (this.compress && supportsDeflate()) {
            if (!props.Filter) {
                props.Filter = [];
            } else if (!(props.Filter instanceof Array)) {
                props.Filter = [ props.Filter ];
            }
            props.Filter.unshift(_("FlateDecode"));
            data = deflate$1(data);
        }
        props.Length = data.length;
        out(new PDFDictionary(props), " stream", NL);
        out.writeData(data);
        out(NL, "endstream");
    };

    return PDFStream;
}(PDFValue));

/// catalog

var PDFCatalog = (function (PDFDictionary) {
    function PDFCatalog() {
        PDFDictionary.call(this, {
            Type: _("Catalog")
        });
    }

    if ( PDFDictionary ) PDFCatalog.__proto__ = PDFDictionary;
    PDFCatalog.prototype = Object.create( PDFDictionary && PDFDictionary.prototype );
    PDFCatalog.prototype.constructor = PDFCatalog;

    PDFCatalog.prototype.setPages = function setPages (pagesObj) {
        this.props.Pages = pagesObj;
    };

    return PDFCatalog;
}(PDFDictionary));

/// page tree

var PDFPageTree = (function (PDFDictionary) {
    function PDFPageTree() {
        PDFDictionary.call(this, {
            Type  : _("Pages"),
            Kids  : [],
            Count : 0
        });
    }

    if ( PDFDictionary ) PDFPageTree.__proto__ = PDFDictionary;
    PDFPageTree.prototype = Object.create( PDFDictionary && PDFDictionary.prototype );
    PDFPageTree.prototype.constructor = PDFPageTree;

    PDFPageTree.prototype.addPage = function addPage (pageObj) {
        this.props.Kids.push(pageObj);
        this.props.Count++;
    };

    return PDFPageTree;
}(PDFDictionary));

/// images

// JPEG

var SOF_CODES = [0xc0, 0xc1, 0xc2, 0xc3, 0xc5, 0xc6, 0xc7, 0xc9, 0xca, 0xcb, 0xcd, 0xce, 0xcf];

var PDFJpegImage = function PDFJpegImage(data) {
    // we must determine the correct color space.  we'll parse a bit
    // of the JPEG stream for this, it's still better than going
    // through the canvas.
    // https://github.com/telerik/kendo-ui-core/issues/2845
    data.offset(0);
    var width, height, colorSpace, bitsPerComponent;
    var soi = data.readShort();
    if (soi != 0xFFD8) {
        // XXX: do we have some better options here?
        throw new Error("Invalid JPEG image");
    }
    while (!data.eof()) {
        var ff = data.readByte();
        if (ff != 0xFF) {
            throw new Error("Invalid JPEG image");
        }
        var marker = data.readByte();
        var length = data.readShort();
        if (SOF_CODES.indexOf(marker) >= 0) {
            // "start of frame" marker
            bitsPerComponent = data.readByte();
            height = data.readShort();
            width = data.readShort();
            colorSpace = data.readByte();
            break;
        }
        data.skip(length - 2);
    }

    if (colorSpace == null) {
        throw new Error("Invalid JPEG image");
    }

    var props = {
        Type         : _("XObject"),
        Subtype      : _("Image"),
        Width        : width,
        Height       : height,
        BitsPerComponent : bitsPerComponent,
        Filter       : _("DCTDecode")
    };

    switch (colorSpace) {
    case 1:
        props.ColorSpace = _("DeviceGray");
        break;
    case 3:
        props.ColorSpace = _("DeviceRGB");
        break;
    case 4:
        props.ColorSpace = _("DeviceCMYK");
        props.Decode = [ 1, 0, 1, 0, 1, 0, 1, 0 ]; // invert colors
        break;
    }

    this.asStream = function() {
        data.offset(0);
        var stream = new PDFStream(data, props);
        stream._resourceName = _("I" + (++RESOURCE_COUNTER));
        return stream;
    };
};

// PDFRawImage will be used for images with transparency (PNG)

var PDFRawImage = function PDFRawImage(width, height, rgb, alpha) {
    this.asStream = function(pdf) {
        var mask = new PDFStream(alpha, {
            Type         : _("XObject"),
            Subtype      : _("Image"),
            Width        : width,
            Height       : height,
            BitsPerComponent : 8,
            ColorSpace   : _("DeviceGray")
        }, true);
        var stream = new PDFStream(rgb, {
            Type         : _("XObject"),
            Subtype      : _("Image"),
            Width        : width,
            Height       : height,
            BitsPerComponent : 8,
            ColorSpace   : _("DeviceRGB"),
            SMask        : pdf.attach(mask)
        }, true);
        stream._resourceName = _("I" + (++RESOURCE_COUNTER));
        return stream;
    };
};

/// standard fonts

var PDFStandardFont = (function (PDFDictionary) {
    function PDFStandardFont(name){
        PDFDictionary.call(this, {
            Type     : _("Font"),
            Subtype  : _("Type1"),
            BaseFont : _(name)
        });

        this._resourceName = _("F" + (++RESOURCE_COUNTER));
    }

    if ( PDFDictionary ) PDFStandardFont.__proto__ = PDFDictionary;
    PDFStandardFont.prototype = Object.create( PDFDictionary && PDFDictionary.prototype );
    PDFStandardFont.prototype.constructor = PDFStandardFont;

    PDFStandardFont.prototype.encodeText = function encodeText (str) {
        return new PDFString(String(str));
    };

    return PDFStandardFont;
}(PDFDictionary));

/// TTF fonts

var PDFFont = (function (PDFDictionary) {
    function PDFFont(pdf, font, props){
        PDFDictionary.call(this, {});

        props = this.props;
        props.Type = _("Font");
        props.Subtype = _("Type0");
        props.Encoding = _("Identity-H");

        this._pdf = pdf;
        this._font = font;
        this._sub = font.makeSubset();
        this._resourceName = _("F" + (++RESOURCE_COUNTER));

        var head = font.head;

        this.name = font.psName;
        var scale = this.scale = font.scale;
        this.bbox = [
            head.xMin * scale,
            head.yMin * scale,
            head.xMax * scale,
            head.yMax * scale
        ];

        this.italicAngle = font.post.italicAngle;
        this.ascent = font.ascent * scale;
        this.descent = font.descent * scale;
        this.lineGap = font.lineGap * scale;
        this.capHeight = font.os2.capHeight || this.ascent;
        this.xHeight = font.os2.xHeight || 0;
        this.stemV = 0;

        this.familyClass = (font.os2.familyClass || 0) >> 8;
        this.isSerif = this.familyClass >= 1 && this.familyClass <= 7;
        this.isScript = this.familyClass == 10;

        this.flags = ((font.post.isFixedPitch ? 1 : 0) |
                    (this.isSerif ? 1 << 1 : 0) |
                    (this.isScript ? 1 << 3 : 0) |
                    (this.italicAngle !== 0 ? 1 << 6 : 0) |
                    (1 << 5));
        }

    if ( PDFDictionary ) PDFFont.__proto__ = PDFDictionary;
    PDFFont.prototype = Object.create( PDFDictionary && PDFDictionary.prototype );
    PDFFont.prototype.constructor = PDFFont;

        PDFFont.prototype.encodeText = function encodeText (text) {
            return new PDFHexString(this._sub.encodeText(String(text)));
        };

        PDFFont.prototype.getTextWidth = function getTextWidth (fontSize, text) {
            var this$1 = this;

            var width = 0, codeMap = this._font.cmap.codeMap;
            for (var i = 0; i < text.length; ++i) {
                var glyphId = codeMap[text.charCodeAt(i)];
                width += this$1._font.widthOfGlyph(glyphId || 0);
            }
            return width * fontSize / 1000;
        };

        PDFFont.prototype.beforeRender = function beforeRender () {
            var self = this;
            var sub = self._sub;

            // write the TTF data
            var data = sub.render();
            var fontStream = new PDFStream(BinaryStream(data), {
                Length1: data.length
            }, true);

            var descriptor = self._pdf.attach(new PDFDictionary({
                Type         : _("FontDescriptor"),
                FontName     : _(self._sub.psName),
                FontBBox     : self.bbox,
                Flags        : self.flags,
                StemV        : self.stemV,
                ItalicAngle  : self.italicAngle,
                Ascent       : self.ascent,
                Descent      : self.descent,
                CapHeight    : self.capHeight,
                XHeight      : self.xHeight,
                FontFile2    : self._pdf.attach(fontStream)
            }));

            var cmap = sub.ncid2ogid;
            var firstChar = sub.firstChar;
            var lastChar = sub.lastChar;
            var charWidths = [];
            (function loop(i, chunk){
                if (i <= lastChar) {
                    var gid = cmap[i];
                    if (gid == null) {
                        loop(i + 1);
                    } else {
                        if (!chunk) {
                            charWidths.push(i, chunk = []);
                        }
                        chunk.push(self._font.widthOfGlyph(gid));
                        loop(i + 1, chunk);
                    }
                }
            })(firstChar);

            // As if two dictionaries weren't enough, we need another
            // one, the "descendant font".  Only that one can be of
            // Subtype CIDFontType2.  PDF is the X11 of document
            // formats: portable but full of legacy that nobody cares
            // about anymore.

            var descendant = new PDFDictionary({
                Type: _("Font"),
                Subtype: _("CIDFontType2"),
                BaseFont: _(self._sub.psName),
                CIDSystemInfo: new PDFDictionary({
                    Registry   : new PDFString("Adobe"),
                    Ordering   : new PDFString("Identity"),
                    Supplement : 0
                }),
                FontDescriptor: descriptor,
                FirstChar: firstChar,
                LastChar: lastChar,
                DW: Math.round(self._font.widthOfGlyph(0)),
                W: charWidths,
                CIDToGIDMap: self._pdf.attach(self._makeCidToGidMap())
            });

            var dict = self.props;
            dict.BaseFont = _(self._sub.psName);
            dict.DescendantFonts = [ self._pdf.attach(descendant) ];

            // Compute the ToUnicode map so that apps can extract
            // meaningful text from the PDF.
            var unimap = new PDFToUnicodeCmap(firstChar, lastChar, sub.subset);
            var unimapStream = new PDFStream(makeOutput(), null, true);
            unimapStream.data(unimap);
            dict.ToUnicode = self._pdf.attach(unimapStream);
        };

        PDFFont.prototype._makeCidToGidMap = function _makeCidToGidMap () {
            return new PDFStream(BinaryStream(this._sub.cidToGidMap()), null, true);
        };

    return PDFFont;
}(PDFDictionary));

var PDFToUnicodeCmap = (function (PDFValue) {
    function PDFToUnicodeCmap(firstChar, lastChar, map){
        PDFValue.call(this);
        this.firstChar = firstChar;
        this.lastChar = lastChar;
        this.map = map;
    }

    if ( PDFValue ) PDFToUnicodeCmap.__proto__ = PDFValue;
    PDFToUnicodeCmap.prototype = Object.create( PDFValue && PDFValue.prototype );
    PDFToUnicodeCmap.prototype.constructor = PDFToUnicodeCmap;

    PDFToUnicodeCmap.prototype.render = function render (out) {
        out.indent("/CIDInit /ProcSet findresource begin");
        out.indent("12 dict begin");
        out.indent("begincmap");
        out.indent("/CIDSystemInfo <<");
        out.indent("  /Registry (Adobe)");
        out.indent("  /Ordering (UCS)");
        out.indent("  /Supplement 0");
        out.indent(">> def");
        out.indent("/CMapName /Adobe-Identity-UCS def");
        out.indent("/CMapType 2 def");
        out.indent("1 begincodespacerange");
        out.indent("  <0000><ffff>");
        out.indent("endcodespacerange");

        var self = this;
        out.indent(self.lastChar - self.firstChar + 1, " beginbfchar");
        out.withIndent(function(){
            for (var code = self.firstChar; code <= self.lastChar; ++code) {
                var unicode = self.map[code];
                var str = ucs2encode([ unicode ]);
                out.indent("<", zeropad(code.toString(16), 4), ">", "<");
                for (var i = 0; i < str.length; ++i) {
                    out(zeropad(str.charCodeAt(i).toString(16), 4));
                }
                out(">");
            }
        });
        out.indent("endbfchar");

        out.indent("endcmap");
        out.indent("CMapName currentdict /CMap defineresource pop");
        out.indent("end");
        out.indent("end");
    };

    return PDFToUnicodeCmap;
}(PDFValue));

/// gradients

function makeHash(a) {
    return a.map(function(x){
        return isArray(x) ? makeHash(x)
            : typeof x == "number" ? (Math.round(x * 1000) / 1000).toFixed(3)
            : x;
    }).join(" ");
}

function cacheColorGradientFunction(pdf, r1, g1, b1, r2, g2, b2) {
    var hash = makeHash([ r1, g1, b1, r2, g2, b2 ]);
    var func = pdf.GRAD_COL_FUNCTIONS[hash];
    if (!func) {
        func = pdf.GRAD_COL_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({
            FunctionType: 2,
            Domain: [ 0, 1 ],
            Range: [ 0, 1, 0, 1, 0, 1 ],
            N: 1,
            C0: [ r1 , g1 , b1 ],
            C1: [ r2 , g2 , b2 ]
        }));
    }
    return func;
}

function cacheOpacityGradientFunction(pdf, a1, a2) {
    var hash = makeHash([ a1, a2 ]);
    var func = pdf.GRAD_OPC_FUNCTIONS[hash];
    if (!func) {
        func = pdf.GRAD_OPC_FUNCTIONS[hash] = pdf.attach(new PDFDictionary({
            FunctionType: 2,
            Domain: [ 0, 1 ],
            Range: [ 0, 1 ],
            N: 1,
            C0: [ a1 ],
            C1: [ a2 ]
        }));
    }
    return func;
}

function makeGradientFunctions(pdf, stops) {
    var hasAlpha = false;
    var opacities = [];
    var colors = [];
    var offsets = [];
    var encode = [];
    var i, prev, cur, prevColor, curColor;
    for (i = 1; i < stops.length; ++i) {
        prev = stops[i - 1];
        cur = stops[i];
        prevColor = prev.color;
        curColor = cur.color;
        colors.push(cacheColorGradientFunction(
            pdf,
            prevColor.r, prevColor.g, prevColor.b,
            curColor.r,  curColor.g,  curColor.b
        ));
        if (prevColor.a < 1 || curColor.a < 1) {
            hasAlpha = true;
        }
        offsets.push(cur.offset);
        encode.push(0, 1);
    }
    if (hasAlpha) {
        for (i = 1; i < stops.length; ++i) {
            prev = stops[i - 1];
            cur = stops[i];
            prevColor = prev.color;
            curColor = cur.color;
            opacities.push(cacheOpacityGradientFunction(
                pdf, prevColor.a, curColor.a
            ));
        }
    }
    offsets.pop();
    return {
        hasAlpha  : hasAlpha,
        colors    : assemble(colors),
        opacities : hasAlpha ? assemble(opacities) : null
    };
    function assemble(funcs) {
        if (funcs.length == 1) {
            return funcs[0];
        }
        return {
            FunctionType: 3,
            Functions: funcs,
            Domain: [ 0, 1 ],
            Bounds: offsets,
            Encode: encode
        };
    }
}

function cacheColorGradient(pdf, isRadial, stops, coords, funcs, box) {
    var shading, hash;
    // if box is given then we have user-space coordinates, which
    // means the gradient is designed for a certain position/size
    // on page.  caching won't do any good.
    if (!box) {
        var a = [ isRadial ].concat(coords);
        stops.forEach(function(x){
            a.push(x.offset, x.color.r, x.color.g, x.color.b);
        });
        hash = makeHash(a);
        shading = pdf.GRAD_COL[hash];
    }
    if (!shading) {
        shading = new PDFDictionary({
            Type: _("Shading"),
            ShadingType: isRadial ? 3 : 2,
            ColorSpace: _("DeviceRGB"),
            Coords: coords,
            Domain: [ 0, 1 ],
            Function: funcs,
            Extend: [ true, true ]
        });
        pdf.attach(shading);
        shading._resourceName = "S" + (++RESOURCE_COUNTER);
        if (hash) {
            pdf.GRAD_COL[hash] = shading;
        }
    }
    return shading;
}

function cacheOpacityGradient(pdf, isRadial, stops, coords, funcs, box) {
    var opacity, hash;
    // if box is given then we have user-space coordinates, which
    // means the gradient is designed for a certain position/size
    // on page.  caching won't do any good.
    if (!box) {
        var a = [ isRadial ].concat(coords);
        stops.forEach(function(x){
            a.push(x.offset, x.color.a);
        });
        hash = makeHash(a);
        opacity = pdf.GRAD_OPC[hash];
    }
    if (!opacity) {
        opacity = new PDFDictionary({
            Type: _("ExtGState"),
            AIS: false,
            CA: 1,
            ca: 1,
            SMask: {
                Type: _("Mask"),
                S: _("Luminosity"),
                G: pdf.attach(new PDFStream("/a0 gs /s0 sh", {
                    Type: _("XObject"),
                    Subtype: _("Form"),
                    FormType: 1,
                    BBox: (box ? [
                        box.left, box.top + box.height, box.left + box.width, box.top
                    ] : [ 0, 1, 1, 0 ]),
                    Group: {
                        Type: _("Group"),
                        S: _("Transparency"),
                        CS: _("DeviceGray"),
                        I: true
                    },
                    Resources: {
                        ExtGState: {
                            a0: { CA: 1, ca: 1 }
                        },
                        Shading: {
                            s0: {
                                ColorSpace: _("DeviceGray"),
                                Coords: coords,
                                Domain: [ 0, 1 ],
                                ShadingType: isRadial ? 3 : 2,
                                Function: funcs,
                                Extend: [ true, true ]
                            }
                        }
                    }
                }))
            }
        });
        pdf.attach(opacity);
        opacity._resourceName = "O" + (++RESOURCE_COUNTER);
        if (hash) {
            pdf.GRAD_OPC[hash] = opacity;
        }
    }
    return opacity;
}

function cacheGradient(pdf, gradient, box) {
    var isRadial = gradient.type == "radial";
    var funcs = makeGradientFunctions(pdf, gradient.stops);
    var coords = isRadial ? [
        gradient.start.x , gradient.start.y , gradient.start.r,
        gradient.end.x   , gradient.end.y   , gradient.end.r
    ] : [
        gradient.start.x , gradient.start.y,
        gradient.end.x   , gradient.end.y
    ];
    var shading = cacheColorGradient(
        pdf, isRadial, gradient.stops, coords, funcs.colors, gradient.userSpace && box
    );
    var opacity = funcs.hasAlpha ? cacheOpacityGradient(
        pdf, isRadial, gradient.stops, coords, funcs.opacities, gradient.userSpace && box
    ) : null;
    return {
        hasAlpha: funcs.hasAlpha,
        shading: shading,
        opacity: opacity
    };
}

/// page object

var PDFPage = (function (PDFDictionary) {
    function PDFPage(pdf, props){
        PDFDictionary.call(this, props);

        this._pdf = pdf;
        this._rcount = 0;
        this._textMode = false;
        this._fontResources = {};
        this._gsResources = {};
        this._xResources = {};
        this._patResources = {};
        this._shResources = {};
        this._opacity = 1;
        this._matrix = [ 1, 0, 0, 1, 0, 0 ];
        this._annotations = [];

        this._font = null;
        this._fontSize = null;

        this._contextStack = [];

        props = this.props;
        props.Type = _("Page");
        props.ProcSet = [
            _("PDF"),
            _("Text"),
            _("ImageB"),
            _("ImageC"),
            _("ImageI")
        ];
        props.Resources = new PDFDictionary({
            Font      : new PDFDictionary(this._fontResources),
            ExtGState : new PDFDictionary(this._gsResources),
            XObject   : new PDFDictionary(this._xResources),
            Pattern   : new PDFDictionary(this._patResources),
            Shading   : new PDFDictionary(this._shResources)
        });
        props.Annots = this._annotations;
    }

    if ( PDFDictionary ) PDFPage.__proto__ = PDFDictionary;
    PDFPage.prototype = Object.create( PDFDictionary && PDFDictionary.prototype );
    PDFPage.prototype.constructor = PDFPage;

    PDFPage.prototype._out = function _out () {
        this._content.data.apply(null, arguments);
    };

    PDFPage.prototype.transform = function transform (a, b, c, d, e, f) {
        if (!isIdentityMatrix(arguments)) {
            this._matrix = mmul(arguments, this._matrix);
            this._out(a, " ", b, " ", c, " ", d, " ", e, " ", f, " cm");
            // XXX: debug
            // this._out(" % current matrix: ", this._matrix);
            this._out(NL);
        }
    };

    PDFPage.prototype.translate = function translate (dx, dy) {
        this.transform(1, 0, 0, 1, dx, dy);
    };

    PDFPage.prototype.scale = function scale (sx, sy) {
        this.transform(sx, 0, 0, sy, 0, 0);
    };

    PDFPage.prototype.rotate = function rotate (angle) {
        var cos = Math.cos(angle), sin = Math.sin(angle);
        this.transform(cos, sin, -sin, cos, 0, 0);
    };

    PDFPage.prototype.beginText = function beginText () {
        this._textMode = true;
        this._out("BT", NL);
    };

    PDFPage.prototype.endText = function endText () {
        this._textMode = false;
        this._out("ET", NL);
    };

    PDFPage.prototype._requireTextMode = function _requireTextMode () {
        if (!this._textMode) {
            throw new Error("Text mode required; call page.beginText() first");
        }
    };

    PDFPage.prototype._requireFont = function _requireFont () {
        if (!this._font) {
            throw new Error("No font selected; call page.setFont() first");
        }
    };

    PDFPage.prototype.setFont = function setFont (font, size) {
        this._requireTextMode();
        if (font == null) {
            font = this._font;
        } else if (!(font instanceof PDFFont)) {
            font = this._pdf.getFont(font);
        }
        if (size == null) {
            size = this._fontSize;
        }
        this._fontResources[font._resourceName] = font;
        this._font = font;
        this._fontSize = size;
        this._out(font._resourceName, " ", size, " Tf", NL);
    };

    PDFPage.prototype.setTextLeading = function setTextLeading (size) {
        this._requireTextMode();
        this._out(size, " TL", NL);
    };

    PDFPage.prototype.setTextRenderingMode = function setTextRenderingMode (mode) {
        this._requireTextMode();
        this._out(mode, " Tr", NL);
    };

    PDFPage.prototype.showText = function showText (text, requestedWidth) {
        this._requireFont();
        if (text.length > 1 && requestedWidth && this._font instanceof PDFFont) {
            var outputWidth = this._font.getTextWidth(this._fontSize, text);
            var scale = requestedWidth / outputWidth * 100;
            this._out(scale, " Tz ");
        }
        this._out(this._font.encodeText(text), " Tj", NL);
    };

    PDFPage.prototype.showTextNL = function showTextNL (text) {
        this._requireFont();
        this._out(this._font.encodeText(text), " '", NL);
    };

    PDFPage.prototype.addLink = function addLink (uri, box) {
        var ll = this._toPage({ x: box.left, y: box.bottom });
        var ur = this._toPage({ x: box.right, y: box.top });
        this._annotations.push(new PDFDictionary({
            Type    : _("Annot"),
            Subtype : _("Link"),
            Rect    : [ ll.x, ll.y, ur.x, ur.y ],
            Border  : [ 0, 0, 0 ],
            A       : new PDFDictionary({
                Type : _("Action"),
                S    : _("URI"),
                URI  : new PDFString(uri)
            })
        }));
    };

    PDFPage.prototype.setStrokeColor = function setStrokeColor (r, g, b) {
        this._out(r, " ", g, " ", b, " RG", NL);
    };

    PDFPage.prototype.setOpacity = function setOpacity (opacity) {
        this.setFillOpacity(opacity);
        this.setStrokeOpacity(opacity);
        this._opacity *= opacity;
    };

    PDFPage.prototype.setStrokeOpacity = function setStrokeOpacity (opacity) {
        if (opacity < 1) {
            var gs = this._pdf.getOpacityGS(this._opacity * opacity, true);
            this._gsResources[gs._resourceName] = gs;
            this._out(gs._resourceName, " gs", NL);
        }
    };

    PDFPage.prototype.setFillColor = function setFillColor (r, g, b) {
        this._out(r, " ", g, " ", b, " rg", NL);
    };

    PDFPage.prototype.setFillOpacity = function setFillOpacity (opacity) {
        if (opacity < 1) {
            var gs = this._pdf.getOpacityGS(this._opacity * opacity, false);
            this._gsResources[gs._resourceName] = gs;
            this._out(gs._resourceName, " gs", NL);
        }
    };

    PDFPage.prototype.gradient = function gradient (gradient, box) {
        this.save();
        this.rect(box.left, box.top, box.width, box.height);
        this.clip();
        if (!gradient.userSpace) {
            this.transform(box.width, 0, 0, box.height, box.left, box.top);
        }
        var g = cacheGradient(this._pdf, gradient, box);
        var sname = g.shading._resourceName, oname;
        this._shResources[sname] = g.shading;
        if (g.hasAlpha) {
            oname = g.opacity._resourceName;
            this._gsResources[oname] = g.opacity;
            this._out("/" + oname + " gs ");
        }
        this._out("/" + sname + " sh", NL);
        this.restore();
    };

    PDFPage.prototype.setDashPattern = function setDashPattern (dashArray, dashPhase) {
        this._out(dashArray, " ", dashPhase, " d", NL);
    };

    PDFPage.prototype.setLineWidth = function setLineWidth (width) {
        this._out(width, " w", NL);
    };

    PDFPage.prototype.setLineCap = function setLineCap (lineCap) {
        this._out(lineCap, " J", NL);
    };

    PDFPage.prototype.setLineJoin = function setLineJoin (lineJoin) {
        this._out(lineJoin, " j", NL);
    };

    PDFPage.prototype.setMitterLimit = function setMitterLimit (mitterLimit) {
        this._out(mitterLimit, " M", NL);
    };

    PDFPage.prototype.save = function save () {
        this._contextStack.push(this._context());
        this._out("q", NL);
    };

    PDFPage.prototype.restore = function restore () {
        this._out("Q", NL);
        this._context(this._contextStack.pop());
    };


    // paths
    PDFPage.prototype.moveTo = function moveTo (x, y) {
        this._out(x, " ", y, " m", NL);
    };

    PDFPage.prototype.lineTo = function lineTo (x, y) {
        this._out(x, " ", y, " l", NL);
    };

    PDFPage.prototype.bezier = function bezier (x1, y1, x2, y2, x3, y3) {
        this._out(x1, " ", y1, " ", x2, " ", y2, " ", x3, " ", y3, " c", NL);
    };

    PDFPage.prototype.bezier1 = function bezier1 (x1, y1, x3, y3) {
        this._out(x1, " ", y1, " ", x3, " ", y3, " y", NL);
    };

    PDFPage.prototype.bezier2 = function bezier2 (x2, y2, x3, y3) {
        this._out(x2, " ", y2, " ", x3, " ", y3, " v", NL);
    };

    PDFPage.prototype.close = function close () {
        this._out("h", NL);
    };

    PDFPage.prototype.rect = function rect (x, y, w, h) {
        this._out(x, " ", y, " ", w, " ", h, " re", NL);
    };

    PDFPage.prototype.ellipse = function ellipse (x, y, rx, ry) {
        function _X(v) { return x + v; }
        function _Y(v) { return y + v; }

        // how to get to the "magic number" is explained here:
        // http://www.whizkidtech.redprince.net/bezier/circle/kappa/
        var k = 0.5522847498307936;

        this.moveTo(_X(0), _Y(ry));
        this.bezier(
            _X(rx * k) , _Y(ry),
            _X(rx)     , _Y(ry * k),
            _X(rx)     , _Y(0)
        );
        this.bezier(
            _X(rx)     , _Y(-ry * k),
            _X(rx * k) , _Y(-ry),
            _X(0)      , _Y(-ry)
        );
        this.bezier(
            _X(-rx * k) , _Y(-ry),
            _X(-rx)     , _Y(-ry * k),
            _X(-rx)     , _Y(0)
        );
        this.bezier(
            _X(-rx)     , _Y(ry * k),
            _X(-rx * k) , _Y(ry),
            _X(0)       , _Y(ry)
        );
    };

    PDFPage.prototype.circle = function circle (x, y, r) {
        this.ellipse(x, y, r, r);
    };

    PDFPage.prototype.stroke = function stroke () {
        this._out("S", NL);
    };

    PDFPage.prototype.nop = function nop () {
        this._out("n", NL);
    };

    PDFPage.prototype.clip = function clip () {
        this._out("W n", NL);
    };

    PDFPage.prototype.clipStroke = function clipStroke () {
        this._out("W S", NL);
    };

    PDFPage.prototype.closeStroke = function closeStroke () {
        this._out("s", NL);
    };

    PDFPage.prototype.fill = function fill () {
        this._out("f", NL);
    };

    PDFPage.prototype.fillStroke = function fillStroke () {
        this._out("B", NL);
    };

    PDFPage.prototype.drawImage = function drawImage (url) {
        var img = this._pdf.getImage(url);
        if (img) { // the result can be null for a cross-domain image
            this._xResources[img._resourceName] = img;
            this._out(img._resourceName, " Do", NL);
        }
    };

    PDFPage.prototype.comment = function comment (txt) {
        var self = this;
        txt.split(/\r?\n/g).forEach(function(line){
            self._out("% ", line, NL);
        });
    };

    // internal
    PDFPage.prototype._context = function _context (val) {
        if (val != null) {
            this._opacity = val.opacity;
            this._matrix = val.matrix;
        } else {
            return {
                opacity: this._opacity,
                matrix: this._matrix
            };
        }
    };

    PDFPage.prototype._toPage = function _toPage (p) {
        var m = this._matrix;
        var a = m[0], b = m[1], c = m[2], d = m[3], e = m[4], f = m[5];
        return {
            x: a*p.x + c*p.y + e,
            y: b*p.x + d*p.y + f
        };
    };

    return PDFPage;
}(PDFDictionary));

function unquote(str) {
    return str.replace(/^\s*(['"])(.*)\1\s*$/, "$2");
}

function parseFontDef(fontdef) {
    // XXX: this is very crude for now and buggy.  Proper parsing is quite involved.
    var rx = /^\s*((normal|italic)\s+)?((normal|small-caps)\s+)?((normal|bold|\d+)\s+)?(([0-9.]+)(px|pt))(\/(([0-9.]+)(px|pt)|normal))?\s+(.*?)\s*$/i;
    var m = rx.exec(fontdef);
    if (!m) {
        return { fontSize: 12, fontFamily: "sans-serif" };
    }
    var fontSize = m[8] ? parseInt(m[8], 10) : 12;
    return {
        italic     : m[2] && m[2].toLowerCase() == "italic",
        variant    : m[4],
        bold       : m[6] && /bold|700/i.test(m[6]),
        fontSize   : fontSize,
        lineHeight : m[12] ? m[12] == "normal" ? fontSize : parseInt(m[12], 10) : null,
        fontFamily : m[14].split(/\s*,\s*/g).map(unquote)
    };
}

function getFontURL(style) {
    function mkFamily(name) {
        if (style.bold) {
            name += "|bold";
        }
        if (style.italic) {
            name += "|italic";
        }
        return name.toLowerCase();
    }
    var fontFamily = style.fontFamily;
    var name, url;
    if (fontFamily instanceof Array) {
        for (var i = 0; i < fontFamily.length; ++i) {
            name = mkFamily(fontFamily[i]);
            url = FONT_MAPPINGS[name];
            if (url) {
                break;
            }
        }
    } else {
        url = FONT_MAPPINGS[fontFamily.toLowerCase()];
    }
    while (typeof url == "function") {
        url = url();
    }
    if (!url) {
        url = "Times-Roman";
    }
    return url;
}

var FONT_MAPPINGS = {
    "serif"                    : "Times-Roman",
    "serif|bold"               : "Times-Bold",
    "serif|italic"             : "Times-Italic",
    "serif|bold|italic"        : "Times-BoldItalic",
    "sans-serif"               : "Helvetica",
    "sans-serif|bold"          : "Helvetica-Bold",
    "sans-serif|italic"        : "Helvetica-Oblique",
    "sans-serif|bold|italic"   : "Helvetica-BoldOblique",
    "monospace"                : "Courier",
    "monospace|bold"           : "Courier-Bold",
    "monospace|italic"         : "Courier-Oblique",
    "monospace|bold|italic"    : "Courier-BoldOblique",
    "zapfdingbats"             : "ZapfDingbats",
    "zapfdingbats|bold"        : "ZapfDingbats",
    "zapfdingbats|italic"      : "ZapfDingbats",
    "zapfdingbats|bold|italic" : "ZapfDingbats"
};

function fontAlias(alias, name) {
    alias = alias.toLowerCase();
    FONT_MAPPINGS[alias] = function() {
        return FONT_MAPPINGS[name];
    };
    FONT_MAPPINGS[alias + "|bold"] = function() {
        return FONT_MAPPINGS[name + "|bold"];
    };
    FONT_MAPPINGS[alias + "|italic"] = function() {
        return FONT_MAPPINGS[name + "|italic"];
    };
    FONT_MAPPINGS[alias + "|bold|italic"] = function() {
        return FONT_MAPPINGS[name + "|bold|italic"];
    };
}

// Let's define some common names to an appropriate replacement.
// These are overridable via pdf.defineFont, should the user want to
// include the proper versions.

fontAlias("Times New Roman" , "serif");
fontAlias("Courier New"     , "monospace");
fontAlias("Arial"           , "sans-serif");
fontAlias("Helvetica"       , "sans-serif");
fontAlias("Verdana"         , "sans-serif");
fontAlias("Tahoma"          , "sans-serif");
fontAlias("Georgia"         , "sans-serif");
fontAlias("Monaco"          , "monospace");
fontAlias("Andale Mono"     , "monospace");

function defineFont(name, url) {
    if (arguments.length == 1) {
        for (var i in name) {
            if (hasOwnProperty(name, i)) {
                defineFont(i, name[i]);
            }
        }
    } else {
        name = name.toLowerCase();
        FONT_MAPPINGS[name] = url;

        // special handling for DejaVu fonts: if they get defined,
        // let them also replace the default families, for good
        // Unicode support out of the box.
        switch (name) {
          case "dejavu sans"               : FONT_MAPPINGS["sans-serif"]              = url; break;
          case "dejavu sans|bold"          : FONT_MAPPINGS["sans-serif|bold"]         = url; break;
          case "dejavu sans|italic"        : FONT_MAPPINGS["sans-serif|italic"]       = url; break;
          case "dejavu sans|bold|italic"   : FONT_MAPPINGS["sans-serif|bold|italic"]  = url; break;
          case "dejavu serif"              : FONT_MAPPINGS["serif"]                   = url; break;
          case "dejavu serif|bold"         : FONT_MAPPINGS["serif|bold"]              = url; break;
          case "dejavu serif|italic"       : FONT_MAPPINGS["serif|italic"]            = url; break;
          case "dejavu serif|bold|italic"  : FONT_MAPPINGS["serif|bold|italic"]       = url; break;
          case "dejavu mono"               : FONT_MAPPINGS["monospace"]               = url; break;
          case "dejavu mono|bold"          : FONT_MAPPINGS["monospace|bold"]          = url; break;
          case "dejavu mono|italic"        : FONT_MAPPINGS["monospace|italic"]        = url; break;
          case "dejavu mono|bold|italic"   : FONT_MAPPINGS["monospace|bold|italic"]   = url; break;
        }
    }
}

function mmul(a, b) {
    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];
    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];
    return [
        a1*a2 + b1*c2,          a1*b2 + b1*d2,
        c1*a2 + d1*c2,          c1*b2 + d1*d2,
        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2
    ];
}

function isIdentityMatrix(m) {
    return m[0] === 1 && m[1] === 0 && m[2] === 0 && m[3] === 1 && m[4] === 0 && m[5] === 0;
}

var TEXT_RENDERING_MODE = {
    fill           : 0,
    stroke         : 1,
    fillAndStroke  : 2,
    invisible      : 3,
    fillAndClip    : 4,
    strokeAndClip  : 5,
    fillStrokeClip : 6,
    clip           : 7
};

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var DEFAULT_IMAGE_DPI = 300;
var TEXT_RENDERING_MODE$1 = TEXT_RENDERING_MODE;

var DASH_PATTERNS = {
    dash           : [ 4 ],
    dashDot        : [ 4, 2, 1, 2 ],
    dot            : [ 1, 2 ],
    longDash       : [ 8, 2 ],
    longDashDot    : [ 8, 2, 1, 2 ],
    longDashDotDot : [ 8, 2, 1, 2, 1, 2 ],
    solid          : []
};

var LINE_CAP = {
    butt   : 0,
    round  : 1,
    square : 2
};

var LINE_JOIN = {
    miter : 0,
    round : 1,
    bevel : 2
};

function render$1(group, callback) {
    var fonts = [], images = {}, options = group.options;

    function getOption(name, defval, hash) {
        if (!hash) {
            hash = options;
        }
        if (hash.pdf && hash.pdf[name] != null) {
            return hash.pdf[name];
        }
        return defval;
    }

    var multiPage = getOption("multiPage");
    var imgDPI = getOption("imgDPI", DEFAULT_IMAGE_DPI);

    clearImageCache();

    group.traverse(function(element){
        dispatch({
            Image: function(element) {
                var url = element.src();
                var size = element.bbox().size;
                if (imgDPI) {
                    var prev = images[url];
                    size = {
                      width: Math.ceil(size.width * imgDPI / 72),
                      height: Math.ceil(size.height * imgDPI / 72)
                    };

                    if (prev) {
                      size.width = Math.max(prev.width, size.width);
                      size.height = Math.max(prev.height, size.height);
                    }
                }

                images[url] = size;
            },
            Text: function(element) {
                var style = parseFontDef(element.options.font);
                var url = getFontURL(style);
                if (fonts.indexOf(url) < 0) {
                    fonts.push(url);
                }
            }
        }, element);
    });

    function doIt() {
        if (--count > 0) {
            return;
        }

        var pdf = new (PDFDocument)({
            producer  : getOption("producer"),
            title     : getOption("title"),
            author    : getOption("author"),
            subject   : getOption("subject"),
            keywords  : getOption("keywords"),
            creator   : getOption("creator"),
            date      : getOption("date"),

            autoPrint : getOption("autoPrint")
        });

        function drawPage(group) {
            var options = group.options;

            var tmp = optimize(group);
            var bbox = tmp.bbox;
            group = tmp.root;
            // var tmp, bbox;

            var paperSize = getOption("paperSize", getOption("paperSize", "auto"), options), addMargin = false;
            if (paperSize == "auto") {
                if (bbox) {
                    var size = bbox.getSize();
                    paperSize = [ size.width, size.height ];
                    addMargin = true;
                    var origin = bbox.getOrigin();
                    tmp = new Group();
                    tmp.transform(new Matrix(1, 0, 0, 1, -origin.x, -origin.y));
                    tmp.append(group);
                    group = tmp;
                }
                else {
                    paperSize = "A4";
                }
            }

            var page;
            page = pdf.addPage({
                paperSize : paperSize,
                margin    : getOption("margin", getOption("margin"), options),
                addMargin : addMargin,
                landscape : getOption("landscape", getOption("landscape", false), options)
            });
            drawElement(group, page, pdf);
        }

        if (multiPage) {
            group.children.forEach(drawPage);
        } else {
            drawPage(group);
        }

        callback(pdf.render(), pdf);
    }

    var count = 2;
    loadFonts(fonts, doIt);
    loadImages(images, doIt, {
        jpegQuality : getOption("jpegQuality", 0.92),
        keepPNG     : getOption("keepPNG", false)
    });
}

function toDataURL(group, callback) {
    render$1(group, function(data){
        callback("data:application/pdf;base64," + data.base64());
    });
}

function toBlob(group, callback) {
    render$1(group, function(data){
        callback(new window.Blob([ data.get() ], { type: "application/pdf" }));
    });
}

function saveAs$1(group, filename, proxy, callback) {
    // XXX: Safari has Blob, but does not support the download attribute
    //      so we'd end up converting to dataURL and using the proxy anyway.
    if (window.Blob && !support.browser.safari) {
        toBlob(group, function(blob){
            saveAs({ dataURI: blob, fileName: filename });
            if (callback) {
                callback(blob);
            }
        });
    } else {
        toDataURL(group, function(dataURL){
            saveAs({ dataURI: dataURL, fileName: filename, proxyURL: proxy });
            if (callback) {
                callback(dataURL);
            }
        });
    }
}

function dispatch(handlers, element) {
    var handler = handlers[element.nodeType];
    if (handler) {
        return handler.call.apply(handler, arguments);
    }
    return element;
}

function drawElement(element, page, pdf) {
    if (element.options._pdfDebug) {
        page.comment("BEGIN: " + element.options._pdfDebug);
    }

    var transform$$1 = element.transform();
    var opacity = element.opacity();

    page.save();

    if (opacity != null && opacity < 1) {
        page.setOpacity(opacity);
    }

    setStrokeOptions(element, page, pdf);
    setFillOptions(element, page, pdf);

    if (transform$$1) {
        var m = transform$$1.matrix();
        page.transform(m.a, m.b, m.c, m.d, m.e, m.f);
    }

    setClipping(element, page, pdf);

    dispatch({
        Path      : drawPath,
        MultiPath : drawMultiPath,
        Circle    : drawCircle,
        Arc       : drawArc,
        Text      : drawText,
        Image     : drawImage$1,
        Group     : drawGroup,
        Rect      : drawRect
    }, element, page, pdf);

    page.restore();

    if (element.options._pdfDebug) {
        page.comment("END: " + element.options._pdfDebug);
    }
}

function setStrokeOptions(element, page) {
    var stroke = element.stroke && element.stroke();
    if (!stroke) {
        return;
    }

    var color = stroke.color;
    if (color) {
        color = parseColor$1(color);
        if (color == null) {
            return; // no stroke
        }
        page.setStrokeColor(color.r, color.g, color.b);
        if (color.a != 1) {
            page.setStrokeOpacity(color.a);
        }
    }

    var width = stroke.width;
    if (width != null) {
        if (width === 0) {
            return; // no stroke
        }
        page.setLineWidth(width);
    }

    var dashType = stroke.dashType;
    if (dashType) {
        page.setDashPattern(DASH_PATTERNS[dashType], 0);
    }

    var lineCap = stroke.lineCap;
    if (lineCap) {
        page.setLineCap(LINE_CAP[lineCap]);
    }

    var lineJoin = stroke.lineJoin;
    if (lineJoin) {
        page.setLineJoin(LINE_JOIN[lineJoin]);
    }

    var opacity = stroke.opacity;
    if (opacity != null) {
        page.setStrokeOpacity(opacity);
    }
}

function setFillOptions(element, page) {
    var fill = element.fill && element.fill();
    if (!fill) {
        return;
    }

    if (fill instanceof Gradient) {
        return;
    }

    var color = fill.color;
    if (color) {
        color = parseColor$1(color);
        if (color == null) {
            return; // no fill
        }
        page.setFillColor(color.r, color.g, color.b);
        if (color.a != 1) {
            page.setFillOpacity(color.a);
        }
    }

    var opacity = fill.opacity;
    if (opacity != null) {
        page.setFillOpacity(opacity);
    }
}

function setClipping(element, page, pdf) {
    // XXX: only Path supported at the moment.
    var clip = element.clip();
    if (clip) {
        _drawPath(clip, page, pdf);
        page.clip();
        // page.setStrokeColor(Math.random(), Math.random(), Math.random());
        // page.setLineWidth(1);
        // page.stroke();
    }
}

function shouldDraw(thing) {
    return (thing &&
            (thing instanceof Gradient ||
             (thing.color && !/^(none|transparent)$/i.test(thing.color) &&
              (thing.width == null || thing.width > 0) &&
              (thing.opacity == null || thing.opacity > 0))));
}

function maybeGradient(element, page, pdf, stroke) {
    var fill = element.fill();
    if (fill instanceof Gradient) {
        if (stroke) {
            page.clipStroke();
        } else {
            page.clip();
        }
        var isRadial = fill instanceof RadialGradient;
        var start, end;
        if (isRadial) {
            start = { x: fill.center().x , y: fill.center().y , r: 0 };
            end   = { x: fill.center().x , y: fill.center().y , r: fill.radius() };
        } else {
            start = { x: fill.start().x , y: fill.start().y };
            end   = { x: fill.end().x   , y: fill.end().y   };
        }

        var stops = fill.stops.elements().map(function(stop){
            var offset = stop.offset();
            if (/%$/.test(offset)) {
                offset = parseFloat(offset) / 100;
            } else {
                offset = parseFloat(offset);
            }
            var color = parseColor$1(stop.color());
            color.a *= stop.opacity();
            return {
                offset: offset,
                color: color
            };
        });

        // Duplicats first and last stop to fix
        // https://github.com/telerik/kendo-ui-core/issues/1782
        stops.unshift(stops[0]);
        stops.push(stops[stops.length - 1]);

        var gradient = {
            userSpace : fill.userSpace(),
            type      : isRadial ? "radial" : "linear",
            start     : start,
            end       : end,
            stops     : stops
        };
        var box = element.rawBBox();
        var tl = box.topLeft(), size = box.getSize();
        box = {
            left   : tl.x,
            top    : tl.y,
            width  : size.width,
            height : size.height
        };
        page.gradient(gradient, box);
        return true;
    }
}

function maybeFillStroke(element, page, pdf) {
    if (shouldDraw(element.fill()) && shouldDraw(element.stroke())) {
        if (!maybeGradient(element, page, pdf, true)) {
            page.fillStroke();
        }
    } else if (shouldDraw(element.fill())) {
        if (!maybeGradient(element, page, pdf, false)) {
            page.fill();
        }
    } else if (shouldDraw(element.stroke())) {
        page.stroke();
    } else {
        // we should not get here; the path should have been
        // optimized away.  but let's be prepared.
        page.nop();
    }
}

function maybeDrawRect(path, page) {
    var segments = path.segments;
    if (segments.length == 4 && path.options.closed) {
        // detect if this path looks like a rectangle parallel to the axis
        var a = [];
        for (var i = 0; i < segments.length; ++i) {
            if (segments[i].controlIn()) { // has curve?
                return false;
            }
            a[i] = segments[i].anchor();
        }
        // it's a rectangle if the y/x/y/x or x/y/x/y coords of
        // consecutive points are the same.
        var isRect = (
            a[0].y == a[1].y && a[1].x == a[2].x && a[2].y == a[3].y && a[3].x == a[0].x
        ) || (
            a[0].x == a[1].x && a[1].y == a[2].y && a[2].x == a[3].x && a[3].y == a[0].y
        );
        if (isRect) {
            // this saves a bunch of instructions in PDF:
            // moveTo, lineTo, lineTo, lineTo, close -> rect.
            page.rect(a[0].x, a[0].y,
                      a[2].x - a[0].x /*width*/,
                      a[2].y - a[0].y /*height*/);
            return true;
        }
    }
}

function _drawPath(element, page, pdf) {
    var segments = element.segments;
    if (segments.length === 0) {
        return;
    }
    if (!maybeDrawRect(element, page, pdf)) {
        for (var prev, i = 0; i < segments.length; ++i) {
            var seg = segments[i];
            var anchor = seg.anchor();
            if (!prev) {
                page.moveTo(anchor.x, anchor.y);
            } else {
                var prevOut = prev.controlOut();
                var controlIn = seg.controlIn();
                if (prevOut && controlIn) {
                    page.bezier(
                        prevOut.x   , prevOut.y,
                        controlIn.x , controlIn.y,
                        anchor.x    , anchor.y
                    );
                } else {
                    page.lineTo(anchor.x, anchor.y);
                }
            }
            prev = seg;
        }
        if (element.options.closed) {
            page.close();
        }
    }
}

function drawPath(element, page, pdf) {
    _drawPath(element, page, pdf);
    maybeFillStroke(element, page, pdf);
}

function drawMultiPath(element, page, pdf) {
    var paths = element.paths;
    for (var i = 0; i < paths.length; ++i) {
        _drawPath(paths[i], page, pdf);
    }
    maybeFillStroke(element, page, pdf);
}

function drawCircle(element, page, pdf) {
    var g = element.geometry();
    page.circle(g.center.x, g.center.y, g.radius);
    maybeFillStroke(element, page, pdf);
}

function drawArc(element, page, pdf) {
    var points = element.geometry().curvePoints();
    page.moveTo(points[0].x, points[0].y);
    for (var i = 1; i < points.length;) {
        page.bezier(
            points[i].x, points[i++].y,
            points[i].x, points[i++].y,
            points[i].x, points[i++].y
        );
    }
    maybeFillStroke(element, page, pdf);
}

function drawText(element, page) {
    var style = parseFontDef(element.options.font);
    var pos = element._position;
    var mode;
    if (element.fill() && element.stroke()) {
        mode = TEXT_RENDERING_MODE$1.fillAndStroke;
    } else if (element.fill()) {
        mode = TEXT_RENDERING_MODE$1.fill;
    } else if (element.stroke()) {
        mode = TEXT_RENDERING_MODE$1.stroke;
    }

    page.transform(1, 0, 0, -1, pos.x, pos.y + style.fontSize);
    page.beginText();
    page.setFont(getFontURL(style), style.fontSize);
    page.setTextRenderingMode(mode);
    page.showText(element.content(), element._pdfRect ? element._pdfRect.width() : null);
    page.endText();
}

function drawGroup(element, page, pdf) {
    if (element._pdfLink) {
        page.addLink(element._pdfLink.url, element._pdfLink);
    }
    var children = element.children;
    for (var i = 0; i < children.length; ++i) {
        drawElement(children[i], page, pdf);
    }
}

function drawImage$1(element, page) {
    var url = element.src();
    if (!url) {
        return;
    }

    var rect = element.rect();
    var tl = rect.getOrigin();
    var sz = rect.getSize();
    page.transform(sz.width, 0, 0, -sz.height, tl.x, tl.y + sz.height);
    page.drawImage(url);
}

function drawRect(element, page, pdf) {
    var geometry = element.geometry();
    var ref = geometry.cornerRadius;
    var rx = ref[0];
    var ry = ref[1];
    if (rx === 0 && ry === 0) {
        page.rect(geometry.origin.x, geometry.origin.y, geometry.size.width, geometry.size.height);
        maybeFillStroke(element, page, pdf);
    } else {
        drawPath(Path.fromRect(geometry, element.options), page, pdf);
    }
}

function parseColor$1(value) {
    var color = parseColor(value, true);
    return color ? color.toRGB() : null;
}

function optimize(root) {
    var clipbox = false;
    var matrix = Matrix.unit();
    var currentBox = null;
    var changed;
    do {
        changed = false;
        root = opt(root);
    } while (root && changed);
    return { root: root, bbox: currentBox };

    function change(newShape) {
        changed = true;
        return newShape;
    }

    function visible(shape) {
        return (shape.visible() && shape.opacity() > 0 &&
                ( shouldDraw(shape.fill()) ||
                  shouldDraw(shape.stroke()) ));
    }

    function optArray(a) {
        var b = [];
        for (var i = 0; i < a.length; ++i) {
            var el = opt(a[i]);
            if (el != null) {
                b.push(el);
            }
        }
        return b;
    }

    function withClipping(shape, f) {
        var saveclipbox = clipbox;
        var savematrix = matrix;

        if (shape.transform()) {
            matrix = matrix.multiplyCopy(shape.transform().matrix());
        }

        var clip = shape.clip();
        if (clip) {
            clip = clip.bbox();
            if (clip) {
                clip = clip.bbox(matrix);
                clipbox = clipbox ? Rect.intersect(clipbox, clip) : clip;
            }
        }

        try {
            return f();
        }
        finally {
            clipbox = saveclipbox;
            matrix = savematrix;
        }
    }

    function inClipbox(shape) {
        if (clipbox == null) {
            return false;
        }
        var box = shape.rawBBox().bbox(matrix);
        if (clipbox && box) {
            box = Rect.intersect(box, clipbox);
        }
        return box;
    }

    function opt(shape) {
        return withClipping(shape, function(){
            if (!(shape instanceof Group || shape instanceof MultiPath)) {
                var box = inClipbox(shape);
                if (!box) {
                    return change(null);
                }
                currentBox = currentBox ? Rect.union(currentBox, box) : box;
            }
            return dispatch({
                Path: function(shape) {
                    if (shape.segments.length === 0 || !visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                MultiPath: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    var el = new MultiPath(shape.options);
                    el.paths = optArray(shape.paths);
                    if (el.paths.length === 0) {
                        return change(null);
                    }
                    return el;
                },
                Circle: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Arc: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Text: function(shape) {
                    if (!/\S/.test(shape.content()) || !visible(shape)) {
                        return change(null);
                    }
                    return shape;
                },
                Image: function(shape) {
                    if (!(shape.visible() && shape.opacity() > 0)) {
                        return change(null);
                    }
                    return shape;
                },
                Group: function(shape) {
                    if (!(shape.visible() && shape.opacity() > 0)) {
                        return change(null);
                    }
                    var el = new Group(shape.options);
                    el.children = optArray(shape.children);
                    el._pdfLink = shape._pdfLink;
                    if (shape !== root && el.children.length === 0 && !shape._pdfLink) {
                        return change(null);
                    }
                    return el;
                },
                Rect: function(shape) {
                    if (!visible(shape)) {
                        return change(null);
                    }
                    return shape;
                }
            }, shape);
        });
    }
}

function exportPDF(group, options) {
    var promise = createPromise();

    for (var i in options) {
        if (i == "margin" && group.options.pdf && group.options.pdf._ignoreMargin) {
            // This hackish option is set by the page breaking code in drawDOM.  The idea is
            // that margin is already taken into account there (that's required to do proper
            // page breaking) and we don't want to set it again here, as it would double the
            // top-left margin, and truncate the content on bottom/right.
            continue;
        }
        group.options.set("pdf." + i, options[i]);
    }

    toDataURL(group, promise.resolve);

    return promise;
}

// XXX: the duplication is in order to keep exportPDF return a data
// URI, which is what previous versions do.  Currently only IE9 does
// not support Blob, IMO we should switch to Blob by default
// everywhere.
function exportPDFToBlob(group, options) {
    var promise = createPromise();

    for (var i in options) {
        if (i == "margin" && group.options.pdf && group.options.pdf._ignoreMargin) {
            // This hackish option is set by the page breaking code in drawDOM.  The idea is
            // that margin is already taken into account there (that's required to do proper
            // page breaking) and we don't want to set it again here, as it would double the
            // top-left margin, and truncate the content on bottom/right.
            continue;
        }
        group.options.set("pdf." + i, options[i]);
    }

    if (window.Blob && !support.browser.safari) {
        toBlob(group, promise.resolve);
    } else {
        toDataURL(group, promise.resolve);
    }

    return promise;
}



var pdf = Object.freeze({
	Document: PDFDocument,
	BinaryStream: BinaryStream,
	defineFont: defineFont,
	parseFontDef: parseFontDef,
	getFontURL: getFontURL,
	loadFonts: loadFonts,
	loadImages: loadImages,
	getPaperOptions: getPaperOptions,
	clearImageCache: clearImageCache,
	TEXT_RENDERING_MODE: TEXT_RENDERING_MODE,
	exportPDF: exportPDF,
	exportPDFToBlob: exportPDFToBlob,
	saveAs: saveAs$1,
	toDataURL: toDataURL,
	toBlob: toBlob,
	render: render$1
});

/* eslint-disable no-multi-spaces, key-spacing, indent, camelcase, space-before-blocks, eqeqeq, brace-style */
/* eslint-disable space-infix-ops, space-before-function-paren, array-bracket-spacing, object-curly-spacing */
/* eslint-disable no-nested-ternary, max-params, default-case, no-else-return, no-empty, yoda */
/* eslint-disable no-param-reassign, no-var, block-scoped-var */

var browser$3 = support.browser || {};
/*

  XXX: to test:

  - cloneNodes function:
    - drawing document containing canvas with page breaking
    - drawing document with named radio <input>-s (should not clear selection)
    - IE9/IE10 don't support el.dataset; do they copy user data?

  - repeating table headers/footers on page breaking

  - forceBreak, keepTogether

  - avoidLinks

 */

/* -----[ local vars ]----- */

function slice$1$1(thing) {
    return Array.prototype.slice.call(thing);
}

var KENDO_PSEUDO_ELEMENT = "KENDO-PSEUDO-ELEMENT";
var KENDO_BULLET_TYPE = 'data-kendo-bullet-type';

var IMAGE_CACHE$1 = {};

var nodeInfo = {};
nodeInfo._root = nodeInfo;

/* -----[ Custom Text node to speed up rendering in PDF ]----- */

var inBrowser = typeof window !== 'undefined';
var microsoft = inBrowser ? browser$3.msie || browser$3.edge : false;

var TextRect = (function (Text$$1) {
  function TextRect(str, rect, options) {
        Text$$1.call(this, str, rect.getOrigin(), options);
        this._pdfRect = rect;
    }

  if ( Text$$1 ) TextRect.__proto__ = Text$$1;
  TextRect.prototype = Object.create( Text$$1 && Text$$1.prototype );
  TextRect.prototype.constructor = TextRect;
    TextRect.prototype.rect = function rect () {
        // this is the crux of it: we can avoid a call to
        // measure(), which is what the base class does, since we
        // already know the rect.  measure() is s-l-o-w.
        return this._pdfRect;
    };
    TextRect.prototype.rawBBox = function rawBBox () {
        // also let's avoid creating a new rectangle.
        return this._pdfRect;
    };

  return TextRect;
}(Text));

function addClass(el, cls) {
    if (el.classList) {
        el.classList.add(cls);
    } else {
        el.className += " " + cls;
    }
}

function removeClass(el, cls) {
    if (el.classList) {
        el.classList.remove(cls);
    } else {
        el.className = el.className.split(/\s+/).reduce(function(a, word){
            if (word != cls) {
                a.push(word);
            }
            return a;
        }, []).join(" ");
    }
}

function setCSS(el, styles) {
    Object.keys(styles).forEach(function(key){
        el.style[key] = styles[key];
    });
}

var matches = typeof Element !== "undefined" && Element.prototype && (function(p){
    if (p.matches) {
        return function(el, selector) { return el.matches(selector); };
    }
    if (p.webkitMatchesSelector) {
        return function(el, selector) { return el.webkitMatchesSelector(selector); };
    }
    if (p.mozMatchesSelector) {
        return function(el, selector) { return el.mozMatchesSelector(selector); };
    }
    if (p.msMatchesSelector) {
        return function(el, selector) { return el.msMatchesSelector(selector); };
    }
    return function(s) {
	return [].indexOf.call(document.querySelectorAll(s), this) !== -1;
    };
})(Element.prototype);

function closest(el, selector) {
    if (el.closest) {
        return el.closest(selector);
    }
    // IE: stringifying rather than simply comparing with `document`,
    // which is not iframe-proof and fails in editor export —
    // https://github.com/telerik/kendo/issues/6721
    while (el && !/^\[object (?:HTML)?Document\]$/.test(String(el))) {
        if (el.nodeType == 1 /* Element */ && matches(el, selector)) {
            return el;
        }
        el = el.parentNode;
    }
}

// clone nodes ourselves, so that we redraw <canvas> (DOM or
// jQuery clone will not)
var cloneNodes = (function($){
    if ($) {
        // if we have Kendo and jQuery, use this version as it will
        // maintain proper links between cloned element and Kendo
        // widgets (i.e. it clones jQuery data(), which isn't the same
        // as element's data attributes).
        // https://github.com/telerik/kendo-ui-core/issues/2750
        return function cloneNodes(el) {
            var clone = el.cloneNode(false);
            if (el.nodeType == 1 /* Element */) {
                var $el = $(el), $clone = $(clone), i;
                var data = $el.data();
                for (i in data) {
                    $clone.data(i, data[i]);
                }
                if (/^canvas$/i.test(el.tagName)) {
                    clone.getContext("2d").drawImage(el, 0, 0);
                } else if (/^(?:input|select|textarea|option)$/i.test(el.tagName)) {
                    // drop the name attributes so that we don't affect the selection of the
                    // original nodes (i.e. checked status of radio buttons) when we insert our copy
                    // into the DOM.  https://github.com/telerik/kendo/issues/5409
                    clone.removeAttribute("id");
                    clone.removeAttribute("name");
                    if (!/^textarea$/i.test(el.tagName)) {
                        clone.value = el.value;
                    }
                    clone.checked = el.checked;
                    clone.selected = el.selected;
                }
                for (i = el.firstChild; i; i = i.nextSibling) {
                    clone.appendChild(cloneNodes(i));
                }
            }
            return clone;
        };
    } else {
        // the no-jQuery version
        return function cloneNodes(el) {
            var clone = (function dive(node){
                var clone = node.cloneNode(false);
                if (node._kendoExportVisual) {
                    clone._kendoExportVisual = node._kendoExportVisual;
                }
                for (var i = node.firstChild; i; i = i.nextSibling) {
                    clone.appendChild(dive(i));
                }
                return clone;
            })(el);

            // re-draw canvases - https://github.com/telerik/kendo/issues/4872
            var canvases = el.querySelectorAll("canvas");
            if (canvases.length) {
                slice$1$1(clone.querySelectorAll("canvas")).forEach(function (canvas$$1, i) {
                    canvas$$1.getContext("2d").drawImage(canvases[i], 0, 0);
                });
            }

            // remove "name" attributes from <input> elements -
            // https://github.com/telerik/kendo/issues/5409
            var orig = el.querySelectorAll("input, select, textarea, option");
            slice$1$1(clone.querySelectorAll("input, select, textarea, option")).forEach(function (el, i) {
                el.removeAttribute("id");
                el.removeAttribute("name");
                if (!/^textarea$/i.test(el.tagName)) {
                    el.value = orig[i].value;
                }
                el.checked = orig[i].checked;
                el.selected = orig[i].selected;
            });

            return clone;
        };
    }
})(typeof window !== "undefined" && window.kendo && window.kendo.jQuery);

function getXY(thing) {
    if (typeof thing == "number") {
        return { x: thing, y: thing };
    }
    if (Array.isArray(thing)) {
        return { x: thing[0], y: thing[1] };
    }
    return { x: thing.x, y: thing.y };
}

function drawDOM(element, options) {
    if (!options) {
        options = {};
    }
    var promise = createPromise();

    if (!element) {
        return promise.reject("No element to export");
    }

    if (typeof window.getComputedStyle != "function") {
        throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");
    }

    defineFont(getFontFaces(element.ownerDocument));

    var scale = getXY(options.scale || 1);

    function doOne(element) {
        var group = new Group();

        // translate to start of page
        var pos = element.getBoundingClientRect();
        setTransform$1(group, [
            scale.x,
            0,
            0,
            scale.y,
            (-pos.left * scale.x),
            (-pos.top * scale.y)
        ]);

        nodeInfo._clipbox = false;
        nodeInfo._matrix = Matrix.unit();
        nodeInfo._stackingContext = {
            element: element,
            group: group
        };

        if (options.avoidLinks === true) {
            nodeInfo._avoidLinks = "a";
        } else {
            nodeInfo._avoidLinks = options.avoidLinks;
        }

        addClass(element, "k-pdf-export");
        renderElement(element, group);
        removeClass(element, "k-pdf-export");

        return group;
    }

    cacheImages([ element ], function(){
        var forceBreak = options && options.forcePageBreak;
        var hasPaperSize = options && options.paperSize && options.paperSize != "auto";
        var paperOptions = getPaperOptions(function(key, def){
            if (key == "paperSize") {
                // PDF.getPaperOptions croaks on "auto", just pass dummy A4 as we might
                // still be interested in margins.
                return hasPaperSize ? options[key] : "A4";
            }
            return key in options ? options[key] : def;
        });
        var pageWidth = hasPaperSize && paperOptions.paperSize[0];
        var pageHeight = hasPaperSize && paperOptions.paperSize[1];
        var margin = options.margin && paperOptions.margin;
        var hasMargin = Boolean(margin);
        if (forceBreak || pageHeight) {
            if (!margin) {
                margin = { left: 0, top: 0, right: 0, bottom: 0 };
            }

            // we want paper size and margin to be unaffected by
            // scaling in the output, so we have to reverse-scale
            // before our calculations begin.
            if (pageWidth)  { pageWidth  /= scale.x; }
            if (pageHeight) { pageHeight /= scale.y; }
            margin.left   /= scale.x;
            margin.right  /= scale.x;
            margin.top    /= scale.y;
            margin.bottom /= scale.y;

            var group = new Group({
                pdf: {
                    multiPage     : true,
                    paperSize     : hasPaperSize ? paperOptions.paperSize : "auto",
                    _ignoreMargin : hasMargin // HACK!  see exportPDF in pdf/drawing.js
                }
            });
            handlePageBreaks(
                function(x) {
                    if (options.progress) {
                        var canceled = false, pageNum = 0;
                        (function next(){
                            if (pageNum < x.pages.length) {
                                var page = doOne(x.pages[pageNum]);
                                group.append(page);
                                options.progress({
                                    page: page,
                                    pageNum: ++pageNum,
                                    totalPages: x.pages.length,
                                    cancel: function() {
                                        canceled = true;
                                    }
                                });
                                if (!canceled) {
                                    setTimeout(next);
                                } else {
                                    // XXX: should we also fail() the deferred object?
                                    x.container.parentNode.removeChild(x.container);
                                }
                            } else {
                                x.container.parentNode.removeChild(x.container);
                                promise.resolve(group);
                            }
                        })();
                    } else {
                        x.pages.forEach(function(page){
                            group.append(doOne(page));
                        });
                        x.container.parentNode.removeChild(x.container);
                        promise.resolve(group);
                    }
                },
                element,
                forceBreak,
                pageWidth ? pageWidth - margin.left - margin.right : null,
                pageHeight ? pageHeight - margin.top - margin.bottom : null,
                margin,
                options
            );
        } else {
            promise.resolve(doOne(element));
        }
    });

    function makeTemplate(template$$1) {
        if (template$$1 != null) {
            if (typeof template$$1 == "string") {
                template$$1 = template$1(template$$1.replace(/^\s+|\s+$/g, ""));
            }
            if (typeof template$$1 == "function") {
                return function(data) {
                    var el = template$$1(data);
                    if (el && typeof el == "string") {
                        var div = document.createElement("div");
                        div.innerHTML = el;
                        el = div.firstElementChild;
                    }
                    return el;
                };
            }
            // assumed DOM element
            return function() {
                return template$$1.cloneNode(true);
            };
        }
    }

    function handlePageBreaks(callback, element, forceBreak, pageWidth, pageHeight, margin, options) {
        var template$$1 = makeTemplate(options.template);
        var doc = element.ownerDocument;
        var pages = [];
        var copy = options._destructive ? element : cloneNodes(element);
        var container = doc.createElement("KENDO-PDF-DOCUMENT");
        var adjust = 0;

        // make sure <tfoot> elements are at the end (Grid widget
        // places TFOOT before TBODY, tricking our algorithm to
        // insert a page break right after the header).
        // https://github.com/telerik/kendo/issues/4699
        slice$1$1(copy.querySelectorAll("tfoot")).forEach(function(tfoot){
            tfoot.parentNode.appendChild(tfoot);
        });

        // remember the index of each LI from an ordered list.
        // we'll use it to reconstruct the proper numbering.
        slice$1$1(copy.querySelectorAll("ol")).forEach(function(ol){
            slice$1$1(ol.children).forEach(function(li, index){
                li.setAttribute("kendo-split-index", index);
            });
        });

        setCSS(container, {
            display   : "block",
            position  : "absolute",
            boxSizing : "content-box",
            left      : "-10000px",
            top       : "-10000px"
        });

        if (pageWidth) {
            // subtle: if we don't set the width *and* margins here, the layout in this
            // container will be different from the one in our final page elements, and we'll
            // split at the wrong places.
            setCSS(container, {
                width        : pageWidth + "px",
                paddingLeft  : margin.left + "px",
                paddingRight : margin.right + "px"
            });

            // when the first element has a margin-top (i.e. a <h1>) the page will be
            // inadvertently enlarged by that number (the browser will report the container's
            // bounding box top to start at the element's top, rather than including its
            // margin).  Adding overflow: hidden seems to fix it.
            //
            // to understand the difference, try the following snippets in your browser:
            //
            // 1. <div style="background: yellow">
            //      <h1 style="margin: 3em">Foo</h1>
            //    </div>
            //
            // 2. <div style="background: yellow; overflow: hidden">
            //      <h1 style="margin: 3em">Foo</h1>
            //    </div>
            //
            // this detail is not important when automatic page breaking is not requested, hence
            // doing it only if pageWidth is defined.
            setCSS(copy, { overflow: "hidden" });
        }

        element.parentNode.insertBefore(container, element);
        container.appendChild(copy);

        // With cache disabled, images will still have height zero until their `complete` attribute
        // is true.  `whenImagesAreActuallyLoaded` will wait for it.
        if (options.beforePageBreak) {
            whenImagesAreActuallyLoaded([ container ], function() {
                options.beforePageBreak(container, doPageBreak);
            });
        } else {
            whenImagesAreActuallyLoaded([ container ], doPageBreak);
        }

        function doPageBreak() {
            if (forceBreak != "-" || pageHeight) {
                splitElement(copy);
            }

            {
                var page = makePage();
                copy.parentNode.insertBefore(page, copy);
                page.appendChild(copy);
            }

            if (template$$1) {
                pages.forEach(function(page, i){
                    var el = template$$1({
                        element    : page,
                        pageNum    : i + 1,
                        totalPages : pages.length
                    });
                    if (el) {
                        page.appendChild(el);
                    }
                });
            }

            cacheImages(pages, callback.bind(null, { pages: pages, container: container }));
        }

        function keepTogether(el) {
            if (options.keepTogether && matches(el, options.keepTogether) && el.offsetHeight <= pageHeight - adjust) {
                return true;
            }

            var tag = el.tagName;
            if (/^h[1-6]$/i.test(tag) && el.offsetHeight >= pageHeight - adjust) {
                return false;
            }

            return (el.getAttribute("data-kendo-chart") ||
                    /^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(el.tagName));
        }

        function splitElement(element) {
            if (element.tagName == "TABLE") {
                setCSS(element, { tableLayout: "fixed" });
            }
            if (keepTogether(element)) {
                return;
            }
            var style = getComputedStyle$1(element);
            var bottomPadding = parseFloat(getPropertyValue(style, "padding-bottom"));
            var bottomBorder = parseFloat(getPropertyValue(style, "border-bottom-width"));
            var saveAdjust = adjust;
            adjust += bottomPadding + bottomBorder;
            var isFirst = true;
            for (var el = element.firstChild; el; el = el.nextSibling) {
                if (el.nodeType == 1 /* Element */) {
                    isFirst = false;
                    if (matches(el, forceBreak)) {
                        breakAtElement(el);
                        continue;
                    }
                    if (!pageHeight) {
                        // we're in "manual breaks mode"
                        splitElement(el);
                        continue;
                    }
                    if (!/^(?:static|relative)$/.test(getPropertyValue(getComputedStyle$1(el), "position"))) {
                        continue;
                    }
                    var fall = fallsOnMargin(el);
                    if (fall == 1) {
                        // element starts on next page, break before anyway.
                        breakAtElement(el);
                    }
                    else if (fall) {
                        // elements ends up on next page, or possibly doesn't fit on a page at
                        // all.  break before it anyway if it's an <img> or <tr>, otherwise
                        // attempt to split.
                        if (keepTogether(el)) {
                            breakAtElement(el);
                        } else {
                            splitElement(el);
                        }
                    }
                    else {
                        splitElement(el);
                    }
                }
                else if (el.nodeType == 3 /* Text */ && pageHeight) {
                    splitText(el, isFirst);
                    isFirst = false;
                }
            }
            adjust = saveAdjust;
        }

        function firstInParent(el) {
            var p = el.parentNode, first = p.firstChild;
            if (el === first) {
                return true;
            }
            if (el === p.children[0]) {
                if (first.nodeType == 7 /* comment */ ||
                    first.nodeType == 8 /* processing instruction */) {
                    return true;
                }
                if (first.nodeType == 3 /* text */) {
                    // if whitespace only we can probably consider it's first
                    return !/\S/.test(first.data);
                }
            }
            return false;
        }

        function breakAtElement(el) {
            if (el.nodeType == 1 && el !== copy && firstInParent(el)) {
                return breakAtElement(el.parentNode);
            }
            var table, colgroup, thead, grid, gridHead;
            table = closest(el, "table");
            colgroup = table && table.querySelector("colgroup");
            if (options.repeatHeaders) {
                thead = table && table.querySelector("thead");

                // If we break page in a Kendo Grid, repeat its header.  This ugly hack is
                // necessary because a scrollable grid will keep the header in a separate
                // <table> element from its content.
                //
                // XXX: This is likely to break as soon as the widget HTML is modified.
                grid = closest(el, ".k-grid");
                if (grid && grid.querySelector(".k-auto-scrollable")) {
                    gridHead = grid.querySelector(".k-grid-header");
                }
            }
            var page = makePage();
            var range = doc.createRange();
            range.setStartBefore(copy);
            range.setEndBefore(el);
            page.appendChild(range.extractContents());
            copy.parentNode.insertBefore(page, copy);
            preventBulletOnListItem(el.parentNode);
            if (table) {
                table = closest(el, "table"); // that's the <table> on next page!
                if (options.repeatHeaders && thead) {
                    table.insertBefore(thead.cloneNode(true), table.firstChild);
                }
                if (colgroup) {
                    table.insertBefore(colgroup.cloneNode(true), table.firstChild);
                }
            }
            if (options.repeatHeaders && gridHead) {
                grid = closest(el, ".k-grid");
                grid.insertBefore(gridHead.cloneNode(true), grid.firstChild);
            }
        }

        function makePage() {
            var page = doc.createElement("KENDO-PDF-PAGE");
            setCSS(page, {
                display  : "block",
                boxSizing: "content-box",
                width    : pageWidth ? (pageWidth + "px") : "auto",
                padding  : (margin.top + "px " +
                            margin.right + "px " +
                            margin.bottom + "px " +
                            margin.left + "px"),

                // allow absolutely positioned elements to be relative to current page
                position : "relative",

                // without the following we might affect layout of subsequent pages
                height   : pageHeight ? (pageHeight + "px") : "auto",
                overflow : pageHeight || pageWidth ? "hidden" : "visible",
                clear    : "both"
            });

            // debug
            // $("<div>").css({
            //     position  : "absolute",
            //     left      : margin.left,
            //     top       : margin.top,
            //     width     : pageWidth,
            //     height    : pageHeight,
            //     boxSizing : "border-box",
            //     background: "rgba(255, 255, 0, 0.5)"
            //     //border    : "1px solid red"
            // }).appendTo(page);

            if (options && options.pageClassName) {
                page.className = options.pageClassName;
            }
            pages.push(page);
            return page;
        }

        function fallsOnMargin(thing) {
            var box = thing.getBoundingClientRect();
            if (box.width === 0 || box.height === 0) {
                // I'd say an element with dimensions zero fits on current page.
                return 0;
            }
            var top = copy.getBoundingClientRect().top;
            var available = pageHeight - adjust;
            return (box.height > available) ? 3
                : (box.top - top > available) ? 1
                : (box.bottom - top > available) ? 2
                : 0;
        }

        function splitText(node, isFirst) {
            if (!/\S/.test(node.data)) {
                return;
            }

            var len = node.data.length;
            var range = doc.createRange();
            range.selectNodeContents(node);
            var fall = fallsOnMargin(range);
            if (!fall) {
                return;     // the whole text fits on current page
            }

            var nextnode = node;
            if (fall == 1) {
                // starts on next page, break before anyway.
                if (isFirst) {
                    // avoid leaving an empty <p>, <li>, etc. on previous page.
                    breakAtElement(node.parentNode);
                } else {
                    breakAtElement(node);
                }
            }
            else {
                (function findEOP(min, pos, max) {
                    range.setEnd(node, pos);
                    if (min == pos || pos == max) {
                        return pos;
                    }
                    if (fallsOnMargin(range)) {
                        return findEOP(min, (min + pos) >> 1, pos);
                    } else {
                        return findEOP(pos, (pos + max) >> 1, max);
                    }
                })(0, len >> 1, len);

                if (!/\S/.test(range.toString()) && isFirst) {
                    // avoid leaving an empty <p>, <li>, etc. on previous page.
                    breakAtElement(node.parentNode);
                } else {
                    // This is only needed for IE, but it feels cleaner to do it anyway.  Without
                    // it, IE will truncate a very long text (playground/pdf-long-text-2.html).
                    nextnode = node.splitText(range.endOffset);

                    var page = makePage();
                    range.setStartBefore(copy);
                    page.appendChild(range.extractContents());
                    copy.parentNode.insertBefore(page, copy);
                    preventBulletOnListItem(nextnode.parentNode);
                }
            }

            splitText(nextnode);
        }

        function preventBulletOnListItem(el) {
            // set a hint on continued LI elements, to tell the
            // renderer not to draw the bullet again.
            // https://github.com/telerik/kendo-ui-core/issues/2732
            var li = closest(el, "li");
            if (li) {
                li.setAttribute("kendo-no-bullet", "1");
                preventBulletOnListItem(li.parentNode);
            }
        }
    }

    return promise;
}

// This is needed for the Spreadsheet print functionality.  Since
// there we only need to draw text, this cuts through the ceremony
// of drawDOM/renderElement and renders the text node directly.
function drawText$1(element) {
    var group = new Group();
    nodeInfo._clipbox = false;
    nodeInfo._matrix = Matrix.unit();
    nodeInfo._stackingContext = {
        element: element,
        group: group
    };
    pushNodeInfo(element, getComputedStyle$1(element), group);
    if (element.firstChild.nodeType == 3 /* Text */) {
        // avoid the penalty of renderElement
        renderText(element, element.firstChild, group);
    } else {
        _renderElement(element, group);
    }
    popNodeInfo();
    return group;
}

var parseBackgroundImage = (function(){
    var tok_linear_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/;
    //var tok_radial_gradient  = /^((-webkit-|-moz-|-o-|-ms-)?radial-gradient\s*)\(/;
    var tok_percent          = /^([-0-9.]+%)/;
    var tok_length           = /^([-0-9.]+px)/;
    var tok_keyword          = /^(left|right|top|bottom|to|center)\W/;
    var tok_angle            = /^([-0-9.]+(deg|grad|rad|turn)|0)/;
    var tok_whitespace       = /^(\s+)/;
    var tok_popen            = /^(\()/;
    var tok_pclose           = /^(\))/;
    var tok_comma            = /^(,)/;
    var tok_url              = /^(url)\(/;
    var tok_content          = /^(.*?)\)/;

    var cache1 = {}, cache2 = {};

    function parse(input) {
        var orig = input;
        if (hasOwnProperty$2(cache1, orig)) {
            return cache1[orig];
        }
        function skip_ws() {
            var m = tok_whitespace.exec(input);
            if (m) {
                input = input.substr(m[1].length);
            }
        }
        function read(token) {
            skip_ws();
            var m = token.exec(input);
            if (m) {
                input = input.substr(m[1].length);
                return m[1];
            }
        }

        function read_stop() {
            var color = parseColor(input, true);
            var length, percent;
            if (color) {
                var match =
                    /^#[0-9a-f]+/i.exec(input) ||
                    /^rgba?\(.*?\)/i.exec(input) ||
                    /^..*?\b/.exec(input); // maybe named color
                input = input.substr(match[0].length);
                color = color.toRGB();
                if (!(length = read(tok_length))) {
                    percent = read(tok_percent);
                }
                return { color: color, length: length, percent: percent };
            }
        }

        function read_linear_gradient(propName) {
            var angle;
            var to1, to2;
            var stops = [];
            var reverse = false;

            if (read(tok_popen)) {
                // 1. [ <angle> || to <side-or-corner>, ]?
                angle = read(tok_angle);
                if (angle == "0") {
                    angle = "0deg"; // Edge
                }
                if (angle) {
                    angle = parseAngle(angle);
                    read(tok_comma);
                }
                else {
                    to1 = read(tok_keyword);
                    if (to1 == "to") {
                        to1 = read(tok_keyword);
                    } else if (to1 && /^-/.test(propName)) {
                        reverse = true;
                    }
                    to2 = read(tok_keyword);
                    read(tok_comma);
                }

                if (/-moz-/.test(propName) && angle == null && to1 == null) {
                    var x = read(tok_percent), y = read(tok_percent);
                    reverse = true;
                    if (x == "0%") {
                        to1 = "left";
                    } else if (x == "100%") {
                        to1 = "right";
                    }
                    if (y == "0%") {
                        to2 = "top";
                    } else if (y == "100%") {
                        to2 = "bottom";
                    }
                    read(tok_comma);
                }

                // 2. color stops
                while (input && !read(tok_pclose)) {
                    var stop = read_stop();
                    if (!stop) {
                        break;
                    }
                    stops.push(stop);
                    read(tok_comma);
                }

                return {
                    type    : "linear",
                    angle   : angle,
                    to      : to1 && to2 ? to1 + " " + to2 : to1 ? to1 : to2 ? to2 : null,
                    stops   : stops,
                    reverse : reverse
                };
            }
        }

        function read_url() {
            if (read(tok_popen)) {
                var url = read(tok_content);
                url = url.replace(/^['"]+|["']+$/g, "");
                read(tok_pclose);
                return { type: "url", url: url };
            }
        }

        var tok;

        if ((tok = read(tok_linear_gradient))) {
            tok = read_linear_gradient(tok);
        }
        else if ((tok = read(tok_url))) {
            tok = read_url();
        }

        return (cache1[orig] = tok || { type: "none" });
    }

    return function(input) {
        if (hasOwnProperty$2(cache2, input)) {
            return cache2[input];
        }
        return (cache2[input] = splitProperty(input).map(parse));
    };
})();

var splitProperty = (function(){
    var cache = {};
    return function(input, separator) {
        if (!separator) {
            separator = /^\s*,\s*/;
        }

        var cacheKey = input + separator;

        if (hasOwnProperty$2(cache, cacheKey)) {
            return cache[cacheKey];
        }

        var ret = [];
        var last$$1 = 0, pos = 0;
        var in_paren = 0;
        var in_string = false;
        var m;

        function looking_at(rx) {
            return (m = rx.exec(input.substr(pos)));
        }

        function trim(str) {
            return str.replace(/^\s+|\s+$/g, "");
        }

        while (pos < input.length) {
            if (!in_string && looking_at(/^[\(\[\{]/)) {
                in_paren++;
                pos++;
            }
            else if (!in_string && looking_at(/^[\)\]\}]/)) {
                in_paren--;
                pos++;
            }
            else if (!in_string && looking_at(/^[\"\']/)) {
                in_string = m[0];
                pos++;
            }
            else if (in_string == "'" && looking_at(/^\\\'/)) {
                pos += 2;
            }
            else if (in_string == '"' && looking_at(/^\\\"/)) {
                pos += 2;
            }
            else if (in_string == "'" && looking_at(/^\'/)) {
                in_string = false;
                pos++;
            }
            else if (in_string == '"' && looking_at(/^\"/)) {
                in_string = false;
                pos++;
            }
            else if (looking_at(separator)) {
                if (!in_string && !in_paren && pos > last$$1) {
                    ret.push(trim(input.substring(last$$1, pos)));
                    last$$1 = pos + m[0].length;
                }
                pos += m[0].length;
            }
            else {
                pos++;
            }
        }
        if (last$$1 < pos) {
            ret.push(trim(input.substring(last$$1, pos)));
        }
        return (cache[cacheKey] = ret);
    };
})();

var getFontURL$1 = (function(cache){
    return function(el){
        // XXX: for IE we get here the whole cssText of the rule,
        // because the computedStyle.src is empty.  Next time we need
        // to fix these regexps we better write a CSS parser. :-\
        var url = cache[el];
        if (!url) {
            var m;
            if ((m = /url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(el))) {
                url = cache[el] = m[2];
            } else if ((m = /url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(el))) {
                url = cache[el] = m[2];
            }
        }
        return url;
    };
})(Object.create(null));

var getFontHeight = (function(cache){
    return function(font) {
        var height = cache[font];
        if (height == null) {
            height = cache[font] = measureText("Mapq", { font: font }).height;
        }
        return height;
    };
})(Object.create(null));

function getFontFaces(doc) {
    if (doc == null) {
        doc = document;
    }
    var result = {};
    for (var i = 0; i < doc.styleSheets.length; ++i) {
        doStylesheet(doc.styleSheets[i]);
    }
    return result;
    function doStylesheet(ss) {
        if (ss) {
            var rules = null;
            try {
                rules = ss.cssRules;
            } catch (ex) {}
            if (rules) {
                addRules(ss, rules);
            }
        }
    }
    function findFonts(rule) {
        var src = getPropertyValue(rule.style, "src");
        if (src) {
            return splitProperty(src).reduce(function(a, el){
                var font = getFontURL$1(el);
                if (font) {
                    a.push(font);
                }
                return a;
            }, []);
        } else {
            // Internet Explorer
            // XXX: this is gross.  should work though for valid CSS.
            var font = getFontURL$1(rule.cssText);
            return font ? [ font ] : [];
        }
    }
    function addRules(styleSheet, rules) {
        for (var i = 0; i < rules.length; ++i) {
            var r = rules[i];
            switch (r.type) {
              case 3:       // CSSImportRule
                doStylesheet(r.styleSheet);
                break;
              case 5:       // CSSFontFaceRule
                var style  = r.style;
                var family = splitProperty(getPropertyValue(style, "font-family"));
                var bold   = /^([56789]00|bold)$/i.test(getPropertyValue(style, "font-weight"));
                var italic = "italic" == getPropertyValue(style, "font-style");
                var src    = findFonts(r);
                if (src.length > 0) {
                    addRule(styleSheet, family, bold, italic, src[0]);
                }
            }
        }
    }
    function addRule(styleSheet, names, bold, italic, url) {
        // We get full resolved absolute URLs in Chrome, but sadly
        // not in Firefox.
        if (!(/^data:/i.test(url))) {
            if (!(/^[^\/:]+:\/\//.test(url) || /^\//.test(url))) {
                url = String(styleSheet.href).replace(/[^\/]*$/, "") + url;
            }
        }
        names.forEach(function(name){
            name = name.replace(/^(['"]?)(.*?)\1$/, "$2"); // it's quoted
            if (bold) {
                name += "|bold";
            }
            if (italic) {
                name += "|italic";
            }
            result[name] = url;
        });
    }
}

function hasOwnProperty$2(obj, key) {
    return Object.prototype.hasOwnProperty.call(obj, key);
}

function getCounter(name) {
    name = "_counter_" + name;
    return nodeInfo[name];
}

function getAllCounters(name) {
    var values = [], p = nodeInfo;
    name = "_counter_" + name;
    while (p) {
        if (hasOwnProperty$2(p, name)) {
            values.push(p[name]);
        }
        p = Object.getPrototypeOf(p);
    }
    return values.reverse();
}

function incCounter(name, inc) {
    var p = nodeInfo;
    name = "_counter_" + name;
    while (p && !hasOwnProperty$2(p, name)) {
        p = Object.getPrototypeOf(p);
    }
    if (!p) {
        p = nodeInfo._root;
    }
    p[name] = (p[name] || 0) + (inc == null ? 1 : inc);
}

function resetCounter(name, val) {
    name = "_counter_" + name;
    nodeInfo[name] = val == null ? 0 : val;
}

function doCounters(a, f, def) {
    for (var i = 0; i < a.length;) {
        var name = a[i++];
        var val = parseFloat(a[i]);
        if (isNaN(val)) {
            f(name, def);
        } else {
            f(name, val);
            ++i;
        }
    }
}

function updateCounters(style) {
    var counterReset = getPropertyValue(style, "counter-reset");
    if (counterReset) {
        doCounters(splitProperty(counterReset, /^\s+/), resetCounter, 0);
    }
    var counterIncrement = getPropertyValue(style, "counter-increment");
    if (counterIncrement) {
        doCounters(splitProperty(counterIncrement, /^\s+/), incCounter, 1);
    }
}

function parseColor$2(str, css) {
    var color = parseColor(str, true);
    if (color) {
        color = color.toRGB();
        if (css) {
            color = color.toCssRgba();
        } else if (color.a === 0) {
            color = null;
        }
    }
    return color;
}

function whenImagesAreActuallyLoaded(elements, callback) {
    var pending = 0;
    var done = false;
    elements.forEach(function(el){
        var images = el.querySelectorAll("img");
        for (var i = 0; i < images.length; ++i) {
            var img = images[i];
            if (!img.complete) {
                pending++;
                img.onload = img.onerror = next;
            }
        }
    });

    if (!pending) {
        next();
    }

    function next() {
        if (!done && --pending <= 0) {
            callback();
            done = true;
        }
    }
}

function cacheImages(elements, callback) {
    var urls = [];
    function add(url) {
        if (!IMAGE_CACHE$1[url]) {
            IMAGE_CACHE$1[url] = true;
            urls.push(url);
        }
    }

    elements.forEach(function dive(element){
        if (/^img$/i.test(element.tagName)) {
            add(element.src);
        }
        parseBackgroundImage(
            getPropertyValue(
                getComputedStyle$1(element), "background-image"
            )
        ).forEach(function(bg){
            if (bg.type == "url") {
                add(bg.url);
            }
        });

        if (element.children) {
            slice$1$1(element.children).forEach(dive);
        }
    });

    var count = urls.length;
    function next() {
        if (--count <= 0) {
            // Even though we cached them, they simply won't be available immediately in the newly
            // created DOM.  Previously we'd allow a 10ms timeout, but that's arbitrary and clearly
            // not working in all cases (https://github.com/telerik/kendo/issues/5399), so this
            // function will wait for their .complete attribute.
            whenImagesAreActuallyLoaded(elements, callback);
        }
    }
    if (count === 0) {
        next();
    }
    urls.forEach(function(url){
        var img = IMAGE_CACHE$1[url] = new window.Image();
        if (!(/^data:/i.test(url))) {
            img.crossOrigin = "Anonymous";
        }
        img.src = url;
        if (img.complete) {
            next();
        } else {
            img.onload = next;
            img.onerror = function() {
                IMAGE_CACHE$1[url] = null;
                next();
            };
        }
    });
}

function alphaNumeral(n) {
    var result = "";
    do {
        var r = n % 26;
        result = String.fromCharCode(97 + r) + result;
        n = Math.floor(n / 26);
    } while (n > 0);
    return result;
}

function pushNodeInfo(element, style, group) {
    nodeInfo = Object.create(nodeInfo);
    nodeInfo[element.tagName.toLowerCase()] = {
        element: element,
        style: style
    };
    var decoration = getPropertyValue(style, "text-decoration");
    if (decoration && decoration != "none") {
        var color = getPropertyValue(style, "text-decoration-color");
        decoration.split(/\s+/g).forEach(function(name){
            if (!nodeInfo[name]) {
                nodeInfo[name] = color;
                if (name == "underline") {
                    var offset = getPropertyValue(style, "text-underline-offset");
                    if (offset != "auto") {
                        nodeInfo["underline-offset"] = parseFloat(offset);
                    }
                }
            }
        });
    }

    if (createsStackingContext(style)) {
        nodeInfo._stackingContext = {
            element: element,
            group: group
        };
    }
}

function popNodeInfo() {
    nodeInfo = Object.getPrototypeOf(nodeInfo);
}

function updateClipbox(path) {
    if (nodeInfo._clipbox != null) {
        var box = path.bbox(nodeInfo._matrix);
        if (nodeInfo._clipbox) {
            nodeInfo._clipbox = Rect.intersect(nodeInfo._clipbox, box);
        } else {
            nodeInfo._clipbox = box;
        }
    }
}

function emptyClipbox() {
    var cb = nodeInfo._clipbox;
    if (cb == null) {
        return true;
    }
    if (cb) {
        return cb.width() === 0 || cb.height() === 0;
    }
}

function createsStackingContext(style) {
    function prop(name) { return getPropertyValue(style, name); }
    if (prop("transform") != "none" ||
        prop("position") != "static" ||
        prop("z-index") != "auto" ||
        prop("opacity") < 1) {
        return true;
    }
}

function getComputedStyle$1(element, pseudoElt) {
    return window.getComputedStyle(element, pseudoElt || null);
}

function getPropertyValue(style, prop, defa) {
    var val = style.getPropertyValue(prop);
    if (val == null || val === "") {
        if (browser$3.webkit) {
            val = style.getPropertyValue("-webkit-" + prop );
        } else if (browser$3.mozilla) {
            val = style.getPropertyValue("-moz-" + prop );
        } else if (browser$3.opera) {
            val = style.getPropertyValue("-o-" + prop);
        } else if (microsoft) {
            val = style.getPropertyValue("-ms-" + prop);
        }
    }
    if (arguments.length > 2 && (val == null || val === "")) {
        return defa;
    } else {
        return val;
    }
}

function pleaseSetPropertyValue(style, prop, value, important) {
    style.setProperty(prop, value, important);
    if (browser$3.webkit) {
        style.setProperty("-webkit-" + prop, value, important);
    } else if (browser$3.mozilla) {
        style.setProperty("-moz-" + prop, value, important);
    } else if (browser$3.opera) {
        style.setProperty("-o-" + prop, value, important);
    } else if (microsoft) {
        style.setProperty("-ms-" + prop, value, important);
        prop = "ms" + prop.replace(/(^|-)([a-z])/g, function(s, p1, p2){
            return p1 + p2.toUpperCase();
        });
        style[prop] = value;
    }
}

function getBorder(style, side) {
    side = "border-" + side;
    return {
        width: parseFloat(getPropertyValue(style, side + "-width")),
        style: getPropertyValue(style, side + "-style"),
        color: parseColor$2(getPropertyValue(style, side + "-color"), true)
    };
}

function saveStyle(element, func) {
    var prev = element.style.cssText;
    var result = func();
    element.style.cssText = prev;
    return result;
}

function getBorderRadius(style, side) {
    var r = getPropertyValue(style, "border-" + side + "-radius").split(/\s+/g).map(parseFloat);
    if (r.length == 1) {
        r.push(r[0]);
    }
    return sanitizeRadius({ x: r[0], y: r[1] });
}

function getContentBox(element) {
    var box = element.getBoundingClientRect();
    box = innerBox(box, "border-*-width", element);
    box = innerBox(box, "padding-*", element);
    return box;
}

function innerBox(box, prop, element) {
    var style, wt, wr, wb, wl;
    if (typeof prop == "string") {
        style = getComputedStyle$1(element);
        wt = parseFloat(getPropertyValue(style, prop.replace("*", "top")));
        wr = parseFloat(getPropertyValue(style, prop.replace("*", "right")));
        wb = parseFloat(getPropertyValue(style, prop.replace("*", "bottom")));
        wl = parseFloat(getPropertyValue(style, prop.replace("*", "left")));
    }
    else if (typeof prop == "number") {
        wt = wr = wb = wl = prop;
    }
    return {
        top    : box.top + wt,
        right  : box.right - wr,
        bottom : box.bottom - wb,
        left   : box.left + wl,
        width  : box.right - box.left - wr - wl,
        height : box.bottom - box.top - wb - wt
    };
}

function getTransform(style) {
    var transform$$1 = getPropertyValue(style, "transform");
    if (transform$$1 == "none") {
        return null;
    }
    var matrix = /^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(transform$$1);
    if (matrix) {
        var origin = getPropertyValue(style, "transform-origin");
        matrix = matrix[1].split(/\s*,\s*/g).map(parseFloat);
        origin = origin.split(/\s+/g).map(parseFloat);
        return {
            matrix: matrix,
            origin: origin
        };
    }
}

function radiansToDegrees(radians) {
    return ((180 * radians) / Math.PI) % 360;
}

function parseAngle(angle) {
    var num = parseFloat(angle);
    if (/grad$/.test(angle)) {
        return Math.PI * num / 200;
    }
    else if (/rad$/.test(angle)) {
        return num;
    }
    else if (/turn$/.test(angle)) {
        return Math.PI * num * 2;
    }
    else if (/deg$/.test(angle)) {
        return Math.PI * num / 180;
    }
}

function setTransform$1(shape, m) {
    m = new Matrix(m[0], m[1], m[2], m[3], m[4], m[5]);
    shape.transform(m);
    return m;
}

function setClipping$1(shape, clipPath) {
    shape.clip(clipPath);
}

function addArcToPath(path, x, y, options) {
    var points = new Arc$2([ x, y ], options).curvePoints(), i = 1;
    while (i < points.length) {
        path.curveTo(points[i++], points[i++], points[i++]);
    }
}

function sanitizeRadius(r) {
    if (r.x <= 0 || r.y <= 0) {
        r.x = r.y = 0;
    }
    return r;
}

function adjustBorderRadiusForBox(box, rTL, rTR, rBR, rBL) {
    // adjust border radiuses such that the sum of adjacent
    // radiuses is not bigger than the length of the side.
    // seems the correct algorithm is variant (3) from here:
    // http://www.w3.org/Style/CSS/Tracker/issues/29?changelog
    var tl_x = Math.max(0, rTL.x), tl_y = Math.max(0, rTL.y);
    var tr_x = Math.max(0, rTR.x), tr_y = Math.max(0, rTR.y);
    var br_x = Math.max(0, rBR.x), br_y = Math.max(0, rBR.y);
    var bl_x = Math.max(0, rBL.x), bl_y = Math.max(0, rBL.y);

    var f = Math.min(
        box.width / (tl_x + tr_x),
        box.height / (tr_y + br_y),
        box.width / (br_x + bl_x),
        box.height / (bl_y + tl_y)
    );

    if (f < 1) {
        tl_x *= f; tl_y *= f;
        tr_x *= f; tr_y *= f;
        br_x *= f; br_y *= f;
        bl_x *= f; bl_y *= f;
    }

    return {
        tl: { x: tl_x, y: tl_y },
        tr: { x: tr_x, y: tr_y },
        br: { x: br_x, y: br_y },
        bl: { x: bl_x, y: bl_y }
    };
}

function elementRoundBox(element, box, type) {
    var style = getComputedStyle$1(element);

    var rTL = getBorderRadius(style, "top-left");
    var rTR = getBorderRadius(style, "top-right");
    var rBL = getBorderRadius(style, "bottom-left");
    var rBR = getBorderRadius(style, "bottom-right");

    if (type == "padding" || type == "content") {
        var bt = getBorder(style, "top");
        var br = getBorder(style, "right");
        var bb = getBorder(style, "bottom");
        var bl = getBorder(style, "left");
        rTL.x -= bl.width; rTL.y -= bt.width;
        rTR.x -= br.width; rTR.y -= bt.width;
        rBR.x -= br.width; rBR.y -= bb.width;
        rBL.x -= bl.width; rBL.y -= bb.width;
        if (type == "content") {
            var pt = parseFloat(getPropertyValue(style, "padding-top"));
            var pr = parseFloat(getPropertyValue(style, "padding-right"));
            var pb = parseFloat(getPropertyValue(style, "padding-bottom"));
            var pl = parseFloat(getPropertyValue(style, "padding-left"));
            rTL.x -= pl; rTL.y -= pt;
            rTR.x -= pr; rTR.y -= pt;
            rBR.x -= pr; rBR.y -= pb;
            rBL.x -= pl; rBL.y -= pb;
        }
    }

    if (typeof type == "number") {
        rTL.x -= type; rTL.y -= type;
        rTR.x -= type; rTR.y -= type;
        rBR.x -= type; rBR.y -= type;
        rBL.x -= type; rBL.y -= type;
    }

    return roundBox(box, rTL, rTR, rBR, rBL);
}

// Create a drawing.Path for a rounded rectangle.  Receives the
// bounding box and the border-radiuses in CSS order (top-left,
// top-right, bottom-right, bottom-left).  The radiuses must be
// objects containing x (horiz. radius) and y (vertical radius).
function roundBox(box, rTL0, rTR0, rBR0, rBL0) {
    var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);
    var rTL = tmp.tl;
    var rTR = tmp.tr;
    var rBR = tmp.br;
    var rBL = tmp.bl;
    var path = new Path({ fill: null, stroke: null });
    path.moveTo(box.left, box.top + rTL.y);
    if (rTL.x) {
        addArcToPath(path, box.left + rTL.x, box.top + rTL.y, {
            startAngle: -180,
            endAngle: -90,
            radiusX: rTL.x,
            radiusY: rTL.y
        });
    }
    path.lineTo(box.right - rTR.x, box.top);
    if (rTR.x) {
        addArcToPath(path, box.right - rTR.x, box.top + rTR.y, {
            startAngle: -90,
            endAngle: 0,
            radiusX: rTR.x,
            radiusY: rTR.y
        });
    }
    path.lineTo(box.right, box.bottom - rBR.y);
    if (rBR.x) {
        addArcToPath(path, box.right - rBR.x, box.bottom - rBR.y, {
            startAngle: 0,
            endAngle: 90,
            radiusX: rBR.x,
            radiusY: rBR.y
        });
    }
    path.lineTo(box.left + rBL.x, box.bottom);
    if (rBL.x) {
        addArcToPath(path, box.left + rBL.x, box.bottom - rBL.y, {
            startAngle: 90,
            endAngle: 180,
            radiusX: rBL.x,
            radiusY: rBL.y
        });
    }
    return path.close();
}

function formatCounter(val, style) {
    var str = String(parseFloat(val));
    switch (style) {
      case "decimal-leading-zero":
        if (str.length < 2) {
            str = "0" + str;
        }
        return str;
      case "lower-roman":
        return arabicToRoman(val).toLowerCase();
      case "upper-roman":
        return arabicToRoman(val).toUpperCase();
      case "lower-latin":
      case "lower-alpha":
        return alphaNumeral(val - 1);
      case "upper-latin":
      case "upper-alpha":
        return alphaNumeral(val - 1).toUpperCase();
      default:
        return str;
    }
}

function evalPseudoElementContent(element, content) {
    function displayCounter(name, style, separator) {
        if (!separator) {
            return formatCounter(getCounter(name) || 0, style);
        }
        separator = separator.replace(/^\s*(["'])(.*)\1\s*$/, "$2");
        return getAllCounters(name).map(function(val){
            return formatCounter(val, style);
        }).join(separator);
    }
    var a = splitProperty(content, /^\s+/);
    var result = [], m;
    a.forEach(function(el){
        var tmp;
        if ((m = /^\s*(["'])(.*)\1\s*$/.exec(el))) {
            result.push(m[2].replace(/\\([0-9a-f]{4})/gi, function(s, p){
                return String.fromCharCode(parseInt(p, 16));
            }));
        }
        else if ((m = /^\s*counter\((.*?)\)\s*$/.exec(el))) {
            tmp = splitProperty(m[1]);
            result.push(displayCounter(tmp[0], tmp[1]));
        }
        else if ((m = /^\s*counters\((.*?)\)\s*$/.exec(el))) {
            tmp = splitProperty(m[1]);
            result.push(displayCounter(tmp[0], tmp[2], tmp[1]));
        }
        else if ((m = /^\s*attr\((.*?)\)\s*$/.exec(el))) {
            result.push(element.getAttribute(m[1]) || "");
        }
        else {
            result.push(el);
        }
    });
    return result.join("");
}

function getCssText(style) {
    if (style.cssText) {
        return style.cssText;
    }
    // Status: NEW.  Report year: 2002.  Current year: 2014.
    // Nice played, Mozillians.
    // https://bugzilla.mozilla.org/show_bug.cgi?id=137687
    var result = [];
    for (var i = 0; i < style.length; ++i) {
        result.push(style[i] + ": " + getPropertyValue(style, style[i]));
    }
    return result.join(";\n");
}

function _renderWithPseudoElements(element, group) {
    if (element.tagName == KENDO_PSEUDO_ELEMENT) {
        _renderElement(element, group);
        return;
    }
    var fake = [];
    function pseudo(kind, place) {
        var style = getComputedStyle$1(element, kind), content = style.content;
        updateCounters(style);
        if (content && content != "normal" && content != "none" && style.width != "0px") {
            var psel = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);
            psel.style.cssText = getCssText(style);
            psel.textContent = evalPseudoElementContent(element, content);
            element.insertBefore(psel, place);
            fake.push(psel);
        }
    }
    pseudo(":before", element.firstChild);
    pseudo(":after", null);
    if (fake.length > 0) {
        var saveClass = element.className;
        element.className += " kendo-pdf-hide-pseudo-elements";
        _renderElement(element, group);
        element.className = saveClass;
        fake.forEach(function(el){ element.removeChild(el); });
    } else {
        _renderElement(element, group);
    }
}

function _renderElement(element, group) {
    var style = getComputedStyle$1(element);

    var top = getBorder(style, "top");
    var right = getBorder(style, "right");
    var bottom = getBorder(style, "bottom");
    var left = getBorder(style, "left");

    var rTL0 = getBorderRadius(style, "top-left");
    var rTR0 = getBorderRadius(style, "top-right");
    var rBL0 = getBorderRadius(style, "bottom-left");
    var rBR0 = getBorderRadius(style, "bottom-right");

    var dir = getPropertyValue(style, "direction");

    var backgroundColor = getPropertyValue(style, "background-color");
    backgroundColor = parseColor$2(backgroundColor);

    var backgroundImage = parseBackgroundImage( getPropertyValue(style, "background-image") );
    var backgroundRepeat = splitProperty( getPropertyValue(style, "background-repeat") );
    var backgroundPosition = splitProperty( getPropertyValue(style, "background-position") );
    var backgroundOrigin = splitProperty( getPropertyValue(style, "background-origin") );
    var backgroundSize = splitProperty( getPropertyValue(style, "background-size") );

    // IE shrinks the text with text-overflow: ellipsis,
    // apparently because the returned bounding box for the range
    // is limited to the visible area minus space for the dots,
    // instead of being the full width of the text.
    //
    // https://github.com/telerik/kendo/issues/5232
    // https://github.com/telerik/kendo-ui-core/issues/1868
    //
    // We have to test it here rather than in renderText because
    // text-overflow: ellipsis could be set on a parent element (not
    // necessarily the one containing the text); in this case,
    // getComputedStyle(elementWithTheText) will return "clip", not
    // "ellipsis" (which is probably a bug, but oh well...)
    var textOverflow, saveTextOverflow;
    if (microsoft) {
        textOverflow = style.textOverflow;             // computed style
        if (textOverflow == "ellipsis") {
            saveTextOverflow = element.style.textOverflow; // own style.
            element.style.textOverflow = "clip";
        }
    }

    if (browser$3.msie && browser$3.version < 10) {
        // IE9 hacks.  getPropertyValue won't return the correct
        // value.  Sucks that we have to do it here, I'd prefer to
        // move it in getPropertyValue, but we don't have the
        // element.
        backgroundPosition = splitProperty(element.currentStyle.backgroundPosition);
    }

    var innerbox = innerBox(element.getBoundingClientRect(), "border-*-width", element);

    // CSS "clip" property - if present, replace the group with a
    // new one which is clipped.  This must happen before drawing
    // the borders and background.
    (function(){
        var clip = getPropertyValue(style, "clip");
        var m = /^\s*rect\((.*)\)\s*$/.exec(clip);
        if (m) {
            var a = m[1].split(/[ ,]+/g);
            var top = a[0] == "auto" ? innerbox.top : parseFloat(a[0]) + innerbox.top;
            var right = a[1] == "auto" ? innerbox.right : parseFloat(a[1]) + innerbox.left;
            var bottom = a[2] == "auto" ? innerbox.bottom : parseFloat(a[2]) + innerbox.top;
            var left = a[3] == "auto" ? innerbox.left : parseFloat(a[3]) + innerbox.left;
            var tmp = new Group();
            var clipPath = new Path()
                .moveTo(left, top)
                .lineTo(right, top)
                .lineTo(right, bottom)
                .lineTo(left, bottom)
                .close();
            setClipping$1(tmp, clipPath);
            group.append(tmp);
            group = tmp;
            updateClipbox(clipPath);
        }
    })();

    var boxes, i, cells;
    var display = getPropertyValue(style, "display");

    if (display == "table-row") {
        // because of rowspan/colspan, we shouldn't draw background of table row elements on the
        // box given by its getBoundingClientRect, because if we do we risk overwritting a
        // previously rendered cell.  https://github.com/telerik/kendo/issues/4881
        boxes = [];
        for (i = 0, cells = element.children; i < cells.length; ++i) {
            boxes.push(cells[i].getBoundingClientRect());
        }
    } else {
        boxes = element.getClientRects();
        if (boxes.length == 1) {
            // Workaround the missing borders in Chrome!  getClientRects() boxes contains values
            // rounded to integer.  getBoundingClientRect() appears to work fine.  We still need
            // getClientRects() to support cases where there are more boxes (continued inline
            // elements that might have border/background).
            boxes = [ element.getBoundingClientRect() ];
        }
    }

    // This function workarounds another Chrome bug, where boxes returned for a table with
    // border-collapse: collapse will overlap the table border.  Our rendering is not perfect in
    // such case anyway, but with this is better than without it.
    boxes = adjustBoxes(boxes);

    for (i = 0; i < boxes.length; ++i) {
        drawOneBox(boxes[i], i === 0, i == boxes.length - 1);
    }

    // Render links as separate groups.  We can't use boxes returned by element's getClientRects
    // because if display type is "inline" (default for <a>), boxes will not include the height of
    // images inside.  https://github.com/telerik/kendo-ui-core/issues/3359
    if (element.tagName == "A" && element.href && !/^#?$/.test(element.getAttribute("href"))) {
        if (!nodeInfo._avoidLinks || !matches(element, nodeInfo._avoidLinks)) {
            var r = document.createRange();
            r.selectNodeContents(element);
            slice$1$1(r.getClientRects()).forEach(function(box){
                var g = new Group();
                g._pdfLink = {
                    url    : element.href,
                    top    : box.top,
                    right  : box.right,
                    bottom : box.bottom,
                    left   : box.left
                };
                group.append(g);
            });
        }
    }

    if (boxes.length > 0 && display == "list-item" && !element.getAttribute("kendo-no-bullet")) {
        drawBullet(boxes[0]);
    }

    // overflow: hidden/auto - if present, replace the group with
    // a new one clipped by the inner box.
    (function(){
        function clipit() {
            var clipPath = elementRoundBox(element, innerbox, "padding");
            var tmp = new Group();
            setClipping$1(tmp, clipPath);
            group.append(tmp);
            group = tmp;
            updateClipbox(clipPath);
        }
        if (isFormField(element)) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow"))) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow-x"))) {
            clipit();
        } else if (/^(hidden|auto|scroll)/.test(getPropertyValue(style, "overflow-y"))) {
            clipit();
        }
    })();

    if (!maybeRenderWidget(element, group) && !maybeRenderBullet(element, group)) {
        renderContents(element, group);
    }

    if (microsoft && textOverflow == "ellipsis") {
        element.style.textOverflow = saveTextOverflow;
    }

    return group; // only utility functions after this line.

    function adjustBoxes(boxes) {
        if (/^td$/i.test(element.tagName)) {
            var table = nodeInfo.table;
            if (table && getPropertyValue(table.style, "border-collapse") == "collapse") {
                var tableBorderLeft = getBorder(table.style, "left").width;
                var tableBorderTop = getBorder(table.style, "top").width;
                // check if we need to adjust
                if (tableBorderLeft === 0 && tableBorderTop === 0) {
                    return boxes; // nope
                }
                var tableBox = table.element.getBoundingClientRect();
                var firstCell = table.element.rows[0].cells[0];
                var firstCellBox = firstCell.getBoundingClientRect();
                if (firstCellBox.top == tableBox.top || firstCellBox.left == tableBox.left) {
                    return slice$1$1(boxes).map(function(box){
                        return {
                            left   : box.left + tableBorderLeft,
                            top    : box.top + tableBorderTop,
                            right  : box.right + tableBorderLeft,
                            bottom : box.bottom + tableBorderTop,
                            height : box.height,
                            width  : box.width
                        };
                    });
                }
            }
        }
        return boxes;
    }

    // this function will be called to draw each border.  it
    // draws starting at origin and the resulted path must be
    // translated/rotated to be placed in the proper position.
    //
    // arguments are named as if it draws the top border:
    //
    //    - `len` the length of the edge
    //    - `Wtop` the width of the edge (i.e. border-top-width)
    //    - `Wleft` the width of the left edge (border-left-width)
    //    - `Wright` the width of the right edge
    //    - `rl` and `rl` -- the border radius on the left and right
    //      (objects containing x and y, for horiz/vertical radius)
    //    - `transform` -- transformation to apply
    //
    function drawEdge(color, len, Wtop, Wleft, Wright, rl, rr, transform$$1) {
        if (Wtop <= 0) {
            return;
        }

        var path, edge = new Group();
        setTransform$1(edge, transform$$1);
        group.append(edge);

        sanitizeRadius(rl);
        sanitizeRadius(rr);

        // draw main border.  this is the area without the rounded corners
        path = new Path({
            fill: { color: color },
            stroke: null
        });
        edge.append(path);
        path.moveTo(rl.x ? Math.max(rl.x, Wleft) : 0, 0)
            .lineTo(len - (rr.x ? Math.max(rr.x, Wright) : 0), 0)
            .lineTo(len - Math.max(rr.x, Wright), Wtop)
            .lineTo(Math.max(rl.x, Wleft), Wtop)
            .close();

        if (rl.x) {
            drawRoundCorner(Wleft, rl, [ -1, 0, 0, 1, rl.x, 0 ]);
        }

        if (rr.x) {
            drawRoundCorner(Wright, rr, [ 1, 0, 0, 1, len - rr.x, 0 ]);
        }

        // draws one round corner, starting at origin (needs to be
        // translated/rotated to be placed properly).
        function drawRoundCorner(Wright, r, transform$$1) {
            var angle = Math.PI/2 * Wright / (Wright + Wtop);

            // not sanitizing this one, because negative values
            // are useful to fill the box correctly.
            var ri = {
                x: r.x - Wright,
                y: r.y - Wtop
            };

            var path = new Path({
                fill: { color: color },
                stroke: null
            }).moveTo(0, 0);

            setTransform$1(path, transform$$1);

            addArcToPath(path, 0, r.y, {
                startAngle: -90,
                endAngle: -radiansToDegrees(angle),
                radiusX: r.x,
                radiusY: r.y
            });

            if (ri.x > 0 && ri.y > 0) {
                path.lineTo(ri.x * Math.cos(angle), r.y - ri.y * Math.sin(angle));
                addArcToPath(path, 0, r.y, {
                    startAngle: -radiansToDegrees(angle),
                    endAngle: -90,
                    radiusX: ri.x,
                    radiusY: ri.y,
                    anticlockwise: true
                });
            }
            else if (ri.x > 0) {
                path.lineTo(ri.x, Wtop)
                    .lineTo(0, Wtop);
            }
            else {
                path.lineTo(ri.x, Wtop)
                    .lineTo(ri.x, 0);
            }

            edge.append(path.close());
        }
    }

    function drawBackground(box) {
        var background = new Group();
        setClipping$1(background, roundBox(box, rTL0, rTR0, rBR0, rBL0));
        group.append(background);

        if (backgroundColor) {
            var path = new Path({
                fill: { color: backgroundColor.toCssRgba() },
                stroke: null
            });
            path.moveTo(box.left, box.top)
                .lineTo(box.right, box.top)
                .lineTo(box.right, box.bottom)
                .lineTo(box.left, box.bottom)
                .close();
            background.append(path);
        }

        for (var i = backgroundImage.length; --i >= 0;) {
            drawOneBackground(
                background, box,
                backgroundImage[i],
                backgroundRepeat[i % backgroundRepeat.length],
                backgroundPosition[i % backgroundPosition.length],
                backgroundOrigin[i % backgroundOrigin.length],
                backgroundSize[i % backgroundSize.length]
            );
        }
    }

    function drawOneBackground(group, box, background, backgroundRepeat, backgroundPosition, backgroundOrigin, backgroundSize) {
        if (!background || (background == "none")) {
            return;
        }

        if (background.type == "url") {
            var img = IMAGE_CACHE$1[background.url];
            if (img && img.width > 0 && img.height > 0) {
                drawBackgroundImage(group, box, img.width, img.height, function(group, rect){
                    group.append(new Image$1(background.url, rect));
                });
            }
        } else if (background.type == "linear") {
            drawBackgroundImage(group, box, box.width, box.height, gradientRenderer(background));
        } else {
            return;
        }

        function drawBackgroundImage(group, box, img_width, img_height, renderBG) {
            var aspect_ratio = img_width / img_height, f;

            // for background-origin: border-box the box is already appropriate
            var orgBox = box;
            if (backgroundOrigin == "content-box") {
                orgBox = innerBox(orgBox, "border-*-width", element);
                orgBox = innerBox(orgBox, "padding-*", element);
            } else if (backgroundOrigin == "padding-box") {
                orgBox = innerBox(orgBox, "border-*-width", element);
            }

            if (!/^\s*auto(\s+auto)?\s*$/.test(backgroundSize)) {
                if (backgroundSize == "contain") {
                    f = Math.min(orgBox.width / img_width,
                                 orgBox.height / img_height);
                    img_width *= f;
                    img_height *= f;
                }
                else if (backgroundSize == "cover") {
                    f = Math.max(orgBox.width / img_width,
                                 orgBox.height / img_height);
                    img_width *= f;
                    img_height *= f;
                }
                else {
                    var size = backgroundSize.split(/\s+/g);
                    // compute width
                    if (/%$/.test(size[0])) {
                        img_width = orgBox.width * parseFloat(size[0]) / 100;
                    } else {
                        img_width = parseFloat(size[0]);
                    }
                    // compute height
                    if (size.length == 1 || size[1] == "auto") {
                        img_height = img_width / aspect_ratio;
                    } else if (/%$/.test(size[1])) {
                        img_height = orgBox.height * parseFloat(size[1]) / 100;
                    } else {
                        img_height = parseFloat(size[1]);
                    }
                }
            }

            var pos = String(backgroundPosition);

            // IE sometimes reports single-word positions
            // https://github.com/telerik/kendo-ui-core/issues/2786
            //
            // it seems to switch to percentages when the horizontal
            // position is not "center", therefore we don't handle
            // multi-word cases here.  All other browsers return
            // percentages or pixels instead of keywords.  At least
            // for now...
            switch (pos) {
              case "bottom" : pos = "50% 100%"; break;
              case "top"    : pos = "50% 0"; break;
              case "left"   : pos = "0 50%"; break;
              case "right"  : pos = "100% 50%"; break;
              case "center" : pos = "50% 50%"; break;
            }

            pos = pos.split(/\s+/);
            if (pos.length == 1) {
                pos[1] = "50%";
            }

            if (/%$/.test(pos[0])) {
                pos[0] = parseFloat(pos[0]) / 100 * (orgBox.width - img_width);
            } else {
                pos[0] = parseFloat(pos[0]);
            }
            if (/%$/.test(pos[1])) {
                pos[1] = parseFloat(pos[1]) / 100 * (orgBox.height - img_height);
            } else {
                pos[1] = parseFloat(pos[1]);
            }

            var rect = new Rect([ orgBox.left + pos[0], orgBox.top + pos[1] ], [ img_width, img_height ]);

            // XXX: background-repeat could be implemented more
            //      efficiently as a fill pattern (at least for PDF
            //      output, probably SVG too).

            function rewX() {
                while (rect.origin.x > box.left) {
                    rect.origin.x -= img_width;
                }
            }

            function rewY() {
                while (rect.origin.y > box.top) {
                    rect.origin.y -= img_height;
                }
            }

            function repeatX() {
                while (rect.origin.x < box.right) {
                    renderBG(group, rect.clone());
                    rect.origin.x += img_width;
                }
            }

            if (backgroundRepeat == "no-repeat") {
                renderBG(group, rect);
            }
            else if (backgroundRepeat == "repeat-x") {
                rewX();
                repeatX();
            }
            else if (backgroundRepeat == "repeat-y") {
                rewY();
                while (rect.origin.y < box.bottom) {
                    renderBG(group, rect.clone());
                    rect.origin.y += img_height;
                }
            }
            else if (backgroundRepeat == "repeat") {
                rewX();
                rewY();
                var origin = rect.origin.clone();
                while (rect.origin.y < box.bottom) {
                    rect.origin.x = origin.x;
                    repeatX();
                    rect.origin.y += img_height;
                }
            }
        }
    }

    function drawBullet() {
        var listStyleType = getPropertyValue(style, "list-style-type");
        if (listStyleType == "none") {
            return;
        }
        var listStylePosition = getPropertyValue(style, "list-style-position");

        function _drawBullet(f) {
            saveStyle(element, function(){
                element.style.position = "relative";
                var bullet = element.ownerDocument.createElement(KENDO_PSEUDO_ELEMENT);
                bullet.style.position = "absolute";
                bullet.style.boxSizing = "border-box";
                if (listStylePosition == "outside") {
                    bullet.style.width = "6em";
                    bullet.style.left = "-6.8em";
                    bullet.style.textAlign = "right";
                } else {
                    bullet.style.left = "0px";
                }
                f(bullet);
                element.insertBefore(bullet, element.firstChild);
                renderElement(bullet, group);
                element.removeChild(bullet);
            });
        }

        function elementIndex(f) {
            var a = element.parentNode.children;
            var k = element.getAttribute("kendo-split-index");
            if (k != null) {
                return f(k|0, a.length);
            }
            for (var i = 0; i < a.length; ++i) {
                if (a[i] === element) {
                    return f(i, a.length);
                }
            }
        }

        switch (listStyleType) {
          case "circle":
          case "disc":
          case "square":
            _drawBullet(function(bullet){
                bullet.innerHTML = '&nbsp;';
                bullet.setAttribute(KENDO_BULLET_TYPE, listStyleType);
            });
            break;

          case "decimal":
          case "decimal-leading-zero":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    ++idx;
                    if (listStyleType == "decimal-leading-zero" && idx < 10) {
                        idx = "0" + idx;
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;

          case "lower-roman":
          case "upper-roman":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    idx = arabicToRoman(idx + 1);
                    if (listStyleType == "upper-roman") {
                        idx = idx.toUpperCase();
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;

          case "lower-latin":
          case "lower-alpha":
          case "upper-latin":
          case "upper-alpha":
            _drawBullet(function(bullet){
                elementIndex(function(idx){
                    idx = alphaNumeral(idx);
                    if (/^upper/i.test(listStyleType)) {
                        idx = idx.toUpperCase();
                    }
                    bullet.innerHTML = idx + ".";
                });
            });
            break;
        }
    }

    // draws a single border box
    function drawOneBox(box, isFirst, isLast) {
        if (box.width === 0 || box.height === 0) {
            return;
        }

        drawBackground(box);

        var shouldDrawLeft = (left.width > 0 && ((isFirst && dir == "ltr") || (isLast && dir == "rtl")));
        var shouldDrawRight = (right.width > 0 && ((isLast && dir == "ltr") || (isFirst && dir == "rtl")));

        // The most general case is that the 4 borders have different widths and border
        // radiuses.  The way that is handled is by drawing 3 Paths for each border: the
        // straight line, and two round corners which represent half of the entire rounded
        // corner.  To simplify code those shapes are drawed at origin (by the drawEdge
        // function), then translated/rotated into the right position.
        //
        // However, this leads to poor results due to rounding in the simpler cases where
        // borders are straight lines.  Therefore we handle a few such cases separately with
        // straight lines. C^wC^wC^w -- nope, scratch that.  poor rendering was because of a bug
        // in Chrome (getClientRects() returns rounded integer values rather than exact floats.
        // web dev is still a ghetto.)

        // first, just in case there is no border...
        if (top.width === 0 && left.width === 0 && right.width === 0 && bottom.width === 0) {
            return;
        }

        // START paint borders
        // if all borders have equal colors...
        if (top.color == right.color && top.color == bottom.color && top.color == left.color) {

            // if same widths too, we can draw the whole border by stroking a single path.
            if (top.width == right.width && top.width == bottom.width && top.width == left.width)
            {
                if (shouldDrawLeft && shouldDrawRight) {
                    // reduce box by half the border width, so we can draw it by stroking.
                    box = innerBox(box, top.width/2);

                    // adjust the border radiuses, again by top.width/2, and make the path element.
                    var path = elementRoundBox(element, box, top.width/2);
                    path.options.stroke = {
                        color: top.color,
                        width: top.width
                    };
                    group.append(path);
                    return;
                }
            }
        }

        // if border radiuses are zero and widths are at most one pixel, we can again use simple
        // paths.
        if (rTL0.x === 0 && rTR0.x === 0 && rBR0.x === 0 && rBL0.x === 0) {
            // alright, 1.9px will do as well.  the difference in color blending should not be
            // noticeable.
            if (top.width < 2 && left.width < 2 && right.width < 2 && bottom.width < 2) {
                // top border
                if (top.width > 0) {
                    group.append(
                        new Path({
                            stroke: { width: top.width, color: top.color }
                        })
                            .moveTo(box.left, box.top + top.width/2)
                            .lineTo(box.right, box.top + top.width/2)
                    );
                }

                // bottom border
                if (bottom.width > 0) {
                    group.append(
                        new Path({
                            stroke: { width: bottom.width, color: bottom.color }
                        })
                            .moveTo(box.left, box.bottom - bottom.width/2)
                            .lineTo(box.right, box.bottom - bottom.width/2)
                    );
                }

                // left border
                if (shouldDrawLeft) {
                    group.append(
                        new Path({
                            stroke: { width: left.width, color: left.color }
                        })
                            .moveTo(box.left + left.width/2, box.top)
                            .lineTo(box.left + left.width/2, box.bottom)
                    );
                }

                // right border
                if (shouldDrawRight) {
                    group.append(
                        new Path({
                            stroke: { width: right.width, color: right.color }
                        })
                            .moveTo(box.right - right.width/2, box.top)
                            .lineTo(box.right - right.width/2, box.bottom)
                    );
                }

                return;
            }
        }
        // END paint borders

        var tmp = adjustBorderRadiusForBox(box, rTL0, rTR0, rBR0, rBL0);
        var rTL = tmp.tl;
        var rTR = tmp.tr;
        var rBR = tmp.br;
        var rBL = tmp.bl;

        // top border
        drawEdge(top.color,
                 box.width, top.width, left.width, right.width,
                 rTL, rTR,
                 [ 1, 0, 0, 1, box.left, box.top ]);

        // bottom border
        drawEdge(bottom.color,
                 box.width, bottom.width, right.width, left.width,
                 rBR, rBL,
                 [ -1, 0, 0, -1, box.right, box.bottom ]);

        // for left/right borders we need to invert the border-radiuses
        function inv(p) {
            return { x: p.y, y: p.x };
        }

        // left border
        drawEdge(left.color,
                 box.height, left.width, bottom.width, top.width,
                 inv(rBL), inv(rTL),
                 [ 0, -1, 1, 0, box.left, box.bottom ]);

        // right border
        drawEdge(right.color,
                 box.height, right.width, top.width, bottom.width,
                 inv(rTR), inv(rBR),
                 [ 0, 1, -1, 0, box.right, box.top ]);
    }
}

function gradientRenderer(gradient) {
    return function(group, rect) {
        var width = rect.width(), height = rect.height();

        switch (gradient.type) {
          case "linear":

            // figure out the angle.
            var angle = gradient.angle != null ? gradient.angle : Math.PI;
            switch (gradient.to) {
              case "top":
                angle = 0;
                break;
              case "left":
                angle = -Math.PI / 2;
                break;
              case "bottom":
                angle = Math.PI;
                break;
              case "right":
                angle = Math.PI / 2;
                break;
              case "top left": case "left top":
                angle = -Math.atan2(height, width);
                break;
              case "top right": case "right top":
                angle = Math.atan2(height, width);
                break;
              case "bottom left": case "left bottom":
                angle = Math.PI + Math.atan2(height, width);
                break;
              case "bottom right": case "right bottom":
                angle = Math.PI - Math.atan2(height, width);
                break;
            }

            if (gradient.reverse) {
                angle -= Math.PI;
            }

            // limit the angle between 0..2PI
            angle %= 2 * Math.PI;
            if (angle < 0) {
                angle += 2 * Math.PI;
            }

            // compute gradient's start/end points.  here len is the length of the gradient line
            // and x,y is the end point relative to the center of the rectangle in conventional
            // (math) axis direction.

            // this is the original (unscaled) length of the gradient line.  needed to deal with
            // absolutely positioned color stops.  formula from the CSS spec:
            // http://dev.w3.org/csswg/css-images-3/#linear-gradient-syntax
            var pxlen = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));

            // The math below is pretty simple, but it took a while to figure out.  We compute x
            // and y, the *end* of the gradient line.  However, we want to transform them into
            // element-based coordinates (SVG's gradientUnits="objectBoundingBox").  That means,
            // x=0 is the left edge, x=1 is the right edge, y=0 is the top edge and y=1 is the
            // bottom edge.
            //
            // A naive approach would use the original angle for these calculations.  Say we'd
            // like to draw a gradient angled at 45deg in a 100x400 box.  When we use
            // objectBoundingBox, the renderer will draw it in a 1x1 *square* box, and then
            // scale that to the desired dimensions.  The 45deg angle will look more like 70deg
            // after scaling.  SVG (http://www.w3.org/TR/SVG/pservers.html#LinearGradients) says
            // the following:
            //
            //     When gradientUnits="objectBoundingBox" and 'gradientTransform' is the
            //     identity matrix, the normal of the linear gradient is perpendicular to the
            //     gradient vector in object bounding box space (i.e., the abstract coordinate
            //     system where (0,0) is at the top/left of the object bounding box and (1,1) is
            //     at the bottom/right of the object bounding box). When the object's bounding
            //     box is not square, the gradient normal which is initially perpendicular to
            //     the gradient vector within object bounding box space may render
            //     non-perpendicular relative to the gradient vector in user space. If the
            //     gradient vector is parallel to one of the axes of the bounding box, the
            //     gradient normal will remain perpendicular. This transformation is due to
            //     application of the non-uniform scaling transformation from bounding box space
            //     to user space.
            //
            // which is an extremely long and confusing way to tell what I just said above.
            //
            // For this reason we need to apply the reverse scaling to the original angle, so
            // that when it'll finally be rendered it'll actually be at the desired slope.  Now
            // I'll let you figure out the math yourself.

            var scaledAngle = Math.atan(width * Math.tan(angle) / height);
            var sin = Math.sin(scaledAngle), cos = Math.cos(scaledAngle);
            var len = Math.abs(sin) + Math.abs(cos);
            var x = len/2 * sin;
            var y = len/2 * cos;

            // Because of the arctangent, our scaledAngle ends up between -PI/2..PI/2, possibly
            // losing the intended direction of the gradient.  The following fixes it.
            if (angle > Math.PI/2 && angle <= 3*Math.PI/2) {
                x = -x;
                y = -y;
            }

            // compute the color stops.
            var implicit = [], right = 0;
            var stops = gradient.stops.map(function(s, i){
                var offset = s.percent;
                if (offset) {
                    offset = parseFloat(offset) / 100;
                } else if (s.length) {
                    offset = parseFloat(s.length) / pxlen;
                } else if (i === 0) {
                    offset = 0;
                } else if (i == gradient.stops.length - 1) {
                    offset = 1;
                }
                var stop = {
                    color: s.color.toCssRgba(),
                    offset: offset
                };
                if (offset != null) {
                    right = offset;
                    // fix implicit offsets
                    implicit.forEach(function(s, i){
                        var stop = s.stop;
                        stop.offset = s.left + (right - s.left) * (i + 1) / (implicit.length + 1);
                    });
                    implicit = [];
                } else {
                    implicit.push({ left: right, stop: stop });
                }
                return stop;
            });

            var start = [ 0.5 - x, 0.5 + y ];
            var end = [ 0.5 + x, 0.5 - y ];

            // finally, draw it.
            group.append(
                Path.fromRect(rect)
                    .stroke(null)
                    .fill(new LinearGradient({
                        start     : start,
                        end       : end,
                        stops     : stops,
                        userSpace : false
                    }))
            );
            break;
          case "radial":
            // XXX:
            if (window.console && window.console.log) {
                window.console.log("Radial gradients are not yet supported in HTML renderer");
            }
            break;
        }
    };
}

function maybeRenderWidget(element, group) {
    var visual;

    if (element._kendoExportVisual) {
        visual = element._kendoExportVisual();
    } else if (window.kendo && window.kendo.jQuery && element.getAttribute(window.kendo.attr("role"))) {
        var widget = window.kendo.widgetInstance(window.kendo.jQuery(element));
        if (widget && (widget.exportDOMVisual || widget.exportVisual)) {
            if (widget.exportDOMVisual) {
                visual = widget.exportDOMVisual();
            } else {
                visual = widget.exportVisual();
            }
        }
    }

    if (!visual) {
        return false;
    }

    var wrap$$1 = new Group();
    wrap$$1.children.push(visual);

    var bbox = element.getBoundingClientRect();
    wrap$$1.transform(transform$1().translate(bbox.left, bbox.top));

    group.append(wrap$$1);

    return true;
}

function maybeRenderBullet(element, group) {
    var bulletType = element.getAttribute(KENDO_BULLET_TYPE);

    if (!bulletType) {
        return false;
    }

    var box = element.getBoundingClientRect();
    var color = getComputedStyle$1(element).color;

    if (bulletType === 'square') {
        var rectSize = box.height / 5;
        group.append(new Rect$2(new Rect([
            box.right - rectSize,
            box.top + box.height / 2.1
        ], [rectSize, rectSize])).fill(color).stroke(color));
    } else {
        var radius = box.height / 7;
        var center = [
            box.right - radius,
            box.top + (box.height + radius) / 2
        ];
        var circle = new Circle(new Circle$2(center, radius));
        if (bulletType === 'circle') {
            circle.stroke(color, 0.5);
        } else {
            circle.fill(color).stroke(null);
        }
        group.append(circle);
    }

    return true;
}

function renderImage(element, url, group) {
    var box = getContentBox(element);
    var rect = new Rect([ box.left, box.top ], [ box.width, box.height ]);
    var image = new Image$1(url, rect);
    setClipping$1(image, elementRoundBox(element, box, "content"));
    group.append(image);
}

function zIndexSort(a, b) {
    var sa = getComputedStyle$1(a);
    var sb = getComputedStyle$1(b);
    var za = parseFloat(getPropertyValue(sa, "z-index"));
    var zb = parseFloat(getPropertyValue(sb, "z-index"));
    var pa = getPropertyValue(sa, "position");
    var pb = getPropertyValue(sb, "position");
    if (isNaN(za) && isNaN(zb)) {
        if ((/static|absolute/.test(pa)) && (/static|absolute/.test(pb))) {
            return 0;
        }
        if (pa == "static") {
            return -1;
        }
        if (pb == "static") {
            return 1;
        }
        return 0;
    }
    if (isNaN(za)) {
        return zb === 0 ? 0 : zb > 0 ? -1 : 1;
    }
    if (isNaN(zb)) {
        return za === 0 ? 0 : za > 0 ? 1 : -1;
    }
    return parseFloat(za) - parseFloat(zb);
}

function isFormField(element) {
    return /^(?:textarea|select|input)$/i.test(element.tagName);
}

function getSelectedOption(element) {
    if (element.selectedOptions && element.selectedOptions.length > 0) {
        return element.selectedOptions[0];
    }
    return element.options[element.selectedIndex];
}

function renderCheckbox(element, group) {
    var style = getComputedStyle$1(element);
    var color = getPropertyValue(style, "color");
    var box = element.getBoundingClientRect();
    if (element.type == "checkbox") {
        group.append(
            Path.fromRect(
                new Rect([ box.left+1, box.top+1 ],
                             [ box.width-2, box.height-2 ])
            ).stroke(color, 1)
        );
        if (element.checked) {
            // fill a rectangle inside?  looks kinda ugly.
            // group.append(
            //     Path.fromRect(
            //         new geo.Rect([ box.left+4, box.top+4 ],
            //                      [ box.width-8, box.height-8])
            //     ).fill(color).stroke(null)
            // );

            // let's draw a checkmark instead.  artistic, eh?
            group.append(
                new Path()
                    .stroke(color, 1.2)
                    .moveTo(box.left + 0.22 * box.width,
                            box.top + 0.55 * box.height)
                    .lineTo(box.left + 0.45 * box.width,
                            box.top + 0.75 * box.height)
                    .lineTo(box.left + 0.78 * box.width,
                            box.top + 0.22 * box.width)
            );
        }
    } else {
        group.append(
            new Circle(
                new Circle$2([
                    (box.left + box.right) / 2,
                    (box.top + box.bottom) / 2
                ], Math.min(box.width-2, box.height-2) / 2)
            ).stroke(color, 1)
        );
        if (element.checked) {
            group.append(
                new Circle(
                    new Circle$2([
                        (box.left + box.right) / 2,
                        (box.top + box.bottom) / 2
                    ], Math.min(box.width-8, box.height-8) / 2)
                ).fill(color).stroke(null)
            );
        }
    }
}

function renderFormField(element, group) {
    var tag = element.tagName.toLowerCase();
    if (tag == "input" && (element.type == "checkbox" || element.type == "radio")) {
        return renderCheckbox(element, group);
    }
    var p = element.parentNode;
    var doc = element.ownerDocument;
    var el = doc.createElement(KENDO_PSEUDO_ELEMENT);
    var option;
    el.style.cssText = getCssText(getComputedStyle$1(element));
    if (tag == "input") {
        el.style.whiteSpace = "pre";
    }
    if (tag == "select" || tag == "textarea") {
        el.style.overflow = "auto";
    }
    if (tag == "select") {
        if (element.multiple) {
            for (var i = 0; i < element.options.length; ++i) {
                option = doc.createElement(KENDO_PSEUDO_ELEMENT);
                option.style.cssText = getCssText(getComputedStyle$1(element.options[i]));
                option.style.display = "block"; // IE9 messes up without this
                option.textContent = element.options[i].textContent;
                el.appendChild(option);
            }
        } else {
            option = getSelectedOption(element);
            if (option) {
                el.textContent = option.textContent;
            }
        }
    } else {
        el.textContent = element.value;
    }
    p.insertBefore(el, element);
    el.scrollLeft = element.scrollLeft;
    el.scrollTop = element.scrollTop;

    // must temporarily hide the original element, otherwise it
    // may affect layout of the fake element we want to render.
    element.style.display = "none";

    renderContents(el, group);
    element.style.display = "";
    p.removeChild(el);
}

function serializeSVG(element) {
    var serializer = new window.XMLSerializer();
    var xml = serializer.serializeToString(element);

    if (browser$3.mozilla && !(element.getAttribute("width") && element.getAttribute("height"))) {
        var doc = new window.DOMParser().parseFromString(xml, "image/svg+xml");
        var svg$$1 = doc.documentElement;
        var box = getContentBox(element);
        svg$$1.setAttribute("width", box.width);
        svg$$1.setAttribute("height", box.height);
        xml = serializer.serializeToString(svg$$1);
    }

    return xml;
}

function renderContents(element, group) {
    if (nodeInfo._stackingContext.element === element) {
        // the group that was set in pushNodeInfo might have
        // changed due to clipping/transforms, update it here.
        nodeInfo._stackingContext.group = group;
    }
    switch (element.tagName.toLowerCase()) {
      case "img":
        renderImage(element, element.src, group);
        break;

      case "svg":
        var xml = serializeSVG(element);
        var dataURL = "data:image/svg+xml;base64," + (encodeBase64(xml));
        renderImage(element, dataURL, group);
        break;

      case "canvas":
        try {
            renderImage(element, element.toDataURL("image/png"), group);
        } catch (ex) {
            // tainted; can't draw it, ignore.
        }
        break;

      case "textarea":
      case "input":
      case "select":
        renderFormField(element, group);
        break;

      default:
        var children = [], floats = [], positioned = [];
        for (var i = element.firstChild; i; i = i.nextSibling) {
            switch (i.nodeType) {
              case 3:         // Text
                if (/\S/.test(i.data)) {
                    renderText(element, i, group);
                }
                break;
              case 1:         // Element
                var style = getComputedStyle$1(i);
                var floating = getPropertyValue(style, "float");
                var position = getPropertyValue(style, "position");
                if (position != "static") {
                    positioned.push(i);
                }
                else if (floating != "none") {
                    floats.push(i);
                } else {
                    children.push(i);
                }
                break;
            }
        }

        mergeSort(children, zIndexSort).forEach(function(el){ renderElement(el, group); });
        mergeSort(floats, zIndexSort).forEach(function(el){ renderElement(el, group); });
        mergeSort(positioned, zIndexSort).forEach(function(el){ renderElement(el, group); });
    }
}

function renderText(element, node, group) {
    if (emptyClipbox()) {
        return;
    }
    var style = getComputedStyle$1(element);

    if (parseFloat(getPropertyValue(style, "text-indent")) < -500) {
        // assume it should not be displayed.  the slider's
        // draggable handle displays a Drag text for some reason,
        // having text-indent: -3333px.
        return;
    }

    var text = node.data;
    var start = 0;
    var end = text.search(/\S\s*$/) + 1;

    if (!end) {
        return; // whitespace-only node
    }

    var fontSize = getPropertyValue(style, "font-size");
    var lineHeight = getPropertyValue(style, "line-height");

    // simply getPropertyValue("font") doesn't work in Firefox :-\
    var font = [
        getPropertyValue(style, "font-style"),
        getPropertyValue(style, "font-variant"),
        getPropertyValue(style, "font-weight"),
        fontSize, // no need for line height here; it breaks layout in FF
        getPropertyValue(style, "font-family")
    ].join(" ");

    fontSize = parseFloat(fontSize);
    lineHeight = parseFloat(lineHeight);

    if (fontSize === 0 || isNaN(fontSize)) {
        return;
    }

    var color = getPropertyValue(style, "color");
    var range = element.ownerDocument.createRange();
    var align$$1 = getPropertyValue(style, "text-align");
    var isJustified = align$$1 == "justify";
    var columnCount = getPropertyValue(style, "column-count", 1);
    var whiteSpace = getPropertyValue(style, "white-space");
    var textTransform = getPropertyValue(style, "text-transform");

    // A line of 500px, with a font of 12px, contains an average of 80 characters, but since we
    // err, we'd like to guess a bigger number rather than a smaller one.  Multiplying by 5
    // seems to be a good option.
    var estimateLineLength = element.getBoundingClientRect().width / fontSize * 5;
    if (estimateLineLength === 0) {
        estimateLineLength = 500;
    }

    // we'll maintain this so we can workaround bugs in Chrome's Range.getClientRects
    // https://github.com/telerik/kendo/issues/5740
    var prevLineBottom = null;

    var underline = nodeInfo["underline"];
    var lineThrough = nodeInfo["line-through"];
    var overline = nodeInfo["overline"];
    var underlineOffset = nodeInfo["underline-offset"];

    if (underline) {
        forEachRect(decorateUnder);
    }

    // doChunk returns true when all text has been rendered
    while (!doChunk()) {}

    if (lineThrough || overline) {
        forEachRect(decorateOver);
    }

    return;                 // only function declarations after this line

    function forEachRect(callback) {
        range.selectNode(node);
        var clientRects = slice$1$1(range.getClientRects());

        forEachRect = function (cb) { return clientRects.forEach(cb); };
        forEachRect(callback);
    }

    function actuallyGetRangeBoundingRect(range) {
        // XXX: to be revised when this Chrome bug is fixed:
        // https://bugs.chromium.org/p/chromium/issues/detail?id=612459
        if (microsoft || browser$3.chrome || browser$3.safari) {
            // Workaround browser bugs: IE and Chrome would sometimes
            // return 0 or 1-width rectangles before or after the main
            // one.  https://github.com/telerik/kendo/issues/4674

            // Actually Chrome 50 got worse, since the rectangles can now have the width of a
            // full character, making it hard to tell whether it's a bogus rectangle or valid
            // selection location.  The workaround is to ignore rectangles that fall on the
            // previous line.  https://github.com/telerik/kendo/issues/5740
            var rectangles = range.getClientRects(), box = {
                top    :  Infinity,
                right  : -Infinity,
                bottom : -Infinity,
                left   :  Infinity
            }, done = false;
            for (var i = 0; i < rectangles.length; ++i) {
                var b = rectangles[i];
                if (b.width <= 1 || b.bottom === prevLineBottom) {
                    continue;   // bogus rectangle
                }
                box.left   = Math.min(b.left   , box.left);
                box.top    = Math.min(b.top    , box.top);
                box.right  = Math.max(b.right  , box.right);
                box.bottom = Math.max(b.bottom , box.bottom);
                done = true;
            }
            if (!done) {
                return range.getBoundingClientRect();
            }
            box.width = box.right - box.left;
            box.height = box.bottom - box.top;
            return box;
        }
        return range.getBoundingClientRect();
    }

    // Render a chunk of text, typically one line (but for justified text we render each word as
    // a separate Text object, because spacing is variable).  Returns true when it finished the
    // current node.  After each chunk it updates `start` to just after the last rendered
    // character.
    function doChunk() {
        var origStart = start;
        var box, pos = text.substr(start).search(/\S/);
        start += pos;
        if (pos < 0 || start >= end) {
            return true;
        }

        // Select a single character to determine the height of a line of text.  The box.bottom
        // will be essential for us to figure out where the next line begins.
        range.setStart(node, start);
        range.setEnd(node, start + 1);
        box = actuallyGetRangeBoundingRect(range);

        // for justified text we must split at each space, because space has variable width.
        var found = false;
        if (isJustified || columnCount > 1) {
            pos = text.substr(start).search(/\s/);
            if (pos >= 0) {
                // we can only split there if it's on the same line, otherwise we'll fall back
                // to the default mechanism (see findEOL below).
                range.setEnd(node, start + pos);
                var r = actuallyGetRangeBoundingRect(range);
                if (r.bottom == box.bottom) {
                    box = r;
                    found = true;
                    start += pos;
                }
            }
        }

        if (!found) {
            // This code does three things: (1) it selects one line of text in `range`, (2) it
            // leaves the bounding rect of that line in `box` and (3) it returns the position
            // just after the EOL.  We know where the line starts (`start`) but we don't know
            // where it ends.  To figure this out, we select a piece of text and look at the
            // bottom of the bounding box.  If it changes, we have more than one line selected
            // and should retry with a smaller selection.
            //
            // To speed things up, we first try to select all text in the node (`start` ->
            // `end`).  If there's more than one line there, then select only half of it.  And
            // so on.  When we find a value for `end` that fits in one line, we try increasing
            // it (also in halves) until we get to the next line.  The algorithm stops when the
            // right side of the bounding box does not change.
            //
            // One more thing to note is that everything happens in a single Text DOM node.
            // There's no other tags inside it, therefore the left/top coordinates of the
            // bounding box will not change.
            pos = (function findEOL(min, eol, max){
                range.setEnd(node, eol);
                var r = actuallyGetRangeBoundingRect(range);
                if (r.bottom != box.bottom && min < eol) {
                    return findEOL(min, (min + eol) >> 1, eol);
                } else if (r.right != box.right) {
                    box = r;
                    if (eol < max) {
                        return findEOL(eol, (eol + max) >> 1, max);
                    } else {
                        return eol;
                    }
                } else {
                    return eol;
                }
            })(start, Math.min(end, start + estimateLineLength), end);

            if (pos == start) {
                // if EOL is at the start, then no more text fits on this line.  Skip the
                // remainder of this node entirely to avoid a stack overflow.
                return true;
            }
            start = pos;

            pos = range.toString().search(/\s+$/);
            if (pos === 0) {
                return false; // whitespace only; we should not get here.
            }
            if (pos > 0) {
                // eliminate trailing whitespace
                range.setEnd(node, range.startOffset + pos);
                box = actuallyGetRangeBoundingRect(range);
            }
        }

        // another workaround for IE: if we rely on getBoundingClientRect() we'll overlap with the bullet for LI
        // elements.  Calling getClientRects() and using the *first* rect appears to give us the correct location.
        // Note: not to be used in Chrome as it randomly returns a zero-width rectangle from the previous line.
        if (microsoft) {
            box = range.getClientRects()[0];
        }

        var str = range.toString();
        if (!/^(?:pre|pre-wrap)$/i.test(whiteSpace)) {
            // node with non-significant space -- collapse whitespace.
            str = str.replace(/\s+/g, " ");
        }
        else if (/\t/.test(str)) {
            // with significant whitespace we need to do something about literal TAB characters.
            // There's no TAB glyph in a font so they would be rendered in PDF as an empty box,
            // and the whole text will stretch to fill the original width.  The core PDF lib
            // does not have sufficient context to deal with it.

            // calculate the starting column here, since we initially discarded any whitespace.
            var cc = 0;
            for (pos = origStart; pos < range.startOffset; ++pos) {
                var code = text.charCodeAt(pos);
                if (code == 9) {
                    // when we meet a TAB we must round up to the next tab stop.
                    // in all browsers TABs seem to be 8 characters.
                    cc += 8 - cc % 8;
                } else if (code == 10 || code == 13) {
                    // just in case we meet a newline we must restart.
                    cc = 0;
                } else {
                    // ordinary character --> advance one column
                    cc++;
                }
            }

            // based on starting column, replace any TAB characters in the string we actually
            // have to display with spaces so that they align to columns multiple of 8.
            while ((pos = str.search("\t")) >= 0) {
                var indent = "        ".substr(0, 8 - (cc + pos) % 8);
                str = str.substr(0, pos) + indent + str.substr(pos + 1);
            }
        }

        if (!found) {
            prevLineBottom = box.bottom;
        }
        drawText(str, box);
    }

    function drawText(str, box) {
        // In IE the box height will be approximately lineHeight, while in
        // other browsers it'll (correctly) be the height of the bounding
        // box for the current text/font.  Which is to say, IE sucks again.
        // The only good solution I can think of is to measure the text
        // ourselves and center the bounding box.
        if (microsoft && !isNaN(lineHeight)) {
            var height = getFontHeight(font);
            var top = (box.top + box.bottom - height) / 2;
            box = {
                top    : top,
                right  : box.right,
                bottom : top + height,
                left   : box.left,
                height : height,
                width  : box.right - box.left
            };
        }

        // var path = new Path({ stroke: { color: "red" }});
        // path.moveTo(box.left, box.top)
        //     .lineTo(box.right, box.top)
        //     .lineTo(box.right, box.bottom)
        //     .lineTo(box.left, box.bottom)
        //     .close();
        // group.append(path);

        switch (textTransform) {
          case "uppercase":
            str = str.toUpperCase();
            break;
          case "lowercase":
            str = str.toLowerCase();
            break;
          case "capitalize":
            str = str.replace(/(?:^|\s)\S/g, function (l) { return l.toUpperCase(); });
            break;
        }

        var text = new TextRect(
            str, new Rect([ box.left, box.top ],
                              [ box.width, box.height ]),
            {
                font: font,
                fill: { color: color }
            }
        );
        group.append(text);
    }

    function drawTextLine(lineWidth, textBox, color, ypos) {
        if (color) {
            var path = new Path({ stroke: {
                width: lineWidth,
                color: color
            }});

            ypos -= lineWidth;
            path.moveTo(textBox.left, ypos)
                .lineTo(textBox.right, ypos);
            group.append(path);
        }
    }

    function decorateOver(box) {
        var width = fontSize / 12;
        drawTextLine(width, box, lineThrough, box.bottom - box.height / 2.7);
        drawTextLine(width, box, overline, box.top);
    }

    function decorateUnder(box) {
        var width = fontSize / 12;
        var underlinePos = box.bottom;
        if (underlineOffset != null) {
            underlinePos += underlineOffset;
        } else {
            underlinePos += width; // for "auto" it seems better to add line width
        }
        drawTextLine(width, box, underline, underlinePos);
    }
}

function groupInStackingContext(element, group, zIndex) {
    var main;
    if (zIndex != "auto") {
        // use the current stacking context
        main = nodeInfo._stackingContext.group;
        zIndex = parseFloat(zIndex);
    } else {
        // normal flow — use given container.  we still have to
        // figure out where should we insert this element with the
        // assumption that its z-index is zero, as the group might
        // already contain elements with higher z-index.
        main = group;
        zIndex = 0;
    }
    var a = main.children;
    for (var i = 0; i < a.length; ++i) {
        if (a[i]._dom_zIndex != null && a[i]._dom_zIndex > zIndex) {
            break;
        }
    }

    var tmp = new Group();
    main.insert(i, tmp);
    tmp._dom_zIndex = zIndex;

    if (main !== group) {
        // console.log("Placing", element, "in", nodeInfo._stackingContext.element, "at position", i, " / ", a.length);
        // console.log(a.slice(i+1));

        // if (nodeInfo._matrix) {
        //     tmp.transform(nodeInfo._matrix);
        // }
        if (nodeInfo._clipbox) {
            var m = nodeInfo._matrix.invert();
            var r = nodeInfo._clipbox.transformCopy(m);
            setClipping$1(tmp, Path.fromRect(r));
            // console.log(r);
            // tmp.append(Path.fromRect(r));
            // tmp.append(new Text(element.className || element.id, r.topLeft()));
        }
    }

    return tmp;
}

function renderElement(element, container) {
    var style = getComputedStyle$1(element);

    updateCounters(style);

    if (/^(style|script|link|meta|iframe|col|colgroup)$/i.test(element.tagName)) {
        return;
    }

    if (nodeInfo._clipbox == null) {
        return;
    }

    var opacity = parseFloat(getPropertyValue(style, "opacity"));
    var visibility = getPropertyValue(style, "visibility");
    var display = getPropertyValue(style, "display");

    if (opacity === 0 || visibility == "hidden" || display == "none") {
        return;
    }

    var tr = getTransform(style);
    var group;

    var zIndex = getPropertyValue(style, "z-index");
    if ((tr || opacity < 1) && zIndex == "auto") {
        zIndex = 0;
    }
    group = groupInStackingContext(element, container, zIndex);

    // XXX: remove at some point
    // group._pdfElement = element;
    // group.options._pdfDebug = "";
    // if (element.id) {
    //     group.options._pdfDebug = "#" + element.id;
    // }
    // if (element.className) {
    //     group.options._pdfDebug += "." + element.className.split(" ").join(".");
    // }

    if (opacity < 1) {
        group.opacity(opacity * group.opacity());
    }

    pushNodeInfo(element, style, group);

    if (!tr) {
        _renderWithPseudoElements(element, group);
    }
    else {
        saveStyle(element, function(){
            // must clear transform, so getBoundingClientRect returns correct values.
            pleaseSetPropertyValue(element.style, "transform", "none", "important");

            // must also clear transitions, so correct values are returned *immediately*
            pleaseSetPropertyValue(element.style, "transition", "none", "important");

            // the presence of any transform makes it behave like it had position: relative,
            // because why not.
            // http://meyerweb.com/eric/thoughts/2011/09/12/un-fixing-fixed-elements-with-css-transforms/
            if (getPropertyValue(style, "position") == "static") {
                // but only if it's not already positioned. :-/
                pleaseSetPropertyValue(element.style, "position", "relative", "important");
            }

            // must translate to origin before applying the CSS
            // transformation, then translate back.
            var bbox = element.getBoundingClientRect();
            var x = bbox.left + tr.origin[0];
            var y = bbox.top + tr.origin[1];
            var m = [ 1, 0, 0, 1, -x, -y ];
            m = mmul$1(m, tr.matrix);
            m = mmul$1(m, [ 1, 0, 0, 1, x, y ]);
            m = setTransform$1(group, m);

            nodeInfo._matrix = nodeInfo._matrix.multiplyCopy(m);

            _renderWithPseudoElements(element, group);
        });
    }

    popNodeInfo();

    //drawDebugBox(element.getBoundingClientRect(), container);
}

// function drawDebugBox(box, group, color) {
//     var path = Path.fromRect(new geo.Rect([ box.left, box.top ], [ box.width, box.height ]));
//     if (color) {
//         path.stroke(color);
//     }
//     group.append(path);
// }

// function dumpTextNode(node) {
//     var txt = node.data.replace(/^\s+/, "");
//     if (txt.length < 100) {
//         console.log(node.data.length + ": |" + txt);
//     } else {
//         console.log(node.data.length + ": |" + txt.substr(0, 50) + "|...|" + txt.substr(-50));
//     }
// }

function mmul$1(a, b) {
    var a1 = a[0], b1 = a[1], c1 = a[2], d1 = a[3], e1 = a[4], f1 = a[5];
    var a2 = b[0], b2 = b[1], c2 = b[2], d2 = b[3], e2 = b[4], f2 = b[5];
    return [
        a1*a2 + b1*c2,          a1*b2 + b1*d2,
        c1*a2 + d1*c2,          c1*b2 + d1*d2,
        e1*a2 + f1*c2 + e2,     e1*b2 + f1*d2 + f2
    ];
}

exports.drawing = drawing;
exports.geometry = geometry;
exports.pdf = pdf;
exports.exportPDF = exportPDF;
exports.exportImage = exportImage;
exports.exportSVG = exportSVG;
exports.animationFrame = animationFrame;
exports.Class = Class;
exports.Color = Color;
exports.htmlEncode = htmlEncode;
exports.logToConsole = logToConsole;
exports.Observable = Observable;
exports.saveAs = saveAs;
exports.support = support;
exports.template = template$1;
exports.throttle = throttle;
exports.parseColor = parseColor;
exports.namedColors = namedColors;
exports.Animation = Animation;
exports.AnimationFactory = AnimationFactory;
exports.Arc = Arc;
exports.BaseNode = BaseNode;
exports.Circle = Circle;
exports.Element = Element$1;
exports.Gradient = Gradient;
exports.GradientStop = GradientStop;
exports.Group = Group;
exports.Image = Image$1;
exports.Layout = Layout;
exports.LinearGradient = LinearGradient;
exports.MultiPath = MultiPath;
exports.HasObservers = HasObservers;
exports.OptionsStore = OptionsStore;
exports.Path = Path;
exports.PathParser = PathParser;
exports.QuadNode = QuadNode;
exports.RadialGradient = RadialGradient;
exports.Rect = Rect$2;
exports.ShapesQuadTree = ShapesQuadTree;
exports.Surface = Surface;
exports.SurfaceFactory = SurfaceFactory;
exports.Text = Text;
exports.align = align;
exports.fit = fit;
exports.stack = stack;
exports.vAlign = vAlign;
exports.vStack = vStack;
exports.vWrap = vWrap;
exports.wrap = wrap;
exports.drawDOM = drawDOM;
exports.drawText = drawText$1;
exports.getFontFaces = getFontFaces;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vY2xhc3MuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL29ic2VydmFibGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2FuaW1hdGlvbi1mcmFtZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vaHRtbC1lbmNvZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2xvZy10by1jb25zb2xlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9zYXZlLWFzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi9zdXBwb3J0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NvbW1vbi90ZW1wbGF0ZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL25vdy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vdGhyb3R0bGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2NvbG9yL25hbWVkLWNvbG9ycy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb21tb24vY29sb3IvcGFyc2UtY29sb3IuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY29tbW9uL2NvbG9yL2NvbG9yLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NvcmUvaGFzLW9ic2VydmVycy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2FwcGVuZC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2FyYWJpYy10by1yb21hbi5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2NyZWF0ZS1wcm9taXNlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZGVmaW5lZC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2RlZmluaXRpb24taWQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9jb25zdGFudHMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9kZWcuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9lbmNvZGUtdXRmLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZW5jb2RlLWJhc2U2NC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2V2ZW50LWNvb3JkaW5hdGVzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZXZlbnQtZWxlbWVudC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2lzLXRyYW5zcGFyZW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvbGFzdC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2xpbWl0LXZhbHVlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvbWVyZ2Utc29ydC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL3Byb21pc2UtYWxsLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvcmFkLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvcm91bmQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC92YWx1ZS1vci1kZWZhdWx0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvYmluZC1ldmVudHMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9lbGVtZW50LW9mZnNldC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2VsZW1lbnQtc3R5bGVzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvZWxlbWVudC1zaXplLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3V0aWwvdW5iaW5kLWV2ZW50cy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy91dGlsL2VsZW1lbnQtcGFkZGluZy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRyaXguanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdXRpbC9lbGVtZW50LXNjYWxlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3RleHQtbWV0cmljcy9scnUtY2FjaGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdGV4dC1tZXRyaWNzL3V0aWwuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvdGV4dC1tZXRyaWNzL3RleHQtbWV0cmljcy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy90ZXh0LW1ldHJpY3MvbWVhc3VyZS10ZXh0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NvcmUvb3B0aW9ucy1zdG9yZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9taXhpbnMvd2l0aC1hY2Nlc3NvcnMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvdG8tbWF0cml4LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L3BvaW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L3NpemUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvcmVjdC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS90cmFuc2Zvcm1hdGlvbi5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS90cmFuc2Zvcm0uanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2VsZW1lbnQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9lbGxpcHNlLWV4dHJlbWUtYW5nbGVzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L2NpcmNsZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9taXhpbnMvcGFpbnRhYmxlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL21peGlucy9tZWFzdXJhYmxlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL21peGlucy93aXRoLWdlb21ldHJ5LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9jaXJjbGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvY29uc3RhbnRzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvY2xvc2UuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9jbG9zZS1vci1sZXNzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvbGluZS1pbnRlcnNlY3Rpb24uanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvYXJjLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9lbGVtZW50cy1hcnJheS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvZ2VvbWV0cnktZWxlbWVudHMtYXJyYXkuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9pcy1vdXQtb2YtZW5kLXBvaW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvY2FsY3VsYXRlLWN1cnZlLWF0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvdG8tY3ViaWMtcG9seW5vbWlhbC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9tYXRoL2NvbXBsZXgtbnVtYmVyLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvc29sdmUtY3ViaWMtZXF1YXRpb24uanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9oYXMtcm9vdHMtaW4tcmFuZ2UuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvZ2VvbWV0cnkvbWF0aC9jdXJ2ZS1pbnRlcnNlY3Rpb25zLWNvdW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dlb21ldHJ5L21hdGgvbGluZS1pbnRlcnNlY3Rpb25zLWNvdW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL21peGlucy93aXRoLXBvaW50cy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9nZW9tZXRyeS9zZWdtZW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy91dGlscy9wb2ludHMtdG8tY3VydmUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvcGFyc2luZy9zaGFwZS1tYXAuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvcGFyc2luZy9wYXJzZS1wYXRoLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy91dGlscy9lbGVtZW50cy1ib3VuZGluZy1ib3guanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL3V0aWxzL2VsZW1lbnRzLWNsaXBwZW5kLWJvdW5kaW5nLWJveC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvcGF0aC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zaGFwZXMvYXJjLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy90ZXh0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9pbWFnZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9taXhpbnMvdHJhdmVyc2FibGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL2dyb3VwLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC90cmFuc2xhdGUtdG8tcG9pbnQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L2FsaWduLXN0YXJ0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC9hbGlnbi1zdGFydC1yZXZlcnNlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NoYXBlcy9sYXlvdXQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc2hhcGVzL3JlY3QuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L2FsaWduLWVsZW1lbnRzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2FsaWdubWVudC9hbGlnbi5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvdi1hbGlnbi5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvc3RhY2stZWxlbWVudHMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L2NyZWF0ZS1zdGFjay1lbGVtZW50cy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvc3RhY2suanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3Ytc3RhY2suanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3dyYXAtZWxlbWVudHMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3dyYXAuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYWxpZ25tZW50L3Ytd3JhcC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9hbGlnbm1lbnQvZml0LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9zdG9wcy1hcnJheS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9taXhpbnMvd2l0aC1vcHRpb25zLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9ncmFkaWVudC1zdG9wLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9ncmFkaWVudC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9ncmFkaWVudHMvbGluZWFyLWdyYWRpZW50LmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2dyYWRpZW50cy9yYWRpYWwtZ3JhZGllbnQuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYW5pbWF0aW9ucy9lYXNpbmctZnVuY3Rpb25zLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2FuaW1hdGlvbnMvYW5pbWF0aW9uLWZhY3RvcnkuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvYW5pbWF0aW9ucy9hbmltYXRpb24uanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvcGFyc2luZy9wYXRoLXBhcnNlci5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb3JlL2Jhc2Utbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb3JlL3N1cmZhY2UuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3V0aWxzL3JlbmRlci1hdHRyaWJ1dGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvdXRpbHMvcmVuZGVyLXN0eWxlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9ub2RlLW1hcC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvY29uc3RhbnRzLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy91dGlscy9yZW5kZXItc3ZnLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9ncmFkaWVudC1zdG9wLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2dyYWRpZW50LW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2xpbmVhci1ncmFkaWVudC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9yYWRpYWwtZ3JhZGllbnQtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvY2xpcC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9kZWZpbml0aW9uLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3Jvb3Qtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jb3JlL2NvbnN0YW50cy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvcGF0aC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9hcmMtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvY2lyY2xlLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2dyb3VwLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL2ltYWdlLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL211bHRpLXBhdGgtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvcmVjdC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy90ZXh0LW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc3ZnL3N1cmZhY2UuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL25vZGUtbWFwLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9ncm91cC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9yb290LW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvc2VhcmNoL3F1YWQtcm9vdC5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zZWFyY2gvcXVhZC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3NlYXJjaC9zaGFwZXMtcXVhZC10cmVlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9zdXJmYWNlLWN1cnNvci5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvdXRpbHMvcmVuZGVyLXBhdGguanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL3BhdGgtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvYXJjLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL2NpcmNsZS1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9pbWFnZS1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9tdWx0aS1wYXRoLW5vZGUuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL3JlY3Qtbm9kZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9jYW52YXMvdGV4dC1ub2RlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL2NhbnZhcy9zdXJmYWNlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N1cmZhY2UtZmFjdG9yeS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdXJmYWNlLmpzIiwiL19fdy9rZW5kby1kcmF3aW5nL2tlbmRvLWRyYXdpbmcvc3JjL3N2Zy9leHBvcnQtZ3JvdXAuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvY2FudmFzL2V4cG9ydC1pbWFnZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9zdmcvZXhwb3J0LXN2Zy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9wZGYvdXRpbHMuanMiLCIvX193L2tlbmRvLWRyYXdpbmcva2VuZG8tZHJhd2luZy9zcmMvcGRmL3R0Zi5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9wZGYvZGVmbGF0ZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9wZGYvY29yZS5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9wZGYvZHJhd2luZy5qcyIsIi9fX3cva2VuZG8tZHJhd2luZy9rZW5kby1kcmF3aW5nL3NyYy9odG1sL2NvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xhc3Mge1xuICAgIC8vIEVtcHR5IGJhc2UgY2xhc3MgbmVlZGVkIGZvciBjb21wYXRpYmlsaXR5IHdpdGggS2VuZG8gVUkgZm9yIGpRdWVyeVxufVxuIiwiaW1wb3J0IENsYXNzIGZyb20gJy4vY2xhc3MnO1xuXG5jbGFzcyBPYnNlcnZhYmxlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIH1cblxuICAgIGJpbmQoZXZlbnROYW1lLCBoYW5kbGVycywgb25lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBnZXRBcnJheShldmVudE5hbWUpO1xuICAgICAgICBjb25zdCBoYW5kbGVyc0lzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKGhhbmRsZXJzKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZXZlbnROYW1lcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGZpZWxkIGluIGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmluZChmaWVsZCwgZXZlbnROYW1lW2ZpZWxkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2ZW50TmFtZXNbaWR4XTtcblxuICAgICAgICAgICAgbGV0IGhhbmRsZXIgPSBoYW5kbGVyc0lzRnVuY3Rpb24gPyBoYW5kbGVycyA6IGhhbmRsZXJzW2V2ZW50TmFtZV07XG5cbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSAoKSA9PiB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbG9vcC1mdW5jXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuYmluZChldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5vcmlnaW5hbCA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXSB8fCBbXTtcbiAgICAgICAgICAgICAgICBldmVudHMucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9uZShldmVudE5hbWVzLCBoYW5kbGVycykge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5kKGV2ZW50TmFtZXMsIGhhbmRsZXJzLCB0cnVlKTtcbiAgICB9XG5cbiAgICBmaXJzdChldmVudE5hbWUsIGhhbmRsZXJzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZXMgPSBnZXRBcnJheShldmVudE5hbWUpO1xuICAgICAgICBjb25zdCBoYW5kbGVyc0lzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKGhhbmRsZXJzKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwLCBsZW5ndGggPSBldmVudE5hbWVzLmxlbmd0aDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lc1tpZHhdO1xuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNJc0Z1bmN0aW9uID8gaGFuZGxlcnMgOiBoYW5kbGVyc1tldmVudE5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0gfHwgW107XG4gICAgICAgICAgICAgICAgZXZlbnRzLnVuc2hpZnQoaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0cmlnZ2VyKGV2ZW50TmFtZSwgZSA9IHt9KSB7XG4gICAgICAgIGxldCBldmVudHMgPSB0aGlzLl9ldmVudHNbZXZlbnROYW1lXTtcblxuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBlLnNlbmRlciA9IHRoaXM7XG4gICAgICAgICAgICBlLl9kZWZhdWx0UHJldmVudGVkID0gZmFsc2U7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudERlZmF1bHQ7XG4gICAgICAgICAgICBlLmlzRGVmYXVsdFByZXZlbnRlZCA9IGlzRGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBldmVudHNbaWR4XS5jYWxsKHRoaXMsIGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZS5fZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB1bmJpbmQoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMuX2V2ZW50c1tldmVudE5hbWVdO1xuXG4gICAgICAgIGlmIChldmVudE5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IGV2ZW50cy5sZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tpZHhdID09PSBoYW5kbGVyIHx8IGV2ZW50c1tpZHhdLm9yaWdpbmFsID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IFsgdmFsdWUgXSA6IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNEZWZhdWx0UHJldmVudGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkID09PSB0cnVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBPYnNlcnZhYmxlOyIsImxldCBhbmltYXRpb25GcmFtZVByb3h5ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgY29uc3Qgd25kID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9O1xuICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lID0gd25kLnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgd25kLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgd25kLm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgd25kLm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHduZC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oY2FsbGJhY2spIHsgc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTsgfTtcblxuICAgIGFuaW1hdGlvbkZyYW1lUHJveHkgPSBjYWxsYmFjayA9PiBhbmltYXRpb25GcmFtZS5jYWxsKHduZCwgY2FsbGJhY2spO1xuICAgIGFuaW1hdGlvbkZyYW1lUHJveHkoY2FsbGJhY2spO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYW5pbWF0aW9uRnJhbWVQcm94eTtcbiIsImNvbnN0IGFtcFJlZ0V4cCA9IC8mL2c7XG5jb25zdCBsdFJlZ0V4cCA9IC88L2c7XG5jb25zdCBxdW90ZVJlZ0V4cCA9IC9cIi9nO1xuY29uc3QgYXBvc1JlZ0V4cCA9IC8nL2c7XG5jb25zdCBndFJlZ0V4cCA9IC8+L2c7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGh0bWxFbmNvZGUodmFsdWUpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5yZXBsYWNlKGFtcFJlZ0V4cCwgXCImYW1wO1wiKS5yZXBsYWNlKGx0UmVnRXhwLCBcIiZsdDtcIikucmVwbGFjZShndFJlZ0V4cCwgXCImZ3Q7XCIpLnJlcGxhY2UocXVvdGVSZWdFeHAsIFwiJnF1b3Q7XCIpLnJlcGxhY2UoYXBvc1JlZ0V4cCwgXCImIzM5O1wiKTtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxvZ1RvQ29uc29sZShtZXNzYWdlKSB7XG4gICAgY29uc3QgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuXG4gICAgaWYgKHR5cGVvZihjb25zb2xlKSAhPSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUubG9nKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgIH1cbn0iLCIvLyBYWFg6IHRoZSBmb2xsb3dpbmcgd2lsbCBub3Qgd29yayB3aXRoIElFOSAocmVxdWlyZXMgc2VydmVyIHByb3h5KS5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNhdmVBcyhvcHRpb25zKSB7XG4gICAgY29uc3QgeyBkYXRhVVJJLCBmaWxlTmFtZSB9ID0gb3B0aW9ucztcbiAgICBsZXQgZGF0YSA9IGRhdGFVUkk7XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIiAmJiB3aW5kb3cuQmxvYikge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IGRhdGEuc3BsaXQoXCI7YmFzZTY0LFwiKTtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBwYXJ0c1swXTtcbiAgICAgICAgY29uc3QgYmFzZTY0ID0gYXRvYihwYXJ0c1sxXSk7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYmFzZTY0Lmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGJhc2U2NC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBhcnJheVtpZHhdID0gYmFzZTY0LmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhID0gbmV3IEJsb2IoWyBhcnJheS5idWZmZXIgXSwgeyB0eXBlOiBjb250ZW50VHlwZSB9KTtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci5tc1NhdmVCbG9iKSB7XG4gICAgICAgIG5hdmlnYXRvci5tc1NhdmVCbG9iKGRhdGEsIGZpbGVOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgZGF0YSA9IGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gICAgICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRzXCIpO1xuICAgICAgICBlLmluaXRNb3VzZUV2ZW50KFwiY2xpY2tcIiwgdHJ1ZSwgZmFsc2UsIHdpbmRvdywgMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpO1xuICAgICAgICBsaW5rLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJmdW5jdGlvbiBtYXRjaFVzZXJBZ2VudCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBicm93c2VyUnhzID0ge1xuICAgICAgICBlZGdlOiAvKGVkZ2UpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgIHdlYmtpdDogLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgIHNhZmFyaTogLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgIG9wZXJhOiAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspL2ksXG4gICAgICAgIG1zaWU6IC8obXNpZVxcc3x0cmlkZW50Lio/IHJ2OikoW1xcdy5dKykvaSxcbiAgICAgICAgbW96aWxsYTogLyhtb3ppbGxhKSg/Oi4qPyBydjooW1xcdy5dKykpL2lcbiAgICB9O1xuXG4gICAgbGV0IGJyb3dzZXIgPSB7fTtcblxuICAgIGZvciAobGV0IGFnZW50IGluIGJyb3dzZXJSeHMpIHtcbiAgICAgICAgaWYgKGJyb3dzZXJSeHMuaGFzT3duUHJvcGVydHkoYWdlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IHVzZXJBZ2VudC5tYXRjaChicm93c2VyUnhzW2FnZW50XSk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBicm93c2VyW2FnZW50XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJvd3NlclttYXRjaFsxXS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiIFwiKVswXS5zcGxpdChcIi9cIilbMF1dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicm93c2VyLnZlcnNpb24gPSBwYXJzZUludChkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgbWF0Y2hbMl0sIDEwKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJyb3dzZXI7XG59XG5cbmxldCBicm93c2VyID0gbnVsbDtcblxuY29uc3Qgc3VwcG9ydCA9IHtcbiAgICBnZXQgYnJvd3NlcigpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IGJyb3dzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJvd3NlciA9IG1hdGNoVXNlckFnZW50KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgcmV0dXJuIGJyb3dzZXI7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgc3VwcG9ydDtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRlbXBsYXRlKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRlbXBsYXRlIGltcGxlbWVudGF0aW9uIG1pc3NpbmcuXCIpO1xufVxuIiwiY29uc3Qgbm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbm93O1xuIiwiaW1wb3J0IG5vdyBmcm9tICcuLi91dGlsL25vdyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCBkZWxheSkge1xuICAgIGxldCBsYXN0RXhlY1RpbWUgPSAwO1xuICAgIGxldCB0aW1lb3V0O1xuXG4gICAgaWYgKCFkZWxheSB8fCBkZWxheSA8PSAwKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG5cbiAgICBjb25zdCB0aHJvdHRsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IG5vdygpIC0gbGFzdEV4ZWNUaW1lO1xuICAgICAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICAgIGNvbnN0IGV4ZWMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgbGFzdEV4ZWNUaW1lID0gbm93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZmlyc3QgZXhlY3V0aW9uXG4gICAgICAgIGlmICghbGFzdEV4ZWNUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlYygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbGFwc2VkID4gZGVsYXkpIHtcbiAgICAgICAgICAgIGV4ZWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGV4ZWMsIGRlbGF5IC0gZWxhcHNlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aHJvdHRsZWQ7XG59XG4iLCJjb25zdCBuYW1lZENvbG9ycyA9IHtcbiAgICBhbGljZWJsdWU6IFwiZjBmOGZmXCIsIGFudGlxdWV3aGl0ZTogXCJmYWViZDdcIiwgYXF1YTogXCIwMGZmZmZcIixcbiAgICBhcXVhbWFyaW5lOiBcIjdmZmZkNFwiLCBhenVyZTogXCJmMGZmZmZcIiwgYmVpZ2U6IFwiZjVmNWRjXCIsXG4gICAgYmlzcXVlOiBcImZmZTRjNFwiLCBibGFjazogXCIwMDAwMDBcIiwgYmxhbmNoZWRhbG1vbmQ6IFwiZmZlYmNkXCIsXG4gICAgYmx1ZTogXCIwMDAwZmZcIiwgYmx1ZXZpb2xldDogXCI4YTJiZTJcIiwgYnJvd246IFwiYTUyYTJhXCIsXG4gICAgYnVybHl3b29kOiBcImRlYjg4N1wiLCBjYWRldGJsdWU6IFwiNWY5ZWEwXCIsIGNoYXJ0cmV1c2U6IFwiN2ZmZjAwXCIsXG4gICAgY2hvY29sYXRlOiBcImQyNjkxZVwiLCBjb3JhbDogXCJmZjdmNTBcIiwgY29ybmZsb3dlcmJsdWU6IFwiNjQ5NWVkXCIsXG4gICAgY29ybnNpbGs6IFwiZmZmOGRjXCIsIGNyaW1zb246IFwiZGMxNDNjXCIsIGN5YW46IFwiMDBmZmZmXCIsXG4gICAgZGFya2JsdWU6IFwiMDAwMDhiXCIsIGRhcmtjeWFuOiBcIjAwOGI4YlwiLCBkYXJrZ29sZGVucm9kOiBcImI4ODYwYlwiLFxuICAgIGRhcmtncmF5OiBcImE5YTlhOVwiLCBkYXJrZ3JleTogXCJhOWE5YTlcIiwgZGFya2dyZWVuOiBcIjAwNjQwMFwiLFxuICAgIGRhcmtraGFraTogXCJiZGI3NmJcIiwgZGFya21hZ2VudGE6IFwiOGIwMDhiXCIsIGRhcmtvbGl2ZWdyZWVuOiBcIjU1NmIyZlwiLFxuICAgIGRhcmtvcmFuZ2U6IFwiZmY4YzAwXCIsIGRhcmtvcmNoaWQ6IFwiOTkzMmNjXCIsIGRhcmtyZWQ6IFwiOGIwMDAwXCIsXG4gICAgZGFya3NhbG1vbjogXCJlOTk2N2FcIiwgZGFya3NlYWdyZWVuOiBcIjhmYmM4ZlwiLCBkYXJrc2xhdGVibHVlOiBcIjQ4M2Q4YlwiLFxuICAgIGRhcmtzbGF0ZWdyYXk6IFwiMmY0ZjRmXCIsIGRhcmtzbGF0ZWdyZXk6IFwiMmY0ZjRmXCIsIGRhcmt0dXJxdW9pc2U6IFwiMDBjZWQxXCIsXG4gICAgZGFya3Zpb2xldDogXCI5NDAwZDNcIiwgZGVlcHBpbms6IFwiZmYxNDkzXCIsIGRlZXBza3libHVlOiBcIjAwYmZmZlwiLFxuICAgIGRpbWdyYXk6IFwiNjk2OTY5XCIsIGRpbWdyZXk6IFwiNjk2OTY5XCIsIGRvZGdlcmJsdWU6IFwiMWU5MGZmXCIsXG4gICAgZmlyZWJyaWNrOiBcImIyMjIyMlwiLCBmbG9yYWx3aGl0ZTogXCJmZmZhZjBcIiwgZm9yZXN0Z3JlZW46IFwiMjI4YjIyXCIsXG4gICAgZnVjaHNpYTogXCJmZjAwZmZcIiwgZ2FpbnNib3JvOiBcImRjZGNkY1wiLCBnaG9zdHdoaXRlOiBcImY4ZjhmZlwiLFxuICAgIGdvbGQ6IFwiZmZkNzAwXCIsIGdvbGRlbnJvZDogXCJkYWE1MjBcIiwgZ3JheTogXCI4MDgwODBcIixcbiAgICBncmV5OiBcIjgwODA4MFwiLCBncmVlbjogXCIwMDgwMDBcIiwgZ3JlZW55ZWxsb3c6IFwiYWRmZjJmXCIsXG4gICAgaG9uZXlkZXc6IFwiZjBmZmYwXCIsIGhvdHBpbms6IFwiZmY2OWI0XCIsIGluZGlhbnJlZDogXCJjZDVjNWNcIixcbiAgICBpbmRpZ286IFwiNGIwMDgyXCIsIGl2b3J5OiBcImZmZmZmMFwiLCBraGFraTogXCJmMGU2OGNcIixcbiAgICBsYXZlbmRlcjogXCJlNmU2ZmFcIiwgbGF2ZW5kZXJibHVzaDogXCJmZmYwZjVcIiwgbGF3bmdyZWVuOiBcIjdjZmMwMFwiLFxuICAgIGxlbW9uY2hpZmZvbjogXCJmZmZhY2RcIiwgbGlnaHRibHVlOiBcImFkZDhlNlwiLCBsaWdodGNvcmFsOiBcImYwODA4MFwiLFxuICAgIGxpZ2h0Y3lhbjogXCJlMGZmZmZcIiwgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IFwiZmFmYWQyXCIsIGxpZ2h0Z3JheTogXCJkM2QzZDNcIixcbiAgICBsaWdodGdyZXk6IFwiZDNkM2QzXCIsIGxpZ2h0Z3JlZW46IFwiOTBlZTkwXCIsIGxpZ2h0cGluazogXCJmZmI2YzFcIixcbiAgICBsaWdodHNhbG1vbjogXCJmZmEwN2FcIiwgbGlnaHRzZWFncmVlbjogXCIyMGIyYWFcIiwgbGlnaHRza3libHVlOiBcIjg3Y2VmYVwiLFxuICAgIGxpZ2h0c2xhdGVncmF5OiBcIjc3ODg5OVwiLCBsaWdodHNsYXRlZ3JleTogXCI3Nzg4OTlcIiwgbGlnaHRzdGVlbGJsdWU6IFwiYjBjNGRlXCIsXG4gICAgbGlnaHR5ZWxsb3c6IFwiZmZmZmUwXCIsIGxpbWU6IFwiMDBmZjAwXCIsIGxpbWVncmVlbjogXCIzMmNkMzJcIixcbiAgICBsaW5lbjogXCJmYWYwZTZcIiwgbWFnZW50YTogXCJmZjAwZmZcIiwgbWFyb29uOiBcIjgwMDAwMFwiLFxuICAgIG1lZGl1bWFxdWFtYXJpbmU6IFwiNjZjZGFhXCIsIG1lZGl1bWJsdWU6IFwiMDAwMGNkXCIsIG1lZGl1bW9yY2hpZDogXCJiYTU1ZDNcIixcbiAgICBtZWRpdW1wdXJwbGU6IFwiOTM3MGQ4XCIsIG1lZGl1bXNlYWdyZWVuOiBcIjNjYjM3MVwiLCBtZWRpdW1zbGF0ZWJsdWU6IFwiN2I2OGVlXCIsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46IFwiMDBmYTlhXCIsIG1lZGl1bXR1cnF1b2lzZTogXCI0OGQxY2NcIiwgbWVkaXVtdmlvbGV0cmVkOiBcImM3MTU4NVwiLFxuICAgIG1pZG5pZ2h0Ymx1ZTogXCIxOTE5NzBcIiwgbWludGNyZWFtOiBcImY1ZmZmYVwiLCBtaXN0eXJvc2U6IFwiZmZlNGUxXCIsXG4gICAgbW9jY2FzaW46IFwiZmZlNGI1XCIsIG5hdmFqb3doaXRlOiBcImZmZGVhZFwiLCBuYXZ5OiBcIjAwMDA4MFwiLFxuICAgIG9sZGxhY2U6IFwiZmRmNWU2XCIsIG9saXZlOiBcIjgwODAwMFwiLCBvbGl2ZWRyYWI6IFwiNmI4ZTIzXCIsXG4gICAgb3JhbmdlOiBcImZmYTUwMFwiLCBvcmFuZ2VyZWQ6IFwiZmY0NTAwXCIsIG9yY2hpZDogXCJkYTcwZDZcIixcbiAgICBwYWxlZ29sZGVucm9kOiBcImVlZThhYVwiLCBwYWxlZ3JlZW46IFwiOThmYjk4XCIsIHBhbGV0dXJxdW9pc2U6IFwiYWZlZWVlXCIsXG4gICAgcGFsZXZpb2xldHJlZDogXCJkODcwOTNcIiwgcGFwYXlhd2hpcDogXCJmZmVmZDVcIiwgcGVhY2hwdWZmOiBcImZmZGFiOVwiLFxuICAgIHBlcnU6IFwiY2Q4NTNmXCIsIHBpbms6IFwiZmZjMGNiXCIsIHBsdW06IFwiZGRhMGRkXCIsXG4gICAgcG93ZGVyYmx1ZTogXCJiMGUwZTZcIiwgcHVycGxlOiBcIjgwMDA4MFwiLCByZWQ6IFwiZmYwMDAwXCIsXG4gICAgcm9zeWJyb3duOiBcImJjOGY4ZlwiLCByb3lhbGJsdWU6IFwiNDE2OWUxXCIsIHNhZGRsZWJyb3duOiBcIjhiNDUxM1wiLFxuICAgIHNhbG1vbjogXCJmYTgwNzJcIiwgc2FuZHlicm93bjogXCJmNGE0NjBcIiwgc2VhZ3JlZW46IFwiMmU4YjU3XCIsXG4gICAgc2Vhc2hlbGw6IFwiZmZmNWVlXCIsIHNpZW5uYTogXCJhMDUyMmRcIiwgc2lsdmVyOiBcImMwYzBjMFwiLFxuICAgIHNreWJsdWU6IFwiODdjZWViXCIsIHNsYXRlYmx1ZTogXCI2YTVhY2RcIiwgc2xhdGVncmF5OiBcIjcwODA5MFwiLFxuICAgIHNsYXRlZ3JleTogXCI3MDgwOTBcIiwgc25vdzogXCJmZmZhZmFcIiwgc3ByaW5nZ3JlZW46IFwiMDBmZjdmXCIsXG4gICAgc3RlZWxibHVlOiBcIjQ2ODJiNFwiLCB0YW46IFwiZDJiNDhjXCIsIHRlYWw6IFwiMDA4MDgwXCIsXG4gICAgdGhpc3RsZTogXCJkOGJmZDhcIiwgdG9tYXRvOiBcImZmNjM0N1wiLCB0dXJxdW9pc2U6IFwiNDBlMGQwXCIsXG4gICAgdmlvbGV0OiBcImVlODJlZVwiLCB3aGVhdDogXCJmNWRlYjNcIiwgd2hpdGU6IFwiZmZmZmZmXCIsXG4gICAgd2hpdGVzbW9rZTogXCJmNWY1ZjVcIiwgeWVsbG93OiBcImZmZmYwMFwiLCB5ZWxsb3dncmVlbjogXCI5YWNkMzJcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgbmFtZWRDb2xvcnM7IiwiaW1wb3J0IENsYXNzIGZyb20gJy4uL2NsYXNzJztcbmltcG9ydCBzdXBwb3J0IGZyb20gJy4uL3N1cHBvcnQnO1xuaW1wb3J0IG5hbWVkQ29sb3JzIGZyb20gJy4vbmFtZWQtY29sb3JzJztcblxuY29uc3QgYnJvd3NlciA9IHN1cHBvcnQuYnJvd3NlcjtcblxubGV0IG1hdGNoTmFtZWRDb2xvciA9IChjb2xvcikgPT4ge1xuICAgIGNvbnN0IGNvbG9yTmFtZXMgPSBPYmplY3Qua2V5cyhuYW1lZENvbG9ycyk7XG4gICAgY29sb3JOYW1lcy5wdXNoKFwidHJhbnNwYXJlbnRcIik7XG5cbiAgICBjb25zdCByZWdleHAgPSBuZXcgUmVnRXhwKFwiXihcIiArIGNvbG9yTmFtZXMuam9pbihcInxcIikgKyBcIikoXFxcXFd8JClcIiwgXCJpXCIpO1xuICAgIG1hdGNoTmFtZWRDb2xvciA9IChjb2xvcikgPT4gcmVnZXhwLmV4ZWMoY29sb3IpO1xuXG4gICAgcmV0dXJuIHJlZ2V4cC5leGVjKGNvbG9yKTtcbn07XG5cbmNsYXNzIEJhc2VDb2xvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxuICAgIHRvSFNWKCkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgdG9SR0IoKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICB0b0hleChvcHRpb25zKSB7IHJldHVybiB0aGlzLnRvQnl0ZXMoKS50b0hleChvcHRpb25zKTsgfVxuXG4gICAgdG9CeXRlcygpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIHRvQ3NzKG9wdGlvbnMpIHsgcmV0dXJuIFwiI1wiICsgdGhpcy50b0hleChvcHRpb25zKTsgfVxuXG4gICAgdG9Dc3NSZ2JhKCkge1xuICAgICAgICBjb25zdCByZ2IgPSB0aGlzLnRvQnl0ZXMoKTtcbiAgICAgICAgcmV0dXJuIGByZ2JhKCR7IHJnYi5yIH0sICR7IHJnYi5nIH0sICR7IHJnYi5iIH0sICR7IHBhcnNlRmxvYXQoKE51bWJlcih0aGlzLmEpKS50b0ZpeGVkKDMpKSB9KWA7XG4gICAgfVxuXG4gICAgdG9EaXNwbGF5KCkge1xuICAgICAgICBpZiAoYnJvd3Nlci5tc2llICYmIGJyb3dzZXIudmVyc2lvbiA8IDkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ3NzKCk7IC8vIG5vIFJHQkEgc3VwcG9ydDsgZG9lcyBpdCBzdXBwb3J0IGFueSBvcGFjaXR5IGluIGNvbG9ycz9cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b0Nzc1JnYmEoKTtcbiAgICB9XG5cbiAgICBlcXVhbHMoYykge1xuICAgICAgICByZXR1cm4gYyA9PT0gdGhpcyB8fCAoKGMgIT09IG51bGwgJiYgYyAhPT0gdW5kZWZpbmVkKSAmJiB0aGlzLnRvQ3NzUmdiYSgpID09PSBwYXJzZUNvbG9yKGMpLnRvQ3NzUmdiYSgpKTtcbiAgICB9XG5cbiAgICBkaWZmKG90aGVyKSB7XG4gICAgICAgIGlmIChvdGhlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGMxID0gdGhpcy50b0J5dGVzKCk7XG4gICAgICAgIGNvbnN0IGMyID0gb3RoZXIudG9CeXRlcygpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coKGMxLnIgLSBjMi5yKSAqIDAuMzAsIDIpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdygoYzEuZyAtIGMyLmcpICogMC41OSwgMikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucG93KChjMS5iIC0gYzIuYikgKiAwLjExLCAyKSk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGxldCBjID0gdGhpcy50b0J5dGVzKCk7XG4gICAgICAgIGlmIChjID09PSB0aGlzKSB7XG4gICAgICAgICAgICBjID0gbmV3IEJ5dGVzKGMuciwgYy5nLCBjLmIsIGMuYSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYztcbiAgICB9XG59XG5cbmNsYXNzIFJHQiBleHRlbmRzIEJhc2VDb2xvciB7XG4gICAgY29uc3RydWN0b3IociwgZywgYiwgYSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuciA9IHI7XG4gICAgICAgIHRoaXMuZyA9IGc7XG4gICAgICAgIHRoaXMuYiA9IGI7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgfVxuXG4gICAgdG9IU1YoKSB7XG4gICAgICAgIGNvbnN0IHsgciwgZywgYiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IG1heCAtIG1pbjtcbiAgICAgICAgY29uc3QgdiA9IG1heDtcbiAgICAgICAgbGV0IGgsIHM7XG5cbiAgICAgICAgaWYgKGRlbHRhID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhTVigwLCAwLCB2LCB0aGlzLmEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1heCAhPT0gMCkge1xuICAgICAgICAgICAgcyA9IGRlbHRhIC8gbWF4O1xuICAgICAgICAgICAgaWYgKHIgPT09IG1heCkge1xuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZGVsdGE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGcgPT09IG1heCkge1xuICAgICAgICAgICAgICAgIGggPSAyICsgKGIgLSByKSAvIGRlbHRhO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoID0gNCArIChyIC0gZykgLyBkZWx0YTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaCAqPSA2MDtcbiAgICAgICAgICAgIGlmIChoIDwgMCkge1xuICAgICAgICAgICAgICAgIGggKz0gMzYwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcyA9IDA7XG4gICAgICAgICAgICBoID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEhTVihoLCBzLCB2LCB0aGlzLmEpO1xuICAgIH1cblxuICAgIHRvSFNMKCkge1xuICAgICAgICBjb25zdCB7IHIsIGcsIGIgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgICAgICAgbGV0IGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cbiAgICAgICAgaWYgKG1heCA9PT0gbWluKSB7XG4gICAgICAgICAgICBoID0gcyA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkID0gbWF4IC0gbWluO1xuICAgICAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgICAgICAgICAgc3dpdGNoIChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IEhTTChoICogNjAsIHMgKiAxMDAsIGwgKiAxMDAsIHRoaXMuYSk7XG4gICAgfVxuXG4gICAgdG9CeXRlcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCeXRlcyh0aGlzLnIgKiAyNTUsIHRoaXMuZyAqIDI1NSwgdGhpcy5iICogMjU1LCB0aGlzLmEpO1xuICAgIH1cbn1cblxuY2xhc3MgQnl0ZXMgZXh0ZW5kcyBSR0Ige1xuICAgIGNvbnN0cnVjdG9yKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgc3VwZXIoTWF0aC5yb3VuZChyKSwgTWF0aC5yb3VuZChnKSwgTWF0aC5yb3VuZChiKSwgYSk7XG4gICAgfVxuXG4gICAgdG9SR0IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUkdCKHRoaXMuciAvIDI1NSwgdGhpcy5nIC8gMjU1LCB0aGlzLmIgLyAyNTUsIHRoaXMuYSk7XG4gICAgfVxuXG4gICAgdG9IU1YoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9IU1YoKTtcbiAgICB9XG5cbiAgICB0b0hTTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b0hTTCgpO1xuICAgIH1cblxuICAgIHRvSGV4KG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gaGV4KHRoaXMuciwgMikgKyBoZXgodGhpcy5nLCAyKSArIGhleCh0aGlzLmIsIDIpO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxwaGEpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IGhleChNYXRoLnJvdW5kKHRoaXMuYSAqIDI1NSksIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHRvQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGV4KG4sIHdpZHRoLCBwYWQgPSBcIjBcIikge1xuICAgIGxldCByZXN1bHQgPSBuLnRvU3RyaW5nKDE2KTtcbiAgICB3aGlsZSAod2lkdGggPiByZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdCA9IHBhZCArIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jbGFzcyBIU1YgZXh0ZW5kcyBCYXNlQ29sb3Ige1xuICAgIGNvbnN0cnVjdG9yKGgsIHMsIHYsIGEpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmggPSBoO1xuICAgICAgICB0aGlzLnMgPSBzO1xuICAgICAgICB0aGlzLnYgPSB2O1xuICAgICAgICB0aGlzLmEgPSBhO1xuICAgIH1cblxuICAgIHRvUkdCKCkge1xuICAgICAgICBsZXQgeyBoLCBzLCB2IH0gPSB0aGlzO1xuICAgICAgICBsZXQgciwgZywgYjtcblxuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgciA9IGcgPSBiID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGggLz0gNjA7XG5cbiAgICAgICAgICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKGgpO1xuICAgICAgICAgICAgY29uc3QgZiA9IGggLSBpO1xuICAgICAgICAgICAgY29uc3QgcCA9IHYgKiAoMSAtIHMpO1xuICAgICAgICAgICAgY29uc3QgcSA9IHYgKiAoMSAtIHMgKiBmKTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB2ICogKDEgLSBzICogKDEgLSBmKSk7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgY2FzZSAwOiByID0gdjsgZyA9IHQ7IGIgPSBwOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTogciA9IHE7IGcgPSB2OyBiID0gcDsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6IHIgPSBwOyBnID0gdjsgYiA9IHQ7IGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOiByID0gcDsgZyA9IHE7IGIgPSB2OyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDogciA9IHQ7IGcgPSBwOyBiID0gdjsgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OiByID0gdjsgZyA9IHA7IGIgPSBxOyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUkdCKHIsIGcsIGIsIHRoaXMuYSk7XG4gICAgfVxuXG4gICAgdG9IU0woKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9IU0woKTtcbiAgICB9XG5cbiAgICB0b0J5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b1JHQigpLnRvQnl0ZXMoKTtcbiAgICB9XG59XG5cbmNsYXNzIEhTTCBleHRlbmRzIEJhc2VDb2xvciB7XG4gICAgY29uc3RydWN0b3IoaCwgcywgbCwgYSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuaCA9IGg7XG4gICAgICAgIHRoaXMucyA9IHM7XG4gICAgICAgIHRoaXMubCA9IGw7XG4gICAgICAgIHRoaXMuYSA9IGE7XG4gICAgfVxuXG4gICAgdG9SR0IoKSB7XG4gICAgICAgIGxldCBoID0gdGhpcy5oIC8gMzYwO1xuICAgICAgICBsZXQgcyA9IHRoaXMucyAvIDEwMDtcbiAgICAgICAgbGV0IGwgPSB0aGlzLmwgLyAxMDA7XG4gICAgICAgIGxldCByLCBnLCBiO1xuXG4gICAgICAgIGlmIChzID09PSAwKSB7XG4gICAgICAgICAgICByID0gZyA9IGIgPSBsOyAvLyBhY2hyb21hdGljXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICAgICAgICAgIGNvbnN0IHAgPSAyICogbCAtIHE7XG4gICAgICAgICAgICByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xuICAgICAgICAgICAgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gICAgICAgICAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSR0IociwgZywgYiwgdGhpcy5hKTtcbiAgICB9XG5cbiAgICB0b0hTVigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9SR0IoKS50b0hTVigpO1xuICAgIH1cblxuICAgIHRvQnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvUkdCKCkudG9CeXRlcygpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaHVlMnJnYihwLCBxLCBzKSB7XG4gICAgbGV0IHQgPSBzO1xuXG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICAgIHQgKz0gMTtcbiAgICB9XG5cbiAgICBpZiAodCA+IDEpIHtcbiAgICAgICAgdCAtPSAxO1xuICAgIH1cblxuICAgIGlmICh0IDwgMSAvIDYpIHtcbiAgICAgICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gICAgfVxuXG4gICAgaWYgKHQgPCAxIC8gMikge1xuICAgICAgICByZXR1cm4gcTtcbiAgICB9XG5cbiAgICBpZiAodCA8IDIgLyAzKSB7XG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICB9XG5cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gYWxwaGFGcm9tSGV4KGEpIHtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChwYXJzZUZsb2F0KHBhcnNlSW50KGEsIDE2KSAvIDI1NSApLnRvRml4ZWQoMykpO1xufVxuXG5leHBvcnQgeyBSR0IsIEJ5dGVzLCBIU1YsIEhTTCB9O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZUNvbG9yKHZhbHVlLCBzYWZlKSB7XG4gICAgbGV0IG0sIHJldDtcblxuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBcIm5vbmVcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBCYXNlQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGxldCBjb2xvciA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKChtID0gbWF0Y2hOYW1lZENvbG9yKGNvbG9yKSkpIHtcbiAgICAgICAgaWYgKG1bMV0gPT09IFwidHJhbnNwYXJlbnRcIikge1xuICAgICAgICAgICAgY29sb3IgPSBuZXcgUkdCKDEsIDEsIDEsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKG5hbWVkQ29sb3JzW21bMV1dLCBzYWZlKTtcbiAgICAgICAgfVxuICAgICAgICBjb2xvci5tYXRjaCA9IFsgbVsxXSBdO1xuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxuICAgIGlmICgobSA9IC9eIz8oWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSlcXGIvaS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEJ5dGVzKHBhcnNlSW50KG1bMV0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1bMl0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1bM10sIDE2KSwgMSk7XG4gICAgfSBlbHNlIGlmICgobSA9IC9eIz8oWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSlcXGIvaS5leGVjKGNvbG9yKSkpIHtcbiAgICAgICAgcmV0ID0gbmV3IEJ5dGVzKHBhcnNlSW50KG1bMV0gKyBtWzFdLCAxNiksXG4gICAgICAgICAgICBwYXJzZUludChtWzJdICsgbVsyXSwgMTYpLFxuICAgICAgICAgICAgcGFyc2VJbnQobVszXSArIG1bM10sIDE2KSwgMSk7XG4gICAgfSBlbHNlIGlmICgobSA9IC9eIz8oWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSkoWzAtOWEtZl0pXFxiL2kuZXhlYyhjb2xvcikpKSB7IC8vIFBhcnNlIDQgZGlnaXQgaGV4IGNvbG9yXG4gICAgICAgIHJldCA9IG5ldyBCeXRlcyhwYXJzZUludChtWzFdICsgbVsxXSwgMTYpLFxuICAgICAgICAgICAgcGFyc2VJbnQobVsyXSArIG1bMl0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1bM10gKyBtWzNdLCAxNiksXG4gICAgICAgICAgICBhbHBoYUZyb21IZXgobVs0XSArIG1bNF0pKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL14jPyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSlcXGIvaS5leGVjKGNvbG9yKSkpIHsgLy8gUGFyc2UgOCBkaWdpdCBoZXggY29sb3JcbiAgICAgICAgcmV0ID0gbmV3IEJ5dGVzKHBhcnNlSW50KG1bMV0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1bMl0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1bM10sIDE2KSxcbiAgICAgICAgICAgIGFscGhhRnJvbUhleChtWzRdKSk7XG4gICAgfSBlbHNlIGlmICgobSA9IC9ecmdiXFwoXFxzKihbMC05XSspXFxzKixcXHMqKFswLTldKylcXHMqLFxccyooWzAtOV0rKVxccypcXCkvLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXQgPSBuZXcgQnl0ZXMocGFyc2VJbnQobVsxXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobVsyXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobVszXSwgMTApLCAxKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL15yZ2JhXFwoXFxzKihbMC05XSspXFxzKixcXHMqKFswLTldKylcXHMqLFxccyooWzAtOV0rKVxccyosXFxzKihbMC05Ll0rKVxccypcXCkvLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXQgPSBuZXcgQnl0ZXMocGFyc2VJbnQobVsxXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobVsyXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobVszXSwgMTApLCBwYXJzZUZsb2F0KG1bNF0pKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL15yZ2JcXChcXHMqKFswLTldKlxcLj9bMC05XSspJVxccyosXFxzKihbMC05XSpcXC4/WzAtOV0rKSVcXHMqLFxccyooWzAtOV0qXFwuP1swLTldKyklXFxzKlxcKS8uZXhlYyhjb2xvcikpKSB7XG4gICAgICAgIHJldCA9IG5ldyBSR0IocGFyc2VGbG9hdChtWzFdKSAvIDEwMCxcbiAgICAgICAgICAgIHBhcnNlRmxvYXQobVsyXSkgLyAxMDAsXG4gICAgICAgICAgICBwYXJzZUZsb2F0KG1bM10pIC8gMTAwLCAxKTtcbiAgICB9IGVsc2UgaWYgKChtID0gL15yZ2JhXFwoXFxzKihbMC05XSpcXC4/WzAtOV0rKSVcXHMqLFxccyooWzAtOV0qXFwuP1swLTldKyklXFxzKixcXHMqKFswLTldKlxcLj9bMC05XSspJVxccyosXFxzKihbMC05Ll0rKVxccypcXCkvLmV4ZWMoY29sb3IpKSkge1xuICAgICAgICByZXQgPSBuZXcgUkdCKHBhcnNlRmxvYXQobVsxXSkgLyAxMDAsXG4gICAgICAgICAgICBwYXJzZUZsb2F0KG1bMl0pIC8gMTAwLFxuICAgICAgICAgICAgcGFyc2VGbG9hdChtWzNdKSAvIDEwMCwgcGFyc2VGbG9hdChtWzRdKSk7XG4gICAgfVxuXG4gICAgaWYgKHJldCkge1xuICAgICAgICByZXQubWF0Y2ggPSBtO1xuICAgIH0gZWxzZSBpZiAoIXNhZmUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHBhcnNlIGNvbG9yOiBcIiArIGNvbG9yKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xufVxuIiwiaW1wb3J0IENsYXNzIGZyb20gJy4uL2NsYXNzJztcbmltcG9ydCBuYW1lZENvbG9ycyBmcm9tICcuL25hbWVkLWNvbG9ycyc7XG5pbXBvcnQgeyBCeXRlcywgUkdCLCBIU1YsIEhTTCB9IGZyb20gJy4vcGFyc2UtY29sb3InO1xuXG5jb25zdCBEQVJLX1RSRVNIT0xEID0gMTgwO1xuXG5jbGFzcyBDb2xvciBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtYXRzID0gQ29sb3IuZm9ybWF0cztcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkQ29sb3IgPSB0aGlzLnJlc29sdmVDb2xvcih2YWx1ZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGZvcm1hdHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdFJlZ2V4ID0gZm9ybWF0c1tpZHhdLnJlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NvciA9IGZvcm1hdHNbaWR4XS5wcm9jZXNzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gZm9ybWF0UmVnZXguZXhlYyhyZXNvbHZlZENvbG9yKTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVscyA9IHByb2Nlc3NvcihwYXJ0cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuciA9IGNoYW5uZWxzWzBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmcgPSBjaGFubmVsc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iID0gY2hhbm5lbHNbMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdGhpcy5nID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdGhpcy5iID0gYXJndW1lbnRzWzJdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yID0gdGhpcy5ub3JtYWxpemVCeXRlKHRoaXMucik7XG4gICAgICAgIHRoaXMuZyA9IHRoaXMubm9ybWFsaXplQnl0ZSh0aGlzLmcpO1xuICAgICAgICB0aGlzLmIgPSB0aGlzLm5vcm1hbGl6ZUJ5dGUodGhpcy5iKTtcbiAgICB9XG5cbiAgICB0b0hleCgpIHtcbiAgICAgICAgY29uc3QgcGFkID0gdGhpcy5wYWREaWdpdDtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuci50b1N0cmluZygxNik7XG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLmcudG9TdHJpbmcoMTYpO1xuICAgICAgICBjb25zdCBiID0gdGhpcy5iLnRvU3RyaW5nKDE2KTtcblxuICAgICAgICByZXR1cm4gXCIjXCIgKyBwYWQocikgKyBwYWQoZykgKyBwYWQoYik7XG4gICAgfVxuXG4gICAgcmVzb2x2ZUNvbG9yKHZhbHVlKSB7XG4gICAgICAgIGxldCBjb2xvciA9IHZhbHVlIHx8IFwiYmxhY2tcIjtcblxuICAgICAgICBpZiAoY29sb3IuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5zdWJzdHIoMSwgNik7XG4gICAgICAgIH1cblxuICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoLyAvZywgXCJcIik7XG4gICAgICAgIGNvbG9yID0gY29sb3IudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29sb3IgPSBDb2xvci5uYW1lZENvbG9yc1tjb2xvcl0gfHwgY29sb3I7XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cblxuICAgIG5vcm1hbGl6ZUJ5dGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCBpc05hTih2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlID4gMjU1ID8gMjU1IDogdmFsdWU7XG4gICAgfVxuXG4gICAgcGFkRGlnaXQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZS5sZW5ndGggPT09IDEpID8gXCIwXCIgKyB2YWx1ZSA6IHZhbHVlO1xuICAgIH1cblxuICAgIGJyaWdodG5lc3ModmFsdWUpIHtcbiAgICAgICAgY29uc3Qgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4gICAgICAgIHRoaXMuciA9IHJvdW5kKHRoaXMubm9ybWFsaXplQnl0ZSh0aGlzLnIgKiB2YWx1ZSkpO1xuICAgICAgICB0aGlzLmcgPSByb3VuZCh0aGlzLm5vcm1hbGl6ZUJ5dGUodGhpcy5nICogdmFsdWUpKTtcbiAgICAgICAgdGhpcy5iID0gcm91bmQodGhpcy5ub3JtYWxpemVCeXRlKHRoaXMuYiAqIHZhbHVlKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcGVyY0JyaWdodG5lc3MoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoMC4yNDEgKiB0aGlzLnIgKiB0aGlzLnIgKyAwLjY5MSAqIHRoaXMuZyAqIHRoaXMuZyArIDAuMDY4ICogdGhpcy5iICogdGhpcy5iKTtcbiAgICB9XG5cbiAgICBpc0RhcmsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcmNCcmlnaHRuZXNzKCkgPCBEQVJLX1RSRVNIT0xEO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tQnl0ZXMociwgZywgYiwgYSkge1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKHIsIGcsIGIsIGEgIT0gbnVsbCA/IGEgOiAxKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbVJHQihyLCBnLCBiLCBhKSB7XG4gICAgICAgIHJldHVybiBuZXcgUkdCKHIsIGcsIGIsIGEgIT0gbnVsbCA/IGEgOiAxKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUhTVihoLCBzLCB2LCBhKSB7XG4gICAgICAgIHJldHVybiBuZXcgSFNWKGgsIHMsIHYsIGEgIT0gbnVsbCA/IGEgOiAxKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbUhTTChoLCBzLCBsLCBhKSB7XG4gICAgICAgIHJldHVybiBuZXcgSFNMKGgsIHMsIGwsIGEgIT0gbnVsbCA/IGEgOiAxKTtcbiAgICB9XG59XG5cbkNvbG9yLmZvcm1hdHMgPSBbIHtcbiAgICByZTogL15yZ2JcXCgoXFxkezEsM30pLFxccyooXFxkezEsM30pLFxccyooXFxkezEsM30pXFwpJC8sXG4gICAgcHJvY2VzczogZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHBhcnNlSW50KHBhcnRzWzFdLCAxMCksIHBhcnNlSW50KHBhcnRzWzJdLCAxMCksIHBhcnNlSW50KHBhcnRzWzNdLCAxMClcbiAgICAgICAgXTtcbiAgICB9XG59LCB7XG4gICAgcmU6IC9eKFxcd3syfSkoXFx3ezJ9KShcXHd7Mn0pJC8sXG4gICAgcHJvY2VzczogZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHBhcnNlSW50KHBhcnRzWzFdLCAxNiksIHBhcnNlSW50KHBhcnRzWzJdLCAxNiksIHBhcnNlSW50KHBhcnRzWzNdLCAxNilcbiAgICAgICAgXTtcbiAgICB9XG59LCB7XG4gICAgcmU6IC9eKFxcd3sxfSkoXFx3ezF9KShcXHd7MX0pJC8sXG4gICAgcHJvY2VzczogZnVuY3Rpb24ocGFydHMpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHBhcnNlSW50KHBhcnRzWzFdICsgcGFydHNbMV0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KHBhcnRzWzJdICsgcGFydHNbMl0sIDE2KSxcbiAgICAgICAgICAgIHBhcnNlSW50KHBhcnRzWzNdICsgcGFydHNbM10sIDE2KVxuICAgICAgICBdO1xuICAgIH1cbn0gXTtcblxuQ29sb3IubmFtZWRDb2xvcnMgPSBuYW1lZENvbG9ycztcblxuZXhwb3J0IGRlZmF1bHQgQ29sb3I7IiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBIYXNPYnNlcnZlcnMgZXh0ZW5kcyBDbGFzcyB7XG4gICAgb2JzZXJ2ZXJzKCkge1xuICAgICAgICB0aGlzLl9vYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnMgfHwgW107XG4gICAgICAgIHJldHVybiB0aGlzLl9vYnNlcnZlcnM7XG4gICAgfVxuXG4gICAgYWRkT2JzZXJ2ZXIoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX29ic2VydmVycykge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzID0gWyBlbGVtZW50IF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlcnMucHVzaChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZW1vdmVPYnNlcnZlcihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzKCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YoZWxlbWVudCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRyaWdnZXIobWV0aG9kTmFtZSwgZXZlbnQpIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5fb2JzZXJ2ZXJzO1xuXG4gICAgICAgIGlmIChvYnNlcnZlcnMgJiYgIXRoaXMuX3N1c3BlbmRlZCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBvYnNlcnZlcnNbaWR4XTtcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXJbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJbbWV0aG9kTmFtZV0oZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUgPSB7fSkge1xuICAgICAgICBlLmVsZW1lbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnRyaWdnZXIoXCJvcHRpb25zQ2hhbmdlXCIsIGUpO1xuICAgIH1cblxuICAgIGdlb21ldHJ5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoXCJnZW9tZXRyeUNoYW5nZVwiLCB7XG4gICAgICAgICAgICBlbGVtZW50OiB0aGlzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN1c3BlbmQoKSB7XG4gICAgICAgIHRoaXMuX3N1c3BlbmRlZCA9ICh0aGlzLl9zdXNwZW5kZWQgfHwgMCkgKyAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIHRoaXMuX3N1c3BlbmRlZCA9IE1hdGgubWF4KCh0aGlzLl9zdXNwZW5kZWQgfHwgMCkgLSAxLCAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX29ic2VydmVyRmllbGQoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzW2ZpZWxkXSkge1xuICAgICAgICAgICAgdGhpc1tmaWVsZF0ucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgdmFsdWUuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBIYXNPYnNlcnZlcnM7XG5cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGVuZChmaXJzdCwgc2Vjb25kKSB7XG4gICAgZmlyc3QucHVzaC5hcHBseShmaXJzdCwgc2Vjb25kKTtcbiAgICByZXR1cm4gZmlyc3Q7XG59IiwiLyogZXNsaW50LWRpc2FibGUga2V5LXNwYWNpbmcsbm8tbXVsdGktc3BhY2VzLG5vLXBhcmFtLXJlYXNzaWduICovXG5cbmNvbnN0IGxpdGVyYWxzID0ge1xuICAgIDEgICAgOiBcImlcIiwgICAgICAgMTAgICA6IFwieFwiLCAgICAgICAxMDAgIDogXCJjXCIsXG4gICAgMiAgICA6IFwiaWlcIiwgICAgICAyMCAgIDogXCJ4eFwiLCAgICAgIDIwMCAgOiBcImNjXCIsXG4gICAgMyAgICA6IFwiaWlpXCIsICAgICAzMCAgIDogXCJ4eHhcIiwgICAgIDMwMCAgOiBcImNjY1wiLFxuICAgIDQgICAgOiBcIml2XCIsICAgICAgNDAgICA6IFwieGxcIiwgICAgICA0MDAgIDogXCJjZFwiLFxuICAgIDUgICAgOiBcInZcIiwgICAgICAgNTAgICA6IFwibFwiLCAgICAgICA1MDAgIDogXCJkXCIsXG4gICAgNiAgICA6IFwidmlcIiwgICAgICA2MCAgIDogXCJseFwiLCAgICAgIDYwMCAgOiBcImRjXCIsXG4gICAgNyAgICA6IFwidmlpXCIsICAgICA3MCAgIDogXCJseHhcIiwgICAgIDcwMCAgOiBcImRjY1wiLFxuICAgIDggICAgOiBcInZpaWlcIiwgICAgODAgICA6IFwibHh4eFwiLCAgICA4MDAgIDogXCJkY2NjXCIsXG4gICAgOSAgICA6IFwiaXhcIiwgICAgICA5MCAgIDogXCJ4Y1wiLCAgICAgIDkwMCAgOiBcImNtXCIsXG4gICAgMTAwMCA6IFwibVwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcmFiaWNUb1JvbWFuKG4pIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbIDEwMDAsXG4gICAgICAgIDkwMCAsIDgwMCwgNzAwLCA2MDAsIDUwMCwgNDAwLCAzMDAsIDIwMCwgMTAwLFxuICAgICAgICA5MCAgLCA4MCAsIDcwICwgNjAgLCA1MCAsIDQwICwgMzAgLCAyMCAsIDEwICxcbiAgICAgICAgOSAgICwgOCAgLCA3ICAsIDYgICwgNSAgLCA0ICAsIDMgICwgMiAgLCAxIF07XG5cbiAgICBsZXQgcm9tYW4gPSBcIlwiO1xuICAgIHdoaWxlIChuID4gMCkge1xuICAgICAgICBpZiAobiA8IHZhbHVlc1swXSkge1xuICAgICAgICAgICAgdmFsdWVzLnNoaWZ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb21hbiArPSBsaXRlcmFsc1t2YWx1ZXNbMF1dO1xuICAgICAgICAgICAgbiAtPSB2YWx1ZXNbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvbWFuO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlUHJvbWlzZSgpIHtcbiAgICBsZXQgcmVzb2x2ZUZuLCByZWplY3RGbjtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICByZXNvbHZlRm4gPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZS5fc3RhdGUgPSBcInJlc29sdmVkXCI7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH07XG4gICAgICAgIHJlamVjdEZuID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHByb21pc2UuX3N0YXRlID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgICAgcmVqZWN0KGRhdGEpO1xuXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBwcm9taXNlLl9zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIHByb21pc2UucmVzb2x2ZSA9IHJlc29sdmVGbjtcbiAgICBwcm9taXNlLnJlamVjdCA9IHJlamVjdEZuO1xuICAgIHByb21pc2Uuc3RhdGUgPSAoKSA9PiBwcm9taXNlLl9zdGF0ZTtcblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuIiwiY29uc3QgVU5ERUZJTkVEID0gXCJ1bmRlZmluZWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09IFVOREVGSU5FRDtcbn0iLCJsZXQgZGVmSWQgPSAxO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZpbml0aW9uSWQoKSB7XG4gICAgcmV0dXJuIFwia2RlZlwiICsgZGVmSWQrKztcbn0iLCJjb25zdCBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcbmNvbnN0IE1BWF9OVU0gPSBOdW1iZXIuTUFYX1ZBTFVFO1xuY29uc3QgTUlOX05VTSA9IC1OdW1iZXIuTUFYX1ZBTFVFO1xuXG5leHBvcnQgeyBERUdfVE9fUkFELCBNQVhfTlVNLCBNSU5fTlVNIH07IiwiaW1wb3J0IHsgREVHX1RPX1JBRCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVnKHJhZGlhbnMpIHtcbiAgICByZXR1cm4gcmFkaWFucyAvIERFR19UT19SQUQ7XG59IiwiY29uc3QgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcblxuZXhwb3J0IGNvbnN0IEJPTSA9ICdcXHhmZVxceGZmJztcblxuLy8gRW5jb2RlcyBhIHN0cmluZyBhcyBVVEYtOFxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVVURjgoaW5wdXQpIHtcbiAgICBsZXQgb3V0cHV0ID0gXCJcIjtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGNvZGUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuXG4gICAgICAgIGlmICgweEQ4MDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4REJGRikge1xuICAgICAgICAgICAgY29uc3QgaGkgPSBjb2RlO1xuICAgICAgICAgICAgY29uc3QgbG93ID0gaW5wdXQuY2hhckNvZGVBdCgrK2kpO1xuXG4gICAgICAgICAgICBpZiAoIWlzTmFOKGxvdykpIHtcbiAgICAgICAgICAgICAgICAvLyBDb21iaW5lIGhpZ2ggYW5kIGxvdyBzdXJyb2dhdGVcbiAgICAgICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvU3RyaW5nL2NoYXJDb2RlQXRcbiAgICAgICAgICAgICAgICBjb2RlID0gKGhpIC0gMHhEODAwKSAqIDB4NDAwICtcbiAgICAgICAgICAgICAgICAgICAgICAgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvZGUgPCAweDgwKSB7XG4gICAgICAgICAgICAvLyBPbmUgYnl0ZVxuICAgICAgICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlIDwgMHg4MDApIHtcbiAgICAgICAgICAgIC8vIFR3byBieXRlc1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweEMwIHwgKGNvZGUgPj4+IDYpKTtcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICAvLyBUaHJlZSBieXRlc1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweEUwIHwgKGNvZGUgPj4+IDEyKSk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4ODAgfCAoY29kZSA+Pj4gNiAmIDB4M2YpKTtcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPCAweDEwRkZGRikge1xuICAgICAgICAgICAgLy8gRm91ciBieXRlc1xuICAgICAgICAgICAgb3V0cHV0ICs9IGZyb21DaGFyQ29kZSgweEYwIHwgKGNvZGUgPj4+IDE4KSk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4ODAgfCAoY29kZSA+Pj4gMTIgJiAweDNmKSk7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZnJvbUNoYXJDb2RlKDB4ODAgfCAoY29kZSA+Pj4gNiAmIDB4M2YpKTtcbiAgICAgICAgICAgIG91dHB1dCArPSBmcm9tQ2hhckNvZGUoMHg4MCB8IChjb2RlICYgMHgzZikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gZW5jb2RlVW5pdChjb2RlVW5pdCkge1xuICAgIHJldHVybiBmcm9tQ2hhckNvZGUoY29kZVVuaXQgPj4gOCkgKyBmcm9tQ2hhckNvZGUoY29kZVVuaXQgJiAweDAwZmYpO1xufVxuXG4vLyBFbmNvZGVzIGEgc3RyaW5nIGFzIFVURi0xNiBiaWctZW5kaWFuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlVVRGMTZCRShpbnB1dCkge1xuICAgIGxldCBvdXRwdXQgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYyA9IGlucHV0LmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKGMgPCAweEZGRkYpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBlbmNvZGVVbml0KGMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGVhZCA9ICgoYyAtIDB4MTAwMDApID4+IDEwKSArIDB4RDgwMDtcbiAgICAgICAgICAgIGNvbnN0IHRyYWlsID0gKChjIC0gMHgxMDAwMCkgJiAweDNGRikgKyAweERDMDA7XG4gICAgICAgICAgICBvdXRwdXQgKz0gZW5jb2RlVW5pdChsZWFkKTtcbiAgICAgICAgICAgIG91dHB1dCArPSBlbmNvZGVVbml0KHRyYWlsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG4iLCJpbXBvcnQgeyBlbmNvZGVVVEY4IH0gZnJvbSAnLi9lbmNvZGUtdXRmJztcblxuY29uc3QgS0VZX1NUUiA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5jb2RlQmFzZTY0KGlucHV0KSB7XG4gICAgbGV0IG91dHB1dCA9IFwiXCI7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgY29uc3QgdXRmSW5wdXQgPSBlbmNvZGVVVEY4KGlucHV0KTtcblxuICAgIHdoaWxlIChpIDwgdXRmSW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIGxldCBjaHIxID0gdXRmSW5wdXQuY2hhckNvZGVBdChpKyspO1xuICAgICAgICBsZXQgY2hyMiA9IHV0ZklucHV0LmNoYXJDb2RlQXQoaSsrKTtcbiAgICAgICAgbGV0IGNocjMgPSB1dGZJbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgbGV0IGVuYzEgPSBjaHIxID4+IDI7XG4gICAgICAgIGxldCBlbmMyID0gKChjaHIxICYgMykgPDwgNCkgfCAoY2hyMiA+PiA0KTtcbiAgICAgICAgbGV0IGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+PiA2KTtcbiAgICAgICAgbGV0IGVuYzQgPSBjaHIzICYgNjM7XG5cbiAgICAgICAgaWYgKGlzTmFOKGNocjIpKSB7XG4gICAgICAgICAgICBlbmMzID0gZW5jNCA9IDY0O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKGNocjMpKSB7XG4gICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgIH1cblxuICAgICAgICBvdXRwdXQgPSBvdXRwdXQgK1xuICAgICAgICAgICAgS0VZX1NUUi5jaGFyQXQoZW5jMSkgKyBLRVlfU1RSLmNoYXJBdChlbmMyKSArXG4gICAgICAgICAgICBLRVlfU1RSLmNoYXJBdChlbmMzKSArIEtFWV9TVFIuY2hhckF0KGVuYzQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59IiwiaW1wb3J0IGRlZmluZWQgZnJvbSAnLi9kZWZpbmVkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXZlbnRDb29yZGluYXRlcyhlKSB7XG4gICAgaWYgKGRlZmluZWQoKGUueCB8fCB7fSkubG9jYXRpb24pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBlLngubG9jYXRpb24sXG4gICAgICAgICAgICB5OiBlLnkubG9jYXRpb25cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBlLnBhZ2VYIHx8IGUuY2xpZW50WCB8fCAwLFxuICAgICAgICB5OiBlLnBhZ2VZIHx8IGUuY2xpZW50WSB8fCAwXG4gICAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBldmVudEVsZW1lbnQoZSA9IHt9KSB7XG4gICAgcmV0dXJuIGUudG91Y2ggPyBlLnRvdWNoLmluaXRpYWxUb3VjaCA6IGUudGFyZ2V0O1xufSIsImltcG9ydCBkZWZpbmVkIGZyb20gJy4vZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVHJhbnNwYXJlbnQoY29sb3IpIHtcbiAgICByZXR1cm4gY29sb3IgPT09IFwiXCIgfHwgY29sb3IgPT09IG51bGwgfHwgY29sb3IgPT09IFwibm9uZVwiIHx8IGNvbG9yID09PSBcInRyYW5zcGFyZW50XCIgfHwgIWRlZmluZWQoY29sb3IpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxhc3QoYXJyYXkpIHtcbiAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaW1pdFZhbHVlKHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1heChNYXRoLm1pbih2YWx1ZSwgbWF4KSwgbWluKTtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG4vLyBtZXJnZVNvcnQgaXMgc3RhYmxlLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VTb3J0KGEsIGNtcCkge1xuICAgIGlmIChhLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGEuc2xpY2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2UoYSwgYikge1xuICAgICAgICB2YXIgciA9IFtdLCBhaSA9IDAsIGJpID0gMCwgaSA9IDA7XG4gICAgICAgIHdoaWxlIChhaSA8IGEubGVuZ3RoICYmIGJpIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChjbXAoYVthaV0sIGJbYmldKSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgcltpKytdID0gYVthaSsrXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcltpKytdID0gYltiaSsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWkgPCBhLmxlbmd0aCkge1xuICAgICAgICAgICAgci5wdXNoLmFwcGx5KHIsIGEuc2xpY2UoYWkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmkgPCBiLmxlbmd0aCkge1xuICAgICAgICAgICAgci5wdXNoLmFwcGx5KHIsIGIuc2xpY2UoYmkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIChmdW5jdGlvbiBzb3J0KGEpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihhLmxlbmd0aCAvIDIpO1xuICAgICAgICB2YXIgbGVmdCA9IGEuc2xpY2UoMCwgbSk7XG4gICAgICAgIHZhciByaWdodCA9IGEuc2xpY2UobSk7XG4gICAgICAgIGxlZnQgPSBzb3J0KGxlZnQpO1xuICAgICAgICByaWdodCA9IHNvcnQocmlnaHQpO1xuICAgICAgICByZXR1cm4gbWVyZ2UobGVmdCwgcmlnaHQpO1xuICAgIH0pKGEpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByb21pc2VBbGwocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufSIsImltcG9ydCB7IERFR19UT19SQUQgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJhZChkZWdyZWVzKSB7XG4gICAgcmV0dXJuIGRlZ3JlZXMgKiBERUdfVE9fUkFEO1xufVxuIiwiZnVuY3Rpb24gcG93KHApIHtcbiAgICBpZiAocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5wb3coMTAsIHApO1xuICAgIH1cblxuICAgIHJldHVybiAxO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByb3VuZCh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gICAgY29uc3QgcG93ZXIgPSBwb3cocHJlY2lzaW9uKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIHBvd2VyKSAvIHBvd2VyO1xufSIsImltcG9ydCBkZWZpbmVkIGZyb20gJy4vZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZhbHVlT3JEZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gZGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kRXZlbnRzKGVsZW1lbnQsIGV2ZW50cykge1xuICAgIGZvciAobGV0IGV2ZW50TmFtZSBpbiBldmVudHMpIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lcyA9IGV2ZW50TmFtZS50cmltKCkuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBldmVudE5hbWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWVzW2lkeF0sIGV2ZW50c1tldmVudE5hbWVdLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudE9mZnNldChlbGVtZW50KSB7XG4gICAgY29uc3QgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogYm94LnRvcCArICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkgLSAoZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcCB8fCAwKSxcbiAgICAgICAgbGVmdDogYm94LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSAtIChkb2N1bWVudEVsZW1lbnQuY2xpZW50TGVmdCB8fCAwKVxuICAgIH07XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHx8IHt9O1xuICAgIGNvbnN0IHN0eWxlc0FycmF5ID0gQXJyYXkuaXNBcnJheShzdHlsZXMpID8gc3R5bGVzIDogWyBzdHlsZXMgXTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0eWxlc0FycmF5Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IGZpZWxkID0gc3R5bGVzQXJyYXlbaWR4XTtcbiAgICAgICAgcmVzdWx0W2ZpZWxkXSA9IHN0eWxlW2ZpZWxkXTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufSIsImltcG9ydCBlbGVtZW50U3R5bGVzIGZyb20gJy4vZWxlbWVudC1zdHlsZXMnO1xuaW1wb3J0IGRlZmluZWQgZnJvbSAnLi9kZWZpbmVkJztcblxuZnVuY3Rpb24gZ2V0UGl4ZWxzKHZhbHVlKSB7XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZSArIFwicHhcIjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudFNpemUoZWxlbWVudCwgc2l6ZSkge1xuICAgIGlmIChzaXplKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc2l6ZTtcblxuICAgICAgICBpZiAoZGVmaW5lZCh3aWR0aCkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggPSBnZXRQaXhlbHMod2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmluZWQoaGVpZ2h0KSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBnZXRQaXhlbHMoaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGVsZW1lbnRTdHlsZXMoZWxlbWVudCwgWyAnd2lkdGgnLCAnaGVpZ2h0JyBdKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KHNpemUud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoc2l6ZS5oZWlnaHQsIDEwKVxuICAgICAgICB9O1xuICAgIH1cbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bmJpbmRFdmVudHMoZWxlbWVudCwgZXZlbnRzID0ge30pIHtcbiAgICBmb3IgKGxldCBuYW1lIGluIGV2ZW50cykge1xuICAgICAgICBjb25zdCBldmVudE5hbWVzID0gbmFtZS50cmltKCkuc3BsaXQoXCIgXCIpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBldmVudE5hbWVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWVzW2lkeF0sIGV2ZW50c1tuYW1lXSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IGRlZmF1bHQgYXMgZWxlbWVudFN0eWxlcyB9IGZyb20gJy4vZWxlbWVudC1zdHlsZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGVtZW50UGFkZGluZyhlbGVtZW50KSB7XG4gICAgY29uc3QgeyBwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCB9ID0gZWxlbWVudFN0eWxlcyhlbGVtZW50LCBbIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nVG9wXCIgXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiBwYXJzZUZsb2F0KHBhZGRpbmdUb3ApLFxuICAgICAgICBsZWZ0OiBwYXJzZUZsb2F0KHBhZGRpbmdMZWZ0KVxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgZGVmaW5lZCBmcm9tICcuLi91dGlsL2RlZmluZWQnO1xuaW1wb3J0IHJhZCBmcm9tICcuLi91dGlsL3JhZCc7XG5pbXBvcnQgcm91bmQgZnJvbSAnLi4vdXRpbC9yb3VuZCc7XG5cbmNsYXNzIE1hdHJpeCBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKGEgPSAwLCBiID0gMCwgYyA9IDAsIGQgPSAwLCBlID0gMCwgZiA9IDApIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmEgPSBhO1xuICAgICAgICB0aGlzLmIgPSBiO1xuICAgICAgICB0aGlzLmMgPSBjO1xuICAgICAgICB0aGlzLmQgPSBkO1xuICAgICAgICB0aGlzLmUgPSBlO1xuICAgICAgICB0aGlzLmYgPSBmO1xuICAgIH1cblxuICAgIG11bHRpcGx5Q29weShtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoXG4gICAgICAgICAgICB0aGlzLmEgKiBtYXRyaXguYSArIHRoaXMuYyAqIG1hdHJpeC5iLFxuICAgICAgICAgICAgdGhpcy5iICogbWF0cml4LmEgKyB0aGlzLmQgKiBtYXRyaXguYixcbiAgICAgICAgICAgIHRoaXMuYSAqIG1hdHJpeC5jICsgdGhpcy5jICogbWF0cml4LmQsXG4gICAgICAgICAgICB0aGlzLmIgKiBtYXRyaXguYyArIHRoaXMuZCAqIG1hdHJpeC5kLFxuICAgICAgICAgICAgdGhpcy5hICogbWF0cml4LmUgKyB0aGlzLmMgKiBtYXRyaXguZiArIHRoaXMuZSxcbiAgICAgICAgICAgIHRoaXMuYiAqIG1hdHJpeC5lICsgdGhpcy5kICogbWF0cml4LmYgKyB0aGlzLmZcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpbnZlcnQoKSB7XG4gICAgICAgIGNvbnN0IHsgYSwgYiwgYzogZCwgZDogZSwgZTogZywgZjogaCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZGV0ID0gYSAqIGUgLSBiICogZDtcblxuICAgICAgICBpZiAoZGV0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KGUgLyBkZXQsIC1iIC8gZGV0LCAtZCAvIGRldCwgYSAvIGRldCxcbiAgICAgICAgICAgIChkICogaCAtIGUgKiBnKSAvIGRldCwgKGIgKiBnIC0gYSAqIGgpIC8gZGV0KTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgodGhpcy5hLCB0aGlzLmIsIHRoaXMuYywgdGhpcy5kLCB0aGlzLmUsIHRoaXMuZik7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICghb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IG90aGVyLmEgJiYgdGhpcy5iID09PSBvdGhlci5iICYmXG4gICAgICAgICAgICB0aGlzLmMgPT09IG90aGVyLmMgJiYgdGhpcy5kID09PSBvdGhlci5kICYmXG4gICAgICAgICAgICB0aGlzLmUgPT09IG90aGVyLmUgJiYgdGhpcy5mID09PSBvdGhlci5mO1xuICAgIH1cblxuICAgIHJvdW5kKHByZWNpc2lvbikge1xuICAgICAgICB0aGlzLmEgPSByb3VuZCh0aGlzLmEsIHByZWNpc2lvbik7XG4gICAgICAgIHRoaXMuYiA9IHJvdW5kKHRoaXMuYiwgcHJlY2lzaW9uKTtcbiAgICAgICAgdGhpcy5jID0gcm91bmQodGhpcy5jLCBwcmVjaXNpb24pO1xuICAgICAgICB0aGlzLmQgPSByb3VuZCh0aGlzLmQsIHByZWNpc2lvbik7XG4gICAgICAgIHRoaXMuZSA9IHJvdW5kKHRoaXMuZSwgcHJlY2lzaW9uKTtcbiAgICAgICAgdGhpcy5mID0gcm91bmQodGhpcy5mLCBwcmVjaXNpb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvQXJyYXkocHJlY2lzaW9uKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsgdGhpcy5hLCB0aGlzLmIsIHRoaXMuYywgdGhpcy5kLCB0aGlzLmUsIHRoaXMuZiBdO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKHByZWNpc2lvbikpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2ldID0gcm91bmQocmVzdWx0W2ldLCBwcmVjaXNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB0b1N0cmluZyhwcmVjaXNpb24sIHNlcGFyYXRvciA9IFwiLFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkocHJlY2lzaW9uKS5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgc3RhdGljIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KDEsIDAsIDAsIDEsIHgsIHkpO1xuICAgIH1cblxuICAgIHN0YXRpYyB1bml0KCkge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcm90YXRlKGFuZ2xlLCB4LCB5KSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAgICAgbWF0cml4LmEgPSBNYXRoLmNvcyhyYWQoYW5nbGUpKTtcbiAgICAgICAgbWF0cml4LmIgPSBNYXRoLnNpbihyYWQoYW5nbGUpKTtcbiAgICAgICAgbWF0cml4LmMgPSAtbWF0cml4LmI7XG4gICAgICAgIG1hdHJpeC5kID0gbWF0cml4LmE7XG4gICAgICAgIG1hdHJpeC5lID0gKHggLSB4ICogbWF0cml4LmEgKyB5ICogbWF0cml4LmIpIHx8IDA7XG4gICAgICAgIG1hdHJpeC5mID0gKHkgLSB5ICogbWF0cml4LmEgLSB4ICogbWF0cml4LmIpIHx8IDA7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2NhbGUoc2NhbGVYLCBzY2FsZVkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoc2NhbGVYLCAwLCAwLCBzY2FsZVksIDAsIDApO1xuICAgIH1cbn1cblxuTWF0cml4LklERU5USVRZID0gTWF0cml4LnVuaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgTWF0cml4O1xuIiwiaW1wb3J0IE1hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS9tYXRyaXgnO1xuXG5jb25zdCBtYXRyaXhSZWdleHAgPSAvbWF0cml4XFwoKC4qKVxcKS87XG5cbmZ1bmN0aW9uIHBhcnNlTWF0cml4KG1hdHJpeFN0cmluZykge1xuICAgIGNvbnN0IG1hdGNoID0gbWF0cml4U3RyaW5nLm1hdGNoKG1hdHJpeFJlZ2V4cCk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsIHx8IG1hdGNoLmxlbmd0aCAhPT0gMikge1xuICAgICAgICByZXR1cm4gTWF0cml4LnVuaXQoKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZW1iZXJzID0gbWF0Y2hbMV0uc3BsaXQoJywnKS5tYXAoeCA9PiBwYXJzZUZsb2F0KHgpKTtcbiAgICByZXR1cm4gbmV3IE1hdHJpeCguLi5tZW1iZXJzKTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtTWF0cml4KGVsZW1lbnQpIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnRyYW5zZm9ybTtcblxuICAgIGlmICh0cmFuc2Zvcm0gPT09ICdub25lJykge1xuICAgICAgICByZXR1cm4gTWF0cml4LnVuaXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VNYXRyaXgodHJhbnNmb3JtKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWxlbWVudFNjYWxlKGVsZW1lbnQpIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIE1hdHJpeC51bml0KCk7XG4gICAgfVxuXG4gICAgbGV0IG1hdHJpeCA9IHRyYW5zZm9ybU1hdHJpeChlbGVtZW50KTtcbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TWF0cml4ID0gdHJhbnNmb3JtTWF0cml4KHBhcmVudCk7XG4gICAgICAgIG1hdHJpeCA9IG1hdHJpeC5tdWx0aXBseUNvcHkocGFyZW50TWF0cml4KTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuXG4gICAgbWF0cml4LmIgPSBtYXRyaXguYyA9IG1hdHJpeC5lID0gbWF0cml4LmYgPSAwO1xuICAgIHJldHVybiBtYXRyaXg7XG59XG4iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5cbmNsYXNzIExSVUNhY2hlIGV4dGVuZHMgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHNpemUpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fbWFwID0ge307XG4gICAgfVxuXG4gICAgcHV0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fbWFwO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHsga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9O1xuXG4gICAgICAgIG1hcFtrZXldID0gZW50cnk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IGVudHJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXdlciA9IGVudHJ5O1xuICAgICAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IGVudHJ5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2xlbmd0aCA+PSB0aGlzLl9zaXplKSB7XG4gICAgICAgICAgICBtYXBbdGhpcy5faGVhZC5rZXldID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl9oZWFkLm5ld2VyO1xuICAgICAgICAgICAgdGhpcy5faGVhZC5vbGRlciA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sZW5ndGgrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLl9tYXBba2V5XTtcblxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdGhpcy5faGVhZCAmJiBlbnRyeSAhPT0gdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBlbnRyeS5uZXdlcjtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkLm9sZGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVudHJ5ICE9PSB0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5Lm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Lm9sZGVyLm5ld2VyID0gZW50cnkubmV3ZXI7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5Lm5ld2VyLm9sZGVyID0gZW50cnkub2xkZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZW50cnkub2xkZXIgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgICAgIGVudHJ5Lm5ld2VyID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwubmV3ZXIgPSBlbnRyeTtcbiAgICAgICAgICAgICAgICB0aGlzLl90YWlsID0gZW50cnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBlbnRyeS52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTFJVQ2FjaGU7IiwiY29uc3QgUkVQTEFDRV9SRUdFWCA9IC9cXHI/XFxufFxccnxcXHQvZztcbmNvbnN0IFNQQUNFID0gJyAnO1xuXG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHRleHQpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRleHQpLnJlcGxhY2UoUkVQTEFDRV9SRUdFWCwgU1BBQ0UpO1xufVxuXG5mdW5jdGlvbiBvYmplY3RLZXkob2JqZWN0KSB7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBmb3IgKGxldCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIHBhcnRzLnB1c2goa2V5ICsgb2JqZWN0W2tleV0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cy5zb3J0KCkuam9pbihcIlwiKTtcbn1cblxuLy8gQ29tcHV0ZXMgRk5WLTEgaGFzaFxuLy8gU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRm93bGVyJUUyJTgwJTkzTm9sbCVFMiU4MCU5M1ZvX2hhc2hfZnVuY3Rpb25cbmZ1bmN0aW9uIGhhc2hLZXkoc3RyKSB7XG4gICAgLy8gMzItYml0IEZOVi0xIG9mZnNldCBiYXNpc1xuICAgIC8vIFNlZSBodHRwOi8vaXN0aGUuY29tL2Nob25nby90ZWNoL2NvbXAvZm52LyNGTlYtcGFyYW1cbiAgICBsZXQgaGFzaCA9IDB4ODExQzlEQzU7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgICBoYXNoICs9IChoYXNoIDw8IDEpICsgKGhhc2ggPDwgNCkgKyAoaGFzaCA8PCA3KSArIChoYXNoIDw8IDgpICsgKGhhc2ggPDwgMjQpO1xuICAgICAgICBoYXNoIF49IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoID4+PiAwO1xufVxuXG5leHBvcnQgeyBvYmplY3RLZXksIGhhc2hLZXksIG5vcm1hbGl6ZVRleHQgfTsiLCJpbXBvcnQgTFJVQ2FjaGUgZnJvbSAnLi9scnUtY2FjaGUnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgb2JqZWN0S2V5LCBoYXNoS2V5LCBub3JtYWxpemVUZXh0IH0gZnJvbSAnLi91dGlsJztcblxuZnVuY3Rpb24gemVyb1NpemUoKSB7XG4gICAgcmV0dXJuIHsgd2lkdGg6IDAsIGhlaWdodDogMCwgYmFzZWxpbmU6IDAgfTtcbn1cblxuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIGJhc2VsaW5lTWFya2VyU2l6ZTogMVxufTtcblxubGV0IGRlZmF1bHRNZWFzdXJlQm94O1xuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZGVmYXVsdE1lYXN1cmVCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRlZmF1bHRNZWFzdXJlQm94LnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50OyB0b3A6IC00MDAwcHggIWltcG9ydGFudDsgd2lkdGg6IGF1dG8gIWltcG9ydGFudDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XCIgK1xuICAgICAgICAgICAgICBcInBhZGRpbmc6IDAgIWltcG9ydGFudDsgbWFyZ2luOiAwICFpbXBvcnRhbnQ7IGJvcmRlcjogMCAhaW1wb3J0YW50O1wiICtcbiAgICAgICAgICAgICAgXCJsaW5lLWhlaWdodDogbm9ybWFsICFpbXBvcnRhbnQ7IHZpc2liaWxpdHk6IGhpZGRlbiAhaW1wb3J0YW50OyB3aGl0ZS1zcGFjZTogcHJlIWltcG9ydGFudDtcIjtcbn1cblxuY2xhc3MgVGV4dE1ldHJpY3MgZXh0ZW5kcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IExSVUNhY2hlKDEwMDApO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVElPTlMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIG1lYXN1cmUodGV4dCwgc3R5bGUsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgPT09ICd1bmRlZmluZWQnIHx8IHRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvU2l6ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3R5bGVLZXkgPSBvYmplY3RLZXkoc3R5bGUpO1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IGhhc2hLZXkodGV4dCArIHN0eWxlS2V5KTtcbiAgICAgICAgY29uc3QgY2FjaGVkUmVzdWx0ID0gdGhpcy5fY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICBpZiAoY2FjaGVkUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2l6ZSA9IHplcm9TaXplKCk7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVCb3ggPSBvcHRpb25zLmJveCB8fCBkZWZhdWx0TWVhc3VyZUJveDtcbiAgICAgICAgY29uc3QgYmFzZWxpbmVNYXJrZXIgPSB0aGlzLl9iYXNlbGluZU1hcmtlcigpLmNsb25lTm9kZShmYWxzZSk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHN0eWxlKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBzdHlsZVtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIG1lYXN1cmVCb3guc3R5bGVba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dFN0ciA9IG9wdGlvbnMubm9ybWFsaXplVGV4dCAhPT0gZmFsc2UgPyBub3JtYWxpemVUZXh0KHRleHQpIDogU3RyaW5nKHRleHQpO1xuXG4gICAgICAgIG1lYXN1cmVCb3gudGV4dENvbnRlbnQgPSB0ZXh0U3RyO1xuICAgICAgICBtZWFzdXJlQm94LmFwcGVuZENoaWxkKGJhc2VsaW5lTWFya2VyKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtZWFzdXJlQm94KTtcblxuICAgICAgICBpZiAodGV4dFN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNpemUud2lkdGggPSBtZWFzdXJlQm94Lm9mZnNldFdpZHRoIC0gdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZTtcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gbWVhc3VyZUJveC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBzaXplLmJhc2VsaW5lID0gYmFzZWxpbmVNYXJrZXIub2Zmc2V0VG9wICsgdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlLnB1dChjYWNoZUtleSwgc2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBtZWFzdXJlQm94LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobWVhc3VyZUJveCk7XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuXG4gICAgX2Jhc2VsaW5lTWFya2VyKCkge1xuICAgICAgICBjb25zdCBtYXJrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBtYXJrZXIuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7d2lkdGg6IFwiICtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5iYXNlbGluZU1hcmtlclNpemUgKyBcInB4OyBoZWlnaHQ6IFwiICsgdGhpcy5vcHRpb25zLmJhc2VsaW5lTWFya2VyU2l6ZSArIFwicHg7b3ZlcmZsb3c6IGhpZGRlbjtcIjtcblxuICAgICAgICByZXR1cm4gbWFya2VyO1xuICAgIH1cbn1cblxuVGV4dE1ldHJpY3MuY3VycmVudCA9IG5ldyBUZXh0TWV0cmljcygpO1xuXG5leHBvcnQgZGVmYXVsdCBUZXh0TWV0cmljcztcbiIsImltcG9ydCBUZXh0TWV0cmljcyBmcm9tICcuL3RleHQtbWV0cmljcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCBtZWFzdXJlQm94KSB7XG4gICAgcmV0dXJuIFRleHRNZXRyaWNzLmN1cnJlbnQubWVhc3VyZSh0ZXh0LCBzdHlsZSwgbWVhc3VyZUJveCk7XG59XG4iLCJpbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgSGFzT2JzZXJ2ZXJzIGZyb20gJy4vaGFzLW9ic2VydmVycyc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cblxuY29uc3QgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxuY2xhc3MgT3B0aW9uc1N0b3JlIGV4dGVuZHMgSGFzT2JzZXJ2ZXJzIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zLCBwcmVmaXggPSBcIlwiKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG5cbiAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IG1lbWJlciA9IG9wdGlvbnNbZmllbGRdO1xuICAgICAgICAgICAgbWVtYmVyID0gdGhpcy5fd3JhcChtZW1iZXIsIGZpZWxkKTtcbiAgICAgICAgICAgIHRoaXNbZmllbGRdID0gbWVtYmVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0KGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gZmllbGQuc3BsaXQoXCIuXCIpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcztcblxuICAgICAgICB3aGlsZSAocGFydHMubGVuZ3RoICYmIHJlc3VsdCkge1xuICAgICAgICAgICAgbGV0IHBhcnQgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0W3BhcnRdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzZXQoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmdldChmaWVsZCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXQoZmllbGQsIHRoaXMuX3dyYXAodmFsdWUsIGZpZWxkKSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGZpZWxkOiB0aGlzLnByZWZpeCArIGZpZWxkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0KGZpZWxkLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBmaWVsZC5pbmRleE9mKFwiLlwiKSA+PSAwO1xuICAgICAgICBsZXQgcGFyZW50T2JqID0gdGhpcztcbiAgICAgICAgbGV0IGZpZWxkTmFtZSA9IGZpZWxkO1xuXG4gICAgICAgIGlmIChjb21wb3NpdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gZmllbGROYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIGxldCBwcmVmaXggPSB0aGlzLnByZWZpeDtcblxuICAgICAgICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBmaWVsZE5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHByZWZpeCArPSBmaWVsZE5hbWUgKyBcIi5cIjtcblxuICAgICAgICAgICAgICAgIGxldCBvYmogPSBwYXJlbnRPYmpbZmllbGROYW1lXTtcblxuICAgICAgICAgICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IG5ldyBPcHRpb25zU3RvcmUoe30sIHByZWZpeCk7XG4gICAgICAgICAgICAgICAgICAgIG9iai5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50T2JqW2ZpZWxkTmFtZV0gPSBvYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudE9iaiA9IG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpZWxkTmFtZSA9IHBhcnRzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50T2JqLl9jbGVhcihmaWVsZE5hbWUpO1xuICAgICAgICBwYXJlbnRPYmpbZmllbGROYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9jbGVhcihmaWVsZCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpc1tmaWVsZF07XG4gICAgICAgIGlmIChjdXJyZW50ICYmIGN1cnJlbnQucmVtb3ZlT2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGN1cnJlbnQucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfd3JhcChvYmplY3QsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0b1N0cmluZy5jYWxsKG9iamVjdCk7XG4gICAgICAgIGxldCB3cmFwcGVkID0gb2JqZWN0O1xuXG4gICAgICAgIGlmICh3cmFwcGVkICE9PSBudWxsICYmIGRlZmluZWQod3JhcHBlZCkgJiYgdHlwZSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgICAgICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgT3B0aW9uc1N0b3JlKSAmJiAhKG9iamVjdCBpbnN0YW5jZW9mIENsYXNzKSkge1xuICAgICAgICAgICAgICAgIHdyYXBwZWQgPSBuZXcgT3B0aW9uc1N0b3JlKHdyYXBwZWQsIHRoaXMucHJlZml4ICsgZmllbGQgKyBcIi5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdyYXBwZWQuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd3JhcHBlZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wdGlvbnNTdG9yZTtcbiIsImZ1bmN0aW9uIHNldEFjY2Vzc29yKGZpZWxkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzW2ZpZWxkXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbZmllbGRdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRBY2Nlc3NvcihmaWVsZCkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbZmllbGRdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRlZmluZUFjY2Vzc29ycyhmbiwgZmllbGRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5hbWUgPSBmaWVsZHNbaV07XG4gICAgICAgIGxldCBjYXBpdGFsaXplZCA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLnN1YnN0cmluZygxLCBuYW1lLmxlbmd0aCk7XG5cbiAgICAgICAgZm5bXCJzZXRcIiArIGNhcGl0YWxpemVkXSA9IHNldEFjY2Vzc29yKG5hbWUpO1xuICAgICAgICBmbltcImdldFwiICsgY2FwaXRhbGl6ZWRdID0gZ2V0QWNjZXNzb3IobmFtZSk7XG4gICAgfVxufVxuXG5jb25zdCB3aXRoQWNjZXNzb3JzID0gKFRCYXNlLCBuYW1lcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzIGV4dGVuZHMgVEJhc2Uge307XG4gICAgZGVmaW5lQWNjZXNzb3JzKHJlc3VsdC5wcm90b3R5cGUsIG5hbWVzKTtcblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoQWNjZXNzb3JzO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9NYXRyaXgodHJhbnNmb3JtYXRpb24pIHtcbiAgICBpZiAodHJhbnNmb3JtYXRpb24gJiYgdHlwZW9mIHRyYW5zZm9ybWF0aW9uLm1hdHJpeCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1hdGlvbi5tYXRyaXgoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNmb3JtYXRpb247XG59IiwiaW1wb3J0IHdpdGhBY2Nlc3NvcnMgZnJvbSAnLi4vbWl4aW5zL3dpdGgtYWNjZXNzb3JzJztcbmltcG9ydCBIYXNPYnNlcnZlcnMgZnJvbSAnLi4vY29yZS9oYXMtb2JzZXJ2ZXJzJztcbmltcG9ydCB7IGRlZmluZWQsIE1JTl9OVU0sIE1BWF9OVU0sIHJvdW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgTWF0cml4IGZyb20gJy4vbWF0cml4JztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuL3RvLW1hdHJpeCc7XG5cblxuY2xhc3MgUG9pbnQgZXh0ZW5kcyB3aXRoQWNjZXNzb3JzKEhhc09ic2VydmVycywgWyBcInhcIiwgXCJ5XCIgXSkge1xuICAgIGNvbnN0cnVjdG9yKHgsIHkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnggPSB4IHx8IDA7XG4gICAgICAgIHRoaXMueSA9IHkgfHwgMDtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyICYmIG90aGVyLnggPT09IHRoaXMueCAmJiBvdGhlci55ID09PSB0aGlzLnk7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIHJvdGF0ZShhbmdsZSwgb3JpZ2luKSB7XG4gICAgICAgIGNvbnN0IG9yaWdpblBvaW50ID0gUG9pbnQuY3JlYXRlKG9yaWdpbikgfHwgUG9pbnQuWkVSTztcblxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0oTWF0cml4LnJvdGF0ZShhbmdsZSwgb3JpZ2luUG9pbnQueCwgb3JpZ2luUG9pbnQueSkpO1xuICAgIH1cblxuICAgIHRyYW5zbGF0ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMueCArPSB4O1xuICAgICAgICB0aGlzLnkgKz0geTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlV2l0aChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGUocG9pbnQueCwgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbW92ZSh4LCB5KSB7XG4gICAgICAgIHRoaXMueCA9IHRoaXMueSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZSh4LCB5KTtcbiAgICB9XG5cbiAgICBzY2FsZShzY2FsZVgsIHNjYWxlWSA9IHNjYWxlWCkge1xuICAgICAgICB0aGlzLnggKj0gc2NhbGVYO1xuICAgICAgICB0aGlzLnkgKj0gc2NhbGVZO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzY2FsZUNvcHkoc2NhbGVYLCBzY2FsZVkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5zY2FsZShzY2FsZVgsIHNjYWxlWSk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRvTWF0cml4KHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzO1xuXG4gICAgICAgIHRoaXMueCA9IG1hdHJpeC5hICogeCArIG1hdHJpeC5jICogeSArIG1hdHJpeC5lO1xuICAgICAgICB0aGlzLnkgPSBtYXRyaXguYiAqIHggKyBtYXRyaXguZCAqIHkgKyBtYXRyaXguZjtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtQ29weSh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAodHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgICAgIHBvaW50LnRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgfVxuXG4gICAgZGlzdGFuY2VUbyhwb2ludCkge1xuICAgICAgICBjb25zdCBkeCA9IHRoaXMueCAtIHBvaW50Lng7XG4gICAgICAgIGNvbnN0IGR5ID0gdGhpcy55IC0gcG9pbnQueTtcblxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICB9XG5cbiAgICByb3VuZChkaWdpdHMpIHtcbiAgICAgICAgdGhpcy54ID0gcm91bmQodGhpcy54LCBkaWdpdHMpO1xuICAgICAgICB0aGlzLnkgPSByb3VuZCh0aGlzLnksIGRpZ2l0cyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvQXJyYXkoZGlnaXRzKSB7XG4gICAgICAgIGNvbnN0IGRvUm91bmQgPSBkZWZpbmVkKGRpZ2l0cyk7XG4gICAgICAgIGNvbnN0IHggPSBkb1JvdW5kID8gcm91bmQodGhpcy54LCBkaWdpdHMpIDogdGhpcy54O1xuICAgICAgICBjb25zdCB5ID0gZG9Sb3VuZCA/IHJvdW5kKHRoaXMueSwgZGlnaXRzKSA6IHRoaXMueTtcblxuICAgICAgICByZXR1cm4gWyB4LCB5IF07XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoZGlnaXRzLCBzZXBhcmF0b3IgPSBcIiBcIikge1xuICAgICAgICBsZXQgeyB4LCB5IH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChkZWZpbmVkKGRpZ2l0cykpIHtcbiAgICAgICAgICAgIHggPSByb3VuZCh4LCBkaWdpdHMpO1xuICAgICAgICAgICAgeSA9IHJvdW5kKHksIGRpZ2l0cyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geCArIHNlcGFyYXRvciArIHk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShhcmcwLCBhcmcxKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKGFyZzApKSB7XG4gICAgICAgICAgICBpZiAoYXJnMCBpbnN0YW5jZW9mIFBvaW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZzA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgYXJnMC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KGFyZzBbMF0sIGFyZzBbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KGFyZzAsIGFyZzEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG1pbigpIHtcbiAgICAgICAgbGV0IG1pblggPSBNQVhfTlVNO1xuICAgICAgICBsZXQgbWluWSA9IE1BWF9OVU07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihwb2ludC54LCBtaW5YKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihwb2ludC55LCBtaW5ZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQobWluWCwgbWluWSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1heCgpIHtcbiAgICAgICAgbGV0IG1heFggPSBNSU5fTlVNO1xuICAgICAgICBsZXQgbWF4WSA9IE1JTl9OVU07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgbWF4WCA9IE1hdGgubWF4KHBvaW50LngsIG1heFgpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KHBvaW50LnksIG1heFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChtYXhYLCBtYXhZKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWluUG9pbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoTUlOX05VTSwgTUlOX05VTSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1heFBvaW50KCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KE1BWF9OVU0sIE1BWF9OVU0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgWkVSTygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLCAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50O1xuIiwiaW1wb3J0IEhhc09ic2VydmVycyBmcm9tICcuLi9jb3JlL2hhcy1vYnNlcnZlcnMnO1xuaW1wb3J0IHdpdGhBY2Nlc3NvcnMgZnJvbSAnLi4vbWl4aW5zL3dpdGgtYWNjZXNzb3JzJztcbmltcG9ydCB7IGRlZmluZWQsIHJvdW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5cblxuY2xhc3MgU2l6ZSBleHRlbmRzIHdpdGhBY2Nlc3NvcnMoSGFzT2JzZXJ2ZXJzLCBbIFwid2lkdGhcIiwgXCJoZWlnaHRcIiBdKSB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiYgb3RoZXIud2lkdGggPT09IHRoaXMud2lkdGggJiYgb3RoZXIuaGVpZ2h0ID09PSB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICB0b0FycmF5KGRpZ2l0cykge1xuICAgICAgICBjb25zdCBkb1JvdW5kID0gZGVmaW5lZChkaWdpdHMpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IGRvUm91bmQgPyByb3VuZCh0aGlzLndpZHRoLCBkaWdpdHMpIDogdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gZG9Sb3VuZCA/IHJvdW5kKHRoaXMuaGVpZ2h0LCBkaWdpdHMpIDogdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIFsgd2lkdGgsIGhlaWdodCBdO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoYXJnMCwgYXJnMSkge1xuICAgICAgICBpZiAoZGVmaW5lZChhcmcwKSkge1xuICAgICAgICAgICAgaWYgKGFyZzAgaW5zdGFuY2VvZiBTaXplKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZzA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgYXJnMC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNpemUoYXJnMFswXSwgYXJnMFsxXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgU2l6ZShhcmcwLCBhcmcxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgWkVSTygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTaXplKDAsIDApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2l6ZTtcbiIsImltcG9ydCBIYXNPYnNlcnZlcnMgZnJvbSAnLi4vY29yZS9oYXMtb2JzZXJ2ZXJzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBTaXplIGZyb20gJy4vc2l6ZSc7XG5cbmNsYXNzIFJlY3QgZXh0ZW5kcyBIYXNPYnNlcnZlcnMge1xuICAgIGNvbnN0cnVjdG9yKG9yaWdpbiA9IG5ldyBQb2ludCgpLCBzaXplID0gbmV3IFNpemUoKSwgY29ybmVyUmFkaXVzID0gMCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc2V0T3JpZ2luKG9yaWdpbik7XG4gICAgICAgIHRoaXMuc2V0U2l6ZShzaXplKTtcbiAgICAgICAgdGhpcy5zZXRDb3JuZXJSYWRpdXMoY29ybmVyUmFkaXVzKTtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0KFxuICAgICAgICAgICAgdGhpcy5vcmlnaW4uY2xvbmUoKSxcbiAgICAgICAgICAgIHRoaXMuc2l6ZS5jbG9uZSgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciAmJlxuICAgICAgICAgICAgICAgb3RoZXIub3JpZ2luLmVxdWFscyh0aGlzLm9yaWdpbikgJiZcbiAgICAgICAgICAgICAgIG90aGVyLnNpemUuZXF1YWxzKHRoaXMuc2l6ZSk7XG4gICAgfVxuXG4gICAgc2V0T3JpZ2luKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29ic2VydmVyRmllbGQoXCJvcmlnaW5cIiwgUG9pbnQuY3JlYXRlKHZhbHVlKSk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0T3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW47XG4gICAgfVxuXG4gICAgc2V0Q29ybmVyUmFkaXVzKHJhZGl1cykge1xuICAgICAgICB0aGlzLmNvcm5lclJhZGl1cyA9IEFycmF5LmlzQXJyYXkocmFkaXVzKSA/IHJhZGl1cyA6IFsgcmFkaXVzLCByYWRpdXMgXTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENvcm5lclJhZGl1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ybmVyUmFkaXVzO1xuICAgIH1cblxuICAgIHNldFNpemUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChcInNpemVcIiwgU2l6ZS5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplLndpZHRoO1xuICAgIH1cblxuICAgIGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgdG9wTGVmdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luLmNsb25lKCk7XG4gICAgfVxuXG4gICAgYm90dG9tUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbi5jbG9uZSgpLnRyYW5zbGF0ZSh0aGlzLndpZHRoKCksIHRoaXMuaGVpZ2h0KCkpO1xuICAgIH1cblxuICAgIHRvcFJpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUodGhpcy53aWR0aCgpLCAwKTtcbiAgICB9XG5cbiAgICBib3R0b21MZWZ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUoMCwgdGhpcy5oZWlnaHQoKSk7XG4gICAgfVxuXG4gICAgY2VudGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnaW4uY2xvbmUoKS50cmFuc2xhdGUodGhpcy53aWR0aCgpIC8gMiwgdGhpcy5oZWlnaHQoKSAvIDIpO1xuICAgIH1cblxuICAgIGJib3gobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHRsID0gdGhpcy50b3BMZWZ0KCkudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICBjb25zdCB0ciA9IHRoaXMudG9wUmlnaHQoKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgIGNvbnN0IGJyID0gdGhpcy5ib3R0b21SaWdodCgpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgY29uc3QgYmwgPSB0aGlzLmJvdHRvbUxlZnQoKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG5cbiAgICAgICAgcmV0dXJuIFJlY3QuZnJvbVBvaW50cyh0bCwgdHIsIGJyLCBibCk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtQ29weShtKSB7XG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMoXG4gICAgICAgICAgICB0aGlzLnRvcExlZnQoKS50cmFuc2Zvcm0obSksXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0KCkudHJhbnNmb3JtKG0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZXhwYW5kKHgsIHkgPSB4KSB7XG5cbiAgICAgICAgdGhpcy5zaXplLndpZHRoICs9IDIgKiB4O1xuICAgICAgICB0aGlzLnNpemUuaGVpZ2h0ICs9IDIgKiB5O1xuXG4gICAgICAgIHRoaXMub3JpZ2luLnRyYW5zbGF0ZSgteCwgLXkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4cGFuZENvcHkoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmV4cGFuZCh4LCB5KTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IG9yaWdpbiA9IHRoaXMub3JpZ2luO1xuICAgICAgICBjb25zdCBib3R0b21SaWdodCA9IHRoaXMuYm90dG9tUmlnaHQoKTtcbiAgICAgICAgcmV0dXJuICEocG9pbnQueCA8IG9yaWdpbi54IHx8IHBvaW50LnkgPCBvcmlnaW4ueSB8fCBib3R0b21SaWdodC54IDwgcG9pbnQueCB8fCBib3R0b21SaWdodC55IDwgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50LCB3aWR0aCkge1xuICAgICAgICBjb25zdCByZWN0T3V0ZXIgPSB0aGlzLmV4cGFuZENvcHkod2lkdGgsIHdpZHRoKTtcbiAgICAgICAgY29uc3QgcmVjdElubmVyID0gdGhpcy5leHBhbmRDb3B5KC13aWR0aCwgLXdpZHRoKTtcblxuICAgICAgICByZXR1cm4gcmVjdE91dGVyLmNvbnRhaW5zUG9pbnQocG9pbnQpICYmICFyZWN0SW5uZXIuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludHMoKSB7XG4gICAgICAgIGNvbnN0IHRvcExlZnQgPSBQb2ludC5taW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBQb2ludC5tYXguYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBTaXplKFxuICAgICAgICAgICAgYm90dG9tUmlnaHQueCAtIHRvcExlZnQueCxcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0LnkgLSB0b3BMZWZ0LnlcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gbmV3IFJlY3QodG9wTGVmdCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHVuaW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIFJlY3QuZnJvbVBvaW50cyhcbiAgICAgICAgICAgIFBvaW50Lm1pbihhLnRvcExlZnQoKSwgYi50b3BMZWZ0KCkpLFxuICAgICAgICAgICAgUG9pbnQubWF4KGEuYm90dG9tUmlnaHQoKSwgYi5ib3R0b21SaWdodCgpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcnNlY3QoYSwgYikge1xuICAgICAgICBjb25zdCByZWN0MSA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGEudG9wTGVmdCgpLngsXG4gICAgICAgICAgICB0b3A6IGEudG9wTGVmdCgpLnksXG4gICAgICAgICAgICByaWdodDogYS5ib3R0b21SaWdodCgpLngsXG4gICAgICAgICAgICBib3R0b206IGEuYm90dG9tUmlnaHQoKS55XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVjdDIgPSB7XG4gICAgICAgICAgICBsZWZ0OiBiLnRvcExlZnQoKS54LFxuICAgICAgICAgICAgdG9wOiBiLnRvcExlZnQoKS55LFxuICAgICAgICAgICAgcmlnaHQ6IGIuYm90dG9tUmlnaHQoKS54LFxuICAgICAgICAgICAgYm90dG9tOiBiLmJvdHRvbVJpZ2h0KCkueVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChyZWN0MS5sZWZ0IDw9IHJlY3QyLnJpZ2h0ICYmXG4gICAgICAgICAgICByZWN0Mi5sZWZ0IDw9IHJlY3QxLnJpZ2h0ICYmXG4gICAgICAgICAgICByZWN0MS50b3AgPD0gcmVjdDIuYm90dG9tICYmXG4gICAgICAgICAgICByZWN0Mi50b3AgPD0gcmVjdDEuYm90dG9tKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdC5mcm9tUG9pbnRzKFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChNYXRoLm1heChyZWN0MS5sZWZ0LCByZWN0Mi5sZWZ0KSwgTWF0aC5tYXgocmVjdDEudG9wLCByZWN0Mi50b3ApKSxcbiAgICAgICAgICAgICAgICBuZXcgUG9pbnQoTWF0aC5taW4ocmVjdDEucmlnaHQsIHJlY3QyLnJpZ2h0KSwgTWF0aC5taW4ocmVjdDEuYm90dG9tLCByZWN0Mi5ib3R0b20pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVjdDtcbiIsImltcG9ydCBIYXNPYnNlcnZlcnMgZnJvbSAnLi4vY29yZS9oYXMtb2JzZXJ2ZXJzJztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuL3RvLW1hdHJpeCc7XG5pbXBvcnQgTWF0cml4IGZyb20gJy4vbWF0cml4JztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcblxuY2xhc3MgVHJhbnNmb3JtYXRpb24gZXh0ZW5kcyBIYXNPYnNlcnZlcnMge1xuICAgIGNvbnN0cnVjdG9yKG1hdHJpeCA9IE1hdHJpeC51bml0KCkpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtYXRpb24oXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXguY2xvbmUoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgJiZcbiAgICAgICAgICAgICAgIG90aGVyLl9tYXRyaXguZXF1YWxzKHRoaXMuX21hdHJpeCk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5Q29weShNYXRyaXgudHJhbnNsYXRlKHgsIHkpKTtcblxuICAgICAgICB0aGlzLl9vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNjYWxlKHNjYWxlWCwgc2NhbGVZID0gc2NhbGVYLCBvcmlnaW4gPSBudWxsKSB7XG4gICAgICAgIGxldCBvcmlnaW5Qb2ludCA9IG9yaWdpbjtcblxuICAgICAgICBpZiAob3JpZ2luUG9pbnQpIHtcbiAgICAgICAgICAgIG9yaWdpblBvaW50ID0gUG9pbnQuY3JlYXRlKG9yaWdpblBvaW50KTtcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IHRoaXMuX21hdHJpeC5tdWx0aXBseUNvcHkoTWF0cml4LnRyYW5zbGF0ZShvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55KSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXRyaXggPSB0aGlzLl9tYXRyaXgubXVsdGlwbHlDb3B5KE1hdHJpeC5zY2FsZShzY2FsZVgsIHNjYWxlWSkpO1xuXG4gICAgICAgIGlmIChvcmlnaW5Qb2ludCkge1xuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5Q29weShNYXRyaXgudHJhbnNsYXRlKC1vcmlnaW5Qb2ludC54LCAtb3JpZ2luUG9pbnQueSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb3B0aW9uc0NoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByb3RhdGUoYW5nbGUsIG9yaWdpbikge1xuICAgICAgICBjb25zdCBvcmlnaW5Qb2ludCA9IFBvaW50LmNyZWF0ZShvcmlnaW4pIHx8IFBvaW50LlpFUk87XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5Q29weShNYXRyaXgucm90YXRlKGFuZ2xlLCBvcmlnaW5Qb2ludC54LCBvcmlnaW5Qb2ludC55KSk7XG5cbiAgICAgICAgdGhpcy5fb3B0aW9uc0NoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBtdWx0aXBseSh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSB0b01hdHJpeCh0cmFuc2Zvcm1hdGlvbik7XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gdGhpcy5fbWF0cml4Lm11bHRpcGx5Q29weShtYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbWF0cml4KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXRyaXg7XG4gICAgfVxuXG4gICAgX29wdGlvbnNDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc0NoYW5nZSh7XG4gICAgICAgICAgICBmaWVsZDogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNmb3JtYXRpb247XG4iLCJpbXBvcnQgVHJhbnNmb3JtYXRpb24gZnJvbSAnLi90cmFuc2Zvcm1hdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybShtYXRyaXgpIHtcbiAgICBpZiAobWF0cml4ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChtYXRyaXggaW5zdGFuY2VvZiBUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtYXRpb24obWF0cml4KTtcbn0iLCJpbXBvcnQgT3B0aW9uc1N0b3JlIGZyb20gJy4uL2NvcmUvb3B0aW9ucy1zdG9yZSc7XG5pbXBvcnQgUmVjdCBmcm9tICcuLi9nZW9tZXRyeS9yZWN0JztcbmltcG9ydCBNYXRyaXggZnJvbSAnLi4vZ2VvbWV0cnkvbWF0cml4JztcbmltcG9ydCBjcmVhdGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvbWV0cnkvdHJhbnNmb3JtJztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS90by1tYXRyaXgnO1xuaW1wb3J0IEhhc09ic2VydmVycyBmcm9tICcuLi9jb3JlL2hhcy1vYnNlcnZlcnMnO1xuaW1wb3J0IHsgZGVmaW5lZCwgZGVmaW5pdGlvbklkLCBpc1RyYW5zcGFyZW50LCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBFbGVtZW50IGV4dGVuZHMgSGFzT2JzZXJ2ZXJzIHtcbiAgICBnZXQgbm9kZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIlJlY3RcIjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuXG4gICAgX2luaXRPcHRpb25zKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBjb25zdCB7IGNsaXAsIHRyYW5zZm9ybSB9ID0gb3B0aW9ucztcblxuICAgICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNsaXAgJiYgIWNsaXAuaWQpIHtcbiAgICAgICAgICAgIGNsaXAuaWQgPSBkZWZpbml0aW9uSWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG5ldyBPcHRpb25zU3RvcmUob3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0odmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwidHJhbnNmb3JtXCIsIGNyZWF0ZVRyYW5zZm9ybSh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXQoXCJ0cmFuc2Zvcm1cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYXJlbnRUcmFuc2Zvcm0oKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcztcbiAgICAgICAgbGV0IHBhcmVudE1hdHJpeDtcblxuICAgICAgICB3aGlsZSAoZWxlbWVudC5wYXJlbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudDtcbiAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1hdGlvbiA9IGVsZW1lbnQudHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBpZiAodHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRNYXRyaXggPSB0cmFuc2Zvcm1hdGlvbi5tYXRyaXgoKS5tdWx0aXBseUNvcHkocGFyZW50TWF0cml4IHx8IE1hdHJpeC51bml0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmVudE1hdHJpeCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVRyYW5zZm9ybShwYXJlbnRNYXRyaXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3VycmVudFRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0gPSB0aGlzLnBhcmVudFRyYW5zZm9ybSgpKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybSgpO1xuICAgICAgICBjb25zdCBlbGVtZW50TWF0cml4ID0gdG9NYXRyaXgoZWxlbWVudFRyYW5zZm9ybSk7XG5cbiAgICAgICAgbGV0IHBhcmVudE1hdHJpeCA9IHRvTWF0cml4KHBhcmVudFRyYW5zZm9ybSk7XG4gICAgICAgIGxldCBjb21iaW5lZE1hdHJpeDtcblxuICAgICAgICBpZiAoZWxlbWVudE1hdHJpeCAmJiBwYXJlbnRNYXRyaXgpIHtcbiAgICAgICAgICAgIGNvbWJpbmVkTWF0cml4ID0gcGFyZW50TWF0cml4Lm11bHRpcGx5Q29weShlbGVtZW50TWF0cml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbWJpbmVkTWF0cml4ID0gZWxlbWVudE1hdHJpeCB8fCBwYXJlbnRNYXRyaXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tYmluZWRNYXRyaXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVUcmFuc2Zvcm0oY29tYmluZWRNYXRyaXgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmlzaWJsZSh2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXQoXCJ2aXNpYmxlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXQoXCJ2aXNpYmxlXCIpICE9PSBmYWxzZTtcbiAgICB9XG5cbiAgICBjbGlwKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmICF2YWx1ZS5pZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlLmlkID0gZGVmaW5pdGlvbklkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnNldChcImNsaXBcIiwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQoXCJjbGlwXCIpO1xuICAgIH1cblxuICAgIG9wYWNpdHkodmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwib3BhY2l0eVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZU9yRGVmYXVsdCh0aGlzLm9wdGlvbnMuZ2V0KFwib3BhY2l0eVwiKSwgMSk7XG4gICAgfVxuXG4gICAgY2xhc3NOYW1lKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcImNsYXNzTmFtZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0KFwiY2xhc3NOYW1lXCIpO1xuICAgIH1cblxuICAgIGNsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLl9jbGlwcGVkQkJveCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICBjb25zdCBjbGlwID0gdGhpcy5jbGlwKCk7XG4gICAgICAgICAgICByZXR1cm4gY2xpcCA/IFJlY3QuaW50ZXJzZWN0KGJib3gsIGNsaXAuYmJveCh0cmFuc2Zvcm1hdGlvbikpIDogYmJveDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQsIHBhcmVudFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuY3VycmVudFRyYW5zZm9ybShwYXJlbnRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybWVkUG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1lZFBvaW50ID0gcG9pbnQudHJhbnNmb3JtQ29weSh0cmFuc2Zvcm0ubWF0cml4KCkuaW52ZXJ0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLl9oYXNGaWxsKCkgJiYgdGhpcy5fY29udGFpbnNQb2ludCh0cmFuc2Zvcm1lZFBvaW50KSkgfHwgKHRoaXMuX2lzT25QYXRoICYmIHRoaXMuX2hhc1N0cm9rZSgpICYmIHRoaXMuX2lzT25QYXRoKHRyYW5zZm9ybWVkUG9pbnQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2hhc0ZpbGwoKSB7XG4gICAgICAgIGNvbnN0IGZpbGwgPSB0aGlzLm9wdGlvbnMuZmlsbDtcbiAgICAgICAgcmV0dXJuIGZpbGwgJiYgIWlzVHJhbnNwYXJlbnQoZmlsbC5jb2xvcik7XG4gICAgfVxuXG4gICAgX2hhc1N0cm9rZSgpIHtcbiAgICAgICAgY29uc3Qgc3Ryb2tlID0gdGhpcy5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgcmV0dXJuIHN0cm9rZSAmJiBzdHJva2Uud2lkdGggPiAwICYmICFpc1RyYW5zcGFyZW50KHN0cm9rZS5jb2xvcik7XG4gICAgfVxuXG4gICAgX2NsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJib3godHJhbnNmb3JtYXRpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRWxlbWVudDtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsbGlwc2VFeHRyZW1lQW5nbGVzKGNlbnRlciwgcngsIHJ5LCBtYXRyaXgpIHtcbiAgICBsZXQgZXh0cmVtZVggPSAwO1xuICAgIGxldCBleHRyZW1lWSA9IDA7XG5cbiAgICBpZiAobWF0cml4KSB7XG4gICAgICAgIGV4dHJlbWVYID0gTWF0aC5hdGFuMihtYXRyaXguYyAqIHJ5LCBtYXRyaXguYSAqIHJ4KTtcbiAgICAgICAgaWYgKG1hdHJpeC5iICE9PSAwKSB7XG4gICAgICAgICAgICBleHRyZW1lWSA9IE1hdGguYXRhbjIobWF0cml4LmQgKiByeSwgbWF0cml4LmIgKiByeCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBleHRyZW1lWCxcbiAgICAgICAgeTogZXh0cmVtZVlcbiAgICB9O1xufSIsImltcG9ydCB3aXRoQWNjZXNzb3JzIGZyb20gJy4uL21peGlucy93aXRoLWFjY2Vzc29ycyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi9wb2ludCc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL3JlY3QnO1xuaW1wb3J0IGVsbGlwc2VFeHRyZW1lQW5nbGVzIGZyb20gJy4vbWF0aC9lbGxpcHNlLWV4dHJlbWUtYW5nbGVzJztcbmltcG9ydCBIYXNPYnNlcnZlcnMgZnJvbSAnLi4vY29yZS9oYXMtb2JzZXJ2ZXJzJztcbmltcG9ydCB7IHJhZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmNvbnN0IFBJX0RJVl8yID0gTWF0aC5QSSAvIDI7XG5cbmNsYXNzIENpcmNsZSBleHRlbmRzIHdpdGhBY2Nlc3NvcnMoSGFzT2JzZXJ2ZXJzLCBbIFwicmFkaXVzXCIgXSkge1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlciA9IG5ldyBQb2ludCgpLCByYWRpdXMgPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5zZXRDZW50ZXIoY2VudGVyKTtcbiAgICAgICAgdGhpcy5zZXRSYWRpdXMocmFkaXVzKTtcbiAgICB9XG5cbiAgICBzZXRDZW50ZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChcImNlbnRlclwiLCBQb2ludC5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRDZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNlbnRlcjtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyICYmXG4gICAgICAgICAgICAgICBvdGhlci5jZW50ZXIuZXF1YWxzKHRoaXMuY2VudGVyKSAmJlxuICAgICAgICAgICAgICAgb3RoZXIucmFkaXVzID09PSB0aGlzLnJhZGl1cztcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy5jZW50ZXIuY2xvbmUoKSwgdGhpcy5yYWRpdXMpO1xuICAgIH1cblxuICAgIHBvaW50QXQoYW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50QXQocmFkKGFuZ2xlKSk7XG4gICAgfVxuXG4gICAgYmJveChtYXRyaXgpIHtcbiAgICAgICAgY29uc3QgZXh0cmVtZUFuZ2xlcyA9IGVsbGlwc2VFeHRyZW1lQW5nbGVzKHRoaXMuY2VudGVyLCB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMsIG1hdHJpeCk7XG4gICAgICAgIGxldCBtaW5Qb2ludCA9IFBvaW50Lm1heFBvaW50KCk7XG4gICAgICAgIGxldCBtYXhQb2ludCA9IFBvaW50Lm1pblBvaW50KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UG9pbnRYID0gdGhpcy5fcG9pbnRBdChleHRyZW1lQW5nbGVzLnggKyBpICogUElfRElWXzIpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UG9pbnRZID0gdGhpcy5fcG9pbnRBdChleHRyZW1lQW5nbGVzLnkgKyBpICogUElfRElWXzIpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50UG9pbnQgPSBuZXcgUG9pbnQoY3VycmVudFBvaW50WC54LCBjdXJyZW50UG9pbnRZLnkpO1xuXG4gICAgICAgICAgICBtaW5Qb2ludCA9IFBvaW50Lm1pbihtaW5Qb2ludCwgY3VycmVudFBvaW50KTtcbiAgICAgICAgICAgIG1heFBvaW50ID0gUG9pbnQubWF4KG1heFBvaW50LCBjdXJyZW50UG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFJlY3QuZnJvbVBvaW50cyhtaW5Qb2ludCwgbWF4UG9pbnQpO1xuICAgIH1cblxuICAgIF9wb2ludEF0KGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXMgfSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIGNlbnRlci54ICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGUpLFxuICAgICAgICAgICAgY2VudGVyLnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGluQ2lyY2xlID0gTWF0aC5wb3cocG9pbnQueCAtIGNlbnRlci54LCAyKSArXG4gICAgICAgICAgICBNYXRoLnBvdyhwb2ludC55IC0gY2VudGVyLnksIDIpIDw9IE1hdGgucG93KHJhZGl1cywgMik7XG4gICAgICAgIHJldHVybiBpbkNpcmNsZTtcbiAgICB9XG5cbiAgICBfaXNPblBhdGgocG9pbnQsIHdpZHRoKSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXMgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvaW50RGlzdGFuY2UgPSBjZW50ZXIuZGlzdGFuY2VUbyhwb2ludCk7XG5cbiAgICAgICAgcmV0dXJuIHJhZGl1cyAtIHdpZHRoIDw9IHBvaW50RGlzdGFuY2UgJiYgcG9pbnREaXN0YW5jZSA8PSByYWRpdXMgKyB3aWR0aDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENpcmNsZTtcbiIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgR1JBRElFTlQgPSBcIkdyYWRpZW50XCI7XG5cbmNvbnN0IHBhaW50YWJsZSA9IFRCYXNlID0+IChcbiAgICBjbGFzcyBleHRlbmRzIFRCYXNlIHtcbiAgICAgICAgZmlsbChjb2xvciwgb3BhY2l0eSkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKGRlZmluZWQoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yICYmIGNvbG9yLm5vZGVUeXBlICE9PSBHUkFESUVOVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdGaWxsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWZpbmVkKG9wYWNpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdGaWxsLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2V0KFwiZmlsbFwiLCBuZXdGaWxsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNldChcImZpbGxcIiwgY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXQoXCJmaWxsXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3Ryb2tlKGNvbG9yLCB3aWR0aCwgb3BhY2l0eSkge1xuICAgICAgICAgICAgaWYgKGRlZmluZWQoY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcInN0cm9rZS5jb2xvclwiLCBjb2xvcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZCh3aWR0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcInN0cm9rZS53aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQob3BhY2l0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldChcInN0cm9rZS5vcGFjaXR5XCIsIG9wYWNpdHkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdldChcInN0cm9rZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IHBhaW50YWJsZTtcbiIsImltcG9ydCBNYXRyaXggZnJvbSAnLi4vZ2VvbWV0cnkvbWF0cml4JztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS90by1tYXRyaXgnO1xuXG5jb25zdCBJREVOVElUWV9NQVRSSVhfSEFTSCA9IE1hdHJpeC5JREVOVElUWS50b1N0cmluZygpO1xuXG5jb25zdCBtZWFzdXJhYmxlID0gVEJhc2UgPT4gKFxuICAgIGNsYXNzIGV4dGVuZHMgVEJhc2Uge1xuICAgICAgICBiYm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZE1hdHJpeCA9IHRvTWF0cml4KHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgICAgICAgICAgY29uc3QgbWF0cml4SGFzaCA9IGNvbWJpbmVkTWF0cml4ID8gY29tYmluZWRNYXRyaXgudG9TdHJpbmcoKSA6IElERU5USVRZX01BVFJJWF9IQVNIO1xuICAgICAgICAgICAgbGV0IGJib3g7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9iYm94Q2FjaGUgJiYgdGhpcy5fbWF0cml4SGFzaCA9PT0gbWF0cml4SGFzaCkge1xuICAgICAgICAgICAgICAgIGJib3ggPSB0aGlzLl9iYm94Q2FjaGUuY2xvbmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmJveCA9IHRoaXMuX2Jib3goY29tYmluZWRNYXRyaXgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Jib3hDYWNoZSA9IGJib3ggPyBiYm94LmNsb25lKCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeEhhc2ggPSBtYXRyaXhIYXNoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdHJva2VXaWR0aCA9IHRoaXMub3B0aW9ucy5nZXQoXCJzdHJva2Uud2lkdGhcIik7XG4gICAgICAgICAgICBpZiAoc3Ryb2tlV2lkdGggJiYgYmJveCkge1xuICAgICAgICAgICAgICAgIGJib3guZXhwYW5kKHN0cm9rZVdpZHRoIC8gMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBiYm94O1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VvbWV0cnlDaGFuZ2UoKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fYmJveENhY2hlO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiZ2VvbWV0cnlDaGFuZ2VcIiwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuZXhwb3J0IGRlZmF1bHQgbWVhc3VyYWJsZTsiLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmZ1bmN0aW9uIGdlb21ldHJ5QWNjZXNzb3IobmFtZSkge1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IFwiX1wiICsgbmFtZTtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZlckZpZWxkKGZpZWxkTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZE5hbWVdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRlZmluZUdlb21ldHJ5QWNjZXNzb3JzKGZuLCBuYW1lcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5bbmFtZXNbaV1dID0gZ2VvbWV0cnlBY2Nlc3NvcihuYW1lc1tpXSk7XG4gICAgfVxufVxuXG5jb25zdCB3aXRoR2VvbWV0cnkgPSAoVEJhc2UsIG5hbWVzID0gWyBcImdlb21ldHJ5XCIgXSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzIGV4dGVuZHMgVEJhc2Uge307XG4gICAgZGVmaW5lR2VvbWV0cnlBY2Nlc3NvcnMocmVzdWx0LnByb3RvdHlwZSwgbmFtZXMpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhHZW9tZXRyeTtcbiIsImltcG9ydCBHZW9tZXRyeUNpcmNsZSBmcm9tICcuLi9nZW9tZXRyeS9jaXJjbGUnO1xuaW1wb3J0IHBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBtZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCB3aXRoR2VvbWV0cnkgZnJvbSAnLi4vbWl4aW5zL3dpdGgtZ2VvbWV0cnknO1xuaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuY29uc3QgREVGQVVMVF9TVFJPS0UgPSBcIiMwMDBcIjtcblxuY2xhc3MgQ2lyY2xlIGV4dGVuZHMgcGFpbnRhYmxlKG1lYXN1cmFibGUod2l0aEdlb21ldHJ5KEVsZW1lbnQpKSkge1xuICAgIGdldCBub2RlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ2lyY2xlXCI7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnlDaXJjbGUoKSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkoZ2VvbWV0cnkpO1xuXG4gICAgICAgIGlmICghZGVmaW5lZCh0aGlzLm9wdGlvbnMuc3Ryb2tlKSkge1xuICAgICAgICAgICAgdGhpcy5zdHJva2UoREVGQVVMVF9TVFJPS0UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmF3QkJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmJib3goKTtcbiAgICB9XG5cbiAgICBfYmJveChtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmJib3gobWF0cml4KTtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLl9pc09uUGF0aChwb2ludCwgdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aCAvIDIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlO1xuIiwiY29uc3QgUFJFQ0lTSU9OID0gMTA7XG5cbmV4cG9ydCB7IFBSRUNJU0lPTiB9OyIsImltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5cbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsb3NlKGEsIGIsIHRvbGVyYW5jZSA9IFBSRUNJU0lPTikge1xuICAgIHJldHVybiByb3VuZChNYXRoLmFicyhhIC0gYiksIHRvbGVyYW5jZSkgPT09IDA7XG59IiwiaW1wb3J0IGNsb3NlIGZyb20gJy4vY2xvc2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbG9zZU9yTGVzcyhhLCBiLCB0b2xlcmFuY2UpIHtcbiAgICByZXR1cm4gYSA8IGIgfHwgY2xvc2UoYSwgYiwgdG9sZXJhbmNlKTtcbn0iLCJpbXBvcnQgUG9pbnQgZnJvbSAnLi4vcG9pbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaW5lSW50ZXJzZWN0aW9uKHAwLCBwMSwgcDIsIHAzKSB7XG4gICAgY29uc3QgczF4ID0gcDEueCAtIHAwLng7XG4gICAgY29uc3QgczJ4ID0gcDMueCAtIHAyLng7XG4gICAgY29uc3QgczF5ID0gcDEueSAtIHAwLnk7XG4gICAgY29uc3QgczJ5ID0gcDMueSAtIHAyLnk7XG4gICAgY29uc3QgbnggPSBwMC54IC0gcDIueDtcbiAgICBjb25zdCBueSA9IHAwLnkgLSBwMi55O1xuICAgIGNvbnN0IGQgPSBzMXggKiBzMnkgLSBzMnggKiBzMXk7XG4gICAgY29uc3QgcyA9IChzMXggKiBueSAtIHMxeSAqIG54KSAvIGQ7XG4gICAgY29uc3QgdCA9IChzMnggKiBueSAtIHMyeSAqIG54KSAvIGQ7XG5cbiAgICBpZiAocyA+PSAwICYmIHMgPD0gMSAmJiB0ID49IDAgJiYgdCA8PSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQocDAueCArIHQgKiBzMXgsIHAwLnkgKyB0ICogczF5KTtcbiAgICB9XG59IiwiaW1wb3J0IEhhc09ic2VydmVycyBmcm9tICcuLi9jb3JlL2hhcy1vYnNlcnZlcnMnO1xuaW1wb3J0IHsgZGVnLCByYWQsIHJvdW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgd2l0aEFjY2Vzc29ycyBmcm9tICcuLi9taXhpbnMvd2l0aC1hY2Nlc3NvcnMnO1xuXG5pbXBvcnQgY2xvc2VPckxlc3MgZnJvbSAnLi9tYXRoL2Nsb3NlLW9yLWxlc3MnO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3Rpb24gZnJvbSAnLi9tYXRoL2xpbmUtaW50ZXJzZWN0aW9uJztcbmltcG9ydCBlbGxpcHNlRXh0cmVtZUFuZ2xlcyBmcm9tICcuL21hdGgvZWxsaXBzZS1leHRyZW1lLWFuZ2xlcyc7XG5cbmltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBQb2ludCBmcm9tICcuL3BvaW50JztcbmltcG9ydCBSZWN0IGZyb20gJy4vcmVjdCc7XG5pbXBvcnQgdHJhbnNmb3JtIGZyb20gJy4vdHJhbnNmb3JtJztcblxuXG5jb25zdCBNQVhfSU5URVJWQUwgPSA0NTtcbmNvbnN0IHBvdyA9IE1hdGgucG93O1xuY29uc3QgYWNjZXNzb3JzID0gWyBcInJhZGl1c1hcIiwgXCJyYWRpdXNZXCIsIFwic3RhcnRBbmdsZVwiLCBcImVuZEFuZ2xlXCIsIFwiYW50aWNsb2Nrd2lzZVwiIF07XG5cbmNsYXNzIEFyYyBleHRlbmRzIHdpdGhBY2Nlc3NvcnMoSGFzT2JzZXJ2ZXJzLCBhY2Nlc3NvcnMpIHtcbiAgICBjb25zdHJ1Y3RvcihjZW50ZXIgPSBuZXcgUG9pbnQoKSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5zZXRDZW50ZXIoY2VudGVyKTtcblxuICAgICAgICB0aGlzLnJhZGl1c1ggPSBvcHRpb25zLnJhZGl1c1g7XG4gICAgICAgIHRoaXMucmFkaXVzWSA9IG9wdGlvbnMucmFkaXVzWSB8fCBvcHRpb25zLnJhZGl1c1g7XG4gICAgICAgIHRoaXMuc3RhcnRBbmdsZSA9IG9wdGlvbnMuc3RhcnRBbmdsZTtcbiAgICAgICAgdGhpcy5lbmRBbmdsZSA9IG9wdGlvbnMuZW5kQW5nbGU7XG4gICAgICAgIHRoaXMuYW50aWNsb2Nrd2lzZSA9IG9wdGlvbnMuYW50aWNsb2Nrd2lzZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy54Um90YXRpb24gPSBvcHRpb25zLnhSb3RhdGlvbjtcbiAgICB9XG5cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBcmModGhpcy5jZW50ZXIsIHtcbiAgICAgICAgICAgIHJhZGl1c1g6IHRoaXMucmFkaXVzWCxcbiAgICAgICAgICAgIHJhZGl1c1k6IHRoaXMucmFkaXVzWSxcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHRoaXMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiB0aGlzLmVuZEFuZ2xlLFxuICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogdGhpcy5hbnRpY2xvY2t3aXNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldENlbnRlcih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vYnNlcnZlckZpZWxkKFwiY2VudGVyXCIsIFBvaW50LmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGdldENlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2VudGVyO1xuICAgIH1cblxuICAgIHBvaW50QXQoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIGNvbnN0IHJhZGlhbiA9IHJhZChhbmdsZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludChcbiAgICAgICAgICAgIGNlbnRlci54ICsgdGhpcy5yYWRpdXNYICogTWF0aC5jb3MocmFkaWFuKSxcbiAgICAgICAgICAgIGNlbnRlci55ICsgdGhpcy5yYWRpdXNZICogTWF0aC5zaW4ocmFkaWFuKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGN1cnZlUG9pbnRzKCkge1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBkaXIgPSB0aGlzLmFudGljbG9ja3dpc2UgPyAtMSA6IDE7XG4gICAgICAgIGNvbnN0IGN1cnZlUG9pbnRzID0gWyB0aGlzLnBvaW50QXQoc3RhcnRBbmdsZSkgXTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSB0aGlzLl9hcmNJbnRlcnZhbCgpO1xuICAgICAgICBjb25zdCBpbnRlcnZhbEFuZ2xlID0gaW50ZXJ2YWwuZW5kQW5nbGUgLSBpbnRlcnZhbC5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBzdWJJbnRlcnZhbHNDb3VudCA9IE1hdGguY2VpbChpbnRlcnZhbEFuZ2xlIC8gTUFYX0lOVEVSVkFMKTtcbiAgICAgICAgY29uc3Qgc3ViSW50ZXJ2YWxBbmdsZSA9IGludGVydmFsQW5nbGUgLyBzdWJJbnRlcnZhbHNDb3VudDtcbiAgICAgICAgbGV0IGN1cnJlbnRBbmdsZSA9IHN0YXJ0QW5nbGU7XG4gICAgICAgIGxldCB0cmFuc2Zvcm1hdGlvbjtcbiAgICAgICAgaWYgKHRoaXMueFJvdGF0aW9uKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1hdGlvbiA9IHRyYW5zZm9ybSgpLnJvdGF0ZSh0aGlzLnhSb3RhdGlvbiwgdGhpcy5jZW50ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3ViSW50ZXJ2YWxzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmV4dEFuZ2xlID0gY3VycmVudEFuZ2xlICsgZGlyICogc3ViSW50ZXJ2YWxBbmdsZTtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMuX2ludGVydmFsQ3VydmVQb2ludHMoY3VycmVudEFuZ2xlLCBuZXh0QW5nbGUsIHRyYW5zZm9ybWF0aW9uKTtcblxuICAgICAgICAgICAgY3VydmVQb2ludHMucHVzaChwb2ludHMuY3AxLCBwb2ludHMuY3AyLCBwb2ludHMucDIpO1xuICAgICAgICAgICAgY3VycmVudEFuZ2xlID0gbmV4dEFuZ2xlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnZlUG9pbnRzO1xuICAgIH1cblxuICAgIGJib3gobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5fYXJjSW50ZXJ2YWwoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGludGVydmFsLnN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gaW50ZXJ2YWwuZW5kQW5nbGU7XG4gICAgICAgIGNvbnN0IGV4dHJlbWVBbmdsZXMgPSBlbGxpcHNlRXh0cmVtZUFuZ2xlcyh0aGlzLmNlbnRlciwgdGhpcy5yYWRpdXNYLCB0aGlzLnJhZGl1c1ksIG1hdHJpeCk7XG4gICAgICAgIGNvbnN0IGV4dHJlbWVYID0gZGVnKGV4dHJlbWVBbmdsZXMueCk7XG4gICAgICAgIGNvbnN0IGV4dHJlbWVZID0gZGVnKGV4dHJlbWVBbmdsZXMueSk7XG4gICAgICAgIGNvbnN0IGVuZFBvaW50ID0gdGhpcy5wb2ludEF0KGVuZEFuZ2xlKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgIGxldCBjdXJyZW50QW5nbGVYID0gYmJveFN0YXJ0QW5nbGUoZXh0cmVtZVgsIHN0YXJ0QW5nbGUpO1xuICAgICAgICBsZXQgY3VycmVudEFuZ2xlWSA9IGJib3hTdGFydEFuZ2xlKGV4dHJlbWVZLCBzdGFydEFuZ2xlKTtcbiAgICAgICAgbGV0IGN1cnJlbnRQb2ludCA9IHRoaXMucG9pbnRBdChzdGFydEFuZ2xlKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCk7XG4gICAgICAgIGxldCBtaW5Qb2ludCA9IFBvaW50Lm1pbihjdXJyZW50UG9pbnQsIGVuZFBvaW50KTtcbiAgICAgICAgbGV0IG1heFBvaW50ID0gUG9pbnQubWF4KGN1cnJlbnRQb2ludCwgZW5kUG9pbnQpO1xuXG4gICAgICAgIHdoaWxlIChjdXJyZW50QW5nbGVYIDwgZW5kQW5nbGUgfHwgY3VycmVudEFuZ2xlWSA8IGVuZEFuZ2xlKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFBvaW50WDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QW5nbGVYIDwgZW5kQW5nbGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRYID0gdGhpcy5wb2ludEF0KGN1cnJlbnRBbmdsZVgpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5nbGVYICs9IDkwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3VycmVudFBvaW50WTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QW5nbGVZIDwgZW5kQW5nbGUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9pbnRZID0gdGhpcy5wb2ludEF0KGN1cnJlbnRBbmdsZVkpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5nbGVZICs9IDkwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50UG9pbnQgPSBuZXcgUG9pbnQoY3VycmVudFBvaW50WC54LCBjdXJyZW50UG9pbnRZLnkpO1xuICAgICAgICAgICAgbWluUG9pbnQgPSBQb2ludC5taW4obWluUG9pbnQsIGN1cnJlbnRQb2ludCk7XG4gICAgICAgICAgICBtYXhQb2ludCA9IFBvaW50Lm1heChtYXhQb2ludCwgY3VycmVudFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMobWluUG9pbnQsIG1heFBvaW50KTtcbiAgICB9XG5cbiAgICBfYXJjSW50ZXJ2YWwoKSB7XG4gICAgICAgIGxldCB7IHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgICAgICBsZXQgb2xkU3RhcnQgPSBzdGFydEFuZ2xlO1xuICAgICAgICAgICAgc3RhcnRBbmdsZSA9IGVuZEFuZ2xlO1xuICAgICAgICAgICAgZW5kQW5nbGUgPSBvbGRTdGFydDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID4gZW5kQW5nbGUgfHwgKGFudGljbG9ja3dpc2UgJiYgc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSArPSAzNjA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9pbnRlcnZhbEN1cnZlUG9pbnRzKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBwMSA9IHRoaXMucG9pbnRBdChzdGFydEFuZ2xlKTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBvaW50QXQoZW5kQW5nbGUpO1xuICAgICAgICBjb25zdCBwMURlcml2YXRpdmUgPSB0aGlzLl9kZXJpdmF0aXZlQXQoc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IHAyRGVyaXZhdGl2ZSA9IHRoaXMuX2Rlcml2YXRpdmVBdChlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IHQgPSAocmFkKGVuZEFuZ2xlKSAtIHJhZChzdGFydEFuZ2xlKSkgLyAzO1xuICAgICAgICBjb25zdCBjcDEgPSBuZXcgUG9pbnQocDEueCArIHQgKiBwMURlcml2YXRpdmUueCwgcDEueSArIHQgKiBwMURlcml2YXRpdmUueSk7XG4gICAgICAgIGNvbnN0IGNwMiA9IG5ldyBQb2ludChwMi54IC0gdCAqIHAyRGVyaXZhdGl2ZS54LCBwMi55IC0gdCAqIHAyRGVyaXZhdGl2ZS55KTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgICAgICBwMS50cmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pO1xuICAgICAgICAgICAgcDIudHJhbnNmb3JtKHRyYW5zZm9ybWF0aW9uKTtcbiAgICAgICAgICAgIGNwMS50cmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pO1xuICAgICAgICAgICAgY3AyLnRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcDE6IHAxLFxuICAgICAgICAgICAgY3AxOiBjcDEsXG4gICAgICAgICAgICBjcDI6IGNwMixcbiAgICAgICAgICAgIHAyOiBwMlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9kZXJpdmF0aXZlQXQoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmFkaWFuID0gcmFkKGFuZ2xlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KC10aGlzLnJhZGl1c1ggKiBNYXRoLnNpbihyYWRpYW4pLCB0aGlzLnJhZGl1c1kgKiBNYXRoLmNvcyhyYWRpYW4pKTtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5fYXJjSW50ZXJ2YWwoKTtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWxBbmdsZSA9IGludGVydmFsLmVuZEFuZ2xlIC0gaW50ZXJ2YWwuc3RhcnRBbmdsZTtcbiAgICAgICAgY29uc3QgeyBjZW50ZXIsIHJhZGl1c1gsIHJhZGl1c1kgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gY2VudGVyLmRpc3RhbmNlVG8ocG9pbnQpO1xuICAgICAgICBjb25zdCBhbmdsZVJhZCA9IE1hdGguYXRhbjIocG9pbnQueSAtIGNlbnRlci55LCBwb2ludC54IC0gY2VudGVyLngpO1xuICAgICAgICBjb25zdCBwb2ludFJhZGl1cyA9IChyYWRpdXNYICogcmFkaXVzWSkgL1xuICAgICAgICAgICAgTWF0aC5zcXJ0KHBvdyhyYWRpdXNYLCAyKSAqIHBvdyhNYXRoLnNpbihhbmdsZVJhZCksIDIpICsgcG93KHJhZGl1c1ksIDIpICogcG93KE1hdGguY29zKGFuZ2xlUmFkKSwgMikpO1xuICAgICAgICBjb25zdCBzdGFydFBvaW50ID0gdGhpcy5wb2ludEF0KHRoaXMuc3RhcnRBbmdsZSkucm91bmQoUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgZW5kUG9pbnQgPSB0aGlzLnBvaW50QXQodGhpcy5lbmRBbmdsZSkucm91bmQoUFJFQ0lTSU9OKTtcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0aW9uID0gbGluZUludGVyc2VjdGlvbihjZW50ZXIsIHBvaW50LnJvdW5kKFBSRUNJU0lPTiksIHN0YXJ0UG9pbnQsIGVuZFBvaW50KTtcbiAgICAgICAgbGV0IGNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgaWYgKGludGVydmFsQW5nbGUgPCAxODApIHtcbiAgICAgICAgICAgIGNvbnRhaW5zUG9pbnQgPSBpbnRlcnNlY3Rpb24gJiYgY2xvc2VPckxlc3MoY2VudGVyLmRpc3RhbmNlVG8oaW50ZXJzZWN0aW9uKSwgZGlzdGFuY2UpICYmIGNsb3NlT3JMZXNzKGRpc3RhbmNlLCBwb2ludFJhZGl1cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgYW5nbGUgPSBjYWxjdWxhdGVBbmdsZShjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1c1gsIHJhZGl1c1ksIHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICAgICAgaWYgKGFuZ2xlICE9PSAzNjApIHtcbiAgICAgICAgICAgICAgICBhbmdsZSA9ICgzNjAgKyBhbmdsZSkgJSAzNjA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpbkFuZ2xlUmFuZ2UgPSBpbnRlcnZhbC5zdGFydEFuZ2xlIDw9IGFuZ2xlICYmIGFuZ2xlIDw9IGludGVydmFsLmVuZEFuZ2xlO1xuICAgICAgICAgICAgY29udGFpbnNQb2ludCA9IChpbkFuZ2xlUmFuZ2UgJiYgY2xvc2VPckxlc3MoZGlzdGFuY2UsIHBvaW50UmFkaXVzKSkgfHwgKCFpbkFuZ2xlUmFuZ2UgJiYgKCFpbnRlcnNlY3Rpb24gfHwgaW50ZXJzZWN0aW9uLmVxdWFscyhwb2ludCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGFpbnNQb2ludDtcbiAgICB9XG5cbiAgICBfaXNPblBhdGgocG9pbnQsIHdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gdGhpcy5fYXJjSW50ZXJ2YWwoKTtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXI7XG4gICAgICAgIGxldCBhbmdsZSA9IGNhbGN1bGF0ZUFuZ2xlKGNlbnRlci54LCBjZW50ZXIueSwgdGhpcy5yYWRpdXNYLCB0aGlzLnJhZGl1c1ksIHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICBpZiAoYW5nbGUgIT09IDM2MCkge1xuICAgICAgICAgICAgYW5nbGUgPSAoMzYwICsgYW5nbGUpICUgMzYwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5BbmdsZVJhbmdlID0gaW50ZXJ2YWwuc3RhcnRBbmdsZSA8PSBhbmdsZSAmJiBhbmdsZSA8PSBpbnRlcnZhbC5lbmRBbmdsZTtcblxuICAgICAgICByZXR1cm4gaW5BbmdsZVJhbmdlICYmIHRoaXMucG9pbnRBdChhbmdsZSkuZGlzdGFuY2VUbyhwb2ludCkgPD0gd2lkdGg7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludHMoc3RhcnQsIGVuZCwgcngsIHJ5LCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKSB7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtcGFyYW1zXG4gICAgICAgIGNvbnN0IGFyY1BhcmFtZXRlcnMgPSBub3JtYWxpemVBcmNQYXJhbWV0ZXJzKHtcbiAgICAgICAgICAgIHgxOiBzdGFydC54LFxuICAgICAgICAgICAgeTE6IHN0YXJ0LnksXG4gICAgICAgICAgICB4MjogZW5kLngsXG4gICAgICAgICAgICB5MjogZW5kLnksXG4gICAgICAgICAgICByeDogcngsXG4gICAgICAgICAgICByeTogcnksXG4gICAgICAgICAgICBsYXJnZUFyYzogbGFyZ2VBcmMsXG4gICAgICAgICAgICBzd2lwZTogc3dpcGUsXG4gICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBcmMoYXJjUGFyYW1ldGVycy5jZW50ZXIsIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IGFyY1BhcmFtZXRlcnMuc3RhcnRBbmdsZSxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiBhcmNQYXJhbWV0ZXJzLmVuZEFuZ2xlLFxuICAgICAgICAgICAgcmFkaXVzWDogYXJjUGFyYW1ldGVycy5yYWRpdXNYLFxuICAgICAgICAgICAgcmFkaXVzWTogYXJjUGFyYW1ldGVycy5yYWRpdXNZLFxuICAgICAgICAgICAgeFJvdGF0aW9uOiBhcmNQYXJhbWV0ZXJzLnhSb3RhdGlvbixcbiAgICAgICAgICAgIGFudGljbG9ja3dpc2U6IHN3aXBlID09PSAwXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQW5nbGUoY3gsIGN5LCByeCwgcnksIHgsIHkpIHtcbiAgICBjb25zdCBjb3MgPSByb3VuZCgoeCAtIGN4KSAvIHJ4LCAzKTtcbiAgICBjb25zdCBzaW4gPSByb3VuZCgoeSAtIGN5KSAvIHJ5LCAzKTtcblxuICAgIHJldHVybiByb3VuZChkZWcoTWF0aC5hdGFuMihzaW4sIGNvcykpKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQXJjUGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gICAgbGV0IHsgeDEsIHkxLCB4MiwgeTIsIHJ4LCByeSwgbGFyZ2VBcmMsIHN3aXBlLCByb3RhdGlvbiA9IDAgfSA9IHBhcmFtZXRlcnM7XG5cbiAgICBjb25zdCByYWRpYW5zID0gcmFkKHJvdGF0aW9uKTtcbiAgICBjb25zdCBjb3NpbmUgPSBNYXRoLmNvcyhyYWRpYW5zKTtcbiAgICBjb25zdCBzaW5lID0gTWF0aC5zaW4ocmFkaWFucyk7XG5cbiAgICBjb25zdCB4VCA9IGNvc2luZSAqICh4MSAtIHgyKSAvIDIgKyBzaW5lICogKHkxIC0geTIpIC8gMjtcbiAgICBjb25zdCB5VCA9IC1zaW5lICogKHgxIC0geDIpIC8gMiArIGNvc2luZSAqICh5MSAtIHkyKSAvIDI7XG5cbiAgICBjb25zdCBzaWduID0gbGFyZ2VBcmMgIT09IHN3aXBlID8gMSA6IC0xO1xuXG4gICAgY29uc3QgeHQyID0gTWF0aC5wb3coeFQsIDIpO1xuICAgIGNvbnN0IHl0MiA9IE1hdGgucG93KHlULCAyKTtcbiAgICBsZXQgcngyID0gTWF0aC5wb3cocngsIDIpO1xuICAgIGxldCByeTIgPSBNYXRoLnBvdyhyeSwgMik7XG5cbiAgICBsZXQgZGVsdGEgPSB4dDIgLyByeDIgKyB5dDIgLyByeTI7XG5cbiAgICBpZiAoZGVsdGEgPiAxKSB7XG4gICAgICAgIGRlbHRhID0gTWF0aC5zcXJ0KHh0MiAvIHJ4MiArIHl0MiAvIHJ5Mik7XG4gICAgICAgIHJ4ID0gZGVsdGEgKiByeDtcbiAgICAgICAgcngyID0gTWF0aC5wb3cocngsIDIpO1xuXG4gICAgICAgIHJ5ID0gZGVsdGEgKiByeTtcbiAgICAgICAgcnkyID0gTWF0aC5wb3cocnksIDIpO1xuICAgIH1cblxuICAgIGxldCBjb25zdFQgPSBzaWduICogTWF0aC5zcXJ0KChyeDIgKiByeTIgLSByeDIgKiB5dDIgLSByeTIgKiB4dDIpIC8gKHJ4MiAqIHl0MiArIHJ5MiAqIHh0MikpO1xuICAgIC8vIGR1ZSB0byByb3VuZGluZyBlcnJvcnMgdGhlIHZhbHVlIGNvdWxkIGJlY29tZSBOYU4gZXZlbiBhZnRlciByYWRpaSBjb3JyZWN0aW9uXG4gICAgaWYgKGlzTmFOKGNvbnN0VCkpIHtcbiAgICAgICAgY29uc3RUID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCBjeFQgPSBjb25zdFQgKiAocnggKiB5VCkgLyByeTtcbiAgICBjb25zdCBjeVQgPSAtIGNvbnN0VCAqIChyeSAqIHhUKSAvIHJ4O1xuXG4gICAgY29uc3QgY3ggPSBjb3NpbmUgKiBjeFQgLSBzaW5lICogY3lUICsgKHgxICsgeDIpIC8gMjtcbiAgICBjb25zdCBjeSA9IHNpbmUgKiBjeFQgKyBjb3NpbmUgKiBjeVQgKyAoeTEgKyB5MikgLyAyO1xuXG5cbiAgICBjb25zdCB1WCA9ICh4VCAtIGN4VCkgLyByeDtcbiAgICBjb25zdCB1WSA9ICh5VCAtIGN5VCkgLyByeTtcbiAgICBjb25zdCB2WCA9IC0oeFQgKyBjeFQpIC8gcng7XG4gICAgY29uc3QgdlkgPSAtKHlUICsgY3lUKSAvIHJ5O1xuXG4gICAgY29uc3Qgc3RhcnRBbmdsZSA9ICh1WSA+PSAwID8gMSA6IC0xKSAqIGRlZyhNYXRoLmFjb3ModVggLyBNYXRoLnNxcnQodVggKiB1WCArIHVZICogdVkpKSk7XG5cbiAgICBjb25zdCBhbmdsZUNvc2luZSA9IHJvdW5kKCh1WCAqIHZYICsgdVkgKiB2WSkgLyAoTWF0aC5zcXJ0KHVYICogdVggKyB1WSAqIHVZKSAqIE1hdGguc3FydCh2WCAqIHZYICsgdlkgKiB2WSkpLCAxMCk7XG4gICAgbGV0IGFuZ2xlID0gKHVYICogdlkgLSB1WSAqIHZYID49IDAgPyAxIDogLTEpICogZGVnKE1hdGguYWNvcyhhbmdsZUNvc2luZSkpO1xuXG4gICAgaWYgKCFzd2lwZSAmJiBhbmdsZSA+IDApIHtcbiAgICAgICAgYW5nbGUgLT0gMzYwO1xuICAgIH1cblxuICAgIGlmIChzd2lwZSAmJiBhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgKz0gMzYwO1xuICAgIH1cbiAgICBsZXQgZW5kQW5nbGUgPSBzdGFydEFuZ2xlICsgYW5nbGU7XG4gICAgY29uc3Qgc2lnbkVuZEFuZ2xlID0gZW5kQW5nbGUgPj0gMCA/IDEgOiAtMTtcbiAgICBlbmRBbmdsZSA9IChNYXRoLmFicyhlbmRBbmdsZSkgJSAzNjApICogc2lnbkVuZEFuZ2xlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2VudGVyOiBuZXcgUG9pbnQoY3gsIGN5KSxcbiAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICByYWRpdXNYOiByeCxcbiAgICAgICAgcmFkaXVzWTogcnksXG4gICAgICAgIHhSb3RhdGlvbjogcm90YXRpb25cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBiYm94U3RhcnRBbmdsZShhbmdsZSwgc3RhcnQpIHtcbiAgICBsZXQgc3RhcnRBbmdsZSA9IGFuZ2xlO1xuXG4gICAgd2hpbGUgKHN0YXJ0QW5nbGUgPCBzdGFydCkge1xuICAgICAgICBzdGFydEFuZ2xlICs9IDkwO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFydEFuZ2xlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBcmM7XG4iLCJpbXBvcnQgSGFzT2JzZXJ2ZXJzIGZyb20gJy4uL2NvcmUvaGFzLW9ic2VydmVycyc7XG5cbmNvbnN0IHB1c2ggPSBbXS5wdXNoO1xuY29uc3QgcG9wID0gW10ucG9wO1xuY29uc3Qgc3BsaWNlID0gW10uc3BsaWNlO1xuY29uc3Qgc2hpZnQgPSBbXS5zaGlmdDtcbmNvbnN0IHNsaWNlID0gW10uc2xpY2U7XG5jb25zdCB1bnNoaWZ0ID0gW10udW5zaGlmdDtcblxuY2xhc3MgRWxlbWVudHNBcnJheSBleHRlbmRzIEhhc09ic2VydmVycyB7XG4gICAgY29uc3RydWN0b3IoYXJyYXkgPSBbXSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5fc3BsaWNlKDAsIGFycmF5Lmxlbmd0aCwgYXJyYXkpO1xuICAgIH1cblxuICAgIGVsZW1lbnRzKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc3BsaWNlKDAsIHRoaXMubGVuZ3RoLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zbGljZSgwKTtcbiAgICB9XG5cbiAgICBwdXNoKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGFyZ3VtZW50cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcHVzaC5hcHBseSh0aGlzLCBlbGVtZW50cyk7XG5cbiAgICAgICAgdGhpcy5fYWRkKGVsZW1lbnRzKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHNsaWNlKCkge1xuICAgICAgICByZXR1cm4gc2xpY2UuY2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBwb3AoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwb3AuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKFsgcmVzdWx0IF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzcGxpY2UoaW5kZXgsIGhvd01hbnkpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3NwbGljZShpbmRleCwgaG93TWFueSwgZWxlbWVudHMpO1xuXG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgc2hpZnQoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzaGlmdC5hcHBseSh0aGlzKTtcblxuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW1vdmUoWyByZXN1bHQgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHVuc2hpZnQoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gYXJndW1lbnRzO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB1bnNoaWZ0LmFwcGx5KHRoaXMsIGVsZW1lbnRzKTtcblxuICAgICAgICB0aGlzLl9hZGQoZWxlbWVudHMpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaW5kZXhPZihlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzW2lkeF0gPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBfc3BsaWNlKGluZGV4LCBob3dNYW55LCBlbGVtZW50cykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBzcGxpY2UuYXBwbHkodGhpcywgWyBpbmRleCwgaG93TWFueSBdLmNvbmNhdChlbGVtZW50cykpO1xuXG4gICAgICAgIHRoaXMuX2NsZWFyT2JzZXJ2ZXIocmVzdWx0KTtcbiAgICAgICAgdGhpcy5fc2V0T2JzZXJ2ZXIoZWxlbWVudHMpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgX2FkZChlbGVtZW50cykge1xuICAgICAgICB0aGlzLl9zZXRPYnNlcnZlcihlbGVtZW50cyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgIH1cblxuICAgIF9yZW1vdmUoZWxlbWVudHMpIHtcbiAgICAgICAgdGhpcy5fY2xlYXJPYnNlcnZlcihlbGVtZW50cyk7XG4gICAgICAgIHRoaXMuX2NoYW5nZSgpO1xuICAgIH1cblxuICAgIF9zZXRPYnNlcnZlcihlbGVtZW50cykge1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpZHhdLmFkZE9ic2VydmVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NsZWFyT2JzZXJ2ZXIoZWxlbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgZWxlbWVudHNbaWR4XS5yZW1vdmVPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jaGFuZ2UoKSB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBFbGVtZW50c0FycmF5O1xuIiwiaW1wb3J0IEVsZW1lbnRzQXJyYXkgZnJvbSAnLi9lbGVtZW50cy1hcnJheSc7XG5cbmNsYXNzIEdlb21ldHJ5RWxlbWVudHNBcnJheSBleHRlbmRzIEVsZW1lbnRzQXJyYXkge1xuICAgIF9jaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5RWxlbWVudHNBcnJheTsiLCJpbXBvcnQgeyBkZWcgfSBmcm9tICcuLi8uLi91dGlsJztcbmltcG9ydCB0cmFuc2Zvcm0gZnJvbSAnLi4vdHJhbnNmb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNPdXRPZkVuZFBvaW50KGVuZFBvaW50LCBjb250cm9sUG9pbnQsIHBvaW50KSB7XG4gICAgY29uc3QgYW5nbGUgPSBkZWcoTWF0aC5hdGFuMihjb250cm9sUG9pbnQueSAtIGVuZFBvaW50LnksIGNvbnRyb2xQb2ludC54IC0gZW5kUG9pbnQueCkpO1xuICAgIGNvbnN0IHJvdGF0ZWRQb2ludCA9IHBvaW50LnRyYW5zZm9ybUNvcHkodHJhbnNmb3JtKCkucm90YXRlKC1hbmdsZSwgZW5kUG9pbnQpKTtcblxuICAgIHJldHVybiByb3RhdGVkUG9pbnQueCA8IGVuZFBvaW50Lng7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FsY3VsYXRlQ3VydmVBdCh0LCBmaWVsZCwgcG9pbnRzKSB7XG4gICAgY29uc3QgdDEgPSAxIC0gdDtcbiAgICByZXR1cm4gTWF0aC5wb3codDEsIDMpICogcG9pbnRzWzBdW2ZpZWxkXSArXG4gICAgICAgIDMgKiBNYXRoLnBvdyh0MSwgMikgKiB0ICogcG9pbnRzWzFdW2ZpZWxkXSArXG4gICAgICAgIDMgKiBNYXRoLnBvdyh0LCAyKSAqIHQxICogcG9pbnRzWzJdW2ZpZWxkXSArXG4gICAgICAgIE1hdGgucG93KHQsIDMpICogcG9pbnRzWzNdW2ZpZWxkXTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b0N1YmljUG9seW5vbWlhbChwb2ludHMsIGZpZWxkKSB7XG4gICAgcmV0dXJuIFsgLXBvaW50c1swXVtmaWVsZF0gKyAzICogcG9pbnRzWzFdW2ZpZWxkXSAtIDMgKiBwb2ludHNbMl1bZmllbGRdICsgcG9pbnRzWzNdW2ZpZWxkXSxcbiAgICAgICAgMyAqIChwb2ludHNbMF1bZmllbGRdIC0gMiAqIHBvaW50c1sxXVtmaWVsZF0gKyBwb2ludHNbMl1bZmllbGRdKSxcbiAgICAgICAgMyAqICgtcG9pbnRzWzBdW2ZpZWxkXSArIHBvaW50c1sxXVtmaWVsZF0pLFxuICAgICAgICBwb2ludHNbMF1bZmllbGRdXG4gICAgXTtcbn0iLCJpbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi8uLi9jb21tb24nO1xuaW1wb3J0IHsgcm91bmQgfSBmcm9tICcuLi8uLi91dGlsJztcblxuY2xhc3MgQ29tcGxleE51bWJlciBleHRlbmRzIENsYXNzIHtcblxuICAgIGNvbnN0cnVjdG9yKHJlYWwgPSAwLCBpbWcgPSAwKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5yZWFsID0gcmVhbDtcbiAgICAgICAgdGhpcy5pbWcgPSBpbWc7XG4gICAgfVxuXG4gICAgYWRkKGNOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4TnVtYmVyKHJvdW5kKHRoaXMucmVhbCArIGNOdW1iZXIucmVhbCwgUFJFQ0lTSU9OKSwgcm91bmQodGhpcy5pbWcgKyBjTnVtYmVyLmltZywgUFJFQ0lTSU9OKSk7XG4gICAgfVxuXG4gICAgYWRkQ29uc3RhbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV4TnVtYmVyKHRoaXMucmVhbCArIHZhbHVlLCB0aGlzLmltZyk7XG4gICAgfVxuXG4gICAgbmVnYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXhOdW1iZXIoLXRoaXMucmVhbCwgLXRoaXMuaW1nKTtcbiAgICB9XG5cbiAgICBtdWx0aXBseShjTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleE51bWJlcih0aGlzLnJlYWwgKiBjTnVtYmVyLnJlYWwgLSB0aGlzLmltZyAqIGNOdW1iZXIuaW1nLFxuICAgICAgICAgICAgdGhpcy5yZWFsICogY051bWJlci5pbWcgKyB0aGlzLmltZyAqIGNOdW1iZXIucmVhbCk7XG4gICAgfVxuXG4gICAgbXVsdGlwbHlDb25zdGFudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBsZXhOdW1iZXIodGhpcy5yZWFsICogdmFsdWUsIHRoaXMuaW1nICogdmFsdWUpO1xuICAgIH1cblxuICAgIG50aFJvb3Qobikge1xuICAgICAgICBjb25zdCByYWQgPSBNYXRoLmF0YW4yKHRoaXMuaW1nLCB0aGlzLnJlYWwpO1xuICAgICAgICBjb25zdCByID0gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMuaW1nLCAyKSArIE1hdGgucG93KHRoaXMucmVhbCwgMikpO1xuICAgICAgICBjb25zdCBudGhSID0gTWF0aC5wb3cociwgMSAvIG4pO1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29tcGxleE51bWJlcihudGhSICogTWF0aC5jb3MocmFkIC8gbiksIG50aFIgKiBNYXRoLnNpbihyYWQgLyBuKSk7IC8vTW9pdnJlJ3MgZm9ybXVsYVxuICAgIH1cblxuICAgIGVxdWFscyhjTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWwgPT09IGNOdW1iZXIucmVhbCAmJiB0aGlzLmltZyA9PT0gY051bWJlci5pbWc7XG4gICAgfVxuXG4gICAgaXNSZWFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWcgPT09IDA7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wbGV4TnVtYmVyOyIsImltcG9ydCBDb21wbGV4TnVtYmVyIGZyb20gJy4vY29tcGxleC1udW1iZXInO1xuaW1wb3J0IHsgUFJFQ0lTSU9OIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmZ1bmN0aW9uIG51bWJlclNpZ24oeCkge1xuICAgIHJldHVybiB4IDwgMCA/IC0xIDogMTtcbn1cblxuZnVuY3Rpb24gc29sdmVRdWFkcmF0aWNFcXVhdGlvbihhLCBiLCBjKSB7XG4gICAgY29uc3Qgc3F1YXJlUm9vdCA9IE1hdGguc3FydChNYXRoLnBvdyhiLCAyKSAtIDQgKiBhICogYyk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgKC1iICsgc3F1YXJlUm9vdCkgLyAoMiAqIGEpLFxuICAgICAgICAoLWIgLSBzcXVhcmVSb290KSAvICgyICogYSlcbiAgICBdO1xufVxuXG4vL0NhcmRhbm8ncyBmb3JtdWxhXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzb2x2ZUN1YmljRXF1YXRpb24oYSwgYiwgYywgZCkge1xuICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzb2x2ZVF1YWRyYXRpY0VxdWF0aW9uKGIsIGMsIGQpO1xuICAgIH1cblxuICAgIGNvbnN0IHAgPSAoMyAqIGEgKiBjIC0gTWF0aC5wb3coYiwgMikpIC8gKDMgKiBNYXRoLnBvdyhhLCAyKSk7XG4gICAgY29uc3QgcSA9ICgyICogTWF0aC5wb3coYiwgMykgLSA5ICogYSAqIGIgKiBjICsgMjcgKiBNYXRoLnBvdyhhLCAyKSAqIGQpIC8gKDI3ICogTWF0aC5wb3coYSwgMykpO1xuICAgIGNvbnN0IFEgPSBNYXRoLnBvdyhwIC8gMywgMykgKyBNYXRoLnBvdyhxIC8gMiwgMik7XG4gICAgY29uc3QgaSA9IG5ldyBDb21wbGV4TnVtYmVyKDAsMSk7XG4gICAgY29uc3QgYjNhID0gLWIgLyAoMyAqIGEpO1xuICAgIGxldCB4MSwgeDIsIHkxLCB5MiwgeTMsIHoxLCB6MjtcblxuICAgIGlmIChRIDwgMCkge1xuICAgICAgICB4MSA9IG5ldyBDb21wbGV4TnVtYmVyKC1xIC8gMiwgTWF0aC5zcXJ0KC1RKSkubnRoUm9vdCgzKTtcbiAgICAgICAgeDIgPSBuZXcgQ29tcGxleE51bWJlcigtcSAvIDIsIC0gTWF0aC5zcXJ0KC1RKSkubnRoUm9vdCgzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB4MSA9IC1xIC8gMiArIE1hdGguc3FydChRKTtcbiAgICAgICAgeDEgPSBuZXcgQ29tcGxleE51bWJlcihudW1iZXJTaWduKHgxKSAqIE1hdGgucG93KE1hdGguYWJzKHgxKSwgMSAvIDMpKTtcbiAgICAgICAgeDIgPSAtcSAvIDIgLSBNYXRoLnNxcnQoUSk7XG4gICAgICAgIHgyID0gbmV3IENvbXBsZXhOdW1iZXIobnVtYmVyU2lnbih4MikgKiBNYXRoLnBvdyhNYXRoLmFicyh4MiksIDEgLyAzKSk7XG4gICAgfVxuXG4gICAgeTEgPSB4MS5hZGQoeDIpO1xuXG4gICAgejEgPSB4MS5hZGQoeDIpLm11bHRpcGx5Q29uc3RhbnQoLTEgLyAyKTtcbiAgICB6MiA9IHgxLmFkZCh4Mi5uZWdhdGUoKSkubXVsdGlwbHlDb25zdGFudChNYXRoLnNxcnQoMykgLyAyKTtcblxuICAgIHkyID0gejEuYWRkKGkubXVsdGlwbHkoejIpKTtcbiAgICB5MyA9IHoxLmFkZChpLm5lZ2F0ZSgpLm11bHRpcGx5KHoyKSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGlmICh5MS5pc1JlYWwoKSkge1xuICAgICAgICByZXN1bHQucHVzaChyb3VuZCh5MS5yZWFsICsgYjNhLCBQUkVDSVNJT04pKTtcbiAgICB9XG4gICAgaWYgKHkyLmlzUmVhbCgpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJvdW5kKHkyLnJlYWwgKyBiM2EsIFBSRUNJU0lPTikpO1xuICAgIH1cbiAgICBpZiAoeTMuaXNSZWFsKCkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocm91bmQoeTMucmVhbCArIGIzYSwgUFJFQ0lTSU9OKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn0iLCJpbXBvcnQgdG9DdWJpY1BvbHlub21pYWwgZnJvbSAnLi90by1jdWJpYy1wb2x5bm9taWFsJztcbmltcG9ydCBzb2x2ZUN1YmljRXF1YXRpb24gZnJvbSAnLi9zb2x2ZS1jdWJpYy1lcXVhdGlvbic7XG5pbXBvcnQgY2FsY3VsYXRlQ3VydmVBdCBmcm9tICcuL2NhbGN1bGF0ZS1jdXJ2ZS1hdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhc1Jvb3RzSW5SYW5nZShwb2ludHMsIHBvaW50LCBmaWVsZCwgcm9vdEZpZWxkLCByYW5nZSkge1xuICAgIGNvbnN0IHBvbHlub21pYWwgPSB0b0N1YmljUG9seW5vbWlhbChwb2ludHMsIHJvb3RGaWVsZCk7XG4gICAgY29uc3Qgcm9vdHMgPSBzb2x2ZUN1YmljRXF1YXRpb24ocG9seW5vbWlhbFswXSwgcG9seW5vbWlhbFsxXSwgcG9seW5vbWlhbFsyXSwgcG9seW5vbWlhbFszXSAtIHBvaW50W3Jvb3RGaWVsZF0pO1xuICAgIGxldCBpbnRlcnNlY3Rpb247XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCByb290cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmICgwIDw9IHJvb3RzW2lkeF0gJiYgcm9vdHNbaWR4XSA8PSAxKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb24gPSBjYWxjdWxhdGVDdXJ2ZUF0KHJvb3RzW2lkeF0sIGZpZWxkLCBwb2ludHMpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGludGVyc2VjdGlvbiAtIHBvaW50W2ZpZWxkXSkgPD0gcmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgdG9DdWJpY1BvbHlub21pYWwgZnJvbSAnLi90by1jdWJpYy1wb2x5bm9taWFsJztcbmltcG9ydCBzb2x2ZUN1YmljRXF1YXRpb24gZnJvbSAnLi9zb2x2ZS1jdWJpYy1lcXVhdGlvbic7XG5pbXBvcnQgY2FsY3VsYXRlQ3VydmVBdCBmcm9tICcuL2NhbGN1bGF0ZS1jdXJ2ZS1hdCc7XG5pbXBvcnQgY2xvc2UgZnJvbSAnLi9jbG9zZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGN1cnZlSW50ZXJzZWN0aW9uc0NvdW50KHBvaW50cywgcG9pbnQsIGJib3gpIHtcbiAgICBjb25zdCBwb2x5bm9taWFsID0gdG9DdWJpY1BvbHlub21pYWwocG9pbnRzLCBcInhcIik7XG4gICAgY29uc3Qgcm9vdHMgPSBzb2x2ZUN1YmljRXF1YXRpb24ocG9seW5vbWlhbFswXSwgcG9seW5vbWlhbFsxXSwgcG9seW5vbWlhbFsyXSwgcG9seW5vbWlhbFszXSAtIHBvaW50LngpO1xuICAgIGxldCByYXlJbnRlcnNlY3Rpb24sIGludGVyc2VjdHNSYXk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJheUludGVyc2VjdGlvbiA9IGNhbGN1bGF0ZUN1cnZlQXQocm9vdHNbaV0sIFwieVwiLCBwb2ludHMpO1xuICAgICAgICBpbnRlcnNlY3RzUmF5ID0gY2xvc2UocmF5SW50ZXJzZWN0aW9uLCBwb2ludC55KSB8fCByYXlJbnRlcnNlY3Rpb24gPiBwb2ludC55O1xuICAgICAgICBpZiAoaW50ZXJzZWN0c1JheSAmJiAoKChyb290c1tpXSA9PT0gMCB8fCByb290c1tpXSA9PT0gMSkgJiYgYmJveC5ib3R0b21SaWdodCgpLnggPiBwb2ludC54KSB8fCAoMCA8IHJvb3RzW2ldICYmIHJvb3RzW2ldIDwgMSkpKSB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvdW50O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpbmVJbnRlcnNlY3Rpb25zQ291bnQoYSwgYiwgcG9pbnQpIHtcbiAgICBsZXQgaW50ZXJzZWN0cztcbiAgICBpZiAoYS54ICE9PSBiLngpIHtcbiAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKGEueCwgYi54KTtcbiAgICAgICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KGEueCwgYi54KTtcbiAgICAgICAgY29uc3QgbWluWSA9IE1hdGgubWluKGEueSwgYi55KTtcbiAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KGEueSwgYi55KTtcbiAgICAgICAgY29uc3QgaW5SYW5nZSA9IG1pblggPD0gcG9pbnQueCAmJiBwb2ludC54IDwgbWF4WDtcblxuICAgICAgICBpZiAobWluWSA9PT0gbWF4WSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IHBvaW50LnkgPD0gbWluWSAmJiBpblJhbmdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW50ZXJzZWN0cyA9IGluUmFuZ2UgJiYgKCgobWF4WSAtIG1pblkpICogKChhLnggLSBiLngpICogKGEueSAtIGIueSkgPiAwID8gcG9pbnQueCAtIG1pblggOiBtYXhYIC0gcG9pbnQueCkpIC8gKG1heFggLSBtaW5YKSArIG1pblkgLSBwb2ludC55KSA+PSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGludGVyc2VjdHMgPyAxIDogMDtcbn0iLCJpbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuXG5mdW5jdGlvbiBwb2ludEFjY2Vzc29yKG5hbWUpIHtcbiAgICBjb25zdCBmaWVsZE5hbWUgPSBcIl9cIiArIG5hbWU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJGaWVsZChmaWVsZE5hbWUsIFBvaW50LmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1tmaWVsZE5hbWVdO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGRlZmluZVBvaW50QWNjZXNzb3JzKGZuLCBuYW1lcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5bbmFtZXNbaV1dID0gcG9pbnRBY2Nlc3NvcihuYW1lc1tpXSk7XG4gICAgfVxufVxuXG5jb25zdCB3aXRoUG9pbnRzID0gKFRCYXNlLCBuYW1lcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzIGV4dGVuZHMgVEJhc2Uge307XG4gICAgZGVmaW5lUG9pbnRBY2Nlc3NvcnMocmVzdWx0LnByb3RvdHlwZSwgbmFtZXMpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhQb2ludHM7XG4iLCJpbXBvcnQgSGFzT2JzZXJ2ZXJzIGZyb20gJy4uL2NvcmUvaGFzLW9ic2VydmVycyc7XG5pbXBvcnQgUmVjdCBmcm9tICcuL3JlY3QnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4vcG9pbnQnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuL3RyYW5zZm9ybSc7XG5pbXBvcnQgeyBkZWcsIE1JTl9OVU0sIE1BWF9OVU0gfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBpc091dE9mRW5kUG9pbnQgZnJvbSAnLi9tYXRoL2lzLW91dC1vZi1lbmQtcG9pbnQnO1xuaW1wb3J0IGNhbGN1bGF0ZUN1cnZlQXQgZnJvbSAnLi9tYXRoL2NhbGN1bGF0ZS1jdXJ2ZS1hdCc7XG5pbXBvcnQgaGFzUm9vdHNJblJhbmdlIGZyb20gJy4vbWF0aC9oYXMtcm9vdHMtaW4tcmFuZ2UnO1xuaW1wb3J0IGN1cnZlSW50ZXJzZWN0aW9uc0NvdW50IGZyb20gJy4vbWF0aC9jdXJ2ZS1pbnRlcnNlY3Rpb25zLWNvdW50JztcbmltcG9ydCBsaW5lSW50ZXJzZWN0aW9uc0NvdW50IGZyb20gJy4vbWF0aC9saW5lLWludGVyc2VjdGlvbnMtY291bnQnO1xuaW1wb3J0IHdpdGhQb2ludHMgZnJvbSAnLi4vbWl4aW5zL3dpdGgtcG9pbnRzJztcblxuXG5jb25zdCBwb2ludHMgPSBbIFwiYW5jaG9yXCIsIFwiY29udHJvbEluXCIsIFwiY29udHJvbE91dFwiIF07XG5cbmNsYXNzIFNlZ21lbnQgZXh0ZW5kcyB3aXRoUG9pbnRzKEhhc09ic2VydmVycywgcG9pbnRzKSB7XG4gICAgY29uc3RydWN0b3IoYW5jaG9yLCBjb250cm9sSW4sIGNvbnRyb2xPdXQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmFuY2hvcihhbmNob3IgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB0aGlzLmNvbnRyb2xJbihjb250cm9sSW4pO1xuICAgICAgICB0aGlzLmNvbnRyb2xPdXQoY29udHJvbE91dCk7XG4gICAgfVxuXG4gICAgYmJveFRvKHRvU2VnbWVudCwgbWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRBbmNob3IgPSB0aGlzLmFuY2hvcigpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgY29uc3QgdG9TZWdtZW50QW5jaG9yID0gdG9TZWdtZW50LmFuY2hvcigpLnRyYW5zZm9ybUNvcHkobWF0cml4KTtcbiAgICAgICAgbGV0IHJlY3Q7XG5cbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHRvU2VnbWVudC5jb250cm9sSW4oKSkge1xuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2N1cnZlQm91bmRpbmdCb3goXG4gICAgICAgICAgICAgICAgc2VnbWVudEFuY2hvciwgdGhpcy5jb250cm9sT3V0KCkudHJhbnNmb3JtQ29weShtYXRyaXgpLFxuICAgICAgICAgICAgICAgIHRvU2VnbWVudC5jb250cm9sSW4oKS50cmFuc2Zvcm1Db3B5KG1hdHJpeCksIHRvU2VnbWVudEFuY2hvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9saW5lQm91bmRpbmdCb3goc2VnbWVudEFuY2hvciwgdG9TZWdtZW50QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH1cblxuICAgIF9saW5lQm91bmRpbmdCb3gocDEsIHAyKSB7XG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMocDEsIHAyKTtcbiAgICB9XG5cbiAgICBfY3VydmVCb3VuZGluZ0JveChwMSwgY3AxLCBjcDIsIHAyKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFsgcDEsIGNwMSwgY3AyLCBwMiBdO1xuICAgICAgICBjb25zdCBleHRyZW1lc1ggPSB0aGlzLl9jdXJ2ZUV4dHJlbWVzRm9yKHBvaW50cywgXCJ4XCIpO1xuICAgICAgICBjb25zdCBleHRyZW1lc1kgPSB0aGlzLl9jdXJ2ZUV4dHJlbWVzRm9yKHBvaW50cywgXCJ5XCIpO1xuICAgICAgICBjb25zdCB4TGltaXRzID0gYXJyYXlMaW1pdHMoWyBleHRyZW1lc1gubWluLCBleHRyZW1lc1gubWF4LCBwMS54LCBwMi54IF0pO1xuICAgICAgICBjb25zdCB5TGltaXRzID0gYXJyYXlMaW1pdHMoWyBleHRyZW1lc1kubWluLCBleHRyZW1lc1kubWF4LCBwMS55LCBwMi55IF0pO1xuXG4gICAgICAgIHJldHVybiBSZWN0LmZyb21Qb2ludHMobmV3IFBvaW50KHhMaW1pdHMubWluLCB5TGltaXRzLm1pbiksIG5ldyBQb2ludCh4TGltaXRzLm1heCwgeUxpbWl0cy5tYXgpKTtcbiAgICB9XG5cbiAgICBfY3VydmVFeHRyZW1lc0Zvcihwb2ludHMsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IGV4dHJlbWVzID0gdGhpcy5fY3VydmVFeHRyZW1lcyhcbiAgICAgICAgICAgIHBvaW50c1swXVtmaWVsZF0sIHBvaW50c1sxXVtmaWVsZF0sXG4gICAgICAgICAgICBwb2ludHNbMl1bZmllbGRdLCBwb2ludHNbM11bZmllbGRdXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbjogY2FsY3VsYXRlQ3VydmVBdChleHRyZW1lcy5taW4sIGZpZWxkLCBwb2ludHMpLFxuICAgICAgICAgICAgbWF4OiBjYWxjdWxhdGVDdXJ2ZUF0KGV4dHJlbWVzLm1heCwgZmllbGQsIHBvaW50cylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY3VydmVFeHRyZW1lcyh4MSwgeDIsIHgzLCB4NCkge1xuICAgICAgICBjb25zdCBhID0geDEgLSAzICogeDIgKyAzICogeDMgLSB4NDtcbiAgICAgICAgY29uc3QgYiA9IC0gMiAqICh4MSAtIDIgKiB4MiArIHgzKTtcbiAgICAgICAgY29uc3QgYyA9IHgxIC0geDI7XG4gICAgICAgIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpO1xuICAgICAgICBsZXQgdDEgPSAwO1xuICAgICAgICBsZXQgdDIgPSAxO1xuXG4gICAgICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoYiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHQxID0gdDIgPSAtYyAvIGI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzTmFOKHNxcnQpKSB7XG4gICAgICAgICAgICB0MSA9ICgtIGIgKyBzcXJ0KSAvICgyICogYSk7XG4gICAgICAgICAgICB0MiA9ICgtIGIgLSBzcXJ0KSAvICgyICogYSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWluID0gTWF0aC5tYXgoTWF0aC5taW4odDEsIHQyKSwgMCk7XG4gICAgICAgIGlmIChtaW4gPCAwIHx8IG1pbiA+IDEpIHtcbiAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4ID0gTWF0aC5taW4oTWF0aC5tYXgodDEsIHQyKSwgMSk7XG4gICAgICAgIGlmIChtYXggPiAxIHx8IG1heCA8IDApIHtcbiAgICAgICAgICAgIG1heCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBtaW4sXG4gICAgICAgICAgICBtYXg6IG1heFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9pbnRlcnNlY3Rpb25zVG8oc2VnbWVudCwgcG9pbnQpIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnNDb3VudDtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHNlZ21lbnQuY29udHJvbEluKCkpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCA9IGN1cnZlSW50ZXJzZWN0aW9uc0NvdW50KFsgdGhpcy5hbmNob3IoKSwgdGhpcy5jb250cm9sT3V0KCksIHNlZ21lbnQuY29udHJvbEluKCksIHNlZ21lbnQuYW5jaG9yKCkgXSwgcG9pbnQsIHRoaXMuYmJveFRvKHNlZ21lbnQpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCA9IGxpbmVJbnRlcnNlY3Rpb25zQ291bnQodGhpcy5hbmNob3IoKSwgc2VnbWVudC5hbmNob3IoKSwgcG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zQ291bnQ7XG4gICAgfVxuXG4gICAgX2lzT25DdXJ2ZVRvKHNlZ21lbnQsIHBvaW50LCB3aWR0aCwgZW5kU2VnbWVudCkge1xuICAgICAgICBjb25zdCBiYm94ID0gdGhpcy5iYm94VG8oc2VnbWVudCkuZXhwYW5kKHdpZHRoLCB3aWR0aCk7XG4gICAgICAgIGlmIChiYm94LmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBwMSA9IHRoaXMuYW5jaG9yKCk7XG4gICAgICAgICAgICBjb25zdCBwMiA9IHRoaXMuY29udHJvbE91dCgpO1xuICAgICAgICAgICAgY29uc3QgcDMgPSBzZWdtZW50LmNvbnRyb2xJbigpO1xuICAgICAgICAgICAgY29uc3QgcDQgPSBzZWdtZW50LmFuY2hvcigpO1xuXG4gICAgICAgICAgICBpZiAoZW5kU2VnbWVudCA9PT0gXCJzdGFydFwiICYmIHAxLmRpc3RhbmNlVG8ocG9pbnQpIDw9IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpc091dE9mRW5kUG9pbnQocDEsIHAyLCBwb2ludCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVuZFNlZ21lbnQgPT09IFwiZW5kXCIgJiYgcDQuZGlzdGFuY2VUbyhwb2ludCkgPD0gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWlzT3V0T2ZFbmRQb2ludChwNCwgcDMsIHBvaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy90aGUgYXBwcm9hY2ggaXMgbm90IGVudGlyZWx5IGNvcnJlY3QgYnV0IGlzIGNsb3NlIGFuZCB0aGUgYWx0ZXJuYXRpdmVzIGFyZSBzb2x2aW5nIGEgNnRoIGRlZ3JlZSBwb2x5bm9taWFsIG9yIHRlc3RpbmcgdGhlIHNlZ21lbnQgcG9pbnRzXG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSBbIHAxLCBwMiwgcDMsIHA0IF07XG4gICAgICAgICAgICBpZiAoaGFzUm9vdHNJblJhbmdlKHBvaW50cywgcG9pbnQsIFwieFwiLCBcInlcIiwgd2lkdGgpIHx8IGhhc1Jvb3RzSW5SYW5nZShwb2ludHMsIHBvaW50LCBcInlcIiwgXCJ4XCIsIHdpZHRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgcm90YXRpb24gPSB0cmFuc2Zvcm0oKS5yb3RhdGUoNDUsIHBvaW50KTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0ZWRQb2ludHMgPSBbIHAxLnRyYW5zZm9ybUNvcHkocm90YXRpb24pLCBwMi50cmFuc2Zvcm1Db3B5KHJvdGF0aW9uKSwgcDMudHJhbnNmb3JtQ29weShyb3RhdGlvbiksIHA0LnRyYW5zZm9ybUNvcHkocm90YXRpb24pIF07XG4gICAgICAgICAgICByZXR1cm4gaGFzUm9vdHNJblJhbmdlKHJvdGF0ZWRQb2ludHMsIHBvaW50LCBcInhcIiwgXCJ5XCIsIHdpZHRoKSB8fCBoYXNSb290c0luUmFuZ2Uocm90YXRlZFBvaW50cywgcG9pbnQsIFwieVwiLCBcInhcIiwgd2lkdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2lzT25MaW5lVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoKSB7XG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5hbmNob3IoKTtcbiAgICAgICAgY29uc3QgcDIgPSBzZWdtZW50LmFuY2hvcigpO1xuICAgICAgICBjb25zdCBhbmdsZSA9IGRlZyhNYXRoLmF0YW4yKHAyLnkgLSBwMS55LCBwMi54IC0gcDEueCkpO1xuICAgICAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QoWyBwMS54LCBwMS55IC0gd2lkdGggLyAyIF0sIFsgcDEuZGlzdGFuY2VUbyhwMiksIHdpZHRoIF0pO1xuICAgICAgICByZXR1cm4gcmVjdC5jb250YWluc1BvaW50KHBvaW50LnRyYW5zZm9ybUNvcHkodHJhbnNmb3JtKCkucm90YXRlKC1hbmdsZSwgcDEpKSk7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoLCBlbmRTZWdtZW50KSB7XG4gICAgICAgIGxldCBpc09uUGF0aDtcbiAgICAgICAgaWYgKHRoaXMuY29udHJvbE91dCgpICYmIHNlZ21lbnQuY29udHJvbEluKCkpIHtcbiAgICAgICAgICAgIGlzT25QYXRoID0gdGhpcy5faXNPbkN1cnZlVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoIC8gMiwgZW5kU2VnbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc09uUGF0aCA9IHRoaXMuX2lzT25MaW5lVG8oc2VnbWVudCwgcG9pbnQsIHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNPblBhdGg7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUxpbWl0cyhhcnIpIHtcbiAgICBsZXQgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBsZXQgbWluID0gTUFYX05VTTtcbiAgICBsZXQgbWF4ID0gTUlOX05VTTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgYXJyW2ldKTtcbiAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBhcnJbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluLFxuICAgICAgICBtYXg6IG1heFxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlZ21lbnQ7XG4iLCJpbXBvcnQgeyBQb2ludCwgU2VnbWVudCB9IGZyb20gJy4uLy4uL2dlb21ldHJ5JztcbmltcG9ydCB7IGxhc3QsIHJvdW5kIH0gZnJvbSAnLi4vLi4vdXRpbCc7XG5cbmNvbnN0IFdFSUdIVCA9IDAuMzMzO1xuY29uc3QgRVhUUkVNVU1fQUxMT1dFRF9ERVZJQVRJT04gPSAwLjAxO1xuY29uc3QgWCA9IFwieFwiO1xuY29uc3QgWSA9IFwieVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRzVG9DdXJ2ZShwb2ludHNJbiwgY2xvc2VkKSB7XG4gICAgY29uc3QgcG9pbnRzID0gcG9pbnRzSW4uc2xpY2UoMCk7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBbXTtcbiAgICBsZXQgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcblxuICAgIGlmIChsZW5ndGggPiAyKSB7XG4gICAgICAgIHJlbW92ZUR1cGxpY2F0ZXMoMCwgcG9pbnRzKTtcbiAgICAgICAgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoIDwgMiB8fCAobGVuZ3RoID09PSAyICYmIHBvaW50c1swXS5lcXVhbHMocG9pbnRzWzFdKSkpIHtcbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzO1xuICAgIH1cblxuICAgIGxldCBwMCA9IHBvaW50c1swXTtcbiAgICBsZXQgcDEgPSBwb2ludHNbMV07XG4gICAgbGV0IHAyID0gcG9pbnRzWzJdO1xuXG4gICAgc2VnbWVudHMucHVzaChuZXcgU2VnbWVudChwMCkpO1xuXG4gICAgd2hpbGUgKHAwLmVxdWFscyhwb2ludHNbbGVuZ3RoIC0gMV0pKSB7XG4gICAgICAgIGNsb3NlZCA9IHRydWU7XG4gICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgbGVuZ3RoLS07XG4gICAgfVxuXG4gICAgaWYgKGxlbmd0aCA9PT0gMikge1xuICAgICAgICBjb25zdCB0YW5nZW50ID0gZ2V0VGFuZ2VudChwMCxwMSwgWCwgWSk7XG5cbiAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChcbiAgICAgICAgICAgIGZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgWCwgWSlcbiAgICAgICAgKTtcblxuICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBTZWdtZW50KFxuICAgICAgICAgICAgcDEsXG4gICAgICAgICAgICBzZWNvbmRDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAxLCBYLCBZKVxuICAgICAgICApKTtcblxuICAgICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgfVxuXG4gICAgbGV0IGluaXRpYWxDb250cm9sUG9pbnQsIGxhc3RDb250cm9sUG9pbnQ7XG5cbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgIHAwID0gcG9pbnRzW2xlbmd0aCAtIDFdOyBwMSA9IHBvaW50c1swXTsgcDIgPSBwb2ludHNbMV07XG4gICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludHMgPSBnZXRDb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpO1xuICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gY29udHJvbFBvaW50c1sxXTtcbiAgICAgICAgbGFzdENvbnRyb2xQb2ludCA9IGNvbnRyb2xQb2ludHNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFuZ2VudCA9IGdldFRhbmdlbnQocDAsIHAxLCBYLFkpO1xuICAgICAgICBpbml0aWFsQ29udHJvbFBvaW50ID0gZmlyc3RDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAxLCBYLCBZKTtcbiAgICB9XG5cbiAgICBsZXQgY3AwID0gaW5pdGlhbENvbnRyb2xQb2ludDtcbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPD0gbGVuZ3RoIC0gMzsgaWR4KyspIHtcbiAgICAgICAgcmVtb3ZlRHVwbGljYXRlcyhpZHgsIHBvaW50cyk7XG4gICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChpZHggKyAzIDw9IGxlbmd0aCkge1xuICAgICAgICAgICAgcDAgPSBwb2ludHNbaWR4XTsgcDEgPSBwb2ludHNbaWR4ICsgMV07IHAyID0gcG9pbnRzW2lkeCArIDJdO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbFBvaW50cyA9IGdldENvbnRyb2xQb2ludHMocDAscDEscDIpO1xuXG4gICAgICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNwMCk7XG4gICAgICAgICAgICBjcDAgPSBjb250cm9sUG9pbnRzWzFdO1xuXG4gICAgICAgICAgICBjb25zdCBjcDEgPSBjb250cm9sUG9pbnRzWzBdO1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaChuZXcgU2VnbWVudChwMSwgY3AxKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAgIHAwID0gcG9pbnRzW2xlbmd0aCAtIDJdOyBwMSA9IHBvaW50c1tsZW5ndGggLSAxXTsgcDIgPSBwb2ludHNbMF07XG4gICAgICAgIGNvbnN0IGNvbnRyb2xQb2ludHMgPSBnZXRDb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpO1xuXG4gICAgICAgIGxhc3Qoc2VnbWVudHMpLmNvbnRyb2xPdXQoY3AwKTtcbiAgICAgICAgc2VnbWVudHMucHVzaChuZXcgU2VnbWVudChcbiAgICAgICAgICAgIHAxLFxuICAgICAgICAgICAgY29udHJvbFBvaW50c1swXVxuICAgICAgICApKTtcblxuICAgICAgICBsYXN0KHNlZ21lbnRzKS5jb250cm9sT3V0KGNvbnRyb2xQb2ludHNbMV0pO1xuICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBTZWdtZW50KFxuICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICBsYXN0Q29udHJvbFBvaW50XG4gICAgICAgICkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRhbmdlbnQgPSBnZXRUYW5nZW50KHAxLCBwMiwgWCwgWSk7XG5cbiAgICAgICAgbGFzdChzZWdtZW50cykuY29udHJvbE91dChjcDApO1xuICAgICAgICBzZWdtZW50cy5wdXNoKG5ldyBTZWdtZW50KFxuICAgICAgICAgICAgcDIsXG4gICAgICAgICAgICBzZWNvbmRDb250cm9sUG9pbnQodGFuZ2VudCwgcDEsIHAyLCBYLCBZKVxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VnbWVudHM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb2ludHNUb0Nsb3NlZEN1cnZlKHBvaW50c0luKSB7XG4gICAgcmV0dXJuIHBvaW50c1RvQ3VydmUocG9pbnRzSW4sIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlcyhpZHgsIHBvaW50cykge1xuICAgIHdoaWxlIChwb2ludHNbaWR4ICsgMV0gJiYgKHBvaW50c1tpZHhdLmVxdWFscyhwb2ludHNbaWR4ICsgMV0pIHx8IHBvaW50c1tpZHggKyAxXS5lcXVhbHMocG9pbnRzW2lkeCArIDJdKSkpIHtcbiAgICAgICAgcG9pbnRzLnNwbGljZShpZHggKyAxLCAxKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnRBeGlzKHAwLCBwMSwgcDIpIHtcbiAgICBsZXQgaW52ZXJ0QXhpcyA9IGZhbHNlO1xuXG4gICAgaWYgKHAwLnggPT09IHAxLngpIHtcbiAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChwMS54ID09PSBwMi54KSB7XG4gICAgICAgIGlmICgocDEueSA8IHAyLnkgJiYgcDAueSA8PSBwMS55KSB8fCAocDIueSA8IHAxLnkgJiYgcDEueSA8PSBwMC55KSkge1xuICAgICAgICAgICAgaW52ZXJ0QXhpcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmbiA9IGxpbmVGdW5jdGlvbihwMCxwMSk7XG4gICAgICAgIGNvbnN0IHkyID0gY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHAyLngpO1xuICAgICAgICBpZiAoIShwMC55IDw9IHAxLnkgJiYgcDIueSA8PSB5MikgJiZcbiAgICAgICAgICAgICEocDEueSA8PSBwMC55ICYmIHAyLnkgPj0geTIpKSB7XG4gICAgICAgICAgICBpbnZlcnRBeGlzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbnZlcnRBeGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5lKHAwLCBwMSwgcDIpIHtcbiAgICBjb25zdCBmbiA9IGxpbmVGdW5jdGlvbihwMCwgcDEpO1xuICAgIGNvbnN0IHkyID0gY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHAyLngpO1xuXG4gICAgcmV0dXJuIChwMC54ID09PSBwMS54ICYmIHAxLnggPT09IHAyLngpIHx8IHJvdW5kKHkyLCAxKSA9PT0gcm91bmQocDIueSwgMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaW5lRnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgY29uc3QgYSA9IChwMi55IC0gcDEueSkgLyAocDIueCAtIHAxLngpO1xuICAgIGNvbnN0IGIgPSBwMS55IC0gYSAqIHAxLng7XG5cbiAgICByZXR1cm4gWyBiLCBhIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250cm9sUG9pbnRzKHAwLCBwMSwgcDIpIHtcbiAgICBsZXQgeEZpZWxkID0gWDtcbiAgICBsZXQgeUZpZWxkID0gWTtcbiAgICBsZXQgcmVzdHJpY3QgPSBmYWxzZTtcbiAgICBsZXQgc3dpdGNoT3JpZW50YXRpb24gPSBmYWxzZTtcbiAgICBsZXQgdGFuZ2VudDtcblxuICAgIGlmIChpc0xpbmUocDAsIHAxLCBwMikpIHtcbiAgICAgICAgdGFuZ2VudCA9IGdldFRhbmdlbnQocDAsIHAxLCBYLCBZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtb25vdG9uaWMgPSB7XG4gICAgICAgICAgICB4OiBpc01vbm90b25pY0J5RmllbGQocDAsIHAxLCBwMiwgWCksXG4gICAgICAgICAgICB5OiBpc01vbm90b25pY0J5RmllbGQocDAsIHAxLCBwMiwgWSlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobW9ub3RvbmljLnggJiYgbW9ub3RvbmljLnkpIHtcbiAgICAgICAgICAgIHRhbmdlbnQgPSBnZXRUYW5nZW50KHAwLCBwMiwgWCwgWSk7XG4gICAgICAgICAgICByZXN0cmljdCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoaW52ZXJ0QXhpcyhwMCwgcDEsIHAyKSkge1xuICAgICAgICAgICAgICAgIHhGaWVsZCA9IFk7XG4gICAgICAgICAgICAgICAgeUZpZWxkID0gWDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vbm90b25pY1t4RmllbGRdKSB7XG4gICAgICAgICAgICAgICAgdGFuZ2VudCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBzaWduO1xuICAgICAgICAgICAgICAgIGlmICgocDJbeUZpZWxkXSA8IHAwW3lGaWVsZF0gJiYgcDBbeUZpZWxkXSA8PSBwMVt5RmllbGRdKSB8fFxuICAgICAgICAgICAgICAgICAgICAocDBbeUZpZWxkXSA8IHAyW3lGaWVsZF0gJiYgcDFbeUZpZWxkXSA8PSBwMFt5RmllbGRdKSkge1xuICAgICAgICAgICAgICAgICAgICBzaWduID0gbnVtYmVyU2lnbigocDJbeUZpZWxkXSAtIHAwW3lGaWVsZF0pICogKHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbiA9IC1udW1iZXJTaWduKChwMlt4RmllbGRdIC0gcDBbeEZpZWxkXSkgKiAocDFbeUZpZWxkXSAtIHAwW3lGaWVsZF0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0YW5nZW50ID0gRVhUUkVNVU1fQUxMT1dFRF9ERVZJQVRJT04gKiBzaWduO1xuICAgICAgICAgICAgICAgIHN3aXRjaE9yaWVudGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNlY29uZENQID0gc2Vjb25kQ29udHJvbFBvaW50KHRhbmdlbnQsIHAwLCBwMSwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgaWYgKHN3aXRjaE9yaWVudGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IG9sZFhGaWVsZCA9IHhGaWVsZDtcbiAgICAgICAgeEZpZWxkID0geUZpZWxkO1xuICAgICAgICB5RmllbGQgPSBvbGRYRmllbGQ7XG4gICAgfVxuXG4gICAgY29uc3QgZmlyc3RDUCA9IGZpcnN0Q29udHJvbFBvaW50KHRhbmdlbnQsIHAxLCBwMiwgeEZpZWxkLCB5RmllbGQpO1xuXG4gICAgaWYgKHJlc3RyaWN0KSB7XG4gICAgICAgIHJlc3RyaWN0Q29udHJvbFBvaW50KHAwLCBwMSwgc2Vjb25kQ1AsIHRhbmdlbnQpO1xuICAgICAgICByZXN0cmljdENvbnRyb2xQb2ludChwMSwgcDIsIGZpcnN0Q1AsIHRhbmdlbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBbIHNlY29uZENQLCBmaXJzdENQIF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXN0cmljdENvbnRyb2xQb2ludChwMSwgcDIsIGNwLCB0YW5nZW50KSB7XG4gICAgaWYgKHAxLnkgPCBwMi55KSB7XG4gICAgICAgIGlmIChwMi55IDwgY3AueSkge1xuICAgICAgICAgICAgY3AueCA9IHAxLnggKyAocDIueSAtIHAxLnkpIC8gdGFuZ2VudDtcbiAgICAgICAgICAgIGNwLnkgPSBwMi55O1xuICAgICAgICB9IGVsc2UgaWYgKGNwLnkgPCBwMS55KSB7XG4gICAgICAgICAgICBjcC54ID0gcDIueCAtIChwMi55IC0gcDEueSkgLyB0YW5nZW50O1xuICAgICAgICAgICAgY3AueSA9IHAxLnk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3AueSA8IHAyLnkpIHtcbiAgICAgICAgICAgIGNwLnggPSBwMS54IC0gKHAxLnkgLSBwMi55KSAvIHRhbmdlbnQ7XG4gICAgICAgICAgICBjcC55ID0gcDIueTtcbiAgICAgICAgfSBlbHNlIGlmIChwMS55IDwgY3AueSkge1xuICAgICAgICAgICAgY3AueCA9IHAyLnggKyAocDEueSAtIHAyLnkpIC8gdGFuZ2VudDtcbiAgICAgICAgICAgIGNwLnkgPSBwMS55O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFuZ2VudChwMCwgcDEsIHhGaWVsZCwgeUZpZWxkKSB7XG4gICAgY29uc3QgeCA9IHAxW3hGaWVsZF0gLSBwMFt4RmllbGRdO1xuICAgIGNvbnN0IHkgPSBwMVt5RmllbGRdIC0gcDBbeUZpZWxkXTtcbiAgICBsZXQgdGFuZ2VudDtcblxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICAgIHRhbmdlbnQgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRhbmdlbnQgPSB5IC8geDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGFuZ2VudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9ub3RvbmljQnlGaWVsZChwMCwgcDEsIHAyLCBmaWVsZCkge1xuICAgIHJldHVybiAocDJbZmllbGRdID4gcDFbZmllbGRdICYmIHAxW2ZpZWxkXSA+IHAwW2ZpZWxkXSkgfHxcbiAgICAgICAgICAgICAgICAocDJbZmllbGRdIDwgcDFbZmllbGRdICYmIHAxW2ZpZWxkXSA8IHAwW2ZpZWxkXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdENvbnRyb2xQb2ludCh0YW5nZW50LCBwMCwgcDMsIHhGaWVsZCwgeUZpZWxkKSB7XG4gICAgY29uc3QgdDEgPSBwMFt4RmllbGRdO1xuICAgIGNvbnN0IHQyID0gcDNbeEZpZWxkXTtcbiAgICBjb25zdCBkaXN0YW5jZSA9ICh0MiAtIHQxKSAqIFdFSUdIVDtcblxuICAgIHJldHVybiBwb2ludCh0MSArIGRpc3RhbmNlLCBwMFt5RmllbGRdICsgZGlzdGFuY2UgKiB0YW5nZW50LCB4RmllbGQsIHlGaWVsZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWNvbmRDb250cm9sUG9pbnQodGFuZ2VudCwgcDAsIHAzLCB4RmllbGQsIHlGaWVsZCkge1xuICAgIGNvbnN0IHQxID0gcDBbeEZpZWxkXTtcbiAgICBjb25zdCB0MiA9IHAzW3hGaWVsZF07XG4gICAgY29uc3QgZGlzdGFuY2UgPSAodDIgLSB0MSkgKiBXRUlHSFQ7XG5cbiAgICByZXR1cm4gcG9pbnQodDIgLSBkaXN0YW5jZSwgcDNbeUZpZWxkXSAtIGRpc3RhbmNlICogdGFuZ2VudCwgeEZpZWxkLCB5RmllbGQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9pbnQoeFZhbHVlLCB5VmFsdWUsIHhGaWVsZCwgeUZpZWxkKSB7XG4gICAgY29uc3QgY29udHJvbFBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgY29udHJvbFBvaW50W3hGaWVsZF0gPSB4VmFsdWU7XG4gICAgY29udHJvbFBvaW50W3lGaWVsZF0gPSB5VmFsdWU7XG5cbiAgICByZXR1cm4gY29udHJvbFBvaW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRnVuY3Rpb24oZm4sIHgpIHtcbiAgICBjb25zdCBsZW5ndGggPSBmbi5sZW5ndGg7XG4gICAgbGV0IHJlc3VsdCA9IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBNYXRoLnBvdyh4LGkpICogZm5baV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJTaWduKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIDw9IDAgPyAtMSA6IDE7XG59XG4iLCJpbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuaW1wb3J0IHsgbGFzdCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBTaGFwZU1hcCA9IHtcbiAgICBsOiBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyYW1ldGVycywgcG9zaXRpb24gfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpXSwgcGFyYW1ldGVyc1tpICsgMV0pO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgcG9pbnQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGgubGluZVRvKHBvaW50LngsIHBvaW50LnkpO1xuXG4gICAgICAgICAgICBwb3NpdGlvbi54ID0gcG9pbnQueDtcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBwb2ludC55O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGM6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpICs9IDYpIHtcbiAgICAgICAgICAgIGxldCBjb250cm9sT3V0ID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaV0sIHBhcmFtZXRlcnNbaSArIDFdKTtcbiAgICAgICAgICAgIGxldCBjb250cm9sSW4gPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpICsgMl0sIHBhcmFtZXRlcnNbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2kgKyA0XSwgcGFyYW1ldGVyc1tpICsgNV0pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSZWxhdGl2ZSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xJbi50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBjb250cm9sT3V0LnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIHBvaW50LnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXRoLmN1cnZlVG8oY29udHJvbE91dCwgY29udHJvbEluLCBwb2ludCk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSBwb2ludC54O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdjogZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnMuaXNSZWxhdGl2ZSA/IDAgOiBvcHRpb25zLnBvc2l0aW9uLng7XG5cbiAgICAgICAgdG9MaW5lUGFyYW1hdGVycyhvcHRpb25zLnBhcmFtZXRlcnMsIHRydWUsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5sKHBhdGgsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBoOiBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy5pc1JlbGF0aXZlID8gMCA6IG9wdGlvbnMucG9zaXRpb24ueTtcblxuICAgICAgICB0b0xpbmVQYXJhbWF0ZXJzKG9wdGlvbnMucGFyYW1ldGVycywgZmFsc2UsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5sKHBhdGgsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBhOiBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcGFyYW1ldGVycywgcG9zaXRpb24gfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJzLmxlbmd0aDsgaSArPSA3KSB7XG4gICAgICAgICAgICBjb25zdCByYWRpdXNYID0gcGFyYW1ldGVyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1c1kgPSBwYXJhbWV0ZXJzW2kgKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHJvdGF0aW9uID0gcGFyYW1ldGVyc1tpICsgMl07XG4gICAgICAgICAgICBjb25zdCBsYXJnZUFyYyA9IHBhcmFtZXRlcnNbaSArIDNdO1xuICAgICAgICAgICAgY29uc3Qgc3dpcGUgPSBwYXJhbWV0ZXJzW2kgKyA0XTtcbiAgICAgICAgICAgIGNvbnN0IGVuZFBvaW50ID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaSArIDVdLCBwYXJhbWV0ZXJzW2kgKyA2XSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBlbmRQb2ludC50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbi54ICE9PSBlbmRQb2ludC54IHx8IHBvc2l0aW9uLnkgIT09IGVuZFBvaW50LnkpIHtcbiAgICAgICAgICAgICAgICBwYXRoLmFyY1RvKGVuZFBvaW50LCByYWRpdXNYLCByYWRpdXNZLCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKTtcblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnggPSBlbmRQb2ludC54O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBlbmRQb2ludC55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHM6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiwgcHJldmlvdXNDb21tYW5kIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgbGFzdENvbnRyb2xJbjtcblxuICAgICAgICBpZiAocHJldmlvdXNDb21tYW5kID09PSBcInNcIiB8fCBwcmV2aW91c0NvbW1hbmQgPT09IFwiY1wiKSB7XG4gICAgICAgICAgICBsYXN0Q29udHJvbEluID0gbGFzdChsYXN0KHBhdGgucGF0aHMpLnNlZ21lbnRzKS5jb250cm9sSW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICAgICAgbGV0IGNvbnRyb2xJbiA9IG5ldyBQb2ludChwYXJhbWV0ZXJzW2ldLCBwYXJhbWV0ZXJzW2kgKyAxXSk7XG4gICAgICAgICAgICBsZXQgZW5kUG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpICsgMl0sIHBhcmFtZXRlcnNbaSArIDNdKTtcbiAgICAgICAgICAgIGxldCBjb250cm9sT3V0O1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbEluLnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGVuZFBvaW50LnRyYW5zbGF0ZVdpdGgocG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobGFzdENvbnRyb2xJbikge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xPdXQgPSByZWZsZWN0aW9uUG9pbnQobGFzdENvbnRyb2xJbiwgcG9zaXRpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sT3V0ID0gcG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdENvbnRyb2xJbiA9IGNvbnRyb2xJbjtcblxuICAgICAgICAgICAgcGF0aC5jdXJ2ZVRvKGNvbnRyb2xPdXQsIGNvbnRyb2xJbiwgZW5kUG9pbnQpO1xuXG4gICAgICAgICAgICBwb3NpdGlvbi54ID0gZW5kUG9pbnQueDtcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBlbmRQb2ludC55O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHE6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiB9ID0gb3B0aW9ucztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIGxldCBjb250cm9sUG9pbnQgPSBuZXcgUG9pbnQocGFyYW1ldGVyc1tpXSwgcGFyYW1ldGVyc1tpICsgMV0pO1xuICAgICAgICAgICAgbGV0IGVuZFBvaW50ID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaSArIDJdLCBwYXJhbWV0ZXJzW2kgKyAzXSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sUG9pbnQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgZW5kUG9pbnQudHJhbnNsYXRlV2l0aChwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdWJpY0NvbnRyb2xQb2ludHMgPSBxdWFkcmF0aWNUb0N1YmljQ29udHJvbFBvaW50cyhwb3NpdGlvbiwgY29udHJvbFBvaW50LCBlbmRQb2ludCk7XG5cbiAgICAgICAgICAgIHBhdGguY3VydmVUbyhjdWJpY0NvbnRyb2xQb2ludHMuY29udHJvbE91dCwgY3ViaWNDb250cm9sUG9pbnRzLmNvbnRyb2xJbiwgZW5kUG9pbnQpO1xuXG4gICAgICAgICAgICBwb3NpdGlvbi54ID0gZW5kUG9pbnQueDtcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBlbmRQb2ludC55O1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHQ6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBwb3NpdGlvbiwgcHJldmlvdXNDb21tYW5kIH0gPSBvcHRpb25zO1xuICAgICAgICBsZXQgY29udHJvbFBvaW50O1xuXG4gICAgICAgIGlmIChwcmV2aW91c0NvbW1hbmQgPT09IFwicVwiIHx8IHByZXZpb3VzQ29tbWFuZCA9PT0gXCJ0XCIpIHtcbiAgICAgICAgICAgIGxldCBsYXN0U2VnbWVudCA9IGxhc3QobGFzdChwYXRoLnBhdGhzKS5zZWdtZW50cyk7XG4gICAgICAgICAgICBjb250cm9sUG9pbnQgPSBsYXN0U2VnbWVudC5jb250cm9sSW4oKS5jbG9uZSgpXG4gICAgICAgICAgICAgICAgLnRyYW5zbGF0ZVdpdGgocG9zaXRpb24uc2NhbGVDb3B5KC0xIC8gMykpXG4gICAgICAgICAgICAgICAgLnNjYWxlKDMgLyAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVycy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgbGV0IGVuZFBvaW50ID0gbmV3IFBvaW50KHBhcmFtZXRlcnNbaV0sIHBhcmFtZXRlcnNbaSArIDFdKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlzUmVsYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBlbmRQb2ludC50cmFuc2xhdGVXaXRoKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnRyb2xQb2ludCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xQb2ludCA9IHJlZmxlY3Rpb25Qb2ludChjb250cm9sUG9pbnQsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udHJvbFBvaW50ID0gcG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGN1YmljQ29udHJvbFBvaW50cyA9IHF1YWRyYXRpY1RvQ3ViaWNDb250cm9sUG9pbnRzKHBvc2l0aW9uLCBjb250cm9sUG9pbnQsIGVuZFBvaW50KTtcblxuICAgICAgICAgICAgcGF0aC5jdXJ2ZVRvKGN1YmljQ29udHJvbFBvaW50cy5jb250cm9sT3V0LCBjdWJpY0NvbnRyb2xQb2ludHMuY29udHJvbEluLCBlbmRQb2ludCk7XG5cbiAgICAgICAgICAgIHBvc2l0aW9uLnggPSBlbmRQb2ludC54O1xuICAgICAgICAgICAgcG9zaXRpb24ueSA9IGVuZFBvaW50Lnk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiB0b0xpbmVQYXJhbWF0ZXJzKHBhcmFtZXRlcnMsIGlzVmVydGljYWwsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5zZXJ0UG9zaXRpb24gPSBpc1ZlcnRpY2FsID8gMCA6IDE7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlcnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgcGFyYW1ldGVycy5zcGxpY2UoaSArIGluc2VydFBvc2l0aW9uLCAwLCB2YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZWZsZWN0aW9uUG9pbnQocG9pbnQsIGNlbnRlcikge1xuICAgIGlmIChwb2ludCAmJiBjZW50ZXIpIHtcbiAgICAgICAgcmV0dXJuIGNlbnRlci5zY2FsZUNvcHkoMikudHJhbnNsYXRlKC1wb2ludC54LCAtcG9pbnQueSk7XG4gICAgfVxufVxuXG5jb25zdCB0aGlyZCA9IDEgLyAzO1xuXG5mdW5jdGlvbiBxdWFkcmF0aWNUb0N1YmljQ29udHJvbFBvaW50cyhwb3NpdGlvbiwgY29udHJvbFBvaW50LCBlbmRQb2ludCkge1xuICAgIGNvbnN0IHNjYWxlZFBvaW50ID0gY29udHJvbFBvaW50LmNsb25lKCkuc2NhbGUoMiAvIDMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRyb2xPdXQ6IHNjYWxlZFBvaW50LmNsb25lKCkudHJhbnNsYXRlV2l0aChwb3NpdGlvbi5zY2FsZUNvcHkodGhpcmQpKSxcbiAgICAgICAgY29udHJvbEluOiBzY2FsZWRQb2ludC50cmFuc2xhdGVXaXRoKGVuZFBvaW50LnNjYWxlQ29weSh0aGlyZCkpXG4gICAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVNYXA7IiwiaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCBTaGFwZU1hcCBmcm9tICcuL3NoYXBlLW1hcCc7XG5cbmNvbnN0IFNFR01FTlRfUkVHRVggPSAvKFthLWRmLXpdezF9KShbXmEtZGYtel0qKSh6KT8vZ2k7XG5jb25zdCBTUExJVF9SRUdFWCA9IC9bLFxcc10/KFsrXFwtXT8oPzpcXGQqXFwuXFxkK3xcXGQrKSg/OltlRV1bK1xcLV0/XFxkKyk/KS9nO1xuY29uc3QgTU9WRSA9IFwibVwiO1xuY29uc3QgQ0xPU0UgPSBcInpcIjtcblxuZnVuY3Rpb24gcGFyc2VQYXJhbWV0ZXJzKHN0cikge1xuICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBbXTtcbiAgICBzdHIucmVwbGFjZShTUExJVF9SRUdFWCwgZnVuY3Rpb24obWF0Y2gsIG51bWJlcikge1xuICAgICAgICBwYXJhbWV0ZXJzLnB1c2gocGFyc2VGbG9hdChudW1iZXIpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFyYW1ldGVycztcbn1cblxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGhJbnN0YW5jZSwgc3RyKSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBuZXcgUG9pbnQoKTtcbiAgICBsZXQgcHJldmlvdXNDb21tYW5kO1xuXG4gICAgc3RyLnJlcGxhY2UoU0VHTUVOVF9SRUdFWCwgKG1hdGNoLCBlbGVtZW50LCBwYXJhbXMsIGNsb3NlUGF0aCkgPT4ge1xuICAgICAgICBsZXQgY29tbWFuZCA9IGVsZW1lbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3QgaXNSZWxhdGl2ZSA9IGNvbW1hbmQgPT09IGVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBwYXJzZVBhcmFtZXRlcnMocGFyYW1zLnRyaW0oKSk7XG5cbiAgICAgICAgaWYgKGNvbW1hbmQgPT09IE1PVkUpIHtcbiAgICAgICAgICAgIGlmIChpc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCArPSBwYXJhbWV0ZXJzWzBdO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgKz0gcGFyYW1ldGVyc1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCA9IHBhcmFtZXRlcnNbMF07XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSA9IHBhcmFtZXRlcnNbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGhJbnN0YW5jZS5tb3ZlVG8ocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG5cbiAgICAgICAgICAgIGlmIChwYXJhbWV0ZXJzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gXCJsXCI7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5zcGxpY2UoMCwgMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoU2hhcGVNYXBbY29tbWFuZF0pIHtcbiAgICAgICAgICAgIFNoYXBlTWFwW2NvbW1hbmRdKFxuICAgICAgICAgICAgICAgIHBhdGhJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBwYXJhbWV0ZXJzLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzUmVsYXRpdmU6IGlzUmVsYXRpdmUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tbWFuZDogcHJldmlvdXNDb21tYW5kXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGNsb3NlUGF0aCAmJiBjbG9zZVBhdGgudG9Mb3dlckNhc2UoKSA9PT0gQ0xPU0UpIHtcbiAgICAgICAgICAgICAgICBwYXRoSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kICE9PSBNT1ZFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciB3aGlsZSBwYXJzaW5nIFNWRyBwYXRoLiBVbnN1cHBvcnRlZCBjb21tYW5kOiBcIiArIGNvbW1hbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldmlvdXNDb21tYW5kID0gY29tbWFuZDtcbiAgICB9KTtcblxuICAgIHJldHVybiBwYXRoSW5zdGFuY2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlUGF0aDtcblxuIiwiaW1wb3J0IFJlY3QgZnJvbSAnLi4vLi4vZ2VvbWV0cnkvcmVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVsZW1lbnRzQm91bmRpbmdCb3goZWxlbWVudHMsIGFwcGx5VHJhbnNmb3JtLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgIGxldCBib3VuZGluZ0JveDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKGVsZW1lbnQudmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudEJvdW5kaW5nQm94ID0gYXBwbHlUcmFuc2Zvcm0gPyBlbGVtZW50LmJib3godHJhbnNmb3JtYXRpb24pIDogZWxlbWVudC5yYXdCQm94KCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudEJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kaW5nQm94ID0gUmVjdC51bmlvbihib3VuZGluZ0JveCwgZWxlbWVudEJvdW5kaW5nQm94KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGluZ0JveCA9IGVsZW1lbnRCb3VuZGluZ0JveDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYm91bmRpbmdCb3g7XG59XG5cbiIsImltcG9ydCBSZWN0IGZyb20gJy4uLy4uL2dlb21ldHJ5L3JlY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbGVtZW50c0NsaXBwZWRCb3VuZGluZ0JveChlbGVtZW50cywgdHJhbnNmb3JtYXRpb24pIHtcbiAgICBsZXQgYm91bmRpbmdCb3g7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmIChlbGVtZW50LnZpc2libGUoKSkge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnRCb3VuZGluZ0JveCA9IGVsZW1lbnQuY2xpcHBlZEJCb3godHJhbnNmb3JtYXRpb24pO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRCb3VuZGluZ0JveCkge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZGluZ0JveCkge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGluZ0JveCA9IFJlY3QudW5pb24oYm91bmRpbmdCb3gsIGVsZW1lbnRCb3VuZGluZ0JveCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRpbmdCb3ggPSBlbGVtZW50Qm91bmRpbmdCb3g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kaW5nQm94O1xufSIsImltcG9ydCBHZW9tZXRyeUVsZW1lbnRzQXJyYXkgZnJvbSAnLi9nZW9tZXRyeS1lbGVtZW50cy1hcnJheSc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IHsgcG9pbnRzVG9DdXJ2ZSB9IGZyb20gJy4vdXRpbHMvcG9pbnRzLXRvLWN1cnZlJztcbmltcG9ydCBwYWludGFibGUgZnJvbSAnLi4vbWl4aW5zL3BhaW50YWJsZSc7XG5pbXBvcnQgbWVhc3VyYWJsZSBmcm9tICcuLi9taXhpbnMvbWVhc3VyYWJsZSc7XG5pbXBvcnQgQXJjIGZyb20gJy4uL2dlb21ldHJ5L2FyYyc7XG5pbXBvcnQgUmVjdCBmcm9tICcuLi9nZW9tZXRyeS9yZWN0JztcbmltcG9ydCBTZWdtZW50IGZyb20gJy4uL2dlb21ldHJ5L3NlZ21lbnQnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCBTaXplIGZyb20gJy4uL2dlb21ldHJ5L3NpemUnO1xuaW1wb3J0IGxpbmVJbnRlcnNlY3Rpb25zQ291bnQgZnJvbSAnLi4vZ2VvbWV0cnkvbWF0aC9saW5lLWludGVyc2VjdGlvbnMtY291bnQnO1xuaW1wb3J0IHsgZGVmaW5lZCwgbGFzdCwgcmFkIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgcGFyc2VQYXRoIGZyb20gJy4uL3BhcnNpbmcvcGFyc2UtcGF0aCc7XG5pbXBvcnQgZWxlbWVudHNCb3VuZGluZ0JveCBmcm9tICcuL3V0aWxzL2VsZW1lbnRzLWJvdW5kaW5nLWJveCc7XG5pbXBvcnQgZWxlbWVudHNDbGlwcGVkQm91bmRpbmdCb3ggZnJvbSAnLi91dGlscy9lbGVtZW50cy1jbGlwcGVuZC1ib3VuZGluZy1ib3gnO1xuaW1wb3J0IGxpbWl0VmFsdWUgZnJvbSAnLi4vdXRpbC9saW1pdC12YWx1ZSc7XG5cbmNvbnN0IFNQQUNFID0gJyAnO1xuY29uc3QgcHJpbnRQb2ludHMgPSAocHJlY2lzaW9uKSA9PiAoLi4ucG9pbnRzKSA9PiBwb2ludHMubWFwKHAgPT4gcC50b1N0cmluZyhwcmVjaXNpb24pKS5qb2luKFNQQUNFKTtcbmNvbnN0IHNlZ21lbnRUeXBlID0gKHNlZ21lbnRTdGFydCwgc2VnbWVudEVuZCkgPT4gc2VnbWVudFN0YXJ0LmNvbnRyb2xPdXQoKSAmJiBzZWdtZW50RW5kLmNvbnRyb2xJbigpID8gJ0MnIDogJ0wnO1xuXG5leHBvcnQgY2xhc3MgUGF0aCBleHRlbmRzIHBhaW50YWJsZShtZWFzdXJhYmxlKEVsZW1lbnQpKSB7XG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ1BhdGgnO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBuZXcgR2VvbWV0cnlFbGVtZW50c0FycmF5KCk7XG4gICAgICAgIHRoaXMuc2VnbWVudHMuYWRkT2JzZXJ2ZXIodGhpcyk7XG5cbiAgICAgICAgaWYgKCFkZWZpbmVkKHRoaXMub3B0aW9ucy5zdHJva2UpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cm9rZSgnIzAwMCcpO1xuXG4gICAgICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZS5saW5lSm9pbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KCdzdHJva2UubGluZUpvaW4nLCAnbWl0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVUbyh4LCB5KSB7XG4gICAgICAgIHRoaXMuc3VzcGVuZCgpO1xuICAgICAgICB0aGlzLnNlZ21lbnRzLmVsZW1lbnRzKFtdKTtcbiAgICAgICAgdGhpcy5yZXN1bWUoKTtcblxuICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsaW5lVG8oeCwgeSkge1xuICAgICAgICBjb25zdCBwb2ludCA9IGRlZmluZWQoeSkgPyBuZXcgUG9pbnQoeCwgeSkgOiB4O1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gbmV3IFNlZ21lbnQocG9pbnQpO1xuXG4gICAgICAgIHRoaXMuc2VnbWVudHMucHVzaChzZWdtZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjdXJ2ZVRvKGNvbnRyb2xPdXQsIGNvbnRyb2xJbiwgcG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbGFzdFNlZ21lbnQgPSBsYXN0KHRoaXMuc2VnbWVudHMpO1xuICAgICAgICAgICAgY29uc3Qgc2VnbWVudCA9IG5ldyBTZWdtZW50KHBvaW50LCBjb250cm9sSW4pO1xuICAgICAgICAgICAgdGhpcy5zdXNwZW5kKCk7XG4gICAgICAgICAgICBsYXN0U2VnbWVudC5jb250cm9sT3V0KGNvbnRyb2xPdXQpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bWUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgYXJjKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCByYWRpdXNYLCByYWRpdXNZLCBhbnRpY2xvY2t3aXNlKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gbGFzdCh0aGlzLnNlZ21lbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGxhc3RTZWdtZW50LmFuY2hvcigpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSByYWQoc3RhcnRBbmdsZSk7XG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSBuZXcgUG9pbnQoYW5jaG9yLnggLSByYWRpdXNYICogTWF0aC5jb3Moc3RhcnQpLFxuICAgICAgICAgICAgICAgIGFuY2hvci55IC0gcmFkaXVzWSAqIE1hdGguc2luKHN0YXJ0KSk7XG4gICAgICAgICAgICBjb25zdCBhcmMgPSBuZXcgQXJjKGNlbnRlciwge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgICAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICAgICAgICAgIHJhZGl1c1g6IHJhZGl1c1gsXG4gICAgICAgICAgICAgICAgcmFkaXVzWTogcmFkaXVzWSxcbiAgICAgICAgICAgICAgICBhbnRpY2xvY2t3aXNlOiBhbnRpY2xvY2t3aXNlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5fYWRkQXJjU2VnbWVudHMoYXJjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFyY1RvKGVuZCwgcngsIHJ5LCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RTZWdtZW50ID0gbGFzdCh0aGlzLnNlZ21lbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGxhc3RTZWdtZW50LmFuY2hvcigpO1xuICAgICAgICAgICAgY29uc3QgYXJjID0gQXJjLmZyb21Qb2ludHMoYW5jaG9yLCBQb2ludC5jcmVhdGUoZW5kKSwgcngsIHJ5LCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5fYWRkQXJjU2VnbWVudHMoYXJjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfYWRkQXJjU2VnbWVudHMoYXJjKSB7XG4gICAgICAgIHRoaXMuc3VzcGVuZCgpO1xuXG4gICAgICAgIGNvbnN0IGN1cnZlUG9pbnRzID0gYXJjLmN1cnZlUG9pbnRzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjdXJ2ZVBvaW50cy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgdGhpcy5jdXJ2ZVRvKGN1cnZlUG9pbnRzW2ldLCBjdXJ2ZVBvaW50c1tpICsgMV0sIGN1cnZlUG9pbnRzW2kgKyAyXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc3VtZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jbG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmF3QkJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jib3goKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZyhkaWdpdHMpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9ICcnO1xuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gdGhpcy5zZWdtZW50cztcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByaW50ID0gcHJpbnRQb2ludHMoZGlnaXRzKTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50VHlwZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gc2VnbWVudFR5cGUoc2VnbWVudHNbaSAtIDFdLCBzZWdtZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgIT09IGN1cnJlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUeXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ0wnKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocHJpbnQoc2VnbWVudHNbaV0uYW5jaG9yKCkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHByaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VnbWVudHNbaSAtIDFdLmNvbnRyb2xPdXQoKSwgc2VnbWVudHNbaV0uY29udHJvbEluKCksIHNlZ21lbnRzW2ldLmFuY2hvcigpXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0cHV0ID0gJ00nICsgcHJpbnQoc2VnbWVudHNbMF0uYW5jaG9yKCkpICsgU1BBQ0UgKyBwYXJ0cy5qb2luKFNQQUNFKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICdaJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBpbnRlcnNlY3Rpb25zQ291bnQgPSAwO1xuICAgICAgICBsZXQgcHJldmlvdXMsIGN1cnJlbnQ7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMTsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgcHJldmlvdXMgPSBzZWdtZW50c1tpZHggLSAxXTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBzZWdtZW50c1tpZHhdO1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uc0NvdW50ICs9IHByZXZpb3VzLl9pbnRlcnNlY3Rpb25zVG8oY3VycmVudCwgcG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbG9zZWQgfHwgIXNlZ21lbnRzWzBdLmFuY2hvcigpLmVxdWFscyhzZWdtZW50c1tsZW5ndGggLSAxXS5hbmNob3IoKSkpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNDb3VudCArPSBsaW5lSW50ZXJzZWN0aW9uc0NvdW50KHNlZ21lbnRzWzBdLmFuY2hvcigpLCBzZWdtZW50c1tsZW5ndGggLSAxXS5hbmNob3IoKSwgcG9pbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGludGVyc2VjdGlvbnNDb3VudCAlIDIgIT09IDA7XG4gICAgfVxuXG4gICAgX2lzT25QYXRoKHBvaW50LCB3aWR0aCkge1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcGF0aFdpZHRoID0gd2lkdGggfHwgdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aDtcblxuICAgICAgICBpZiAobGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKHNlZ21lbnRzWzBdLl9pc09uUGF0aFRvKHNlZ21lbnRzWzFdLCBwb2ludCwgcGF0aFdpZHRoLCAnc3RhcnQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAyOyBpZHggPD0gbGVuZ3RoIC0gMjsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VnbWVudHNbaWR4IC0gMV0uX2lzT25QYXRoVG8oc2VnbWVudHNbaWR4XSwgcG9pbnQsIHBhdGhXaWR0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2VnbWVudHNbbGVuZ3RoIC0gMl0uX2lzT25QYXRoVG8oc2VnbWVudHNbbGVuZ3RoIC0gMV0sIHBvaW50LCBwYXRoV2lkdGgsICdlbmQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfYmJveChtYXRyaXgpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBib3VuZGluZ0JveDtcblxuICAgICAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBsZXQgYW5jaG9yID0gc2VnbWVudHNbMF0uYW5jaG9yKCkudHJhbnNmb3JtQ29weShtYXRyaXgpO1xuICAgICAgICAgICAgYm91bmRpbmdCb3ggPSBuZXcgUmVjdChhbmNob3IsIFNpemUuWkVSTyk7XG4gICAgICAgIH0gZWxzZSBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzZWdtZW50Qm94ID0gc2VnbWVudHNbaSAtIDFdLmJib3hUbyhzZWdtZW50c1tpXSwgbWF0cml4KTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRpbmdCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRpbmdCb3ggPSBSZWN0LnVuaW9uKGJvdW5kaW5nQm94LCBzZWdtZW50Qm94KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib3VuZGluZ0JveCA9IHNlZ21lbnRCb3g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvdW5kaW5nQm94O1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIE11bHRpUGF0aC5wYXJzZShzdHIsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUmVjdChyZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aChvcHRpb25zKTtcbiAgICAgICAgbGV0IFsgcngsIHJ5IF0gPSByZWN0LmNvcm5lclJhZGl1cztcblxuICAgICAgICBpZiAocnggPT09IDAgJiYgcnkgPT09IDApIHtcbiAgICAgICAgICAgIHBhdGgubW92ZVRvKHJlY3QudG9wTGVmdCgpKVxuICAgICAgICAgICAgICAgIC5saW5lVG8ocmVjdC50b3BSaWdodCgpKVxuICAgICAgICAgICAgICAgIC5saW5lVG8ocmVjdC5ib3R0b21SaWdodCgpKVxuICAgICAgICAgICAgICAgIC5saW5lVG8ocmVjdC5ib3R0b21MZWZ0KCkpXG4gICAgICAgICAgICAgICAgLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW4gPSByZWN0Lm9yaWdpbjtcbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gb3JpZ2luO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSByZWN0LndpZHRoKCk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSByZWN0LmhlaWdodCgpO1xuICAgICAgICAgICAgcnggPSBsaW1pdFZhbHVlKHJ4LCAwLCB3aWR0aCAvIDIpO1xuICAgICAgICAgICAgcnkgPSBsaW1pdFZhbHVlKHJ5LCAwLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgcGF0aC5tb3ZlVG8oeCArIHJ4LCB5KVxuICAgICAgICAgICAgICAgIC5saW5lVG8oeCArIHdpZHRoIC0gcngsIHkpXG4gICAgICAgICAgICAgICAgLmFyY1RvKFsgeCArIHdpZHRoLCB5ICsgcnkgXSwgcngsIHJ5LCBmYWxzZSlcbiAgICAgICAgICAgICAgICAubGluZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJ5KVxuICAgICAgICAgICAgICAgIC5hcmNUbyhbIHggKyB3aWR0aCAtIHJ4LCB5ICsgaGVpZ2h0IF0sIHJ4LCByeSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgLmxpbmVUbyh4ICsgcngsIHkgKyBoZWlnaHQpXG4gICAgICAgICAgICAgICAgLmFyY1RvKFsgeCwgeSArIGhlaWdodCAtIHJ5IF0sIHJ4LCByeSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgLmxpbmVUbyh4LCB5ICsgcnkpXG4gICAgICAgICAgICAgICAgLmFyY1RvKFsgeCArIHJ4LCB5IF0sIHJ4LCByeSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludHMocG9pbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChwb2ludHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aChvcHRpb25zKTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBQb2ludC5jcmVhdGUocG9pbnRzW2ldKTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgubW92ZVRvKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgubGluZVRvKHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY3VydmVGcm9tUG9pbnRzKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgICBpZiAocG9pbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50cyA9IHBvaW50c1RvQ3VydmUocG9pbnRzKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aChvcHRpb25zKTtcbiAgICAgICAgICAgIHBhdGguc2VnbWVudHMucHVzaC5hcHBseShwYXRoLnNlZ21lbnRzLCBzZWdtZW50cyk7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21BcmMoYXJjLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBuZXcgUGF0aChvcHRpb25zKTtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IGFyYy5zdGFydEFuZ2xlO1xuICAgICAgICBjb25zdCBzdGFydCA9IGFyYy5wb2ludEF0KHN0YXJ0QW5nbGUpO1xuICAgICAgICBwYXRoLm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcbiAgICAgICAgcGF0aC5hcmMoc3RhcnRBbmdsZSwgYXJjLmVuZEFuZ2xlLCBhcmMucmFkaXVzWCwgYXJjLnJhZGl1c1ksIGFyYy5hbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTXVsdGlQYXRoIGV4dGVuZHMgcGFpbnRhYmxlKG1lYXN1cmFibGUoRWxlbWVudCkpIHtcbiAgICBzdGF0aWMgcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IE11bHRpUGF0aChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlUGF0aChpbnN0YW5jZSwgc3RyKTtcbiAgICB9XG5cbiAgICB0b1N0cmluZyhkaWdpdHMpIHtcbiAgICAgICAgY29uc3QgcGF0aHMgPSB0aGlzLnBhdGhzO1xuICAgICAgICBsZXQgb3V0cHV0ID0gJyc7XG5cbiAgICAgICAgaWYgKHBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGF0aHNbaV0udG9TdHJpbmcoZGlnaXRzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dHB1dCA9IHJlc3VsdC5qb2luKFNQQUNFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ011bHRpUGF0aCc7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5wYXRocyA9IG5ldyBHZW9tZXRyeUVsZW1lbnRzQXJyYXkoKTtcbiAgICAgICAgdGhpcy5wYXRocy5hZGRPYnNlcnZlcih0aGlzKTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKCcjMDAwJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlVG8oeCwgeSkge1xuICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgoKTtcbiAgICAgICAgcGF0aC5tb3ZlVG8oeCwgeSk7XG5cbiAgICAgICAgdGhpcy5wYXRocy5wdXNoKHBhdGgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxpbmVUbyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLnBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhc3QodGhpcy5wYXRocykubGluZVRvKHgsIHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY3VydmVUbyhjb250cm9sT3V0LCBjb250cm9sSW4sIHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLnBhdGhzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhc3QodGhpcy5wYXRocykuY3VydmVUbyhjb250cm9sT3V0LCBjb250cm9sSW4sIHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFyYyhzdGFydEFuZ2xlLCBlbmRBbmdsZSwgcmFkaXVzWCwgcmFkaXVzWSwgYW50aWNsb2Nrd2lzZSkge1xuICAgICAgICBpZiAodGhpcy5wYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsYXN0KHRoaXMucGF0aHMpLmFyYyhzdGFydEFuZ2xlLCBlbmRBbmdsZSwgcmFkaXVzWCwgcmFkaXVzWSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBhcmNUbyhlbmQsIHJ4LCByeSwgbGFyZ2VBcmMsIHN3aXBlLCByb3RhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5wYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsYXN0KHRoaXMucGF0aHMpLmFyY1RvKGVuZCwgcngsIHJ5LCBsYXJnZUFyYywgc3dpcGUsIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXRocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsYXN0KHRoaXMucGF0aHMpLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfYmJveChtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzQm91bmRpbmdCb3godGhpcy5wYXRocywgdHJ1ZSwgbWF0cml4KTtcbiAgICB9XG5cbiAgICByYXdCQm94KCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudHNCb3VuZGluZ0JveCh0aGlzLnBhdGhzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGF0aHMgPSB0aGlzLnBhdGhzO1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHBhdGhzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGlmIChwYXRoc1tpZHhdLl9jb250YWluc1BvaW50KHBvaW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfaXNPblBhdGgocG9pbnQpIHtcbiAgICAgICAgY29uc3QgcGF0aHMgPSB0aGlzLnBhdGhzO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMub3B0aW9ucy5zdHJva2Uud2lkdGg7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGF0aHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHBhdGhzW2lkeF0uX2lzT25QYXRoKHBvaW50LCB3aWR0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX2NsaXBwZWRCQm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0NsaXBwZWRCb3VuZGluZ0JveCh0aGlzLnBhdGhzLCB0aGlzLmN1cnJlbnRUcmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBHZW9tZXRyeUFyYyBmcm9tICcuLi9nZW9tZXRyeS9hcmMnO1xuaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCB7IFBhdGggfSBmcm9tICcuL3BhdGgnO1xuaW1wb3J0IHBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCBtZWFzdXJhYmxlIGZyb20gJy4uL21peGlucy9tZWFzdXJhYmxlJztcbmltcG9ydCB3aXRoR2VvbWV0cnkgZnJvbSAnLi4vbWl4aW5zL3dpdGgtZ2VvbWV0cnknO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmNvbnN0IERFRkFVTFRfU1RST0tFID0gXCIjMDAwXCI7XG5cbmNsYXNzIEFyYyBleHRlbmRzIHBhaW50YWJsZShtZWFzdXJhYmxlKHdpdGhHZW9tZXRyeShFbGVtZW50KSkpIHtcbiAgICBnZXQgbm9kZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIkFyY1wiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5QXJjKCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5KGdlb21ldHJ5KTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKERFRkFVTFRfU1RST0tFKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuYmJveChtYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5KCkuYmJveCgpO1xuICAgIH1cblxuICAgIHRvUGF0aCgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoKCk7XG4gICAgICAgIGNvbnN0IGN1cnZlUG9pbnRzID0gdGhpcy5nZW9tZXRyeSgpLmN1cnZlUG9pbnRzKCk7XG5cbiAgICAgICAgaWYgKGN1cnZlUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBhdGgubW92ZVRvKGN1cnZlUG9pbnRzWzBdLngsIGN1cnZlUG9pbnRzWzBdLnkpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnZlUG9pbnRzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5jdXJ2ZVRvKGN1cnZlUG9pbnRzW2ldLCBjdXJ2ZVBvaW50c1tpICsgMV0sIGN1cnZlUG9pbnRzW2kgKyAyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLl9pc09uUGF0aChwb2ludCwgdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aCAvIDIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjO1xuIiwiaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgUmVjdCBmcm9tICcuLi9nZW9tZXRyeS9yZWN0JztcbmltcG9ydCB0b01hdHJpeCBmcm9tICcuLi9nZW9tZXRyeS90by1tYXRyaXgnO1xuaW1wb3J0IHBhaW50YWJsZSBmcm9tICcuLi9taXhpbnMvcGFpbnRhYmxlJztcbmltcG9ydCB3aXRoUG9pbnRzIGZyb20gJy4uL21peGlucy93aXRoLXBvaW50cyc7XG5pbXBvcnQgeyBkZWZpbmVkLCBtZWFzdXJlVGV4dCB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmNvbnN0IERFRkFVTFRfRk9OVCA9IFwiMTJweCBzYW5zLXNlcmlmXCI7XG5jb25zdCBERUZBVUxUX0ZJTEwgPSBcIiMwMDBcIjtcblxuY2xhc3MgVGV4dCBleHRlbmRzIHBhaW50YWJsZSh3aXRoUG9pbnRzKEVsZW1lbnQsIFsgXCJwb3NpdGlvblwiIF0pKSB7XG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJUZXh0XCI7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoY29udGVudCwgcG9zaXRpb24gPSBuZXcgUG9pbnQoKSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuY29udGVudChjb250ZW50KTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbihwb3NpdGlvbik7XG5cbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZm9udCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmZvbnQgPSBERUZBVUxUX0ZPTlQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLmZpbGwpKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGwoREVGQVVMVF9GSUxMKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRlbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwiY29udGVudFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0KFwiY29udGVudFwiKTtcbiAgICB9XG5cbiAgICBtZWFzdXJlKCkge1xuICAgICAgICBjb25zdCBtZXRyaWNzID0gbWVhc3VyZVRleHQodGhpcy5jb250ZW50KCksIHtcbiAgICAgICAgICAgIGZvbnQ6IHRoaXMub3B0aW9ucy5nZXQoXCJmb250XCIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtZXRyaWNzO1xuICAgIH1cblxuICAgIHJlY3QoKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLm1lYXN1cmUoKTtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbigpLmNsb25lKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdChwb3MsIFsgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQgXSk7XG4gICAgfVxuXG4gICAgYmJveCh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBjb21iaW5lZE1hdHJpeCA9IHRvTWF0cml4KHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWN0KCkuYmJveChjb21iaW5lZE1hdHJpeCk7XG4gICAgfVxuXG4gICAgcmF3QkJveCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdCgpLmJib3goKTtcbiAgICB9XG5cbiAgICBfY29udGFpbnNQb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWN0KCkuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0O1xuIiwiaW1wb3J0IHdpdGhHZW9tZXRyeSBmcm9tICcuLi9taXhpbnMvd2l0aC1nZW9tZXRyeSc7XG5pbXBvcnQgRWxlbWVudCBmcm9tICcuL2VsZW1lbnQnO1xuaW1wb3J0IFJlY3QgZnJvbSAnLi4vZ2VvbWV0cnkvcmVjdCc7XG5pbXBvcnQgdG9NYXRyaXggZnJvbSAnLi4vZ2VvbWV0cnkvdG8tbWF0cml4JztcbmltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi91dGlsJztcblxuXG5jbGFzcyBJbWFnZSBleHRlbmRzIHdpdGhHZW9tZXRyeShFbGVtZW50LCBbIFwicmVjdFwiIF0pIHtcbiAgICBnZXQgbm9kZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcIkltYWdlXCI7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Ioc3JjLCByZWN0ID0gbmV3IFJlY3QoKSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3JjKHNyYyk7XG4gICAgICAgIHRoaXMucmVjdChyZWN0KTtcbiAgICB9XG5cbiAgICBzcmModmFsdWUpIHtcbiAgICAgICAgaWYgKGRlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuc2V0KFwic3JjXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXQoXCJzcmNcIik7XG4gICAgfVxuXG4gICAgYmJveCh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBjb21iaW5lZE1hdHJpeCA9IHRvTWF0cml4KHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdC5iYm94KGNvbWJpbmVkTWF0cml4KTtcbiAgICB9XG5cbiAgICByYXdCQm94KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdC5iYm94KCk7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3QuY29udGFpbnNQb2ludChwb2ludCk7XG4gICAgfVxuXG4gICAgX2hhc0ZpbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyYygpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2U7IiwiY29uc3QgdHJhdmVyc2FibGUgPSAoVEJhc2UsIGNoaWxkcmVuRmllbGQpID0+IChcbiAgICBjbGFzcyBleHRlbmRzIFRCYXNlIHtcbiAgICAgICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpc1tjaGlsZHJlbkZpZWxkXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRyYXZlcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmV4cG9ydCBkZWZhdWx0IHRyYXZlcnNhYmxlO1xuIiwiaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCB0cmF2ZXJzYWJsZSBmcm9tICcuLi9taXhpbnMvdHJhdmVyc2FibGUnO1xuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgZWxlbWVudHNCb3VuZGluZ0JveCBmcm9tICcuL3V0aWxzL2VsZW1lbnRzLWJvdW5kaW5nLWJveCc7XG5pbXBvcnQgZWxlbWVudHNDbGlwcGVkQm91bmRpbmdCb3ggZnJvbSAnLi91dGlscy9lbGVtZW50cy1jbGlwcGVuZC1ib3VuZGluZy1ib3gnO1xuXG5cbmNsYXNzIEdyb3VwIGV4dGVuZHMgdHJhdmVyc2FibGUoRWxlbWVudCwgXCJjaGlsZHJlblwiKSB7XG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJHcm91cFwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICBjaGlsZHJlbkNoYW5nZShhY3Rpb24sIGl0ZW1zLCBpbmRleCkge1xuICAgICAgICB0aGlzLnRyaWdnZXIoXCJjaGlsZHJlbkNoYW5nZVwiLHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFwcGVuZCgpIHtcbiAgICAgICAgYXBwZW5kKHRoaXMuY2hpbGRyZW4sIGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3JlcGFyZW50KGFyZ3VtZW50cywgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbkNoYW5nZShcImFkZFwiLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGluc2VydChpbmRleCwgZWxlbWVudCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gdGhpcztcblxuICAgICAgICB0aGlzLmNoaWxkcmVuQ2hhbmdlKFwiYWRkXCIsIFsgZWxlbWVudCBdLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaW5zZXJ0QXQoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGluZGV4LCBlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZW1vdmUoZWxlbWVudCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihlbGVtZW50KTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5DaGFuZ2UoXCJyZW1vdmVcIiwgWyBlbGVtZW50IF0sIGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJlbW92ZUF0KGluZGV4KSB7XG4gICAgICAgIGlmICgwIDw9IGluZGV4ICYmIGluZGV4IDwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuQ2hhbmdlKFwicmVtb3ZlXCIsIFsgZWxlbWVudCBdLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuX3JlcGFyZW50KGl0ZW1zLCBudWxsKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuQ2hhbmdlKFwicmVtb3ZlXCIsIGl0ZW1zLCAwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBiYm94KHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0JvdW5kaW5nQm94KHRoaXMuY2hpbGRyZW4sIHRydWUsIHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c0JvdW5kaW5nQm94KHRoaXMuY2hpbGRyZW4sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBfY2xpcHBlZEJCb3godHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzQ2xpcHBlZEJvdW5kaW5nQm94KHRoaXMuY2hpbGRyZW4sIHRoaXMuY3VycmVudFRyYW5zZm9ybSh0cmFuc2Zvcm1hdGlvbikpO1xuICAgIH1cblxuICAgIGN1cnJlbnRUcmFuc2Zvcm0odHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIEVsZW1lbnQucHJvdG90eXBlLmN1cnJlbnRUcmFuc2Zvcm0uY2FsbCh0aGlzLCB0cmFuc2Zvcm1hdGlvbikgfHwgbnVsbDtcbiAgICB9XG5cbiAgICBjb250YWluc1BvaW50KHBvaW50LCBwYXJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSB0aGlzLmN1cnJlbnRUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKTtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5baWR4XS5jb250YWluc1BvaW50KHBvaW50LCB0cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3JlcGFyZW50KGVsZW1lbnRzLCBuZXdQYXJlbnQpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudDtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50ICE9PSB0aGlzICYmIHBhcmVudC5yZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbmV3UGFyZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cDsiLCJpbXBvcnQgY3JlYXRlVHJhbnNmb3JtIGZyb20gJy4uL2dlb21ldHJ5L3RyYW5zZm9ybSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zbGF0ZVRvUG9pbnQocG9pbnQsIGJib3gsIGVsZW1lbnQpIHtcbiAgICBjb25zdCB0cmFuc29mcm0gPSBlbGVtZW50LnRyYW5zZm9ybSgpIHx8IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgIGNvbnN0IG1hdHJpeCA9IHRyYW5zb2ZybS5tYXRyaXgoKTtcbiAgICBtYXRyaXguZSArPSBwb2ludC54IC0gYmJveC5vcmlnaW4ueDtcbiAgICBtYXRyaXguZiArPSBwb2ludC55IC0gYmJveC5vcmlnaW4ueTtcblxuICAgIHRyYW5zb2ZybS5tYXRyaXgobWF0cml4KTtcbiAgICBlbGVtZW50LnRyYW5zZm9ybSh0cmFuc29mcm0pO1xufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ25TdGFydChzaXplLCByZWN0LCBhbGlnbiwgYXhpcywgc2l6ZUZpZWxkKSB7XG4gICAgbGV0IHN0YXJ0O1xuICAgIGlmIChhbGlnbiA9PT0gXCJzdGFydFwiKSB7XG4gICAgICAgIHN0YXJ0ID0gcmVjdC5vcmlnaW5bYXhpc107XG4gICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gXCJlbmRcIikge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgcmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gcmVjdC5vcmlnaW5bYXhpc10gKyAocmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplKSAvIDI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YXJ0O1xufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxpZ25TdGFydFJldmVyc2Uoc2l6ZSwgcmVjdCwgYWxpZ24sIGF4aXMsIHNpemVGaWVsZCkge1xuICAgIGxldCBzdGFydDtcbiAgICBpZiAoYWxpZ24gPT09IFwic3RhcnRcIikge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgcmVjdC5zaXplW3NpemVGaWVsZF0gLSBzaXplO1xuICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09IFwiZW5kXCIpIHtcbiAgICAgICAgc3RhcnQgPSByZWN0Lm9yaWdpbltheGlzXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCA9IHJlY3Qub3JpZ2luW2F4aXNdICsgKHJlY3Quc2l6ZVtzaXplRmllbGRdIC0gc2l6ZSkgLyAyO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFydDtcbn0iLCJpbXBvcnQgR3JvdXAgZnJvbSAnLi9ncm91cCc7XG5pbXBvcnQgU2l6ZSBmcm9tICcuLi9nZW9tZXRyeS9zaXplJztcbmltcG9ydCBSZWN0IGZyb20gJy4uL2dlb21ldHJ5L3JlY3QnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCBjcmVhdGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvbWV0cnkvdHJhbnNmb3JtJztcbmltcG9ydCB0cmFuc2xhdGVUb1BvaW50IGZyb20gJy4uL2FsaWdubWVudC90cmFuc2xhdGUtdG8tcG9pbnQnO1xuaW1wb3J0IGFsaWduU3RhcnQgZnJvbSAnLi4vYWxpZ25tZW50L2FsaWduLXN0YXJ0JztcbmltcG9ydCBhbGlnblN0YXJ0UmV2ZXJzZSBmcm9tICcuLi9hbGlnbm1lbnQvYWxpZ24tc3RhcnQtcmV2ZXJzZSc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBhbGlnbkNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcbiAgICBzcGFjaW5nOiAwLFxuICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIixcbiAgICBsaW5lU3BhY2luZzogMCxcbiAgICB3cmFwOiB0cnVlLFxuICAgIHJldmVyczogZmFsc2Vcbn07XG5cbmNvbnN0IGZvckVhY2ggPSAoZWxlbWVudHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgZWxlbWVudHMuZm9yRWFjaChjYWxsYmFjayk7XG59O1xuXG5jb25zdCBmb3JFYWNoUmV2ZXJzZSA9IChlbGVtZW50cywgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpZHggPSBsZW5ndGggLSAxOyBpZHggPj0gMDsgaWR4LS0pIHtcbiAgICAgICAgY2FsbGJhY2soZWxlbWVudHNbaWR4XSwgaWR4KTtcbiAgICB9XG59O1xuXG5jbGFzcyBMYXlvdXQgZXh0ZW5kcyBHcm91cCB7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUywgb3B0aW9ucykpO1xuICAgICAgICB0aGlzLl9yZWN0ID0gcmVjdDtcbiAgICAgICAgdGhpcy5fZmllbGRNYXAgPSB7fTtcbiAgICB9XG5cbiAgICByZWN0KHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdCA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjdDtcbiAgICB9XG5cbiAgICBfaW5pdE1hcCgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZmllbGRNYXAgPSB0aGlzLl9maWVsZE1hcDtcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZW50YXRpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgICBmaWVsZE1hcC5zaXplRmllbGQgPSBcIndpZHRoXCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNTaXplRmllbGQgPSBcImhlaWdodFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBBeGlzID0gXCJ4XCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNBeGlzID0gXCJ5XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZE1hcC5zaXplRmllbGQgPSBcImhlaWdodFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBzU2l6ZUZpZWxkID0gXCJ3aWR0aFwiO1xuICAgICAgICAgICAgZmllbGRNYXAuZ3JvdXBBeGlzID0gXCJ5XCI7XG4gICAgICAgICAgICBmaWVsZE1hcC5ncm91cHNBeGlzID0gXCJ4XCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICB0aGlzLmZvckVhY2ggPSBmb3JFYWNoUmV2ZXJzZTtcbiAgICAgICAgICAgIHRoaXMuanVzdGlmeUFsaWduID0gYWxpZ25TdGFydFJldmVyc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZvckVhY2ggPSBmb3JFYWNoO1xuICAgICAgICAgICAgdGhpcy5qdXN0aWZ5QWxpZ24gPSBhbGlnblN0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmbG93KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlY3QgfHwgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbml0TWFwKCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuX3JlY3Q7XG4gICAgICAgIGNvbnN0IHsgZ3JvdXBzLCBncm91cHNTaXplIH0gPSB0aGlzLl9pbml0R3JvdXBzKCk7XG4gICAgICAgIGNvbnN0IHsgc2l6ZUZpZWxkLCBncm91cHNTaXplRmllbGQsIGdyb3VwQXhpcywgZ3JvdXBzQXhpcyB9ID0gdGhpcy5fZmllbGRNYXA7XG4gICAgICAgIGNvbnN0IGdyb3VwT3JpZ2luID0gbmV3IFBvaW50KCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRPcmlnaW4gPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBTaXplKCk7XG4gICAgICAgIGxldCBncm91cFN0YXJ0ID0gYWxpZ25TdGFydChncm91cHNTaXplLCByZWN0LCBvcHRpb25zLmFsaWduQ29udGVudCwgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgbGV0IGVsZW1lbnRTdGFydCwgZ3JvdXAsIGdyb3VwQm94O1xuXG4gICAgICAgIGNvbnN0IGFycmFuZ2VFbGVtZW50cyA9IChiYm94LCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBncm91cC5lbGVtZW50c1tpZHhdO1xuXG4gICAgICAgICAgICBlbGVtZW50T3JpZ2luW2dyb3VwQXhpc10gPSBlbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICBlbGVtZW50T3JpZ2luW2dyb3Vwc0F4aXNdID0gYWxpZ25TdGFydChiYm94LnNpemVbZ3JvdXBzU2l6ZUZpZWxkXSwgZ3JvdXBCb3gsIG9wdGlvbnMuYWxpZ25JdGVtcywgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVRvUG9pbnQoZWxlbWVudE9yaWdpbiwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50U3RhcnQgKz0gYmJveC5zaXplW3NpemVGaWVsZF0gKyBvcHRpb25zLnNwYWNpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgZ3JvdXBJZHggPSAwOyBncm91cElkeCA8IGdyb3Vwcy5sZW5ndGg7IGdyb3VwSWR4KyspIHtcbiAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBzW2dyb3VwSWR4XTtcbiAgICAgICAgICAgIGdyb3VwT3JpZ2luW2dyb3VwQXhpc10gPSBlbGVtZW50U3RhcnQgPSB0aGlzLmp1c3RpZnlBbGlnbihncm91cC5zaXplLCByZWN0LCBvcHRpb25zLmp1c3RpZnlDb250ZW50LCBncm91cEF4aXMsIHNpemVGaWVsZCk7XG4gICAgICAgICAgICBncm91cE9yaWdpbltncm91cHNBeGlzXSA9IGdyb3VwU3RhcnQ7XG4gICAgICAgICAgICBzaXplW3NpemVGaWVsZF0gPSBncm91cC5zaXplO1xuICAgICAgICAgICAgc2l6ZVtncm91cHNTaXplRmllbGRdID0gZ3JvdXAubGluZVNpemU7XG4gICAgICAgICAgICBncm91cEJveCA9IG5ldyBSZWN0KGdyb3VwT3JpZ2luLCBzaXplKTtcbiAgICAgICAgICAgIHRoaXMuZm9yRWFjaChncm91cC5iYm94ZXMsIGFycmFuZ2VFbGVtZW50cyk7XG5cbiAgICAgICAgICAgIGdyb3VwU3RhcnQgKz0gZ3JvdXAubGluZVNpemUgKyBvcHRpb25zLmxpbmVTcGFjaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLndyYXAgJiYgZ3JvdXAuc2l6ZSA+IHJlY3Quc2l6ZVtzaXplRmllbGRdKSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IHJlY3Quc2l6ZVtzaXplRmllbGRdIC8gZ3JvdXBCb3guc2l6ZVtzaXplRmllbGRdO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVkU3RhcnQgPSBncm91cEJveC50b3BMZWZ0KCkuc2NhbGUoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFNpemUgPSBncm91cEJveC5zaXplW2dyb3Vwc1NpemVGaWVsZF0gKiBzY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gYWxpZ25TdGFydChzY2FsZWRTaXplLCByZWN0LCBvcHRpb25zLmFsaWduQ29udGVudCwgZ3JvdXBzQXhpcywgZ3JvdXBzU2l6ZUZpZWxkKTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgaWYgKGdyb3VwQXhpcyA9PT0gXCJ4XCIpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKHJlY3Qub3JpZ2luLnggLSBzY2FsZWRTdGFydC54LCBuZXdTdGFydCAtIHNjYWxlZFN0YXJ0LnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm0udHJhbnNsYXRlKG5ld1N0YXJ0IC0gc2NhbGVkU3RhcnQueCwgcmVjdC5vcmlnaW4ueSAtIHNjYWxlZFN0YXJ0LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlKHNjYWxlLCBzY2FsZSk7XG5cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdEdyb3VwcygpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zLCBjaGlsZHJlbiB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBsaW5lU3BhY2luZywgd3JhcCwgc3BhY2luZyB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2l6ZUZpZWxkID0gdGhpcy5fZmllbGRNYXAuc2l6ZUZpZWxkO1xuICAgICAgICBsZXQgZ3JvdXAgPSB0aGlzLl9uZXdHcm91cCgpO1xuICAgICAgICBjb25zdCBncm91cHMgPSBbXTtcbiAgICAgICAgY29uc3QgYWRkR3JvdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICAgICAgICAgIGdyb3Vwc1NpemUgKz0gZ3JvdXAubGluZVNpemUgKyBsaW5lU3BhY2luZztcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGdyb3Vwc1NpemUgPSAtbGluZVNwYWNpbmc7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBjaGlsZHJlbltpZHhdO1xuICAgICAgICAgICAgbGV0IGJib3ggPSBjaGlsZHJlbltpZHhdLmNsaXBwZWRCQm94KCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC52aXNpYmxlKCkgJiYgYmJveCkge1xuICAgICAgICAgICAgICAgIGlmICh3cmFwICYmIGdyb3VwLnNpemUgKyBiYm94LnNpemVbc2l6ZUZpZWxkXSArIHNwYWNpbmcgPiB0aGlzLl9yZWN0LnNpemVbc2l6ZUZpZWxkXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JvdXAuYmJveGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVG9Hcm91cChncm91cCwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSB0aGlzLl9uZXdHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkR3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwID0gdGhpcy5fbmV3R3JvdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZFRvR3JvdXAoZ3JvdXAsIGJib3gsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkVG9Hcm91cChncm91cCwgYmJveCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdyb3VwLmJib3hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZEdyb3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ3JvdXBzOiBncm91cHMsXG4gICAgICAgICAgICBncm91cHNTaXplOiBncm91cHNTaXplXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX2FkZFRvR3JvdXAoZ3JvdXAsIGJib3gsIGVsZW1lbnQpIHtcbiAgICAgICAgZ3JvdXAuc2l6ZSArPSBiYm94LnNpemVbdGhpcy5fZmllbGRNYXAuc2l6ZUZpZWxkXSArIHRoaXMub3B0aW9ucy5zcGFjaW5nO1xuICAgICAgICBncm91cC5saW5lU2l6ZSA9IE1hdGgubWF4KGJib3guc2l6ZVt0aGlzLl9maWVsZE1hcC5ncm91cHNTaXplRmllbGRdLCBncm91cC5saW5lU2l6ZSk7XG4gICAgICAgIGdyb3VwLmJib3hlcy5wdXNoKGJib3gpO1xuICAgICAgICBncm91cC5lbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIF9uZXdHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmVTaXplOiAwLFxuICAgICAgICAgICAgc2l6ZTogLXRoaXMub3B0aW9ucy5zcGFjaW5nLFxuICAgICAgICAgICAgYmJveGVzOiBbXSxcbiAgICAgICAgICAgIGVsZW1lbnRzOiBbXVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGF5b3V0OyIsImltcG9ydCB3aXRoR2VvbWV0cnkgZnJvbSAnLi4vbWl4aW5zL3dpdGgtZ2VvbWV0cnknO1xuaW1wb3J0IEVsZW1lbnQgZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCBwYWludGFibGUgZnJvbSAnLi4vbWl4aW5zL3BhaW50YWJsZSc7XG5pbXBvcnQgbWVhc3VyYWJsZSBmcm9tICcuLi9taXhpbnMvbWVhc3VyYWJsZSc7XG5pbXBvcnQgR2VvbWV0cnlSZWN0IGZyb20gJy4uL2dlb21ldHJ5L3JlY3QnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmNsYXNzIFJlY3QgZXh0ZW5kcyBwYWludGFibGUobWVhc3VyYWJsZSh3aXRoR2VvbWV0cnkoRWxlbWVudCkpKSB7XG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJSZWN0XCI7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnlSZWN0KCksIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5KGdlb21ldHJ5KTtcblxuICAgICAgICBpZiAoIWRlZmluZWQodGhpcy5vcHRpb25zLnN0cm9rZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3Ryb2tlKFwiIzAwMFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9iYm94KG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2VvbWV0cnkuYmJveChtYXRyaXgpO1xuICAgIH1cblxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZW9tZXRyeS5iYm94KCk7XG4gICAgfVxuXG4gICAgX2NvbnRhaW5zUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dlb21ldHJ5LmNvbnRhaW5zUG9pbnQocG9pbnQpO1xuICAgIH1cblxuICAgIF9pc09uUGF0aChwb2ludCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeSgpLl9pc09uUGF0aChwb2ludCwgdGhpcy5vcHRpb25zLnN0cm9rZS53aWR0aCAvIDIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVjdDtcbiIsImltcG9ydCB0cmFuc2xhdGVUb1BvaW50IGZyb20gJy4vdHJhbnNsYXRlLXRvLXBvaW50JztcbmltcG9ydCBhbGlnblN0YXJ0IGZyb20gJy4vYWxpZ24tc3RhcnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbGlnbkVsZW1lbnRzKGVsZW1lbnRzLCByZWN0LCBhbGlnbm1lbnQsIGF4aXMsIHNpemVGaWVsZCkge1xuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgY29uc3QgYmJveCA9IGVsZW1lbnRzW2lkeF0uY2xpcHBlZEJCb3goKTtcbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gYmJveC5vcmlnaW4uY2xvbmUoKTtcbiAgICAgICAgICAgIHBvaW50W2F4aXNdID0gYWxpZ25TdGFydChiYm94LnNpemVbc2l6ZUZpZWxkXSwgcmVjdCwgYWxpZ25tZW50IHx8IFwic3RhcnRcIiwgYXhpcywgc2l6ZUZpZWxkKTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVRvUG9pbnQocG9pbnQsIGJib3gsIGVsZW1lbnRzW2lkeF0pO1xuICAgICAgICB9XG4gICAgfVxufSIsIlxuaW1wb3J0IGFsaWduRWxlbWVudHMgZnJvbSAnLi9hbGlnbi1lbGVtZW50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFsaWduKGVsZW1lbnRzLCByZWN0LCBhbGlnbm1lbnQpIHtcbiAgICBhbGlnbkVsZW1lbnRzKGVsZW1lbnRzLCByZWN0LCBhbGlnbm1lbnQsIFwieFwiLCBcIndpZHRoXCIpO1xufSIsImltcG9ydCBhbGlnbkVsZW1lbnRzIGZyb20gJy4vYWxpZ24tZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2QWxpZ24oZWxlbWVudHMsIHJlY3QsIGFsaWdubWVudCkge1xuICAgIGFsaWduRWxlbWVudHMoZWxlbWVudHMsIHJlY3QsIGFsaWdubWVudCwgXCJ5XCIsIFwiaGVpZ2h0XCIpO1xufSIsImltcG9ydCBQb2ludCBmcm9tICcuLi9nZW9tZXRyeS9wb2ludCc7XG5pbXBvcnQgdHJhbnNsYXRlVG9Qb2ludCBmcm9tICcuL3RyYW5zbGF0ZS10by1wb2ludCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YWNrRWxlbWVudHMoZWxlbWVudHMsIHN0YWNrQXhpcywgb3RoZXJBeGlzLCBzaXplRmllbGQpIHtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCBvcmlnaW4gPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgbGV0IHByZXZpb3VzQkJveCA9IGVsZW1lbnRzWzBdLmJib3g7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMTsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpZHhdLmVsZW1lbnQ7XG4gICAgICAgICAgICBsZXQgYmJveCA9IGVsZW1lbnRzW2lkeF0uYmJveDtcbiAgICAgICAgICAgIG9yaWdpbltzdGFja0F4aXNdID0gcHJldmlvdXNCQm94Lm9yaWdpbltzdGFja0F4aXNdICsgcHJldmlvdXNCQm94LnNpemVbc2l6ZUZpZWxkXTtcbiAgICAgICAgICAgIG9yaWdpbltvdGhlckF4aXNdID0gYmJveC5vcmlnaW5bb3RoZXJBeGlzXTtcbiAgICAgICAgICAgIHRyYW5zbGF0ZVRvUG9pbnQob3JpZ2luLCBiYm94LCBlbGVtZW50KTtcbiAgICAgICAgICAgIGJib3gub3JpZ2luW3N0YWNrQXhpc10gPSBvcmlnaW5bc3RhY2tBeGlzXTtcbiAgICAgICAgICAgIHByZXZpb3VzQkJveCA9IGJib3g7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU3RhY2tFbGVtZW50cyhlbGVtZW50cykge1xuICAgIGNvbnN0IHN0YWNrRWxlbWVudHMgPSBbXTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpZHhdO1xuICAgICAgICBsZXQgYmJveCA9IGVsZW1lbnQuY2xpcHBlZEJCb3goKTtcbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIHN0YWNrRWxlbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBiYm94OiBiYm94XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGFja0VsZW1lbnRzO1xufSIsImltcG9ydCBzdGFja0VsZW1lbnRzIGZyb20gJy4vc3RhY2stZWxlbWVudHMnO1xuaW1wb3J0IGNyZWF0ZVN0YWNrRWxlbWVudHMgZnJvbSAnLi9jcmVhdGUtc3RhY2stZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFjayhlbGVtZW50cykge1xuICAgIHN0YWNrRWxlbWVudHMoY3JlYXRlU3RhY2tFbGVtZW50cyhlbGVtZW50cyksIFwieFwiLCBcInlcIiwgXCJ3aWR0aFwiKTtcbn0iLCJpbXBvcnQgc3RhY2tFbGVtZW50cyBmcm9tICcuL3N0YWNrLWVsZW1lbnRzJztcbmltcG9ydCBjcmVhdGVTdGFja0VsZW1lbnRzIGZyb20gJy4vY3JlYXRlLXN0YWNrLWVsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdlN0YWNrKGVsZW1lbnRzKSB7XG4gICAgc3RhY2tFbGVtZW50cyhjcmVhdGVTdGFja0VsZW1lbnRzKGVsZW1lbnRzKSwgXCJ5XCIsIFwieFwiLCBcImhlaWdodFwiKTtcbn0iLCJpbXBvcnQgdHJhbnNsYXRlVG9Qb2ludCBmcm9tICcuL3RyYW5zbGF0ZS10by1wb2ludCc7XG5pbXBvcnQgc3RhY2tFbGVtZW50cyBmcm9tICcuL3N0YWNrLWVsZW1lbnRzJztcblxuZnVuY3Rpb24gZ2V0U3RhY2tzKGVsZW1lbnRzLCByZWN0LCBzaXplRmllbGQpIHtcbiAgICBjb25zdCBtYXhTaXplID0gcmVjdC5zaXplW3NpemVGaWVsZF07XG4gICAgY29uc3Qgc3RhY2tzID0gW107XG4gICAgbGV0IHN0YWNrID0gW107XG4gICAgbGV0IHN0YWNrU2l6ZSA9IDA7XG4gICAgbGV0IGVsZW1lbnQsIGJib3g7XG5cbiAgICBjb25zdCBhZGRFbGVtZW50VG9TdGFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBiYm94OiBiYm94XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlbGVtZW50cy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50c1tpZHhdO1xuXG4gICAgICAgIGJib3ggPSBlbGVtZW50LmNsaXBwZWRCQm94KCk7XG4gICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGJib3guc2l6ZVtzaXplRmllbGRdO1xuICAgICAgICAgICAgaWYgKHN0YWNrU2l6ZSArIHNpemUgPiBtYXhTaXplKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFja3MucHVzaChzdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gW107XG4gICAgICAgICAgICAgICAgICAgIGFkZEVsZW1lbnRUb1N0YWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrU2l6ZSA9IHNpemU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkRWxlbWVudFRvU3RhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2tzLnB1c2goc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBzdGFja1NpemUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkRWxlbWVudFRvU3RhY2soKTtcbiAgICAgICAgICAgICAgICBzdGFja1NpemUgKz0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgc3RhY2tzLnB1c2goc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFja3M7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdyYXBFbGVtZW50cyhlbGVtZW50cywgcmVjdCwgYXhpcywgb3RoZXJBeGlzLCBzaXplRmllbGQpIHtcbiAgICBjb25zdCBzdGFja3MgPSBnZXRTdGFja3MoZWxlbWVudHMsIHJlY3QsIHNpemVGaWVsZCk7XG4gICAgY29uc3Qgb3JpZ2luID0gcmVjdC5vcmlnaW4uY2xvbmUoKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0YWNrcy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGxldCBzdGFjayA9IHN0YWNrc1tpZHhdO1xuICAgICAgICBsZXQgc3RhcnRFbGVtZW50ID0gc3RhY2tbMF07XG4gICAgICAgIG9yaWdpbltvdGhlckF4aXNdID0gc3RhcnRFbGVtZW50LmJib3gub3JpZ2luW290aGVyQXhpc107XG4gICAgICAgIHRyYW5zbGF0ZVRvUG9pbnQob3JpZ2luLCBzdGFydEVsZW1lbnQuYmJveCwgc3RhcnRFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBzdGFydEVsZW1lbnQuYmJveC5vcmlnaW5bYXhpc10gPSBvcmlnaW5bYXhpc107XG4gICAgICAgIHN0YWNrRWxlbWVudHMoc3RhY2ssIGF4aXMsIG90aGVyQXhpcywgc2l6ZUZpZWxkKTtcbiAgICAgICAgcmVzdWx0LnB1c2goW10pO1xuICAgICAgICBmb3IgKGxldCBlbGVtZW50SWR4ID0gMDsgZWxlbWVudElkeCA8IHN0YWNrLmxlbmd0aDsgZWxlbWVudElkeCsrKSB7XG4gICAgICAgICAgICByZXN1bHRbaWR4XS5wdXNoKHN0YWNrW2VsZW1lbnRJZHhdLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59IiwiaW1wb3J0IHdyYXBFbGVtZW50cyBmcm9tICcuL3dyYXAtZWxlbWVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB3cmFwKGVsZW1lbnRzLCByZWN0KSB7XG4gICAgcmV0dXJuIHdyYXBFbGVtZW50cyhlbGVtZW50cywgcmVjdCwgXCJ4XCIsIFwieVwiLCBcIndpZHRoXCIpO1xufSIsImltcG9ydCB3cmFwRWxlbWVudHMgZnJvbSAnLi93cmFwLWVsZW1lbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdldyYXAoZWxlbWVudHMsIHJlY3QpIHtcbiAgICByZXR1cm4gd3JhcEVsZW1lbnRzKGVsZW1lbnRzLCByZWN0LCBcInlcIiwgXCJ4XCIsIFwiaGVpZ2h0XCIpO1xufSIsImltcG9ydCBjcmVhdGVUcmFuc2Zvcm0gZnJvbSAnLi4vZ2VvbWV0cnkvdHJhbnNmb3JtJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZml0KGVsZW1lbnQsIHJlY3QpIHtcbiAgICBjb25zdCBiYm94ID0gZWxlbWVudC5jbGlwcGVkQkJveCgpO1xuICAgIGlmIChiYm94KSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRTaXplID0gYmJveC5zaXplO1xuICAgICAgICBjb25zdCByZWN0U2l6ZSA9IHJlY3Quc2l6ZTtcbiAgICAgICAgaWYgKHJlY3RTaXplLndpZHRoIDwgZWxlbWVudFNpemUud2lkdGggfHwgcmVjdFNpemUuaGVpZ2h0IDwgZWxlbWVudFNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKHJlY3RTaXplLndpZHRoIC8gZWxlbWVudFNpemUud2lkdGgsIHJlY3RTaXplLmhlaWdodCAvIGVsZW1lbnRTaXplLmhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBlbGVtZW50LnRyYW5zZm9ybSgpIHx8IGNyZWF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNjYWxlKHNjYWxlLCBzY2FsZSk7XG4gICAgICAgICAgICBlbGVtZW50LnRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBFbGVtZW50c0FycmF5IGZyb20gJy4uL3NoYXBlcy9lbGVtZW50cy1hcnJheSc7XG5cbmNsYXNzIFN0b3BzQXJyYXkgZXh0ZW5kcyBFbGVtZW50c0FycmF5IHtcbiAgICBfY2hhbmdlKCkge1xuICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2Uoe1xuICAgICAgICAgICAgZmllbGQ6IFwic3RvcHNcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN0b3BzQXJyYXk7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5mdW5jdGlvbiBvcHRpb25zQWNjZXNzb3IobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmdldChuYW1lKTtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zQWNjZXNzb3JzKGZuLCBuYW1lcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm5bbmFtZXNbaV1dID0gb3B0aW9uc0FjY2Vzc29yKG5hbWVzW2ldKTtcbiAgICB9XG59XG5cbmNvbnN0IHdpdGhPcHRpb25zID0gKFRCYXNlLCBuYW1lcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNsYXNzIGV4dGVuZHMgVEJhc2Uge307XG4gICAgZGVmaW5lT3B0aW9uc0FjY2Vzc29ycyhyZXN1bHQucHJvdG90eXBlLCBuYW1lcyk7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2l0aE9wdGlvbnM7XG4iLCJpbXBvcnQgT3B0aW9uc1N0b3JlIGZyb20gJy4uL2NvcmUvb3B0aW9ucy1zdG9yZSc7XG5pbXBvcnQgd2l0aE9wdGlvbnMgZnJvbSAnLi4vbWl4aW5zL3dpdGgtb3B0aW9ucyc7XG5pbXBvcnQgSGFzT2JzZXJ2ZXJzIGZyb20gJy4uL2NvcmUvaGFzLW9ic2VydmVycyc7XG5pbXBvcnQgeyBkZWZpbmVkIH0gZnJvbSAnLi4vdXRpbCc7XG5cblxuY29uc3Qgb3B0aW9ucyA9IFsgXCJvZmZzZXRcIiwgXCJjb2xvclwiLCBcIm9wYWNpdHlcIiBdO1xuXG5jbGFzcyBHcmFkaWVudFN0b3AgZXh0ZW5kcyB3aXRoT3B0aW9ucyhIYXNPYnNlcnZlcnMsIG9wdGlvbnMpIHtcbiAgICBjb25zdHJ1Y3RvcihvZmZzZXQsIGNvbG9yLCBvcGFjaXR5KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gbmV3IE9wdGlvbnNTdG9yZSh7XG4gICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgIG9wYWNpdHk6IGRlZmluZWQob3BhY2l0eSkgPyBvcGFjaXR5IDogMVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShhcmcpIHtcbiAgICAgICAgaWYgKGRlZmluZWQoYXJnKSkge1xuICAgICAgICAgICAgbGV0IHN0b3A7XG4gICAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgR3JhZGllbnRTdG9wKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGFyZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJnLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gbmV3IEdyYWRpZW50U3RvcChhcmdbMF0sIGFyZ1sxXSwgYXJnWzJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IG5ldyBHcmFkaWVudFN0b3AoYXJnLm9mZnNldCwgYXJnLmNvbG9yLCBhcmcub3BhY2l0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzdG9wO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmFkaWVudFN0b3A7XG4iLCJpbXBvcnQgU3RvcHNBcnJheSBmcm9tICcuL3N0b3BzLWFycmF5JztcbmltcG9ydCBHcmFkaWVudFN0b3AgZnJvbSAnLi9ncmFkaWVudC1zdG9wJztcbmltcG9ydCBIYXNPYnNlcnZlcnMgZnJvbSAnLi4vY29yZS9oYXMtb2JzZXJ2ZXJzJztcbmltcG9ydCB7IGRlZmluZWQsIGRlZmluaXRpb25JZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBHcmFkaWVudCBleHRlbmRzIEhhc09ic2VydmVycyB7XG4gICAgZ2V0IG5vZGVUeXBlKCkge1xuICAgICAgICByZXR1cm4gXCJHcmFkaWVudFwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuc3RvcHMgPSBuZXcgU3RvcHNBcnJheSh0aGlzLl9jcmVhdGVTdG9wcyhvcHRpb25zLnN0b3BzKSk7XG4gICAgICAgIHRoaXMuc3RvcHMuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuX3VzZXJTcGFjZSA9IG9wdGlvbnMudXNlclNwYWNlO1xuICAgICAgICB0aGlzLmlkID0gZGVmaW5pdGlvbklkKCk7XG4gICAgfVxuXG4gICAgdXNlclNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fdXNlclNwYWNlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJTcGFjZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlU3RvcHMoc3RvcHMgPSBbXSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3RvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goR3JhZGllbnRTdG9wLmNyZWF0ZShzdG9wc1tpZHhdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGFkZFN0b3Aob2Zmc2V0LCBjb2xvciwgb3BhY2l0eSkge1xuICAgICAgICB0aGlzLnN0b3BzLnB1c2gobmV3IEdyYWRpZW50U3RvcChvZmZzZXQsIGNvbG9yLCBvcGFjaXR5KSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlU3RvcChzdG9wKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zdG9wcy5pbmRleE9mKHN0b3ApO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIHRoaXMudHJpZ2dlcihcIm9wdGlvbnNDaGFuZ2VcIiwge1xuICAgICAgICAgICAgZmllbGQ6IFwiZ3JhZGllbnRcIiArIChlID8gXCIuXCIgKyBlLmZpZWxkIDogXCJcIiksXG4gICAgICAgICAgICB2YWx1ZTogdGhpc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zQ2hhbmdlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmFkaWVudDtcbiIsImltcG9ydCB3aXRoUG9pbnRzIGZyb20gJy4uL21peGlucy93aXRoLXBvaW50cyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuaW1wb3J0IEdyYWRpZW50IGZyb20gJy4vZ3JhZGllbnQnO1xuXG5cbmNvbnN0IHBvaW50cyA9IFsgXCJzdGFydFwiLCBcImVuZFwiIF07XG5cbmNsYXNzIExpbmVhckdyYWRpZW50IGV4dGVuZHMgd2l0aFBvaW50cyhHcmFkaWVudCwgcG9pbnRzKSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuc3RhcnQob3B0aW9ucy5zdGFydCB8fCBuZXcgUG9pbnQoKSk7XG4gICAgICAgIHRoaXMuZW5kKG9wdGlvbnMuZW5kIHx8IG5ldyBQb2ludCgxLCAwKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMaW5lYXJHcmFkaWVudDtcbiIsImltcG9ydCB3aXRoUG9pbnRzIGZyb20gJy4uL21peGlucy93aXRoLXBvaW50cyc7XG5pbXBvcnQgUG9pbnQgZnJvbSAnLi4vZ2VvbWV0cnkvcG9pbnQnO1xuaW1wb3J0IEdyYWRpZW50IGZyb20gJy4vZ3JhZGllbnQnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5cbmNsYXNzIFJhZGlhbEdyYWRpZW50IGV4dGVuZHMgd2l0aFBvaW50cyhHcmFkaWVudCwgWyBcImNlbnRlclwiIF0pIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5jZW50ZXIob3B0aW9ucy5jZW50ZXIgfHwgbmV3IFBvaW50KCkpO1xuICAgICAgICB0aGlzLl9yYWRpdXMgPSBkZWZpbmVkKG9wdGlvbnMucmFkaXVzKSA/IG9wdGlvbnMucmFkaXVzIDogMTtcbiAgICAgICAgdGhpcy5fZmFsbGJhY2tGaWxsID0gb3B0aW9ucy5mYWxsYmFja0ZpbGw7XG4gICAgfVxuXG4gICAgcmFkaXVzKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fcmFkaXVzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2hhbmdlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9yYWRpdXM7XG4gICAgfVxuXG4gICAgZmFsbGJhY2tGaWxsKHZhbHVlKSB7XG4gICAgICAgIGlmIChkZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fZmFsbGJhY2tGaWxsID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhbGxiYWNrRmlsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlhbEdyYWRpZW50O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHN3aW5nKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHBvc2l0aW9uICogTWF0aC5QSSkgLyAyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHBvc2l0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEVsYXN0aWMocG9zaXRpb24sIHRpbWUsIHN0YXJ0LCBkaWZmKSB7XG4gICAgbGV0IHMgPSAxLjcwMTU4LFxuICAgICAgICBwID0gMCxcbiAgICAgICAgYSA9IGRpZmY7XG5cbiAgICBpZiAocG9zaXRpb24gPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhcnQgKyBkaWZmO1xuICAgIH1cblxuICAgIGlmICghcCkge1xuICAgICAgICBwID0gMC41O1xuICAgIH1cblxuICAgIGlmIChhIDwgTWF0aC5hYnMoZGlmZikpIHtcbiAgICAgICAgYSA9IGRpZmY7XG4gICAgICAgIHMgPSBwIC8gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oZGlmZiAvIGEpO1xuICAgIH1cblxuICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogcG9zaXRpb24pICpcbiAgICAgICAgICAgTWF0aC5zaW4oKE51bWJlcihwb3NpdGlvbikgLSBzKSAqICgxLjEgKiBNYXRoLlBJKSAvIHApICsgZGlmZiArIHN0YXJ0O1xufVxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5sZXQgaW5zdGFuY2U7XG5cbmNsYXNzIEFuaW1hdGlvbkZhY3RvcnkgZXh0ZW5kcyBDbGFzcyB7XG4gICAgc3RhdGljIGdldCBjdXJyZW50KCkge1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBBbmltYXRpb25GYWN0b3J5KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihuYW1lLCB0eXBlKSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgICAgbGV0IG1hdGNoO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudHlwZSkge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1hdGNoLnR5cGUoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGlvbkZhY3Rvcnk7XG4iLCJpbXBvcnQgKiBhcyBlYXNpbmdGdW5jdGlvbnMgZnJvbSAnLi9lYXNpbmctZnVuY3Rpb25zJztcbmltcG9ydCB7IGxpbWl0VmFsdWUsIG5vdyB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgYW5pbWF0aW9uRnJhbWUsIENsYXNzIH0gZnJvbSAnLi4vY29tbW9uJztcbmltcG9ydCBBbmltYXRpb25GYWN0b3J5IGZyb20gJy4vYW5pbWF0aW9uLWZhY3RvcnknO1xuXG5jbGFzcyBBbmltYXRpb24gZXh0ZW5kcyBDbGFzcyB7XG4gICAgc3RhdGljIGNyZWF0ZSh0eXBlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBbmltYXRpb25GYWN0b3J5LmN1cnJlbnQuY3JlYXRlKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucyB8fCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgZWFzaW5nOiBcInN3aW5nXCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXQgb3B0aW9ucyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0dXAoKSB7fVxuICAgIHN0ZXAoKSB7fVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBkdXJhdGlvbiwgZGVsYXkgPSAwIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBlYXNpbmcgPSBlYXNpbmdGdW5jdGlvbnNbb3B0aW9ucy5lYXNpbmddO1xuICAgICAgICBjb25zdCBzdGFydCA9IG5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGZpbmlzaCA9IHN0YXJ0ICsgZHVyYXRpb247XG5cbiAgICAgICAgaWYgKGR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXAoMSk7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb29wID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FsbFRpbWUgPSBub3coKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbGltaXRWYWx1ZSh3YWxsVGltZSAtIHN0YXJ0LCAwLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGltZSAvIGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlYXNpbmdQb3NpdGlvbiA9IGVhc2luZyhwb3NpdGlvbiwgdGltZSwgMCwgMSwgZHVyYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RlcChlYXNpbmdQb3NpdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhbGxUaW1lIDwgZmluaXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsb29wKCk7XG4gICAgICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fc3RvcHBlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQW5pbWF0aW9uO1xuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgTXVsdGlQYXRoIH0gZnJvbSAnLi4vc2hhcGVzL3BhdGgnO1xuaW1wb3J0IHBhcnNlUGF0aCBmcm9tICcuL3BhcnNlLXBhdGgnO1xuXG5sZXQgaW5zdGFuY2U7XG5cbmNsYXNzIFBhdGhQYXJzZXIgZXh0ZW5kcyBDbGFzcyB7XG4gICAgc3RhdGljIGdldCBjdXJyZW50KCkge1xuICAgICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IG5ldyBQYXRoUGFyc2VyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG11bHRpUGF0aCA9IG5ldyBNdWx0aVBhdGgob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBwYXJzZVBhdGgobXVsdGlQYXRoLCBzdHIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUGF0aFBhcnNlcjtcblxuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBCYXNlTm9kZSBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihzcmNFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICBpZiAoc3JjRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zcmNFbGVtZW50ID0gc3JjRWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3JjRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5zcmNFbGVtZW50LnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGROb2Rlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgbG9hZCgpIHt9XG5cbiAgICBvYnNlcnZlKCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNyY0VsZW1lbnQuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBlbmQobm9kZSkge1xuICAgICAgICB0aGlzLmNoaWxkTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzO1xuICAgIH1cblxuICAgIGluc2VydEF0KG5vZGUsIHBvcykge1xuICAgICAgICB0aGlzLmNoaWxkTm9kZXMuc3BsaWNlKHBvcywgMCwgbm9kZSk7XG4gICAgICAgIG5vZGUucGFyZW50ID0gdGhpcztcbiAgICB9XG5cbiAgICByZW1vdmUoaW5kZXgsIGNvdW50KSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IGluZGV4ICsgY291bnQ7XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkTm9kZXNbaV0ucmVtb3ZlU2VsZigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIGNvdW50KTtcbiAgICB9XG5cbiAgICByZW1vdmVTZWxmKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnJlbW92ZSgwLCB0aGlzLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmludmFsaWRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlb21ldHJ5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBjaGlsZHJlbkNoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLmFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdGhpcy5sb2FkKGUuaXRlbXMsIGUuaW5kZXgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUuYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShlLmluZGV4LCBlLml0ZW1zLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2VOb2RlOyIsImltcG9ydCBHcm91cCBmcm9tICcuLi9zaGFwZXMvZ3JvdXAnO1xuaW1wb3J0IFBvaW50IGZyb20gJy4uL2dlb21ldHJ5L3BvaW50JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZXZlbnRFbGVtZW50LCBldmVudENvb3JkaW5hdGVzLCBlbGVtZW50UGFkZGluZywgZWxlbWVudFNjYWxlLCBlbGVtZW50U2l6ZSwgZWxlbWVudE9mZnNldCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBldmVudHMgPSBbXG4gICAgXCJjbGlja1wiLFxuICAgIFwibW91c2VlbnRlclwiLFxuICAgIFwibW91c2VsZWF2ZVwiLFxuICAgIFwibW91c2Vtb3ZlXCIsXG4gICAgXCJyZXNpemVcIlxuXTtcblxuY2xhc3MgU3VyZmFjZSBleHRlbmRzIE9ic2VydmFibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5lbGVtZW50Ll9rZW5kb0V4cG9ydFZpc3VhbCA9IHRoaXMuZXhwb3J0VmlzdWFsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY2xpY2sgPSB0aGlzLl9oYW5kbGVyKFwiY2xpY2tcIik7XG4gICAgICAgIHRoaXMuX21vdXNlZW50ZXIgPSB0aGlzLl9oYW5kbGVyKFwibW91c2VlbnRlclwiKTtcbiAgICAgICAgdGhpcy5fbW91c2VsZWF2ZSA9IHRoaXMuX2hhbmRsZXIoXCJtb3VzZWxlYXZlXCIpO1xuICAgICAgICB0aGlzLl9tb3VzZW1vdmUgPSB0aGlzLl9oYW5kbGVyKFwibW91c2Vtb3ZlXCIpO1xuXG4gICAgICAgIHRoaXMuX3Zpc3VhbCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIGVsZW1lbnRTaXplKGVsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5iaW5kKGV2ZW50cywgdGhpcy5vcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9lbmFibGVUcmFja2luZygpO1xuICAgIH1cblxuICAgIGRyYXcoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl92aXN1YWwuY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fdmlzdWFsLmNoaWxkcmVuID0gW107XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fdmlzdWFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbGVtZW50Ll9rZW5kb0V4cG9ydFZpc3VhbCA9IG51bGw7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfVxuXG4gICAgZXZlbnRUYXJnZXQoZSkge1xuICAgICAgICBsZXQgZG9tTm9kZSA9IGV2ZW50RWxlbWVudChlKTtcbiAgICAgICAgbGV0IG5vZGU7XG5cbiAgICAgICAgd2hpbGUgKCFub2RlICYmIGRvbU5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUgPSBkb21Ob2RlLl9rZW5kb05vZGU7XG4gICAgICAgICAgICBpZiAoZG9tTm9kZSA9PT0gdGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvbU5vZGUgPSBkb21Ob2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuc3JjRWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc3VhbDtcbiAgICB9XG5cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFNpemUodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICBjdXJyZW50U2l6ZShzaXplKSB7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U2l6ZShzaXplKSB7XG4gICAgICAgIGVsZW1lbnRTaXplKHRoaXMuZWxlbWVudCwgc2l6ZSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50U2l6ZShzaXplKTtcbiAgICAgICAgdGhpcy5fcmVzaXplKCk7XG4gICAgfVxuXG4gICAgcmVzaXplKGZvcmNlKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNpemUgPSB0aGlzLmN1cnJlbnRTaXplKCk7XG5cbiAgICAgICAgaWYgKGZvcmNlIHx8IChzaXplLndpZHRoID4gMCB8fCBzaXplLmhlaWdodCA+IDApICYmICghY3VycmVudFNpemUgfHwgc2l6ZS53aWR0aCAhPT0gY3VycmVudFNpemUud2lkdGggfHwgc2l6ZS5oZWlnaHQgIT09IGN1cnJlbnRTaXplLmhlaWdodCkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNpemUoc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemUoc2l6ZSwgZm9yY2UpO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwicmVzaXplXCIsIHNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2l6ZSh2YWx1ZSkge1xuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTaXplKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFNpemUodmFsdWUpO1xuICAgIH1cblxuICAgIHN1c3BlbmRUcmFja2luZygpIHtcbiAgICAgICAgdGhpcy5fc3VzcGVuZGVkVHJhY2tpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHJlc3VtZVRyYWNraW5nKCkge1xuICAgICAgICB0aGlzLl9zdXNwZW5kZWRUcmFja2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9lbmFibGVUcmFja2luZygpIHt9XG5cbiAgICBfcmVzaXplKCkge31cblxuICAgIF9oYW5kbGVyKGV2ZW50TmFtZSkge1xuICAgICAgICByZXR1cm4gKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmV2ZW50VGFyZ2V0KGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUgJiYgIXRoaXMuX3N1c3BlbmRlZFRyYWNraW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBub2RlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBldmVudE5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZWxlbWVudE9mZnNldCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IGVsZW1lbnRQYWRkaW5nKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCB7IGxlZnQsIHRvcCB9ID0gZWxlbWVudE9mZnNldChlbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogbGVmdCArIHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIHRvcDogdG9wICsgcGFkZGluZy50b3BcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfc3VyZmFjZVBvaW50KGUpIHtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5fZWxlbWVudE9mZnNldCgpO1xuICAgICAgICBjb25zdCBjb29yZCA9IGV2ZW50Q29vcmRpbmF0ZXMoZSk7XG4gICAgICAgIGNvbnN0IHggPSBjb29yZC54IC0gb2Zmc2V0LmxlZnQ7XG4gICAgICAgIGNvbnN0IHkgPSBjb29yZC55IC0gb2Zmc2V0LnRvcDtcblxuICAgICAgICBjb25zdCBpbnZlcnNlVHJhbnNmb3JtID0gZWxlbWVudFNjYWxlKHRoaXMuZWxlbWVudCkuaW52ZXJ0KCk7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gbmV3IFBvaW50KFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHlcbiAgICAgICAgKS50cmFuc2Zvcm0oaW52ZXJzZVRyYW5zZm9ybSk7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VyZmFjZTtcbiIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyQXR0cihuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiAoZGVmaW5lZCh2YWx1ZSkgJiYgdmFsdWUgIT09IG51bGwpID8gYCAkeyBuYW1lIH09XCIkeyB2YWx1ZSB9XCIgYCA6IFwiXCI7XG59IiwiaW1wb3J0IHJlbmRlckF0dHIgZnJvbSAnLi9yZW5kZXItYXR0cmlidXRlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyQWxsQXR0cihhdHRycykge1xuICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0cHV0ICs9IHJlbmRlckF0dHIoYXR0cnNbaV1bMF0sIGF0dHJzW2ldWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufSIsImltcG9ydCB7IGRlZmluZWQgfSBmcm9tICcuLi8uLi91dGlsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyU3R5bGUoYXR0cnMpIHtcbiAgICBsZXQgb3V0cHV0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGF0dHJzW2ldWzFdO1xuICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBhdHRyc1tpXVswXSArIFwiOlwiICsgdmFsdWUgKyBcIjtcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvdXRwdXQgIT09IFwiXCIpIHtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG59IiwiY29uc3QgTk9ERV9NQVAgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgTk9ERV9NQVA7IiwiY29uc3QgU1ZHX05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgTk9ORSA9IFwibm9uZVwiO1xuY29uc3QgUE9JTlRfRElHSVRTID0gMztcblxuZXhwb3J0IHsgU1ZHX05TLCBOT05FLCBQT0lOVF9ESUdJVFMgfTsiLCJpbXBvcnQgeyBTVkdfTlMgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuXG5jb25zdCBhcHBseVN0eWxlID0gKHN0eWxlU3RyaW5nLCBlbGVtZW50KSA9PlxuICAgIHN0eWxlU3RyaW5nLnNwbGl0KCc7JykuZmlsdGVyKHMgPT4gcyAhPT0gJycpLmZvckVhY2gocyA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcy5zcGxpdCgnOicpO1xuICAgICAgICBlbGVtZW50LnN0eWxlW3BhcnRzWzBdLnRyaW0oKV0gPSBwYXJ0c1sxXS50cmltKCk7XG4gICAgfSk7XG5cbmNvbnN0IHN0eWxlQXR0ciA9ICdkYXRhLXN0eWxlJztcbmNvbnN0IHJlcGxhY2VTdHlsZUF0dHIgPSAoaHRtbCkgPT4gaHRtbC5yZXBsYWNlKC9cXHNzdHlsZT0vZywgJyAnICsgc3R5bGVBdHRyICsgJz0nKTtcbmNvbnN0IHJlc3RvcmVTdHlsZUF0dHIgPSAoY29udGFpbmVyKSA9PiB7XG4gICAgQXJyYXkuZnJvbShjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnWycgKyBzdHlsZUF0dHIgKyddJykpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGVTdHJpbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShzdHlsZUF0dHIpO1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShzdHlsZUF0dHIpO1xuICAgICAgICBhcHBseVN0eWxlKHN0eWxlU3RyaW5nLCBlbGVtZW50KTtcbiAgICB9KTtcbn07XG5cbmxldCByZW5kZXJTVkcgPSBmdW5jdGlvbihjb250YWluZXIsIHN2Zykge1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSByZXBsYWNlU3R5bGVBdHRyKHN2Zyk7XG4gICAgcmVzdG9yZVN0eWxlQXR0cihjb250YWluZXIpO1xufTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHRlc3RGcmFnbWVudCA9IFwiPHN2ZyB4bWxucz0nXCIgKyBTVkdfTlMgKyBcIic+PC9zdmc+XCI7XG4gICAgY29uc3QgdGVzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgaGFzUGFyc2VyID0gdHlwZW9mIERPTVBhcnNlciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIHRlc3RDb250YWluZXIuaW5uZXJIVE1MID0gdGVzdEZyYWdtZW50O1xuXG4gICAgaWYgKGhhc1BhcnNlciAmJiB0ZXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJICE9PSBTVkdfTlMpIHtcbiAgICAgICAgcmVuZGVyU1ZHID0gZnVuY3Rpb24oY29udGFpbmVyLCBzdmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0RG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZXBsYWNlU3R5bGVBdHRyKHN2ZyksIFwidGV4dC94bWxcIik7XG4gICAgICAgICAgICByZXN0b3JlU3R5bGVBdHRyKGNoYXJ0RG9jKTtcbiAgICAgICAgICAgIGNvbnN0IGltcG9ydGVkRG9jID0gZG9jdW1lbnQuYWRvcHROb2RlKGNoYXJ0RG9jLmRvY3VtZW50RWxlbWVudCk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGltcG9ydGVkRG9jKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlclNWRztcbiIsImltcG9ydCBCYXNlTm9kZSBmcm9tICcuLi9jb3JlL2Jhc2Utbm9kZSc7XG5pbXBvcnQgcmVuZGVyQWxsQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcyc7XG5pbXBvcnQgcmVuZGVyQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hdHRyaWJ1dGUnO1xuaW1wb3J0IHJlbmRlclN0eWxlIGZyb20gJy4vdXRpbHMvcmVuZGVyLXN0eWxlJztcbmltcG9ydCBOT0RFX01BUCBmcm9tICcuL25vZGUtbWFwJztcbmltcG9ydCByZW5kZXJTVkcgZnJvbSAnLi91dGlscy9yZW5kZXItc3ZnJztcbmltcG9ydCB7IFNWR19OUywgTk9ORSB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IHN1cHBvcnQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jb25zdCBUUkFOU0ZPUk0gPSBcInRyYW5zZm9ybVwiO1xuY29uc3QgRGVmaW5pdGlvbk1hcCA9IHtcbiAgICBjbGlwOiBcImNsaXAtcGF0aFwiLFxuICAgIGZpbGw6IFwiZmlsbFwiXG59O1xuXG5mdW5jdGlvbiBpc0RlZmluaXRpb24odHlwZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZSA9PT0gXCJjbGlwXCIgfHwgKHR5cGUgPT09IFwiZmlsbFwiICYmICghdmFsdWUgfHwgdmFsdWUubm9kZVR5cGUgPT09IFwiR3JhZGllbnRcIikpO1xufVxuXG5mdW5jdGlvbiBiYXNlVXJsKCkge1xuICAgIGNvbnN0IGJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJhc2VcIilbMF07XG4gICAgbGV0IGhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCB1cmwgPSBcIlwiO1xuXG4gICAgaWYgKGJhc2UgJiYgIShzdXBwb3J0LmJyb3dzZXIgfHwge30pLm1zaWUpIHtcbiAgICAgICAgY29uc3QgaGFzaEluZGV4ID0gaHJlZi5pbmRleE9mKFwiI1wiKTtcbiAgICAgICAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGhyZWYgPSBocmVmLnN1YnN0cmluZygwLCBoYXNoSW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsID0gaHJlZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xufVxuXG5jbGFzcyBOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuXG4gICAgY29uc3RydWN0b3Ioc3JjRWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihzcmNFbGVtZW50KTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9ucyA9IHt9O1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50Ll9rZW5kb05vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2xlYXJEZWZpbml0aW9ucygpO1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgbG9hZChlbGVtZW50cywgcG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNyY0VsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc3JjRWxlbWVudC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbmV3IE5PREVfTUFQW3NyY0VsZW1lbnQubm9kZVR5cGVdKHNyY0VsZW1lbnQsIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHBvcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydEF0KGNoaWxkTm9kZSwgcG9zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGROb2RlLmNyZWF0ZURlZmluaXRpb25zKCk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmxvYWQoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuYXR0YWNoVG8oZWxlbWVudCwgcG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvb3QoKSB7XG4gICAgICAgIGxldCByb290ID0gdGhpcztcblxuICAgICAgICB3aGlsZSAocm9vdC5wYXJlbnQpIHtcbiAgICAgICAgICAgIHJvb3QgPSByb290LnBhcmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIGF0dGFjaFRvKGRvbUVsZW1lbnQsIHBvcykge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICByZW5kZXJTVkcoY29udGFpbmVyLFxuICAgICAgICAgICAgXCI8c3ZnIHhtbG5zPSdcIiArIFNWR19OUyArIFwiJyB2ZXJzaW9uPScxLjEnPlwiICtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpICtcbiAgICAgICAgICAgIFwiPC9zdmc+XCJcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gY29udGFpbmVyLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHBvcykpIHtcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBkb21FbGVtZW50LmNoaWxkTm9kZXNbcG9zXSB8fCBudWxsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuX2tlbmRvTm9kZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmVsZW1lbnQuX2tlbmRvTm9kZSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZEVsZW1lbnQgPSBlbGVtZW50LmNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBub2Rlc1tpXS5zZXRFbGVtZW50KGNoaWxkRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jbGVhckRlZmluaXRpb25zKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGlsZE5vZGVzID0gW107XG4gICAgfVxuXG4gICAgcmVtb3ZlU2VsZigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVtb3ZlU2VsZigpO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICByZW5kZXJDaGlsZHJlbigpIHtcbiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmNoaWxkTm9kZXM7XG4gICAgICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBub2Rlc1tpXS5yZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIGNvbnN0IHsgZmllbGQsIHZhbHVlIH0gPSBlO1xuXG4gICAgICAgIGlmIChmaWVsZCA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzKFwiZGlzcGxheVwiLCB2YWx1ZSA/IFwiXCIgOiBOT05FKTtcbiAgICAgICAgfSBlbHNlIGlmIChEZWZpbml0aW9uTWFwW2ZpZWxkXSAmJiBpc0RlZmluaXRpb24oZmllbGQsIHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEZWZpbml0aW9uKGZpZWxkLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09IFwib3BhY2l0eVwiKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHIoXCJvcGFjaXR5XCIsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gXCJjdXJzb3JcIikge1xuICAgICAgICAgICAgdGhpcy5jc3MoXCJjdXJzb3JcIiwgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSBcImlkXCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cihcImlkXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyKFwiaWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5vcHRpb25zQ2hhbmdlKGUpO1xuICAgIH1cblxuICAgIGFjY2Vzc2liaWxpdHlPcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgY29uc3QgeyBmaWVsZCwgdmFsdWUgfSA9IGU7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgaWYgKGZpZWxkID09PSBcInJvbGVcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyKFwicm9sZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cihcInJvbGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09IFwiYXJpYUxhYmVsXCIpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cihcImFyaWEtbGFiZWxcIiwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJhcmlhLWxhYmVsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSBcImFyaWFSb2xlRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdHRyKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gXCJhcmlhQ2hlY2tlZFwiKSB7XG4gICAgICAgICAgICBpZiAoZGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHIoXCJhcmlhLWNoZWNrZWRcIiwgdmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoXCJhcmlhLWNoZWNrZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09IFwiY2xhc3NOYW1lXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGF0dHIobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGxBdHRyKGF0dHJzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cihhdHRyc1tpXVswXSwgYXR0cnNbaV1bMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlQXR0cihuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cihuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIobmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjc3MobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbGxDc3Moc3R5bGVzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNzcyhzdHlsZXNbaV1bMF0sIHN0eWxlc1tpXVsxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFzc05hbWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoLi4udGhpcy5lbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgICAgICB2YWx1ZS5zcGxpdChcIiBcIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGl0ZW0pO1xuICAgICAgICAgICAgfSk7ICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVBdHRyKG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcFRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBbXTtcbiAgICAgICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgYXR0cnMucHVzaChbXG4gICAgICAgICAgICAgICAgVFJBTlNGT1JNLFxuICAgICAgICAgICAgICAgIFwibWF0cml4KFwiICsgdHJhbnNmb3JtLm1hdHJpeCgpLnRvU3RyaW5nKDYpICsgXCIpXCJcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlclRyYW5zZm9ybSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIoXG4gICAgICAgICAgICB0aGlzLm1hcFRyYW5zZm9ybSh0aGlzLnNyY0VsZW1lbnQudHJhbnNmb3JtKCkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtQ2hhbmdlKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwVHJhbnNmb3JtKHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoVFJBTlNGT1JNKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcFN0eWxlKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gWyBbIFwiY3Vyc29yXCIsIG9wdGlvbnMuY3Vyc29yIF0gXTtcblxuICAgICAgICBpZiAob3B0aW9ucy52aXNpYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgc3R5bGUucHVzaChbIFwiZGlzcGxheVwiLCBOT05FIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cblxuICAgIHJlbmRlclN0eWxlKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQXR0cihcInN0eWxlXCIsIHJlbmRlclN0eWxlKHRoaXMubWFwU3R5bGUodHJ1ZSkpKTtcbiAgICB9XG5cbiAgICByZW5kZXJPcGFjaXR5KCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQXR0cihcIm9wYWNpdHlcIiwgdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMub3BhY2l0eSk7XG4gICAgfVxuXG4gICAgcmVuZGVySWQoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwiaWRcIiwgdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMuaWQpO1xuICAgIH1cblxuICAgIHJlbmRlckNsYXNzTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckF0dHIoXCJjbGFzc1wiLCB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5jbGFzc05hbWUpO1xuICAgIH1cblxuICAgIHJlbmRlclJvbGUoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwicm9sZVwiLCB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5yb2xlKTtcbiAgICB9XG5cbiAgICByZW5kZXJBcmlhTGFiZWwoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwiYXJpYS1sYWJlbFwiLCB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5hcmlhTGFiZWwpO1xuICAgIH1cblxuICAgIHJlbmRlckFyaWFSb2xlRGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIiwgdGhpcy5zcmNFbGVtZW50Lm9wdGlvbnMuYXJpYVJvbGVEZXNjcmlwdGlvbik7XG4gICAgfVxuXG4gICAgcmVuZGVyQXJpYUNoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwiYXJpYS1jaGVja2VkXCIsIHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLmFyaWFDaGVja2VkKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZWZpbml0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgc3JjRWxlbWVudCA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLmRlZmluaXRpb25zO1xuICAgICAgICBpZiAoc3JjRWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHNyY0VsZW1lbnQub3B0aW9ucztcbiAgICAgICAgICAgIGxldCBoYXNEZWZpbml0aW9ucztcblxuICAgICAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gRGVmaW5pdGlvbk1hcCkge1xuICAgICAgICAgICAgICAgIGxldCBkZWZpbml0aW9uID0gb3B0aW9ucy5nZXQoZmllbGQpO1xuICAgICAgICAgICAgICAgIGlmIChkZWZpbml0aW9uICYmIGlzRGVmaW5pdGlvbihmaWVsZCwgZGVmaW5pdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbZmllbGRdID0gZGVmaW5pdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaGFzRGVmaW5pdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNEZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5pdGlvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJhZGRcIixcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25zXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWZpbml0aW9uQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5kZWZpbml0aW9uQ2hhbmdlKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlRGVmaW5pdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvbnM7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBkZWZpbml0aW9uc1t0eXBlXTtcbiAgICAgICAgY29uc3QgYXR0ciA9IERlZmluaXRpb25NYXBbdHlwZV07XG4gICAgICAgIGNvbnN0IGRlZmluaXRpb24gPSB7fTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGRlZmluaXRpb25bdHlwZV0gPSBjdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5kZWZpbml0aW9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIGRlZmluaXRpb25zW3R5cGVdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHIoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uW3R5cGVdID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRlZmluaXRpb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJhZGRcIixcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uczogZGVmaW5pdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWZpbml0aW9uc1t0eXBlXSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5hdHRyKGF0dHIsIHRoaXMucmVmVXJsKHZhbHVlLmlkKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhckRlZmluaXRpb25zKCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvbnM7XG5cbiAgICAgICAgdGhpcy5kZWZpbml0aW9uQ2hhbmdlKHtcbiAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVcIixcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9uc1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHJlbmRlckRlZmluaXRpb25zKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cih0aGlzLm1hcERlZmluaXRpb25zKCkpO1xuICAgIH1cblxuICAgIG1hcERlZmluaXRpb25zKCkge1xuICAgICAgICBjb25zdCBkZWZpbml0aW9ucyA9IHRoaXMuZGVmaW5pdGlvbnM7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgZmllbGQgaW4gZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgIGF0dHJzLnB1c2goWyBEZWZpbml0aW9uTWFwW2ZpZWxkXSwgdGhpcy5yZWZVcmwoZGVmaW5pdGlvbnNbZmllbGRdLmlkKSBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICByZWZVcmwoaWQpIHtcbiAgICAgICAgY29uc3Qgc2tpcEJhc2VIcmVmID0gKHRoaXMub3B0aW9ucyB8fCB7fSkuc2tpcEJhc2VIcmVmO1xuICAgICAgICBjb25zdCBiYXNlSHJlZiA9IHRoaXMuYmFzZVVybCgpLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKTtcbiAgICAgICAgY29uc3QgYmFzZSA9IHNraXBCYXNlSHJlZiA/ICcnIDogYmFzZUhyZWY7XG4gICAgICAgIHJldHVybiBgdXJsKCR7IGJhc2UgfSMkeyBpZCB9KWA7XG4gICAgfVxuXG4gICAgYmFzZVVybCgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vZGU7XG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHJlbmRlckF0dHIgZnJvbSAnLi91dGlscy9yZW5kZXItYXR0cmlidXRlJztcblxuY2xhc3MgR3JhZGllbnRTdG9wTm9kZSBleHRlbmRzIE5vZGUge1xuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxzdG9wICR7dGhpcy5yZW5kZXJPZmZzZXQoKX0gJHt0aGlzLnJlbmRlclN0eWxlKCl9IC8+YDtcbiAgICB9XG5cbiAgICByZW5kZXJPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwib2Zmc2V0XCIsIHRoaXMuc3JjRWxlbWVudC5vZmZzZXQoKSk7XG4gICAgfVxuXG4gICAgbWFwU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IHNyY0VsZW1lbnQgPSB0aGlzLnNyY0VsZW1lbnQ7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFwic3RvcC1jb2xvclwiLCBzcmNFbGVtZW50LmNvbG9yKCkgXSxcbiAgICAgICAgICAgIFsgXCJzdG9wLW9wYWNpdHlcIiwgc3JjRWxlbWVudC5vcGFjaXR5KCkgXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoZS5maWVsZCA9PT0gXCJvZmZzZXRcIikge1xuICAgICAgICAgICAgdGhpcy5hdHRyKGUuZmllbGQsIGUudmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGUuZmllbGQgPT09IFwiY29sb3JcIiB8fCBlLmZpZWxkID09PSBcIm9wYWNpdHlcIikge1xuICAgICAgICAgICAgdGhpcy5jc3MoXCJzdG9wLVwiICsgZS5maWVsZCwgZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyYWRpZW50U3RvcE5vZGU7IiwiaW1wb3J0IEdyYWRpZW50U3RvcE5vZGUgZnJvbSAnLi9ncmFkaWVudC1zdG9wLW5vZGUnO1xuaW1wb3J0IEJhc2VOb2RlIGZyb20gJy4uL2NvcmUvYmFzZS1ub2RlJztcbmltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgcmVuZGVyQWxsQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcyc7XG5cbmNsYXNzIEdyYWRpZW50Tm9kZSBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoc3JjRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5pZCA9IHNyY0VsZW1lbnQuaWQ7XG5cbiAgICAgICAgdGhpcy5sb2FkU3RvcHMoKTtcbiAgICB9XG5cbiAgICBsb2FkU3RvcHMoKSB7XG4gICAgICAgIGNvbnN0IHN0b3BzID0gdGhpcy5zcmNFbGVtZW50LnN0b3BzO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHN0b3BzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBzdG9wTm9kZSA9IG5ldyBHcmFkaWVudFN0b3BOb2RlKHN0b3BzW2lkeF0pO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoc3RvcE5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBzdG9wTm9kZS5hdHRhY2hUbyhlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoZS5maWVsZCA9PT0gXCJncmFkaWVudC5zdG9wc1wiKSB7XG4gICAgICAgICAgICBCYXNlTm9kZS5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMubG9hZFN0b3BzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5maWVsZCA9PT0gXCJncmFkaWVudFwiKSB7XG4gICAgICAgICAgICB0aGlzLmFsbEF0dHIodGhpcy5tYXBDb29yZGluYXRlcygpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckNvb3JkaW5hdGVzKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cih0aGlzLm1hcENvb3JkaW5hdGVzKCkpO1xuICAgIH1cblxuICAgIG1hcFNwYWNlKCkge1xuICAgICAgICByZXR1cm4gWyBcImdyYWRpZW50VW5pdHNcIiwgdGhpcy5zcmNFbGVtZW50LnVzZXJTcGFjZSgpID8gXCJ1c2VyU3BhY2VPblVzZVwiIDogXCJvYmplY3RCb3VuZGluZ0JveFwiIF07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcmFkaWVudE5vZGU7IiwiaW1wb3J0IEdyYWRpZW50Tm9kZSBmcm9tICcuL2dyYWRpZW50LW5vZGUnO1xuXG5jbGFzcyBMaW5lYXJHcmFkaWVudE5vZGUgZXh0ZW5kcyBHcmFkaWVudE5vZGUge1xuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxsaW5lYXJHcmFkaWVudCBpZD0nJHsgdGhpcy5pZCB9JyAkeyB0aGlzLnJlbmRlckNvb3JkaW5hdGVzKCkgfT4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvbGluZWFyR3JhZGllbnQ+YDtcbiAgICB9XG5cbiAgICBtYXBDb29yZGluYXRlcygpIHtcbiAgICAgICAgY29uc3Qgc3JjRWxlbWVudCA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBzcmNFbGVtZW50LnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHNyY0VsZW1lbnQuZW5kKCk7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW1xuICAgICAgICAgICAgWyBcIngxXCIsIHN0YXJ0LnggXSxcbiAgICAgICAgICAgIFsgXCJ5MVwiLCBzdGFydC55IF0sXG4gICAgICAgICAgICBbIFwieDJcIiwgZW5kLnggXSxcbiAgICAgICAgICAgIFsgXCJ5MlwiLCBlbmQueSBdLFxuICAgICAgICAgICAgdGhpcy5tYXBTcGFjZSgpXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGluZWFyR3JhZGllbnROb2RlOyIsImltcG9ydCBHcmFkaWVudE5vZGUgZnJvbSAnLi9ncmFkaWVudC1ub2RlJztcblxuY2xhc3MgUmFkaWFsR3JhZGllbnROb2RlIGV4dGVuZHMgR3JhZGllbnROb2RlIHtcbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8cmFkaWFsR3JhZGllbnQgaWQ9JyR7IHRoaXMuaWQgfScgJHsgdGhpcy5yZW5kZXJDb29yZGluYXRlcygpfT4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvcmFkaWFsR3JhZGllbnQ+YDtcbiAgICB9XG5cbiAgICBtYXBDb29yZGluYXRlcygpIHtcbiAgICAgICAgY29uc3Qgc3JjRWxlbWVudCA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgY29uc3QgY2VudGVyID0gc3JjRWxlbWVudC5jZW50ZXIoKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gc3JjRWxlbWVudC5yYWRpdXMoKTtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBbXG4gICAgICAgICAgICBbIFwiY3hcIiwgY2VudGVyLnggXSxcbiAgICAgICAgICAgIFsgXCJjeVwiLCBjZW50ZXIueSBdLFxuICAgICAgICAgICAgWyBcInJcIiwgcmFkaXVzIF0sXG4gICAgICAgICAgICB0aGlzLm1hcFNwYWNlKClcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmFkaWFsR3JhZGllbnROb2RlOyIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgcmVuZGVyQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hdHRyaWJ1dGUnO1xuXG5jbGFzcyBDbGlwTm9kZSBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNyY0VsZW1lbnQgPSBzcmNFbGVtZW50O1xuICAgICAgICB0aGlzLmlkID0gc3JjRWxlbWVudC5pZDtcblxuICAgICAgICB0aGlzLmxvYWQoWyBzcmNFbGVtZW50IF0pO1xuICAgIH1cblxuICAgIHJlbmRlckNsaXBSdWxlKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQXR0cihcImNsaXAtcnVsZVwiLCBcImV2ZW5vZGRcIik7XG4gICAgfVxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxjbGlwUGF0aCAkeyB0aGlzLnJlbmRlckNsaXBSdWxlKCkgfSBpZD0nJHsgdGhpcy5pZCB9Jz4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvY2xpcFBhdGg+YDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsaXBOb2RlOyIsImltcG9ydCBMaW5lYXJHcmFkaWVudCBmcm9tICcuLi9ncmFkaWVudHMvbGluZWFyLWdyYWRpZW50JztcbmltcG9ydCBSYWRpYWxHcmFkaWVudCBmcm9tICcuLi9ncmFkaWVudHMvcmFkaWFsLWdyYWRpZW50JztcbmltcG9ydCBMaW5lYXJHcmFkaWVudE5vZGUgZnJvbSAnLi9saW5lYXItZ3JhZGllbnQtbm9kZSc7XG5pbXBvcnQgUmFkaWFsR3JhZGllbnROb2RlIGZyb20gJy4vcmFkaWFsLWdyYWRpZW50LW5vZGUnO1xuaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCBDbGlwTm9kZSBmcm9tICcuL2NsaXAtbm9kZSc7XG5cbmNsYXNzIERlZmluaXRpb25Ob2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbk1hcCA9IHt9O1xuICAgIH1cblxuICAgIGF0dGFjaFRvKGRvbUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9tRWxlbWVudDtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZGVmcz4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvZGVmcz5gO1xuICAgIH1cblxuICAgIGRlZmluaXRpb25DaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGRlZmluaXRpb25zLCBhY3Rpb24gfSA9IGU7XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgICAgICAgICAgdGhpcy5hZGREZWZpbml0aW9ucyhkZWZpbml0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZURlZmluaXRpb25zKGRlZmluaXRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZURlZmluaXRpb24odHlwZSwgaXRlbSkge1xuICAgICAgICBsZXQgbm9kZVR5cGU7XG4gICAgICAgIGlmICh0eXBlID09PSBcImNsaXBcIikge1xuICAgICAgICAgICAgbm9kZVR5cGUgPSBDbGlwTm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImZpbGxcIikge1xuICAgICAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBMaW5lYXJHcmFkaWVudCkge1xuICAgICAgICAgICAgICAgIG5vZGVUeXBlID0gTGluZWFyR3JhZGllbnROb2RlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtIGluc3RhbmNlb2YgUmFkaWFsR3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICBub2RlVHlwZSA9IFJhZGlhbEdyYWRpZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IG5vZGVUeXBlKGl0ZW0pO1xuICAgIH1cblxuICAgIGFkZERlZmluaXRpb25zKGRlZmluaXRpb25zKSB7XG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmFkZERlZmluaXRpb24oZmllbGQsIGRlZmluaXRpb25zW2ZpZWxkXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGREZWZpbml0aW9uKHR5cGUsIHNyY0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCBkZWZpbml0aW9uTWFwIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBpZCA9IHNyY0VsZW1lbnQuaWQ7XG4gICAgICAgIGNvbnN0IG1hcEl0ZW0gPSBkZWZpbml0aW9uTWFwW2lkXTtcbiAgICAgICAgaWYgKCFtYXBJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5jcmVhdGVEZWZpbml0aW9uKHR5cGUsIHNyY0VsZW1lbnQpO1xuICAgICAgICAgICAgZGVmaW5pdGlvbk1hcFtpZF0gPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogbm9kZSxcbiAgICAgICAgICAgICAgICBjb3VudDogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBub2RlLmF0dGFjaFRvKHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXBJdGVtLmNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVEZWZpbml0aW9ucyhkZWZpbml0aW9ucykge1xuICAgICAgICBmb3IgKGxldCBmaWVsZCBpbiBkZWZpbml0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVEZWZpbml0aW9uKGRlZmluaXRpb25zW2ZpZWxkXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVEZWZpbml0aW9uKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbk1hcCA9IHRoaXMuZGVmaW5pdGlvbk1hcDtcbiAgICAgICAgY29uc3QgaWQgPSBzcmNFbGVtZW50LmlkO1xuICAgICAgICBjb25zdCBtYXBJdGVtID0gZGVmaW5pdGlvbk1hcFtpZF07XG5cbiAgICAgICAgaWYgKG1hcEl0ZW0pIHtcbiAgICAgICAgICAgIG1hcEl0ZW0uY291bnQtLTtcbiAgICAgICAgICAgIGlmIChtYXBJdGVtLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUodGhpcy5jaGlsZE5vZGVzLmluZGV4T2YobWFwSXRlbS5lbGVtZW50KSwgMSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlZmluaXRpb25NYXBbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEZWZpbml0aW9uTm9kZTsiLCJpbXBvcnQgQmFzZU5vZGUgZnJvbSAnLi4vY29yZS9iYXNlLW5vZGUnO1xuaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCBEZWZpbml0aW9uTm9kZSBmcm9tICcuL2RlZmluaXRpb24tbm9kZSc7XG5cbmNsYXNzIFJvb3ROb2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmRlZnMgPSBuZXcgRGVmaW5pdGlvbk5vZGUoKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhkb21FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGRvbUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZGVmcy5hdHRhY2hUbyhkb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgQmFzZU5vZGUucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZnMucmVuZGVyKCkgKyB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgfVxuXG4gICAgZGVmaW5pdGlvbkNoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuZGVmcy5kZWZpbml0aW9uQ2hhbmdlKGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUm9vdE5vZGU7IiwiY29uc3QgREFTSF9BUlJBWVMgPSB7XG4gICAgZG90OiBbIDEuNSwgMy41IF0sXG4gICAgZGFzaDogWyA0LCAzLjUgXSxcbiAgICBsb25nZGFzaDogWyA4LCAzLjUgXSxcbiAgICBkYXNoZG90OiBbIDMuNSwgMy41LCAxLjUsIDMuNSBdLFxuICAgIGxvbmdkYXNoZG90OiBbIDgsIDMuNSwgMS41LCAzLjUgXSxcbiAgICBsb25nZGFzaGRvdGRvdDogWyA4LCAzLjUsIDEuNSwgMy41LCAxLjUsIDMuNSBdXG59O1xuXG5jb25zdCBTT0xJRCA9IFwic29saWRcIjtcbmNvbnN0IEJVVFQgPSBcImJ1dHRcIjtcblxuZXhwb3J0IHsgREFTSF9BUlJBWVMsIFNPTElELCBCVVRUIH07IiwiaW1wb3J0IE5vZGUgZnJvbSAnLi9ub2RlJztcbmltcG9ydCB7IGRlZmluZWQsIGlzVHJhbnNwYXJlbnQgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCB7IERBU0hfQVJSQVlTLCBTT0xJRCwgQlVUVCB9IGZyb20gJy4uL2NvcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IE5PTkUsIFBPSU5UX0RJR0lUUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCByZW5kZXJBbGxBdHRyIGZyb20gJy4vdXRpbHMvcmVuZGVyLWFsbC1hdHRyaWJ1dGVzJztcbmltcG9ydCByZW5kZXJBdHRyIGZyb20gJy4vdXRpbHMvcmVuZGVyLWF0dHJpYnV0ZSc7XG5cbmNvbnN0IEFUVFJJQlVURV9NQVAgPSB7XG4gICAgXCJmaWxsLm9wYWNpdHlcIjogXCJmaWxsLW9wYWNpdHlcIixcbiAgICBcInN0cm9rZS5jb2xvclwiOiBcInN0cm9rZVwiLFxuICAgIFwic3Ryb2tlLndpZHRoXCI6IFwic3Ryb2tlLXdpZHRoXCIsXG4gICAgXCJzdHJva2Uub3BhY2l0eVwiOiBcInN0cm9rZS1vcGFjaXR5XCJcbn07XG5cbmNsYXNzIFBhdGhOb2RlIGV4dGVuZHMgTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5hdHRyKFwiZFwiLCB0aGlzLnJlbmRlckRhdGEoKSk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBzd2l0Y2ggKGUuZmllbGQpIHtcbiAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgIGlmIChlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwRmlsbChlLnZhbHVlKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cihcImZpbGxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwiZmlsbC5jb2xvclwiOlxuICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwRmlsbCh7IGNvbG9yOiBlLnZhbHVlIH0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJzdHJva2VcIjpcbiAgICAgICAgICAgIGlmIChlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxBdHRyKHRoaXMubWFwU3Ryb2tlKGUudmFsdWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyKFwic3Ryb2tlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1DaGFuZ2UoZS52YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IEFUVFJJQlVURV9NQVBbZS5maWVsZF07XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXR0cihuYW1lLCBlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY2Nlc3NpYmlsaXR5T3B0aW9uc0NoYW5nZShlKTtcblxuICAgICAgICBzdXBlci5vcHRpb25zQ2hhbmdlKGUpO1xuICAgIH1cblxuICAgIGNvbnRlbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuc3JjRWxlbWVudC5jb250ZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50LnRvU3RyaW5nKFBPSU5UX0RJR0lUUykgfHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIG1hcFN0cm9rZShzdHJva2UpIHtcbiAgICAgICAgY29uc3QgYXR0cnMgPSBbXTtcblxuICAgICAgICBpZiAoc3Ryb2tlICYmICFpc1RyYW5zcGFyZW50KHN0cm9rZS5jb2xvcikpIHtcbiAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcInN0cm9rZVwiLCBzdHJva2UuY29sb3IgXSk7XG4gICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJzdHJva2Utd2lkdGhcIiwgc3Ryb2tlLndpZHRoIF0pO1xuICAgICAgICAgICAgYXR0cnMucHVzaChbIFwic3Ryb2tlLWxpbmVjYXBcIiwgdGhpcy5yZW5kZXJMaW5lY2FwKHN0cm9rZSkgXSk7XG4gICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJzdHJva2UtbGluZWpvaW5cIiwgc3Ryb2tlLmxpbmVKb2luIF0pO1xuXG4gICAgICAgICAgICBpZiAoZGVmaW5lZChzdHJva2Uub3BhY2l0eSkpIHtcbiAgICAgICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJzdHJva2Utb3BhY2l0eVwiLCBzdHJva2Uub3BhY2l0eSBdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlZmluZWQoc3Ryb2tlLmRhc2hUeXBlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2goWyBcInN0cm9rZS1kYXNoYXJyYXlcIiwgdGhpcy5yZW5kZXJEYXNoVHlwZShzdHJva2UpIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXR0cnMucHVzaChbIFwic3Ryb2tlXCIsIE5PTkUgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXR0cnM7XG4gICAgfVxuXG4gICAgcmVuZGVyU3Ryb2tlKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cihcbiAgICAgICAgICAgIHRoaXMubWFwU3Ryb2tlKHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLnN0cm9rZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXJEYXNoVHlwZShzdHJva2UpIHtcbiAgICAgICAgY29uc3QgeyBkYXNoVHlwZSwgd2lkdGggPSAxIH0gPSBzdHJva2U7XG5cbiAgICAgICAgaWYgKGRhc2hUeXBlICYmIGRhc2hUeXBlICE9PSBTT0xJRCkge1xuICAgICAgICAgICAgY29uc3QgZGFzaEFycmF5ID0gREFTSF9BUlJBWVNbZGFzaFR5cGUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXNoQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChkYXNoQXJyYXlbaV0gKiB3aWR0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbihcIiBcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJMaW5lY2FwKHN0cm9rZSkge1xuICAgICAgICBjb25zdCB7IGRhc2hUeXBlLCBsaW5lQ2FwIH0gPSBzdHJva2U7XG5cbiAgICAgICAgcmV0dXJuIChkYXNoVHlwZSAmJiBkYXNoVHlwZSAhPT0gXCJzb2xpZFwiKSA/IEJVVFQgOiBsaW5lQ2FwO1xuICAgIH1cblxuICAgIG1hcEZpbGwoZmlsbCkge1xuICAgICAgICBjb25zdCBhdHRycyA9IFtdO1xuICAgICAgICBpZiAoIShmaWxsICYmIGZpbGwubm9kZVR5cGUgPT09IFwiR3JhZGllbnRcIikpIHtcbiAgICAgICAgICAgIGlmIChmaWxsICYmICFpc1RyYW5zcGFyZW50KGZpbGwuY29sb3IpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMucHVzaChbIFwiZmlsbFwiLCBmaWxsLmNvbG9yIF0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRlZmluZWQoZmlsbC5vcGFjaXR5KSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRycy5wdXNoKFsgXCJmaWxsLW9wYWNpdHlcIiwgZmlsbC5vcGFjaXR5IF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXR0cnMucHVzaChbIFwiZmlsbFwiLCBOT05FIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIHJlbmRlckZpbGwoKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJBbGxBdHRyKFxuICAgICAgICAgICAgdGhpcy5tYXBGaWxsKHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLmZpbGwpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPHBhdGggJHsgdGhpcy5yZW5kZXJJZCgpIH0gJHsgdGhpcy5yZW5kZXJTdHlsZSgpIH0gJHsgdGhpcy5yZW5kZXJPcGFjaXR5KCkgfSAkeyByZW5kZXJBdHRyKCdkJywgdGhpcy5yZW5kZXJEYXRhKCkpIH1gICtcbiAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJTdHJva2UoKSB9JHsgdGhpcy5yZW5kZXJGaWxsKCkgfSR7IHRoaXMucmVuZGVyRGVmaW5pdGlvbnMoKSB9JHsgdGhpcy5yZW5kZXJUcmFuc2Zvcm0oKSB9YCArIFxuICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckNsYXNzTmFtZSgpIH0gJHsgdGhpcy5yZW5kZXJSb2xlKCkgfWAgK1xuICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFMYWJlbCgpIH0gJHsgdGhpcy5yZW5kZXJBcmlhUm9sZURlc2NyaXB0aW9uKCkgfWAgK1xuICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFDaGVja2VkKCkgfSA+PC9wYXRoPmA7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQYXRoTm9kZTtcbiIsImltcG9ydCB7IFBPSU5UX0RJR0lUUyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5cbmNsYXNzIEFyY05vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG4gICAgcmVuZGVyRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjRWxlbWVudC50b1BhdGgoKS50b1N0cmluZyhQT0lOVF9ESUdJVFMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjTm9kZTtcbiIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5cbmNsYXNzIENpcmNsZU5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5jZW50ZXIoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwiY3hcIiwgY2VudGVyLngpO1xuICAgICAgICB0aGlzLmF0dHIoXCJjeVwiLCBjZW50ZXIueSk7XG4gICAgICAgIHRoaXMuYXR0cihcInJcIiwgdGhpcy5yYWRpdXMoKSk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH1cblxuICAgIGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjRWxlbWVudC5nZW9tZXRyeSgpLmNlbnRlcjtcbiAgICB9XG5cbiAgICByYWRpdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyY0VsZW1lbnQuZ2VvbWV0cnkoKS5yYWRpdXM7XG4gICAgfVxuXG4gICAgdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBgPGNpcmNsZSAkeyB0aGlzLnJlbmRlcklkKCkgfSAkeyB0aGlzLnJlbmRlclN0eWxlKCkgfSAkeyB0aGlzLnJlbmRlck9wYWNpdHkoKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGBjeD0nJHsgdGhpcy5jZW50ZXIoKS54IH0nIGN5PSckeyB0aGlzLmNlbnRlcigpLnkgfScgcj0nJHsgdGhpcy5yYWRpdXMoKSB9J2AgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJTdHJva2UoKSB9ICR7IHRoaXMucmVuZGVyRmlsbCgpIH0gJHsgdGhpcy5yZW5kZXJEZWZpbml0aW9ucygpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7IHRoaXMucmVuZGVyQ2xhc3NOYW1lKCkgfSAkeyB0aGlzLnJlbmRlclJvbGUoKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFMYWJlbCgpIH0gJHsgdGhpcy5yZW5kZXJBcmlhUm9sZURlc2NyaXB0aW9uKCkgfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJBcmlhQ2hlY2tlZCgpIH0gJHsgdGhpcy5yZW5kZXJUcmFuc2Zvcm0oKSB9ID48L2NpcmNsZT5gO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2lyY2xlTm9kZTtcbiIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgcmVuZGVyQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hdHRyaWJ1dGUnO1xuXG5jbGFzcyBHcm91cE5vZGUgZXh0ZW5kcyBOb2RlIHtcbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8ZyR7IFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJJZCgpICsgXG4gICAgICAgICAgICB0aGlzLnJlbmRlclRyYW5zZm9ybSgpICsgXG4gICAgICAgICAgICB0aGlzLnJlbmRlckNsYXNzTmFtZSgpICsgXG4gICAgICAgICAgICB0aGlzLnJlbmRlclN0eWxlKCkgKyBcbiAgICAgICAgICAgIHRoaXMucmVuZGVyT3BhY2l0eSgpICsgXG4gICAgICAgICAgICB0aGlzLnJlbmRlclJvbGUoKSArIFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJBcmlhTGFiZWwoKSArIFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJBcmlhUm9sZURlc2NyaXB0aW9uKCkgKyBcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQXJpYUNoZWNrZWQoKSArXG4gICAgICAgICAgICB0aGlzLnJlbmRlckRlZmluaXRpb25zKCkgfT4keyB0aGlzLnJlbmRlckNoaWxkcmVuKCkgfTwvZz5gO1xuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBjb25zdCB7IGZpZWxkLCB2YWx1ZSB9ID0gZTtcblxuICAgICAgICBpZiAoZmllbGQgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWNjZXNzaWJpbGl0eU9wdGlvbnNDaGFuZ2UoZSk7XG5cbiAgICAgICAgc3VwZXIub3B0aW9uc0NoYW5nZShlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyb3VwTm9kZTtcbiIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgcmVuZGVyQWxsQXR0ciBmcm9tICcuL3V0aWxzL3JlbmRlci1hbGwtYXR0cmlidXRlcyc7XG5pbXBvcnQgeyBodG1sRW5jb2RlIH0gZnJvbSAnLi4vY29tbW9uJztcblxuY2xhc3MgSW1hZ2VOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuXG4gICAgZ2VvbWV0cnlDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuYWxsQXR0cih0aGlzLm1hcFBvc2l0aW9uKCkpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwic3JjXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYWxsQXR0cih0aGlzLm1hcFNvdXJjZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLm9wdGlvbnNDaGFuZ2UoZSk7XG4gICAgfVxuXG4gICAgbWFwUG9zaXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNyY0VsZW1lbnQucmVjdCgpO1xuICAgICAgICBjb25zdCB0bCA9IHJlY3QudG9wTGVmdCgpO1xuXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBbIFwieFwiLCB0bC54IF0sXG4gICAgICAgICAgICBbIFwieVwiLCB0bC55IF0sXG4gICAgICAgICAgICBbIFwid2lkdGhcIiwgcmVjdC53aWR0aCgpICsgXCJweFwiIF0sXG4gICAgICAgICAgICBbIFwiaGVpZ2h0XCIsIHJlY3QuaGVpZ2h0KCkgKyBcInB4XCIgXVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHJlbmRlclBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVuZGVyQWxsQXR0cih0aGlzLm1hcFBvc2l0aW9uKCkpO1xuICAgIH1cblxuICAgIG1hcFNvdXJjZShlbmNvZGUpIHtcbiAgICAgICAgbGV0IHNyYyA9IHRoaXMuc3JjRWxlbWVudC5zcmMoKTtcblxuICAgICAgICBpZiAoZW5jb2RlKSB7XG4gICAgICAgICAgICBzcmMgPSBodG1sRW5jb2RlKHNyYyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWyBbIFwieGxpbms6aHJlZlwiLCBzcmMgXSBdO1xuICAgIH1cblxuICAgIHJlbmRlclNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlckFsbEF0dHIodGhpcy5tYXBTb3VyY2UodHJ1ZSkpO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxpbWFnZSBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSdub25lJyAkeyB0aGlzLnJlbmRlcklkKCkgfSAkeyB0aGlzLnJlbmRlclN0eWxlKCkgfSAkeyB0aGlzLnJlbmRlclRyYW5zZm9ybSgpfSAkeyB0aGlzLnJlbmRlck9wYWNpdHkoKSB9YCArXG4gICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJQb3NpdGlvbigpIH0gJHsgdGhpcy5yZW5kZXJTb3VyY2UoKSB9ICR7IHRoaXMucmVuZGVyRGVmaW5pdGlvbnMoKX1gICtcbiAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckNsYXNzTmFtZSgpIH0gJHsgdGhpcy5yZW5kZXJSb2xlKCkgfWAgK1xuICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFMYWJlbCgpIH0gJHsgdGhpcy5yZW5kZXJBcmlhUm9sZURlc2NyaXB0aW9uKCkgfWAgK1xuICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFDaGVja2VkKCkgfSA+YCArXG4gICAgICAgICAgICAgICBgPC9pbWFnZT5gO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VOb2RlO1xuIiwiaW1wb3J0IHsgUE9JTlRfRElHSVRTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcblxuY2xhc3MgTXVsdGlQYXRoTm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJEYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50LnRvU3RyaW5nKFBPSU5UX0RJR0lUUykgfHwgJ3VuZGVmaW5lZCc7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNdWx0aVBhdGhOb2RlO1xuIiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcblxuY2xhc3MgUmVjdE5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLnNyY0VsZW1lbnQuZ2VvbWV0cnkoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwieFwiLCBnZW9tZXRyeS5vcmlnaW4ueCk7XG4gICAgICAgIHRoaXMuYXR0cihcInlcIiwgZ2VvbWV0cnkub3JpZ2luLnkpO1xuICAgICAgICB0aGlzLmF0dHIoXCJ3aWR0aFwiLCBnZW9tZXRyeS5zaXplLndpZHRoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwiaGVpZ2h0XCIsIGdlb21ldHJ5LnNpemUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5hdHRyKFwicnhcIiwgZ2VvbWV0cnkuY29ybmVyUmFkaXVzWzBdKTtcbiAgICAgICAgdGhpcy5hdHRyKFwicnlcIiwgZ2VvbWV0cnkuY29ybmVyUmFkaXVzWzFdKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjRWxlbWVudC5nZW9tZXRyeSgpLnNpemU7XG4gICAgfVxuXG4gICAgb3JpZ2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCkub3JpZ2luO1xuICAgIH1cblxuICAgIHJ4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCkuY29ybmVyUmFkaXVzWzBdO1xuICAgIH1cblxuICAgIHJ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCkuY29ybmVyUmFkaXVzWzFdO1xuICAgIH1cblxuICAgIHRlbXBsYXRlKCkge1xuICAgICAgICByZXR1cm4gYDxyZWN0ICR7IHRoaXMucmVuZGVySWQoKSB9ICR7IHRoaXMucmVuZGVyU3R5bGUoKSB9ICR7IHRoaXMucmVuZGVyT3BhY2l0eSgpIH0geD0nJHsgdGhpcy5vcmlnaW4oKS54IH0nIHk9JyR7IHRoaXMub3JpZ2luKCkueSB9JyBgICtcbiAgICAgICAgICAgICAgICAgICAgYHJ4PSckeyB0aGlzLnJ4KCkgfScgcnk9JyR7IHRoaXMucnkoKSB9JyBgICtcbiAgICAgICAgICAgICAgICAgICAgYHdpZHRoPSckeyB0aGlzLnNpemUoKS53aWR0aCB9JyBoZWlnaHQ9JyR7IHRoaXMuc2l6ZSgpLmhlaWdodCB9JyAkeyB0aGlzLnJlbmRlclN0cm9rZSgpIH0gYCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckZpbGwoKSB9ICR7IHRoaXMucmVuZGVyRGVmaW5pdGlvbnMoKSB9ICR7IHRoaXMucmVuZGVyVHJhbnNmb3JtKCkgfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJDbGFzc05hbWUoKSB9ICR7IHRoaXMucmVuZGVyUm9sZSgpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7IHRoaXMucmVuZGVyQXJpYUxhYmVsKCkgfSAkeyB0aGlzLnJlbmRlckFyaWFSb2xlRGVzY3JpcHRpb24oKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFDaGVja2VkKCkgfSAvPmA7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWN0Tm9kZTtcbiIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5pbXBvcnQgcmVuZGVyU3R5bGUgZnJvbSAnLi91dGlscy9yZW5kZXItc3R5bGUnO1xuaW1wb3J0IHJlbmRlckF0dHIgZnJvbSAnLi91dGlscy9yZW5kZXItYXR0cmlidXRlJztcbmltcG9ydCB7IGh0bWxFbmNvZGUsIHN1cHBvcnQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgbm9ybWFsaXplVGV4dCB9IGZyb20gJy4uL3RleHQtbWV0cmljcyc7XG5cbmNvbnN0IEVOVElUWV9SRUdFWCA9IC8mKD86W2EtekEtWl0rfCNcXGQrKTsvZztcblxuZnVuY3Rpb24gZGVjb2RlRW50aXRpZXModGV4dCkge1xuICAgIGlmICghdGV4dCB8fCB0eXBlb2YgdGV4dCAhPT0gXCJzdHJpbmdcIiB8fCAhRU5USVRZX1JFR0VYLnRlc3QodGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgY29uc3QgZWxlbWVudCA9IGRlY29kZUVudGl0aWVzLl9lbGVtZW50O1xuICAgIEVOVElUWV9SRUdFWC5sYXN0SW5kZXggPSAwO1xuXG4gICAgcmV0dXJuIHRleHQucmVwbGFjZShFTlRJVFlfUkVHRVgsIChtYXRjaCkgPT4ge1xuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IG1hdGNoO1xuXG4gICAgICAgIHJldHVybiBlbGVtZW50LnRleHRDb250ZW50IHx8IGVsZW1lbnQuaW5uZXJUZXh0O1xuICAgIH0pO1xufVxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgZGVjb2RlRW50aXRpZXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbn1cblxuY2xhc3MgVGV4dE5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG5cbiAgICBnZW9tZXRyeUNoYW5nZSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5wb3MoKTtcbiAgICAgICAgdGhpcy5hdHRyKFwieFwiLCBwb3MueCk7XG4gICAgICAgIHRoaXMuYXR0cihcInlcIiwgcG9zLnkpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwiZm9udFwiKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHIoXCJzdHlsZVwiLCByZW5kZXJTdHlsZSh0aGlzLm1hcFN0eWxlKCkpKTtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnlDaGFuZ2UoKTtcbiAgICAgICAgfSBlbHNlIGlmIChlLmZpZWxkID09PSBcImNvbnRlbnRcIikge1xuICAgICAgICAgICAgc3VwZXIuY29udGVudCh0aGlzLnNyY0VsZW1lbnQuY29udGVudCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLm9wdGlvbnNDaGFuZ2UoZSk7XG4gICAgfVxuXG4gICAgbWFwU3R5bGUoZW5jb2RlKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3VwZXIubWFwU3R5bGUoZW5jb2RlKTtcbiAgICAgICAgbGV0IGZvbnQgPSB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5mb250O1xuXG4gICAgICAgIGlmIChlbmNvZGUpIHtcbiAgICAgICAgICAgIGZvbnQgPSBodG1sRW5jb2RlKGZvbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3R5bGUucHVzaChbIFwiZm9udFwiLCBmb250IF0sIFsgXCJ3aGl0ZS1zcGFjZVwiLCBcInByZVwiIF0pO1xuXG4gICAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBwb3MoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuc3JjRWxlbWVudC5wb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zcmNFbGVtZW50Lm1lYXN1cmUoKTtcbiAgICAgICAgcmV0dXJuIHBvcy5jbG9uZSgpLnNldFkocG9zLnkgKyBzaXplLmJhc2VsaW5lKTtcbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBsZXQgY29udGVudCA9IHRoaXMuc3JjRWxlbWVudC5jb250ZW50KCk7XG4gICAgICAgIGNvbnRlbnQgPSBkZWNvZGVFbnRpdGllcyhjb250ZW50KTtcbiAgICAgICAgY29udGVudCA9IGh0bWxFbmNvZGUoY29udGVudCk7XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVRleHQoY29udGVudCk7XG4gICAgfVxuXG4gICAgcmVuZGVyVGV4dEFuY2hvcigpIHtcbiAgICAgICAgbGV0IGFuY2hvcjtcblxuICAgICAgICBpZiAoKHRoaXMub3B0aW9ucyB8fCB7fSkucnRsICYmICEoc3VwcG9ydC5icm93c2VyLm1zaWUgfHwgc3VwcG9ydC5icm93c2VyLmVkZ2UpKSB7XG4gICAgICAgICAgICBhbmNob3IgPSAnZW5kJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZW5kZXJBdHRyKFwidGV4dC1hbmNob3JcIiwgYW5jaG9yKTtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIGA8dGV4dCAkeyB0aGlzLnJlbmRlcklkKCkgfSAkeyB0aGlzLnJlbmRlclRleHRBbmNob3IoKSB9ICR7IHRoaXMucmVuZGVyU3R5bGUoKSB9ICR7IHRoaXMucmVuZGVyT3BhY2l0eSgpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYHg9JyR7IHRoaXMucG9zKCkueCB9JyB5PSckeyB0aGlzLnBvcygpLnkgfScgJHsgdGhpcy5yZW5kZXJTdHJva2UoKSB9ICR7IHRoaXMucmVuZGVyVHJhbnNmb3JtKCkgfSAkeyB0aGlzLnJlbmRlckRlZmluaXRpb25zKCkgfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJGaWxsKCkgfWAgK1xuICAgICAgICAgICAgICAgICAgICBgJHsgdGhpcy5yZW5kZXJDbGFzc05hbWUoKSB9ICR7IHRoaXMucmVuZGVyUm9sZSgpIH1gICtcbiAgICAgICAgICAgICAgICAgICAgYCR7IHRoaXMucmVuZGVyQXJpYUxhYmVsKCkgfSAkeyB0aGlzLnJlbmRlckFyaWFSb2xlRGVzY3JpcHRpb24oKSB9YCArXG4gICAgICAgICAgICAgICAgICAgIGAkeyB0aGlzLnJlbmRlckFyaWFDaGVja2VkKCkgfT4keyB0aGlzLnJlbmRlckNvbnRlbnQoKSB9PC90ZXh0PmA7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0Tm9kZTtcbiIsImltcG9ydCBCYXNlU3VyZmFjZSBmcm9tICcuLi9jb3JlL3N1cmZhY2UnO1xuaW1wb3J0IFJvb3ROb2RlIGZyb20gJy4vcm9vdC1ub2RlJztcbmltcG9ydCBHcm91cCBmcm9tICcuLi9zaGFwZXMvZ3JvdXAnO1xuaW1wb3J0IHRyYW5zZm9ybSBmcm9tICcuLi9nZW9tZXRyeS90cmFuc2Zvcm0nO1xuaW1wb3J0IHJlbmRlclNWRyBmcm9tICcuL3V0aWxzL3JlbmRlci1zdmcnO1xuaW1wb3J0IHsgU1ZHX05TIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYmluZEV2ZW50cywgdW5iaW5kRXZlbnRzLCBlbGVtZW50U3R5bGVzIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmltcG9ydCBBcmNOb2RlIGZyb20gJy4vYXJjLW5vZGUnO1xuaW1wb3J0IENpcmNsZU5vZGUgZnJvbSAnLi9jaXJjbGUtbm9kZSc7XG5pbXBvcnQgR3JvdXBOb2RlIGZyb20gJy4vZ3JvdXAtbm9kZSc7XG5pbXBvcnQgSW1hZ2VOb2RlIGZyb20gJy4vaW1hZ2Utbm9kZSc7XG5pbXBvcnQgTXVsdGlQYXRoTm9kZSBmcm9tICcuL211bHRpLXBhdGgtbm9kZSc7XG5pbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuaW1wb3J0IFJlY3ROb2RlIGZyb20gJy4vcmVjdC1ub2RlJztcbmltcG9ydCBUZXh0Tm9kZSBmcm9tICcuL3RleHQtbm9kZSc7XG5pbXBvcnQgTk9ERV9NQVAgZnJvbSAnLi9ub2RlLW1hcCc7XG5cbk5PREVfTUFQLkFyYyA9IEFyY05vZGU7XG5OT0RFX01BUC5DaXJjbGUgPSBDaXJjbGVOb2RlO1xuTk9ERV9NQVAuR3JvdXAgPSBHcm91cE5vZGU7XG5OT0RFX01BUC5JbWFnZSA9IEltYWdlTm9kZTtcbk5PREVfTUFQLk11bHRpUGF0aCA9IE11bHRpUGF0aE5vZGU7XG5OT0RFX01BUC5QYXRoID0gUGF0aE5vZGU7XG5OT0RFX01BUC5SZWN0ID0gUmVjdE5vZGU7XG5OT0RFX01BUC5UZXh0ID0gVGV4dE5vZGU7XG5cbmNvbnN0IFJUTCA9ICdydGwnO1xuXG5mdW5jdGlvbiBhbGlnblRvU2NyZWVuKGVsZW1lbnQpIHtcbiAgICBsZXQgY3RtO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY3RtID0gZWxlbWVudC5nZXRTY3JlZW5DVE0gPyBlbGVtZW50LmdldFNjcmVlbkNUTSgpIDogbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG4gICAgaWYgKGN0bSkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gLSBjdG0uZSAlIDE7XG4gICAgICAgIGNvbnN0IHRvcCA9IC0gY3RtLmYgJSAxO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgICAgICAgaWYgKGxlZnQgIT09IDAgfHwgdG9wICE9PSAwKSB7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIHN0eWxlLnRvcCA9IHRvcCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgU3VyZmFjZSBleHRlbmRzIEJhc2VTdXJmYWNlIHtcbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFwic3ZnXCI7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl9yb290ID0gbmV3IFJvb3ROb2RlKE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgcnRsOiBlbGVtZW50U3R5bGVzKGVsZW1lbnQsICdkaXJlY3Rpb24nKS5kaXJlY3Rpb24gPT09IFJUTFxuICAgICAgICB9LCB0aGlzLm9wdGlvbnMpKTtcblxuICAgICAgICByZW5kZXJTVkcodGhpcy5lbGVtZW50LCB0aGlzLl90ZW1wbGF0ZSgnJykpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50ID0gdGhpcy5lbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gICAgICAgIGFsaWduVG9TY3JlZW4odGhpcy5fcm9vdEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QuYXR0YWNoVG8odGhpcy5fcm9vdEVsZW1lbnQpO1xuXG4gICAgICAgIGJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjbGljazogdGhpcy5fY2xpY2ssXG4gICAgICAgICAgICBtb3VzZW92ZXI6IHRoaXMuX21vdXNlZW50ZXIsXG4gICAgICAgICAgICBtb3VzZW91dDogdGhpcy5fbW91c2VsZWF2ZSxcbiAgICAgICAgICAgIG1vdXNlbW92ZTogdGhpcy5fbW91c2Vtb3ZlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9yb290RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB1bmJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgY2xpY2s6IHRoaXMuX2NsaWNrLFxuICAgICAgICAgICAgICAgIG1vdXNlb3ZlcjogdGhpcy5fbW91c2VlbnRlcixcbiAgICAgICAgICAgICAgICBtb3VzZW91dDogdGhpcy5fbW91c2VsZWF2ZSxcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmU6IHRoaXMuX21vdXNlbW92ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdHJhbnNsYXRlKG9mZnNldCkge1xuICAgICAgICBjb25zdCB2aWV3Qm94ID0gYCR7IE1hdGgucm91bmQob2Zmc2V0LngpIH0gJHsgTWF0aC5yb3VuZChvZmZzZXQueSkgfSAkeyB0aGlzLl9zaXplLndpZHRoIH0gJHsgdGhpcy5fc2l6ZS5oZWlnaHQgfWA7XG5cbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICAgIH1cblxuICAgIGRyYXcoZWxlbWVudCkge1xuICAgICAgICBzdXBlci5kcmF3KGVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9yb290LmxvYWQoWyBlbGVtZW50IF0pO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBzdXBlci5jbGVhcigpO1xuICAgICAgICB0aGlzLl9yb290LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgc3ZnKCkge1xuICAgICAgICByZXR1cm4gXCI8P3htbCB2ZXJzaW9uPScxLjAnID8+XCIgKyB0aGlzLl90ZW1wbGF0ZSgpO1xuICAgIH1cblxuICAgIGV4cG9ydFZpc3VhbCgpIHtcbiAgICAgICAgbGV0IHsgX3Zpc3VhbDogdmlzdWFsLCBfb2Zmc2V0OiBvZmZzZXQgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKG9mZnNldCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcCA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgd3JhcC5jaGlsZHJlbi5wdXNoKHZpc3VhbCk7XG5cbiAgICAgICAgICAgIHdyYXAudHJhbnNmb3JtKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybSgpLnRyYW5zbGF0ZSgtb2Zmc2V0LngsIC1vZmZzZXQueSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHZpc3VhbCA9IHdyYXA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmlzdWFsO1xuICAgIH1cblxuICAgIF9yZXNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlKHRoaXMuX29mZnNldCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdGVtcGxhdGUoc3ZnU3R5bGVzKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHR5cGVvZiBzdmdTdHlsZXMgPT09ICdzdHJpbmcnID8gc3ZnU3R5bGVzIDpcbiAgICAgICAgICAgIFwic3R5bGU9J3dpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IG92ZXJmbG93OiBoaWRkZW47JyBcIjtcbiAgICAgICAgcmV0dXJuIGA8c3ZnICR7c3R5bGVzfXhtbG5zPSckeyBTVkdfTlMgfScgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHZlcnNpb249JzEuMSc+JHsgdGhpcy5fcm9vdC5yZW5kZXIoKSB9PC9zdmc+YDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1cmZhY2U7XG4iLCJjb25zdCBOT0RFX01BUCA9IHt9O1xuXG5leHBvcnQgZGVmYXVsdCBOT0RFX01BUDsiLCJpbXBvcnQgQmFzZU5vZGUgZnJvbSAnLi4vY29yZS9iYXNlLW5vZGUnO1xuaW1wb3J0IE5PREVfTUFQIGZyb20gJy4vbm9kZS1tYXAnO1xuaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBOb2RlIGV4dGVuZHMgQmFzZU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIoc3JjRWxlbWVudCk7XG4gICAgICAgIGlmIChzcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRDbGlwKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0Q2xpcCgpIHtcbiAgICAgICAgY29uc3QgY2xpcCA9IHRoaXMuc3JjRWxlbWVudC5jbGlwKCk7XG4gICAgICAgIGlmIChjbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmNsaXAgPSBjbGlwO1xuICAgICAgICAgICAgY2xpcC5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNyY0VsZW1lbnQucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyQ2xpcCgpO1xuXG4gICAgICAgIHN1cGVyLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgY2xlYXJDbGlwKCkge1xuICAgICAgICBpZiAodGhpcy5jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmNsaXAucmVtb3ZlT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jbGlwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q2xpcChjdHgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgICAgICBjb25zdCBjbGlwTm9kZSA9IG5ldyBOT0RFX01BUFt0aGlzLmNsaXAubm9kZVR5cGVdKHRoaXMuY2xpcCk7XG4gICAgICAgICAgICBjbGlwTm9kZS5yZW5kZXJQb2ludHMoY3R4LCB0aGlzLmNsaXApO1xuXG4gICAgICAgICAgICBjdHguY2xpcChcImV2ZW5vZGRcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcHRpb25zQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuZmllbGQgPT09IFwiY2xpcFwiKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2xpcCgpO1xuICAgICAgICAgICAgdGhpcy5pbml0Q2xpcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIub3B0aW9uc0NoYW5nZShlKTtcbiAgICB9XG5cbiAgICBzZXRUcmFuc2Zvcm0oY3R4KSB7XG4gICAgICAgIGlmICh0aGlzLnNyY0VsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHRoaXMuc3JjRWxlbWVudC50cmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgICAgICBjdHgudHJhbnNmb3JtLmFwcGx5KGN0eCwgdHJhbnNmb3JtLm1hdHJpeCgpLnRvQXJyYXkoNikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZEVsZW1lbnRzKGVsZW1lbnRzLCBwb3MsIGNvcnMpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNyY0VsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IHNyY0VsZW1lbnQuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGxldCBjaGlsZE5vZGUgPSBuZXcgTk9ERV9NQVBbc3JjRWxlbWVudC5ub2RlVHlwZV0oc3JjRWxlbWVudCwgY29ycyk7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmxvYWQoY2hpbGRyZW4sIHBvcywgY29ycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbmVkKHBvcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydEF0KGNoaWxkTm9kZSwgcG9zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWQoZWxlbWVudHMsIHBvcywgY29ycykge1xuICAgICAgICB0aGlzLmxvYWRFbGVtZW50cyhlbGVtZW50cywgcG9zLCBjb3JzKTtcblxuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRPcGFjaXR5KGN0eCkge1xuICAgICAgICBpZiAodGhpcy5zcmNFbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gdGhpcy5zcmNFbGVtZW50Lm9wYWNpdHkoKTtcbiAgICAgICAgICAgIGlmIChkZWZpbmVkKG9wYWNpdHkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxBbHBoYShjdHgsIG9wYWNpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2xvYmFsQWxwaGEoY3R4LCB2YWx1ZSkge1xuICAgICAgICBsZXQgb3BhY3RpdHkgPSB2YWx1ZTtcbiAgICAgICAgaWYgKG9wYWN0aXR5ICYmIGN0eC5nbG9iYWxBbHBoYSkge1xuICAgICAgICAgICAgb3BhY3RpdHkgKj0gY3R4Lmdsb2JhbEFscGhhO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9wYWN0aXR5O1xuICAgIH1cblxuICAgIHZpc2libGUoKSB7XG4gICAgICAgIGNvbnN0IHNyYyA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgcmV0dXJuICFzcmMgfHwgKHNyYyAmJiBzcmMub3B0aW9ucy52aXNpYmxlICE9PSBmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlOyIsImltcG9ydCBOb2RlIGZyb20gJy4vbm9kZSc7XG5pbXBvcnQgdHJhdmVyc2FibGUgZnJvbSAnLi4vbWl4aW5zL3RyYXZlcnNhYmxlJztcblxuXG5jbGFzcyBHcm91cE5vZGUgZXh0ZW5kcyB0cmF2ZXJzYWJsZShOb2RlLCBcImNoaWxkTm9kZXNcIikge1xuICAgIHJlbmRlclRvKGN0eCkge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdHguc2F2ZSgpO1xuXG4gICAgICAgIHRoaXMuc2V0VHJhbnNmb3JtKGN0eCk7XG4gICAgICAgIHRoaXMuc2V0Q2xpcChjdHgpO1xuICAgICAgICB0aGlzLnNldE9wYWNpdHkoY3R4KTtcblxuICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQucmVuZGVyVG8oY3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBHcm91cE5vZGU7XG4iLCJpbXBvcnQgR3JvdXBOb2RlIGZyb20gJy4vZ3JvdXAtbm9kZSc7XG5pbXBvcnQgdHJhdmVyc2FibGUgZnJvbSAnLi4vbWl4aW5zL3RyYXZlcnNhYmxlJztcbmltcG9ydCB7IGFuaW1hdGlvbkZyYW1lLCB0aHJvdHRsZSB9IGZyb20gJy4uL2NvbW1vbic7XG5cblxuY29uc3QgRlJBTUVfREVMQVkgPSAxMDAwIC8gNjA7XG5cbmNsYXNzIFJvb3ROb2RlIGV4dGVuZHMgdHJhdmVyc2FibGUoR3JvdXBOb2RlLCBcImNoaWxkTm9kZXNcIikge1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhcywgc2l6ZSkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgY29uc3QgaW52YWxpZGF0ZUhhbmRsZXIgPSB0aGlzLl9pbnZhbGlkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSA9IHRocm90dGxlKCgpID0+IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbkZyYW1lKGludmFsaWRhdGVIYW5kbGVyKTtcbiAgICAgICAgfSwgRlJBTUVfREVMQVkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLmN0eCA9IG51bGw7XG4gICAgfVxuXG4gICAgbG9hZChlbGVtZW50cywgcG9zLCBjb3JzKSB7XG4gICAgICAgIHRoaXMubG9hZEVsZW1lbnRzKGVsZW1lbnRzLCBwb3MsIGNvcnMpO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgX3Jlc2NhbGUoc2NhbGUpIHtcbiAgICAgICAgY29uc3QgeyBjYW52YXMsIHNpemUgfSA9IHRoaXM7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHNpemUud2lkdGggKiBzY2FsZTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHNpemUuaGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHNjYWxlLCBzY2FsZSk7XG4gICAgfVxuXG4gICAgX2RldmljZVBpeGVsUmF0aW8oKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93LmRldmljZVBpeGVsUmF0aW8gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICBfaW52YWxpZGF0ZShvcHRpb25zKSB7XG4gICAgICAgIGlmICghdGhpcy5jdHgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpeGVkU2NhbGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZml4ZWRTY2FsZTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBmaXhlZFNjYWxlID8gMSA6IHRoaXMuX2RldmljZVBpeGVsUmF0aW8oKTtcbiAgICAgICAgdGhpcy5fcmVzY2FsZShzY2FsZSk7XG5cbiAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnJlbmRlclRvKHRoaXMuY3R4KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJvb3ROb2RlO1xuIiwiaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuXG5jbGFzcyBRdWFkUm9vdCBleHRlbmRzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLnNoYXBlcyA9IFtdO1xuICAgIH1cblxuICAgIF9hZGQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgdGhpcy5zaGFwZXMucHVzaCh7XG4gICAgICAgICAgICBiYm94OiBiYm94LFxuICAgICAgICAgICAgc2hhcGU6IHNoYXBlXG4gICAgICAgIH0pO1xuICAgICAgICBzaGFwZS5fcXVhZE5vZGUgPSB0aGlzO1xuICAgIH1cblxuICAgIHBvaW50U2hhcGVzKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHNoYXBlcyA9IHRoaXMuc2hhcGVzO1xuICAgICAgICBjb25zdCBsZW5ndGggPSBzaGFwZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHNoYXBlc1tpZHhdLmJib3guY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzaGFwZXNbaWR4XS5zaGFwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgdGhpcy5fYWRkKHNoYXBlLCBiYm94KTtcbiAgICB9XG5cbiAgICByZW1vdmUoc2hhcGUpIHtcbiAgICAgICAgY29uc3Qgc2hhcGVzID0gdGhpcy5zaGFwZXM7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHNoYXBlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgaWYgKHNoYXBlc1tpZHhdLnNoYXBlID09PSBzaGFwZSkge1xuICAgICAgICAgICAgICAgIHNoYXBlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUXVhZFJvb3Q7IiwiaW1wb3J0IFF1YWRSb290IGZyb20gJy4vcXVhZC1yb290JztcbmltcG9ydCB7IFJlY3QgfSBmcm9tICcuLi9nZW9tZXRyeSc7XG5pbXBvcnQgeyBhcHBlbmQgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgUXVhZE5vZGUgZXh0ZW5kcyBRdWFkUm9vdCB7XG4gICAgY29uc3RydWN0b3IocmVjdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XG4gICAgfVxuXG4gICAgaW5Cb3VuZHMocmVjdCkge1xuICAgICAgICBjb25zdCBub2RlUmVjdCA9IHRoaXMucmVjdDtcbiAgICAgICAgY29uc3Qgbm9kZUJvdHRvbVJpZ2h0ID0gbm9kZVJlY3QuYm90dG9tUmlnaHQoKTtcbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSByZWN0LmJvdHRvbVJpZ2h0KCk7XG4gICAgICAgIGNvbnN0IGluQm91bmRzID0gbm9kZVJlY3Qub3JpZ2luLnggPD0gcmVjdC5vcmlnaW4ueCAmJiBub2RlUmVjdC5vcmlnaW4ueSA8PSByZWN0Lm9yaWdpbi55ICYmIGJvdHRvbVJpZ2h0LnggPD0gbm9kZUJvdHRvbVJpZ2h0LnggJiZcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0LnkgPD0gbm9kZUJvdHRvbVJpZ2h0Lnk7XG4gICAgICAgIHJldHVybiBpbkJvdW5kcztcbiAgICB9XG5cbiAgICBwb2ludFNoYXBlcyhwb2ludCkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3VwZXIucG9pbnRTaGFwZXMocG9pbnQpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBhcHBlbmQocmVzdWx0LCBjaGlsZHJlbltpZHhdLnBvaW50U2hhcGVzKHBvaW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpbnNlcnQoc2hhcGUsIGJib3gpIHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICBsZXQgaW5zZXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5pbkJvdW5kcyhiYm94KSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hhcGVzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGQoc2hhcGUsIGJib3gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0Q2hpbGRyZW4oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZHJlbi5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbltpZHhdLmluc2VydChzaGFwZSwgYmJveCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFpbnNlcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGQoc2hhcGUsIGJib3gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNlcnRlZDtcbiAgICB9XG5cbiAgICBfaW5pdENoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCB7IHJlY3QsIGNoaWxkcmVuIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSByZWN0LmNlbnRlcigpO1xuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSByZWN0LndpZHRoKCkgLyAyO1xuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gcmVjdC5oZWlnaHQoKSAvIDI7XG5cbiAgICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgICAgIG5ldyBRdWFkTm9kZShuZXcgUmVjdChbIHJlY3Qub3JpZ2luLngsIHJlY3Qub3JpZ2luLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgY2VudGVyLngsIHJlY3Qub3JpZ2luLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgcmVjdC5vcmlnaW4ueCwgY2VudGVyLnkgXSwgWyBoYWxmV2lkdGgsIGhhbGZIZWlnaHQgXSkpLFxuICAgICAgICAgICAgbmV3IFF1YWROb2RlKG5ldyBSZWN0KFsgY2VudGVyLngsIGNlbnRlci55IF0sIFsgaGFsZldpZHRoLCBoYWxmSGVpZ2h0IF0pKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUXVhZE5vZGU7IiwiaW1wb3J0IFF1YWRSb290IGZyb20gJy4vcXVhZC1yb290JztcbmltcG9ydCBRdWFkTm9kZSBmcm9tICcuL3F1YWQtbm9kZSc7XG5pbXBvcnQgeyBSZWN0IH0gZnJvbSAnLi4vZ2VvbWV0cnknO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgYXBwZW5kIH0gZnJvbSAnLi4vdXRpbCc7XG5cbmNvbnN0IFJPT1RfU0laRSA9IDMwMDA7XG5jb25zdCBMRVZFTF9TVEVQID0gMTAwMDA7XG5jb25zdCBNQVhfTEVWRUwgPSA3NTtcblxuY2xhc3MgU2hhcGVzUXVhZFRyZWUgZXh0ZW5kcyBDbGFzcyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmluaXRSb290cygpO1xuICAgIH1cblxuICAgIGluaXRSb290cygpIHtcbiAgICAgICAgdGhpcy5yb290TWFwID0ge307XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBRdWFkUm9vdCgpO1xuICAgICAgICB0aGlzLnJvb3RFbGVtZW50cyA9IFtdO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICBjb25zdCByb290RWxlbWVudHMgPSB0aGlzLnJvb3RFbGVtZW50cztcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcm9vdEVsZW1lbnRzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHJvb3RFbGVtZW50c1tpZHhdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRSb290cygpO1xuICAgIH1cblxuICAgIHBvaW50U2hhcGUocG9pbnQpIHtcbiAgICAgICAgY29uc3Qgc2VjdG9yUm9vdCA9ICggdGhpcy5yb290TWFwWyBNYXRoLmZsb29yKCBwb2ludC54IC8gUk9PVF9TSVpFICkgXSB8fCB7fSApWyBNYXRoLmZsb29yKCBwb2ludC55IC8gUk9PVF9TSVpFICkgXTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucm9vdC5wb2ludFNoYXBlcyhwb2ludCk7XG5cbiAgICAgICAgaWYgKHNlY3RvclJvb3QpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoc2VjdG9yUm9vdC5wb2ludFNoYXBlcyhwb2ludCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hc3NpZ25aaW5kZXgocmVzdWx0KTtcblxuICAgICAgICByZXN1bHQuc29ydCh6SW5kZXhDb21wYXJlcik7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHJlc3VsdC5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2lkeF0uY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0W2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3NpZ25aaW5kZXgoZWxlbWVudHMpIHtcbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZWxlbWVudHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpZHhdO1xuICAgICAgICAgICAgbGV0IHpJbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgbGV2ZWxXZWlnaHQgPSBNYXRoLnBvdyhMRVZFTF9TVEVQLCBNQVhfTEVWRUwpO1xuICAgICAgICAgICAgbGV0IHBhcmVudHMgPSBbXTtcblxuICAgICAgICAgICAgd2hpbGUgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAocGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gcGFyZW50cy5wb3AoKTtcbiAgICAgICAgICAgICAgICB6SW5kZXggKz0gKChlbGVtZW50LnBhcmVudCA/IGVsZW1lbnQucGFyZW50LmNoaWxkcmVuIDogdGhpcy5yb290RWxlbWVudHMpLmluZGV4T2YoZWxlbWVudCkgKyAxKSAqIGxldmVsV2VpZ2h0O1xuICAgICAgICAgICAgICAgIGxldmVsV2VpZ2h0IC89IExFVkVMX1NURVA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2lkeF0uX3pJbmRleCA9IHpJbmRleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9wdGlvbnNDaGFuZ2UoZSkge1xuICAgICAgICBpZiAoZS5maWVsZCA9PT0gXCJ0cmFuc2Zvcm1cIiB8fCBlLmZpZWxkID09PSBcInN0cm9rZS53aWR0aFwiKSB7XG4gICAgICAgICAgICB0aGlzLmJib3hDaGFuZ2UoZS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlb21ldHJ5Q2hhbmdlKGUpIHtcbiAgICAgICAgdGhpcy5iYm94Q2hhbmdlKGUuZWxlbWVudCk7XG4gICAgfVxuXG4gICAgYmJveENoYW5nZShlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBcIkdyb3VwXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYmJveENoYW5nZShlbGVtZW50LmNoaWxkcmVuW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX3F1YWROb2RlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fcXVhZE5vZGUucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0U2hhcGUoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGQoZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmlzQXJyYXkoZWxlbWVudHMpID8gZWxlbWVudHMuc2xpY2UoMCkgOiBbIGVsZW1lbnRzIF07XG5cbiAgICAgICAgYXBwZW5kKHRoaXMucm9vdEVsZW1lbnRzLCBlbGVtZW50c0FycmF5KTtcbiAgICAgICAgdGhpcy5faW5zZXJ0KGVsZW1lbnRzQXJyYXkpO1xuICAgIH1cblxuICAgIGNoaWxkcmVuQ2hhbmdlKGUpIHtcbiAgICAgICAgaWYgKGUuYWN0aW9uID09PSBcInJlbW92ZVwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBlLml0ZW1zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShlLml0ZW1zW2lkeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUuaXRlbXMsIDApKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pbnNlcnQoZWxlbWVudHMpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50cy5wb3AoKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkT2JzZXJ2ZXIodGhpcyk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gXCJHcm91cFwiKSB7XG4gICAgICAgICAgICAgICAgYXBwZW5kKGVsZW1lbnRzLCBlbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5zZXJ0U2hhcGUoZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5zZXJ0U2hhcGUoc2hhcGUpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHNoYXBlLmJib3goKTtcbiAgICAgICAgaWYgKGJib3gpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvcnMgPSB0aGlzLmdldFNlY3RvcnMoYmJveCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gc2VjdG9yc1swXVswXTtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBzZWN0b3JzWzFdWzBdO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pblJvb3Qoc2VjdG9ycykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3QuaW5zZXJ0KHNoYXBlLCBiYm94KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdE1hcCA9IHRoaXMucm9vdE1hcDtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RNYXBbeF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdE1hcFt4XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghcm9vdE1hcFt4XVt5XSkge1xuICAgICAgICAgICAgICAgICAgICByb290TWFwW3hdW3ldID0gbmV3IFF1YWROb2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlY3QoWyB4ICogUk9PVF9TSVpFLCB5ICogUk9PVF9TSVpFIF0sIFsgUk9PVF9TSVpFLCBST09UX1NJWkUgXSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByb290TWFwW3hdW3ldLmluc2VydChzaGFwZSwgYmJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBcIkdyb3VwXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjtcbiAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGNoaWxkcmVuLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShjaGlsZHJlbltpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50Ll9xdWFkTm9kZSkge1xuICAgICAgICAgICAgZWxlbWVudC5fcXVhZE5vZGUucmVtb3ZlKGVsZW1lbnQpO1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuX3F1YWROb2RlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW5Sb290KHNlY3RvcnMpIHtcbiAgICAgICAgcmV0dXJuIHNlY3RvcnNbMF0ubGVuZ3RoID4gMSB8fCBzZWN0b3JzWzFdLmxlbmd0aCA+IDE7XG4gICAgfVxuXG4gICAgZ2V0U2VjdG9ycyhyZWN0KSB7XG4gICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gcmVjdC5ib3R0b21SaWdodCgpO1xuICAgICAgICBjb25zdCBib3R0b21YID0gTWF0aC5mbG9vcihib3R0b21SaWdodC54IC8gUk9PVF9TSVpFKTtcbiAgICAgICAgY29uc3QgYm90dG9tWSA9IE1hdGguZmxvb3IoYm90dG9tUmlnaHQueSAvIFJPT1RfU0laRSk7XG4gICAgICAgIGNvbnN0IHNlY3RvcnMgPSBbIFtdLCBbXSBdO1xuICAgICAgICBmb3IgKGxldCB4ID0gTWF0aC5mbG9vcihyZWN0Lm9yaWdpbi54IC8gUk9PVF9TSVpFKTsgeCA8PSBib3R0b21YOyB4KyspIHtcbiAgICAgICAgICAgIHNlY3RvcnNbMF0ucHVzaCh4KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB5ID0gTWF0aC5mbG9vcihyZWN0Lm9yaWdpbi55IC8gUk9PVF9TSVpFKTsgeSA8PSBib3R0b21ZOyB5KyspIHtcbiAgICAgICAgICAgIHNlY3RvcnNbMV0ucHVzaCh5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VjdG9ycztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHpJbmRleENvbXBhcmVyKHgxLCB4Mikge1xuICAgIGlmICh4MS5fekluZGV4IDwgeDIuX3pJbmRleCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHgxLl96SW5kZXggPiB4Mi5fekluZGV4KSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2hhcGVzUXVhZFRyZWU7IiwiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBTdXJmYWNlQ3Vyc29yIHtcblxuICAgIGNvbnN0cnVjdG9yKHN1cmZhY2UpIHtcbiAgICAgICAgc3VyZmFjZS5iaW5kKFwibW91c2VlbnRlclwiLCB0aGlzLl9tb3VzZWVudGVyLmJpbmQodGhpcykpO1xuICAgICAgICBzdXJmYWNlLmJpbmQoXCJtb3VzZWxlYXZlXCIsIHRoaXMuX21vdXNlbGVhdmUuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gc3VyZmFjZS5lbGVtZW50O1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9yZXNldEN1cnNvcigpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3Jlc2V0Q3Vyc29yKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuXG4gICAgX21vdXNlZW50ZXIoZSkge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSB0aGlzLl9zaGFwZUN1cnNvcihlKTtcblxuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgdGhpcy5fcmVzZXRDdXJzb3IoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZmF1bHRDdXJzb3IgPSB0aGlzLl9nZXRDdXJzb3IoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2V0Q3Vyc29yKGN1cnNvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW91c2VsZWF2ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRDdXJzb3IoKTtcbiAgICB9XG5cbiAgICBfc2hhcGVDdXJzb3IoZSkge1xuICAgICAgICBsZXQgc2hhcGUgPSBlLmVsZW1lbnQ7XG5cbiAgICAgICAgd2hpbGUgKHNoYXBlICYmICFkZWZpbmVkKHNoYXBlLm9wdGlvbnMuY3Vyc29yKSkge1xuICAgICAgICAgICAgc2hhcGUgPSBzaGFwZS5wYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hhcGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFwZS5vcHRpb25zLmN1cnNvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9nZXRDdXJzb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGUuY3Vyc29yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3NldEN1cnNvcihjdXJzb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjdXJzb3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcmVzZXRDdXJzb3IoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDdXJzb3IodGhpcy5fZGVmYXVsdEN1cnNvciB8fCBcIlwiKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jdXJyZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdXJmYWNlQ3Vyc29yO1xuXG4iLCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlclBhdGgoY3R4LCBwYXRoKSB7XG4gICAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNlZ21lbnRzO1xuXG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHNlZ21lbnQgPSBzZWdtZW50c1swXTtcbiAgICBsZXQgYW5jaG9yID0gc2VnbWVudC5hbmNob3IoKTtcbiAgICBjdHgubW92ZVRvKGFuY2hvci54LCBhbmNob3IueSk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgYW5jaG9yID0gc2VnbWVudC5hbmNob3IoKTtcblxuICAgICAgICBsZXQgcHJldlNlZyA9IHNlZ21lbnRzW2kgLSAxXTtcbiAgICAgICAgbGV0IHByZXZPdXQgPSBwcmV2U2VnLmNvbnRyb2xPdXQoKTtcbiAgICAgICAgbGV0IGNvbnRyb2xJbiA9IHNlZ21lbnQuY29udHJvbEluKCk7XG5cbiAgICAgICAgaWYgKHByZXZPdXQgJiYgY29udHJvbEluKSB7XG4gICAgICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyhwcmV2T3V0LngsIHByZXZPdXQueSxcbiAgICAgICAgICAgICAgICBjb250cm9sSW4ueCwgY29udHJvbEluLnksXG4gICAgICAgICAgICAgICAgYW5jaG9yLngsIGFuY2hvci55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oYW5jaG9yLngsIGFuY2hvci55KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXRoLm9wdGlvbnMuY2xvc2VkKSB7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTm9kZSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHsgcGFyc2VDb2xvciB9IGZyb20gJy4uL2NvbW1vbic7XG5pbXBvcnQgeyBpc1RyYW5zcGFyZW50LCB2YWx1ZU9yRGVmYXVsdCB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IExpbmVhckdyYWRpZW50IGZyb20gJy4uL2dyYWRpZW50cy9saW5lYXItZ3JhZGllbnQnO1xuaW1wb3J0IFJhZGlhbEdyYWRpZW50IGZyb20gJy4uL2dyYWRpZW50cy9yYWRpYWwtZ3JhZGllbnQnO1xuaW1wb3J0IHsgREFTSF9BUlJBWVMsIFNPTElELCBCVVRUIH0gZnJvbSAnLi4vY29yZS9jb25zdGFudHMnO1xuaW1wb3J0IHJlbmRlclBhdGggZnJvbSAnLi91dGlscy9yZW5kZXItcGF0aCc7XG5cbmZ1bmN0aW9uIGFkZEdyYWRpZW50U3RvcHMoZ3JhZGllbnQsIHN0b3BzKSB7XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3RvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgc3RvcCA9IHN0b3BzW2lkeF07XG4gICAgICAgIGxldCBjb2xvciA9IHBhcnNlQ29sb3Ioc3RvcC5jb2xvcigpKTtcblxuICAgICAgICBjb2xvci5hICo9IHN0b3Aub3BhY2l0eSgpO1xuXG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLm9mZnNldCgpLCBjb2xvci50b0Nzc1JnYmEoKSk7XG4gICAgfVxufVxuXG5jbGFzcyBQYXRoTm9kZSBleHRlbmRzIE5vZGUge1xuXG4gICAgcmVuZGVyVG8oY3R4KSB7XG4gICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgdGhpcy5zZXRDbGlwKGN0eCk7XG4gICAgICAgIHRoaXMuc2V0T3BhY2l0eShjdHgpO1xuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgICB0aGlzLnJlbmRlclBvaW50cyhjdHgsIHRoaXMuc3JjRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5zZXRMaW5lRGFzaChjdHgpO1xuICAgICAgICB0aGlzLnNldExpbmVDYXAoY3R4KTtcbiAgICAgICAgdGhpcy5zZXRMaW5lSm9pbihjdHgpO1xuXG4gICAgICAgIHRoaXMuc2V0RmlsbChjdHgpO1xuICAgICAgICB0aGlzLnNldFN0cm9rZShjdHgpO1xuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgc2V0RmlsbChjdHgpIHtcbiAgICAgICAgY29uc3QgZmlsbCA9IHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLmZpbGw7XG4gICAgICAgIGxldCBoYXNGaWxsID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGlmIChmaWxsLm5vZGVUeXBlID09PSBcIkdyYWRpZW50XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEdyYWRpZW50RmlsbChjdHgsIGZpbGwpO1xuICAgICAgICAgICAgICAgIGhhc0ZpbGwgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNUcmFuc3BhcmVudChmaWxsLmNvbG9yKSkge1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsLmNvbG9yO1xuXG4gICAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEFscGhhKGN0eCwgZmlsbC5vcGFjaXR5KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAgICAgICBoYXNGaWxsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNGaWxsO1xuICAgIH1cblxuICAgIHNldEdyYWRpZW50RmlsbChjdHgsIGZpbGwpIHtcbiAgICAgICAgY29uc3QgYmJveCA9IHRoaXMuc3JjRWxlbWVudC5yYXdCQm94KCk7XG4gICAgICAgIGxldCBncmFkaWVudDtcblxuICAgICAgICBpZiAoZmlsbCBpbnN0YW5jZW9mIExpbmVhckdyYWRpZW50KSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBmaWxsLnN0YXJ0KCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gZmlsbC5lbmQoKTtcbiAgICAgICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHN0YXJ0LngsIHN0YXJ0LnksIGVuZC54LCBlbmQueSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsbCBpbnN0YW5jZW9mIFJhZGlhbEdyYWRpZW50KSB7XG4gICAgICAgICAgICBsZXQgY2VudGVyID0gZmlsbC5jZW50ZXIoKTtcbiAgICAgICAgICAgIGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGNlbnRlci54LCBjZW50ZXIueSwgMCwgY2VudGVyLngsIGNlbnRlci55LCBmaWxsLnJhZGl1cygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZEdyYWRpZW50U3RvcHMoZ3JhZGllbnQsIGZpbGwuc3RvcHMpO1xuXG4gICAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgICAgaWYgKCFmaWxsLnVzZXJTcGFjZSgpKSB7XG4gICAgICAgICAgICBjdHgudHJhbnNmb3JtKGJib3gud2lkdGgoKSwgMCwgMCwgYmJveC5oZWlnaHQoKSwgYmJveC5vcmlnaW4ueCwgYmJveC5vcmlnaW4ueSk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgICAgICBjdHguZmlsbCgpO1xuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgc2V0U3Ryb2tlKGN0eCkge1xuICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5zdHJva2U7XG4gICAgICAgIGlmIChzdHJva2UgJiYgIWlzVHJhbnNwYXJlbnQoc3Ryb2tlLmNvbG9yKSAmJiBzdHJva2Uud2lkdGggPiAwKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHJva2UuY29sb3I7XG4gICAgICAgICAgICBjdHgubGluZVdpZHRoID0gdmFsdWVPckRlZmF1bHQoc3Ryb2tlLndpZHRoLCAxKTtcblxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsQWxwaGEoY3R4LCBzdHJva2Uub3BhY2l0eSk7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRhc2hUeXBlKCkge1xuICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5zdHJva2U7XG4gICAgICAgIGlmIChzdHJva2UgJiYgc3Ryb2tlLmRhc2hUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Ryb2tlLmRhc2hUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRMaW5lRGFzaChjdHgpIHtcbiAgICAgICAgY29uc3QgZGFzaFR5cGUgPSB0aGlzLmRhc2hUeXBlKCk7XG4gICAgICAgIGlmIChkYXNoVHlwZSAmJiBkYXNoVHlwZSAhPT0gU09MSUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhc2hBcnJheSA9IERBU0hfQVJSQVlTW2Rhc2hUeXBlXTtcbiAgICAgICAgICAgIGlmIChjdHguc2V0TGluZURhc2gpIHtcbiAgICAgICAgICAgICAgICBjdHguc2V0TGluZURhc2goZGFzaEFycmF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3R4Lm1vekRhc2ggPSBkYXNoQXJyYXk7XG4gICAgICAgICAgICAgICAgY3R4LndlYmtpdExpbmVEYXNoID0gZGFzaEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0TGluZUNhcChjdHgpIHtcbiAgICAgICAgY29uc3QgZGFzaFR5cGUgPSB0aGlzLmRhc2hUeXBlKCk7XG4gICAgICAgIGNvbnN0IHN0cm9rZSA9IHRoaXMuc3JjRWxlbWVudC5vcHRpb25zLnN0cm9rZTtcbiAgICAgICAgaWYgKGRhc2hUeXBlICYmIGRhc2hUeXBlICE9PSBTT0xJRCkge1xuICAgICAgICAgICAgY3R4LmxpbmVDYXAgPSBCVVRUO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cm9rZSAmJiBzdHJva2UubGluZUNhcCkge1xuICAgICAgICAgICAgY3R4LmxpbmVDYXAgPSBzdHJva2UubGluZUNhcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldExpbmVKb2luKGN0eCkge1xuICAgICAgICBjb25zdCBzdHJva2UgPSB0aGlzLnNyY0VsZW1lbnQub3B0aW9ucy5zdHJva2U7XG4gICAgICAgIGlmIChzdHJva2UgJiYgc3Ryb2tlLmxpbmVKb2luKSB7XG4gICAgICAgICAgICBjdHgubGluZUpvaW4gPSBzdHJva2UubGluZUpvaW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJQb2ludHMoY3R4LCBwYXRoKSB7XG4gICAgICAgIHJlbmRlclBhdGgoY3R4LCBwYXRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhdGhOb2RlO1xuIiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCByZW5kZXJQYXRoIGZyb20gJy4vdXRpbHMvcmVuZGVyLXBhdGgnO1xuXG5jbGFzcyBBcmNOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuICAgIHJlbmRlclBvaW50cyhjdHgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMuc3JjRWxlbWVudC50b1BhdGgoKTtcbiAgICAgICAgcmVuZGVyUGF0aChjdHgsIHBhdGgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXJjTm9kZTtcbiIsImltcG9ydCBQYXRoTm9kZSBmcm9tICcuL3BhdGgtbm9kZSc7XG5cbmNsYXNzIENpcmNsZU5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG4gICAgcmVuZGVyUG9pbnRzKGN0eCkge1xuICAgICAgICBjb25zdCB7IGNlbnRlciwgcmFkaXVzIH0gPSB0aGlzLnNyY0VsZW1lbnQuZ2VvbWV0cnkoKTtcblxuICAgICAgICBjdHguYXJjKGNlbnRlci54LCBjZW50ZXIueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaXJjbGVOb2RlO1xuIiwiaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCB7IGNyZWF0ZVByb21pc2UgfSBmcm9tICcuLi91dGlsJztcblxuY2xhc3MgSW1hZ2VOb2RlIGV4dGVuZHMgUGF0aE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKHNyY0VsZW1lbnQsIGNvcnMpIHtcbiAgICAgICAgc3VwZXIoc3JjRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5vbkxvYWQgPSB0aGlzLm9uTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBjcmVhdGVQcm9taXNlKCk7XG5cbiAgICAgICAgY29uc3QgaW1nID0gdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgY29uc3Qgc3JjID0gc3JjRWxlbWVudC5zcmMoKTtcblxuICAgICAgICBpZiAoY29ycyAmJiAhKC9eZGF0YTovaS50ZXN0KHNyYykpKSB7XG4gICAgICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjb3JzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Mb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gdGhpcy5vbkxvYWQ7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IHRoaXMub25FcnJvcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclRvKGN0eCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkaW5nLnN0YXRlKCkgPT09IFwicmVzb2x2ZWRcIikge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2xpcChjdHgpO1xuXG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZShjdHgpO1xuXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3B0aW9uc0NoYW5nZShlKSB7XG4gICAgICAgIGlmIChlLmZpZWxkID09PSBcInNyY1wiKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBjcmVhdGVQcm9taXNlKCk7XG4gICAgICAgICAgICB0aGlzLmltZy5zcmMgPSB0aGlzLnNyY0VsZW1lbnQuc3JjKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdXBlci5vcHRpb25zQ2hhbmdlKGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcucmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkVycm9yKCkge1xuICAgICAgICB0aGlzLmxvYWRpbmcucmVqZWN0KG5ldyBFcnJvcihcbiAgICAgICAgICAgIFwiVW5hYmxlIHRvIGxvYWQgaW1hZ2UgJ1wiICsgdGhpcy5pbWcuc3JjICtcbiAgICAgICAgICAgIFwiJy4gQ2hlY2sgZm9yIGNvbm5lY3Rpdml0eSBhbmQgdmVyaWZ5IENPUlMgaGVhZGVycy5cIlxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICBkcmF3SW1hZ2UoY3R4KSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNyY0VsZW1lbnQucmVjdCgpO1xuICAgICAgICBjb25zdCB0b3BMZWZ0ID0gcmVjdC50b3BMZWZ0KCk7XG5cbiAgICAgICAgY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgIHRoaXMuaW1nLCB0b3BMZWZ0LngsIHRvcExlZnQueSwgcmVjdC53aWR0aCgpLCByZWN0LmhlaWdodCgpXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZU5vZGU7XG4iLCJpbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuaW1wb3J0IHJlbmRlclBhdGggZnJvbSAnLi91dGlscy9yZW5kZXItcGF0aCc7XG5cbmNsYXNzIE11bHRpUGF0aE5vZGUgZXh0ZW5kcyBQYXRoTm9kZSB7XG4gICAgcmVuZGVyUG9pbnRzKGN0eCkge1xuICAgICAgICBjb25zdCBwYXRocyA9IHRoaXMuc3JjRWxlbWVudC5wYXRocztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVuZGVyUGF0aChjdHgsIHBhdGhzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlQYXRoTm9kZTtcbiIsImltcG9ydCB7IFBhdGggfSBmcm9tICcuLi9zaGFwZXMvcGF0aCc7XG5pbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuXG5jbGFzcyBSZWN0Tm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJQb2ludHMoY3R4KSB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5zcmNFbGVtZW50Lmdlb21ldHJ5KCk7XG4gICAgICAgIGNvbnN0IFsgcngsIHJ5IF0gPSBnZW9tZXRyeS5jb3JuZXJSYWRpdXM7XG5cbiAgICAgICAgaWYgKHJ4ID09PSAwICYmIHJ5ID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IG9yaWdpbiwgc2l6ZSB9ID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBjdHgucmVjdChvcmlnaW4ueCwgb3JpZ2luLnksIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLnJlbmRlclBvaW50cyhjdHgsIFBhdGguZnJvbVJlY3QoZ2VvbWV0cnkpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVjdE5vZGU7XG4iLCJpbXBvcnQgUGF0aE5vZGUgZnJvbSAnLi9wYXRoLW5vZGUnO1xuXG5jbGFzcyBUZXh0Tm9kZSBleHRlbmRzIFBhdGhOb2RlIHtcbiAgICByZW5kZXJUbyhjdHgpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHRoaXMuc3JjRWxlbWVudDtcbiAgICAgICAgY29uc3QgcG9zID0gdGV4dC5wb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBzaXplID0gdGV4dC5tZWFzdXJlKCk7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcblxuICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShjdHgpO1xuICAgICAgICB0aGlzLnNldENsaXAoY3R4KTtcbiAgICAgICAgdGhpcy5zZXRPcGFjaXR5KGN0eCk7XG5cbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGN0eC5mb250ID0gdGV4dC5vcHRpb25zLmZvbnQ7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0RmlsbChjdHgpKSB7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGV4dC5jb250ZW50KCksIHBvcy54LCBwb3MueSArIHNpemUuYmFzZWxpbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0U3Ryb2tlKGN0eCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TGluZURhc2goY3R4KTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VUZXh0KHRleHQuY29udGVudCgpLCBwb3MueCwgcG9zLnkgKyBzaXplLmJhc2VsaW5lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IFRleHROb2RlO1xuIiwiaW1wb3J0IEJhc2VTdXJmYWNlIGZyb20gJy4uL2NvcmUvc3VyZmFjZSc7XG5pbXBvcnQgeyBjcmVhdGVQcm9taXNlLCBwcm9taXNlQWxsLCBiaW5kRXZlbnRzLCBlbGVtZW50U2l6ZSwgdW5iaW5kRXZlbnRzIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgUm9vdE5vZGUgZnJvbSAnLi9yb290LW5vZGUnO1xuaW1wb3J0IFNoYXBlc1F1YWRUcmVlIGZyb20gJy4uL3NlYXJjaC9zaGFwZXMtcXVhZC10cmVlJztcbmltcG9ydCBTdXJmYWNlQ3Vyc29yIGZyb20gJy4vc3VyZmFjZS1jdXJzb3InO1xuXG5pbXBvcnQgQXJjTm9kZSBmcm9tICcuL2FyYy1ub2RlJztcbmltcG9ydCBDaXJjbGVOb2RlIGZyb20gJy4vY2lyY2xlLW5vZGUnO1xuaW1wb3J0IEdyb3VwTm9kZSBmcm9tICcuL2dyb3VwLW5vZGUnO1xuaW1wb3J0IEltYWdlTm9kZSBmcm9tICcuL2ltYWdlLW5vZGUnO1xuaW1wb3J0IE11bHRpUGF0aE5vZGUgZnJvbSAnLi9tdWx0aS1wYXRoLW5vZGUnO1xuaW1wb3J0IFBhdGhOb2RlIGZyb20gJy4vcGF0aC1ub2RlJztcbmltcG9ydCBSZWN0Tm9kZSBmcm9tICcuL3JlY3Qtbm9kZSc7XG5pbXBvcnQgVGV4dE5vZGUgZnJvbSAnLi90ZXh0LW5vZGUnO1xuaW1wb3J0IE5PREVfTUFQIGZyb20gJy4vbm9kZS1tYXAnO1xuXG5OT0RFX01BUC5BcmMgPSBBcmNOb2RlO1xuTk9ERV9NQVAuQ2lyY2xlID0gQ2lyY2xlTm9kZTtcbk5PREVfTUFQLkdyb3VwID0gR3JvdXBOb2RlO1xuTk9ERV9NQVAuSW1hZ2UgPSBJbWFnZU5vZGU7XG5OT0RFX01BUC5NdWx0aVBhdGggPSBNdWx0aVBhdGhOb2RlO1xuTk9ERV9NQVAuUGF0aCA9IFBhdGhOb2RlO1xuTk9ERV9NQVAuUmVjdCA9IFJlY3ROb2RlO1xuTk9ERV9NQVAuVGV4dCA9IFRleHROb2RlO1xuXG5cbmNsYXNzIFN1cmZhY2UgZXh0ZW5kcyBCYXNlU3VyZmFjZSB7XG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiBcImNhbnZhc1wiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuX3RlbXBsYXRlKHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgICAgIGNvbnN0IHNpemUgPSBlbGVtZW50U2l6ZShlbGVtZW50KTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQgPSBjYW52YXM7XG5cbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBSb290Tm9kZShjYW52YXMsIHNpemUpO1xuXG4gICAgICAgIHRoaXMuX21vdXNlVHJhY2tIYW5kbGVyID0gdGhpcy5fdHJhY2tNb3VzZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGJpbmRFdmVudHModGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjbGljazogdGhpcy5fbW91c2VUcmFja0hhbmRsZXIsXG4gICAgICAgICAgICBtb3VzZW1vdmU6IHRoaXMuX21vdXNlVHJhY2tIYW5kbGVyXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcblxuICAgICAgICBpZiAodGhpcy5fcm9vdCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9zZWFyY2hUcmVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hUcmVlLmNsZWFyKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc2VhcmNoVHJlZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jdXJzb3IpIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnNvci5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY3Vyc29yO1xuICAgICAgICB9XG5cbiAgICAgICAgdW5iaW5kRXZlbnRzKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgY2xpY2s6IHRoaXMuX21vdXNlVHJhY2tIYW5kbGVyLFxuICAgICAgICAgICAgbW91c2Vtb3ZlOiB0aGlzLl9tb3VzZVRyYWNrSGFuZGxlclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkcmF3KGVsZW1lbnQpIHtcbiAgICAgICAgc3VwZXIuZHJhdyhlbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcm9vdC5sb2FkKFsgZWxlbWVudCBdLCB1bmRlZmluZWQsIHRoaXMub3B0aW9ucy5jb3JzKTtcblxuICAgICAgICBpZiAodGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVHJlZS5hZGQoWyBlbGVtZW50IF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHN1cGVyLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3Jvb3QuY2xlYXIoKTtcblxuICAgICAgICBpZiAodGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVHJlZS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnNvcikge1xuICAgICAgICAgICAgdGhpcy5fY3Vyc29yLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBldmVudFRhcmdldChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWFyY2hUcmVlKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuX3N1cmZhY2VQb2ludChlKTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fc2VhcmNoVHJlZS5wb2ludFNoYXBlKHBvaW50KTtcbiAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltYWdlKCkge1xuICAgICAgICBjb25zdCB7IF9yb290OiByb290LCBfcm9vdEVsZW1lbnQ6IHJvb3RFbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBsb2FkaW5nU3RhdGVzID0gW107XG5cbiAgICAgICAgcm9vdC50cmF2ZXJzZSgoY2hpbGROb2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlLmxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBsb2FkaW5nU3RhdGVzLnB1c2goY2hpbGROb2RlLmxvYWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwcm9taXNlID0gY3JlYXRlUHJvbWlzZSgpO1xuICAgICAgICBjb25zdCByZXNvbHZlRGF0YVVSTCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJvb3QuX2ludmFsaWRhdGUoeyBmaXhlZFNjYWxlOiB0cnVlIH0pO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByb290RWxlbWVudC50b0RhdGFVUkwoKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcHJvbWlzZUFsbChsb2FkaW5nU3RhdGVzKS50aGVuKHJlc29sdmVEYXRhVVJMLCByZXNvbHZlRGF0YVVSTCk7XG5cbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgc3VzcGVuZFRyYWNraW5nKCkge1xuICAgICAgICBzdXBlci5zdXNwZW5kVHJhY2tpbmcoKTtcbiAgICAgICAgaWYgKHRoaXMuX3NlYXJjaFRyZWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlYXJjaFRyZWUuY2xlYXIoKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZWFyY2hUcmVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lVHJhY2tpbmcoKSB7XG4gICAgICAgIHN1cGVyLnJlc3VtZVRyYWNraW5nKCk7XG4gICAgICAgIGlmICghdGhpcy5fc2VhcmNoVHJlZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VhcmNoVHJlZSA9IG5ldyBTaGFwZXNRdWFkVHJlZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpcy5fcm9vdC5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgY29uc3Qgcm9vdEVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBjaGlsZE5vZGVzLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgICAgICByb290RWxlbWVudHMucHVzaChjaGlsZE5vZGVzW2lkeF0uc3JjRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZWFyY2hUcmVlLmFkZChyb290RWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3Jlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5fcm9vdEVsZW1lbnQud2lkdGggPSB0aGlzLl9zaXplLndpZHRoO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudC5oZWlnaHQgPSB0aGlzLl9zaXplLmhlaWdodDtcblxuICAgICAgICB0aGlzLl9yb290LnNpemUgPSB0aGlzLl9zaXplO1xuICAgICAgICB0aGlzLl9yb290LmludmFsaWRhdGUoKTtcbiAgICB9XG5cbiAgICBfdGVtcGxhdGUoKSB7XG4gICAgICAgIHJldHVybiBcIjxjYW52YXM+PC9jYW52YXM+XCI7XG4gICAgfVxuXG4gICAgX2VuYWJsZVRyYWNraW5nKCkge1xuICAgICAgICB0aGlzLl9zZWFyY2hUcmVlID0gbmV3IFNoYXBlc1F1YWRUcmVlKCk7XG4gICAgICAgIHRoaXMuX2N1cnNvciA9IG5ldyBTdXJmYWNlQ3Vyc29yKHRoaXMpO1xuXG4gICAgICAgIHN1cGVyLl9lbmFibGVUcmFja2luZygpO1xuICAgIH1cblxuICAgIF90cmFja01vdXNlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N1c3BlbmRlZFRyYWNraW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuZXZlbnRUYXJnZXQoZSk7XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPT0gXCJjbGlja1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U2hhcGUgPSB0aGlzLl9jdXJyZW50U2hhcGU7XG4gICAgICAgICAgICBpZiAoY3VycmVudFNoYXBlICYmIGN1cnJlbnRTaGFwZSAhPT0gc2hhcGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJtb3VzZWxlYXZlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogY3VycmVudFNoYXBlLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm1vdXNlbGVhdmVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2hhcGUgJiYgY3VycmVudFNoYXBlICE9PSBzaGFwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcIm1vdXNlZW50ZXJcIiwge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBzaGFwZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJtb3VzZWVudGVyXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwibW91c2Vtb3ZlXCIsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBzaGFwZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibW91c2Vtb3ZlXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U2hhcGUgPSBzaGFwZTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZSkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiY2xpY2tcIiwge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNoYXBlLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjbGlja1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VyZmFjZTtcbiIsImltcG9ydCB7IENsYXNzLCBsb2dUb0NvbnNvbGUgfSBmcm9tICcuL2NvbW1vbic7XG5pbXBvcnQgU1ZHU3VyZmFjZSBmcm9tICcuL3N2Zy9zdXJmYWNlJztcbmltcG9ydCBDYW52YXNTdXJmYWNlIGZyb20gJy4vY2FudmFzL3N1cmZhY2UnO1xuXG5sZXQgaW5zdGFuY2U7XG5sZXQgc3VwcG9ydDtcblxuY29uc3QgaGFzRG9jdW1lbnQgPSAoKSA9PiB0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG5cbmNvbnN0IHN1cHBvcnRzQ2FudmFzID0gKCkgPT4gaGFzRG9jdW1lbnQoKSAmJlxuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dDtcblxuY29uc3Qgc3VwcG9ydHNTVkcgPSAoKSA9PiBoYXNEb2N1bWVudCgpICYmXG4gICAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmVcIiwgXCIxLjFcIik7XG5cbmNsYXNzIFN1cmZhY2VGYWN0b3J5IGV4dGVuZHMgQ2xhc3Mge1xuICAgIHN0YXRpYyBnZXQgc3VwcG9ydCgpIHtcbiAgICAgICAgaWYgKCFzdXBwb3J0KSB7XG4gICAgICAgICAgICBzdXBwb3J0ID0ge1xuICAgICAgICAgICAgICAgIGNhbnZhczogc3VwcG9ydHNDYW52YXMoKSxcbiAgICAgICAgICAgICAgICBzdmc6IHN1cHBvcnRzU1ZHKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGluc3RhbmNlID0gbmV3IFN1cmZhY2VGYWN0b3J5KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5faXRlbXMgPSBbIHtcbiAgICAgICAgICAgIG5hbWU6IFwic3ZnXCIsXG4gICAgICAgICAgICB0eXBlOiBTVkdTdXJmYWNlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6IFwiY2FudmFzXCIsXG4gICAgICAgICAgICB0eXBlOiBDYW52YXNTdXJmYWNlXG4gICAgICAgIH0gXTtcbiAgICB9XG5cbiAgICBjcmVhdGUoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgICAgICBsZXQgbWF0Y2ggPSBpdGVtc1swXTtcblxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnR5cGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWZlcnJlZCA9IG9wdGlvbnMudHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtc1tpXS5uYW1lID09PSBwcmVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBpdGVtc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IG1hdGNoLnR5cGUoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2dUb0NvbnNvbGUoXG4gICAgICAgICAgICBcIldhcm5pbmc6IFVuYWJsZSB0byBjcmVhdGUgS2VuZG8gVUkgRHJhd2luZyBTdXJmYWNlLiBQb3NzaWJsZSBjYXVzZXM6XFxuXCIgK1xuICAgICAgICAgICAgYC0gVGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBTVkcgYW5kIENhbnZhcy4gVXNlciBhZ2VudDogJHsgbmF2aWdhdG9yLnVzZXJBZ2VudCB9YCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdXJmYWNlRmFjdG9yeTtcblxuIiwiaW1wb3J0IEJhc2VTdXJmYWNlIGZyb20gJy4vY29yZS9zdXJmYWNlJztcbmltcG9ydCBTdXJmYWNlRmFjdG9yeSBmcm9tICcuL3N1cmZhY2UtZmFjdG9yeSc7XG5cbmNsYXNzIFN1cmZhY2UgZXh0ZW5kcyBCYXNlU3VyZmFjZSB7XG4gICAgc3RhdGljIGdldCBzdXBwb3J0KCkge1xuICAgICAgICByZXR1cm4gU3VyZmFjZUZhY3Rvcnkuc3VwcG9ydDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFN1cmZhY2VGYWN0b3J5LmN1cnJlbnQuY3JlYXRlKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3VyZmFjZTtcblxuIiwiaW1wb3J0IFJvb3ROb2RlIGZyb20gJy4vcm9vdC1ub2RlJztcbmltcG9ydCB7IEdyb3VwIH0gZnJvbSAnLi4vc2hhcGVzJztcbmltcG9ydCB7IHRyYW5zZm9ybSB9IGZyb20gJy4uL2dlb21ldHJ5JztcbmltcG9ydCB7IFNWR19OUyB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwb3J0R3JvdXAoZ3JvdXApIHtcbiAgICBjb25zdCByb290ID0gbmV3IFJvb3ROb2RlKHtcbiAgICAgICAgc2tpcEJhc2VIcmVmOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgYmJveCA9IGdyb3VwLmNsaXBwZWRCQm94KCk7XG4gICAgbGV0IHJvb3RHcm91cCA9IGdyb3VwO1xuXG4gICAgaWYgKGJib3gpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICAgICAgY29uc3QgZXhwb3J0Um9vdCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBleHBvcnRSb290LnRyYW5zZm9ybSh0cmFuc2Zvcm0oKS50cmFuc2xhdGUoLW9yaWdpbi54LCAtb3JpZ2luLnkpKTtcbiAgICAgICAgZXhwb3J0Um9vdC5jaGlsZHJlbi5wdXNoKGdyb3VwKTtcbiAgICAgICAgcm9vdEdyb3VwID0gZXhwb3J0Um9vdDtcbiAgICB9XG5cbiAgICByb290LmxvYWQoWyByb290R3JvdXAgXSk7XG5cbiAgICBjb25zdCBzdmcgPSBgPD94bWwgdmVyc2lvbj0nMS4wJyA/PjxzdmcgeG1sbnM9JyR7IFNWR19OUyB9JyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgdmVyc2lvbj0nMS4xJz4keyByb290LnJlbmRlcigpIH08L3N2Zz5gO1xuXG4gICAgcm9vdC5kZXN0cm95KCk7XG5cbiAgICByZXR1cm4gc3ZnO1xufSIsImltcG9ydCBTdXJmYWNlIGZyb20gJy4vc3VyZmFjZSc7XG5pbXBvcnQgeyB0cmFuc2Zvcm0gfSBmcm9tICcuLi9nZW9tZXRyeSc7XG5pbXBvcnQgR3JvdXAgZnJvbSAnLi4vc2hhcGVzL2dyb3VwJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXhwb3J0SW1hZ2UoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgd2lkdGg6IFwiODAwcHhcIiwgaGVpZ2h0OiBcIjYwMHB4XCIsXG4gICAgICAgIGNvcnM6IFwiQW5vbnltb3VzXCJcbiAgICB9O1xuXG4gICAgbGV0IGV4cG9ydFJvb3QgPSBncm91cDtcbiAgICBjb25zdCBiYm94ID0gZ3JvdXAuY2xpcHBlZEJCb3goKTtcblxuXG4gICAgaWYgKGJib3gpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gYmJveC5nZXRPcmlnaW4oKTtcbiAgICAgICAgZXhwb3J0Um9vdCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBleHBvcnRSb290LnRyYW5zZm9ybSh0cmFuc2Zvcm0oKS50cmFuc2xhdGUoLW9yaWdpbi54LCAtb3JpZ2luLnkpKTtcbiAgICAgICAgZXhwb3J0Um9vdC5jaGlsZHJlbi5wdXNoKGdyb3VwKTtcblxuICAgICAgICBjb25zdCBzaXplID0gYmJveC5nZXRTaXplKCk7XG4gICAgICAgIGRlZmF1bHRzLndpZHRoID0gc2l6ZS53aWR0aCArIFwicHhcIjtcbiAgICAgICAgZGVmYXVsdHMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgY29uc3Qgc3VyZmFjZU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgc3R5bGUgPSBjb250YWluZXIuc3R5bGU7XG5cbiAgICBzdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgc3R5bGUud2lkdGggPSBzdXJmYWNlT3B0aW9ucy53aWR0aDtcbiAgICBzdHlsZS5oZWlnaHQgPSBzdXJmYWNlT3B0aW9ucy5oZWlnaHQ7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgY29uc3Qgc3VyZmFjZSA9IG5ldyBTdXJmYWNlKGNvbnRhaW5lciwgc3VyZmFjZU9wdGlvbnMpO1xuICAgIHN1cmZhY2Uuc3VzcGVuZFRyYWNraW5nKCk7XG4gICAgc3VyZmFjZS5kcmF3KGV4cG9ydFJvb3QpO1xuXG4gICAgY29uc3QgcHJvbWlzZSA9IHN1cmZhY2UuaW1hZ2UoKTtcbiAgICBjb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICBzdXJmYWNlLmRlc3Ryb3koKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgIH07XG4gICAgcHJvbWlzZS50aGVuKGRlc3Ryb3ksIGRlc3Ryb3kpO1xuXG4gICAgcmV0dXJuIHByb21pc2U7XG59IiwiaW1wb3J0IHsgY3JlYXRlUHJvbWlzZSwgZW5jb2RlQmFzZTY0IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgZXhwb3J0R3JvdXAgZnJvbSAnLi9leHBvcnQtZ3JvdXAnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBvcnRTVkcoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICBsZXQgc3ZnID0gZXhwb3J0R3JvdXAoZ3JvdXApO1xuXG4gICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnJhdykge1xuICAgICAgICBzdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyBlbmNvZGVCYXNlNjQoc3ZnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlUHJvbWlzZSgpLnJlc29sdmUoc3ZnKTtcbn1cbiIsImltcG9ydCB7IHN1cHBvcnQgfSBmcm9tICcuLi9jb21tb24nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG4vLyBYWFg6IHJlbW92ZSB0aGlzIGp1bmsgKGFzc3VtZSBgdHJ1ZWApIHdoZW4gd2Ugbm8gbG9uZ2VyIGhhdmUgdG8gc3VwcG9ydCBJRSA8IDEwXG4vLyBJRSA5IChhdCBsZWFzdCBjb21wYXRpYmlsaXR5KSByZXBvcnRzIGhhdmluZyBVaW50OEFycmF5IGJ1dCB0aGUgcmVxdWVzdCByZXNwb25zZSBkb2VzIG5vdCBjb250YWluIEFycmF5QnVmZmVyIHdoaWNoIHJlc3VsdHMgaW4gbWlzc2luZyB0YWJsZSBoZWFkIGVycm9yXG5jb25zdCBIQVNfVFlQRURfQVJSQVlTID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHN1cHBvcnQuYnJvd3NlciAmJiAoIXN1cHBvcnQuYnJvd3Nlci5tc2llIHx8IHN1cHBvcnQuYnJvd3Nlci52ZXJzaW9uID4gOSk7XG5cbmNvbnN0IEJBU0U2NCA9IChmdW5jdGlvbigpe1xuICAgIHZhciBrZXlTdHIgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVjb2RlOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHN0ci5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZywgXCJcIiksIGkgPSAwLCBuID0gaW5wdXQubGVuZ3RoLCBvdXRwdXQgPSBbXTtcblxuICAgICAgICAgICAgd2hpbGUgKGkgPCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzEgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzIgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzMgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzQgPSBrZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2hyMSA9IChlbmMxIDw8IDIpIHwgKGVuYzIgPj4+IDQpO1xuICAgICAgICAgICAgICAgIHZhciBjaHIyID0gKChlbmMyICYgMTUpIDw8IDQpIHwgKGVuYzMgPj4+IDIpO1xuICAgICAgICAgICAgICAgIHZhciBjaHIzID0gKChlbmMzICYgMykgPDwgNikgfCBlbmM0O1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goY2hyMSk7XG4gICAgICAgICAgICAgICAgaWYgKGVuYzMgIT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goY2hyMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbmM0ICE9IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGNocjMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfSxcbiAgICAgICAgZW5jb2RlOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgICAgICAgdmFyIGkgPSAwLCBuID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IFwiXCI7XG5cbiAgICAgICAgICAgIHdoaWxlIChpIDwgbikge1xuICAgICAgICAgICAgICAgIHZhciBjaHIxID0gYnl0ZXNbaSsrXTtcbiAgICAgICAgICAgICAgICB2YXIgY2hyMiA9IGJ5dGVzW2krK107XG4gICAgICAgICAgICAgICAgdmFyIGNocjMgPSBieXRlc1tpKytdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVuYzEgPSBjaHIxID4+PiAyO1xuICAgICAgICAgICAgICAgIHZhciBlbmMyID0gKChjaHIxICYgMykgPDwgNCkgfCAoY2hyMiA+Pj4gNCk7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzMgPSAoKGNocjIgJiAxNSkgPDwgMikgfCAoY2hyMyA+Pj4gNik7XG4gICAgICAgICAgICAgICAgdmFyIGVuYzQgPSBjaHIzICYgNjM7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAtIG4gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBlbmMzID0gZW5jNCA9IDY0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSAtIG4gPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBlbmM0ID0gNjQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9IGtleVN0ci5jaGFyQXQoZW5jMSkgKyBrZXlTdHIuY2hhckF0KGVuYzIpICsga2V5U3RyLmNoYXJBdChlbmMzKSArIGtleVN0ci5jaGFyQXQoZW5jNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgfTtcbn0oKSk7XG5cbmZ1bmN0aW9uIEJpbmFyeVN0cmVhbShkYXRhKSB7XG4gICAgdmFyIG9mZnNldCA9IDAsIGxlbmd0aCA9IDA7XG4gICAgaWYgKGRhdGEgPT0gbnVsbCkge1xuICAgICAgICBkYXRhID0gSEFTX1RZUEVEX0FSUkFZUyA/IG5ldyBVaW50OEFycmF5KDI1NikgOiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZW5ndGggPSBkYXRhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgZW5zdXJlID0gSEFTX1RZUEVEX0FSUkFZUyA/IGZ1bmN0aW9uKGxlbikge1xuICAgICAgICBpZiAobGVuID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkoTWF0aC5tYXgobGVuICsgMjU2LCBkYXRhLmxlbmd0aCAqIDIpKTtcbiAgICAgICAgICAgIHRtcC5zZXQoZGF0YSwgMCk7XG4gICAgICAgICAgICBkYXRhID0gdG1wO1xuICAgICAgICB9XG4gICAgfSA6IGZ1bmN0aW9uKCkge307XG5cbiAgICB2YXIgZ2V0ID0gSEFTX1RZUEVEX0FSUkFZUyA/IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZGF0YS5idWZmZXIsIDAsIGxlbmd0aCk7XG4gICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgdmFyIHdyaXRlID0gSEFTX1RZUEVEX0FSUkFZUyA/IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHdyaXRlU3RyaW5nKGJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICBlbnN1cmUob2Zmc2V0ICsgbGVuKTtcbiAgICAgICAgZGF0YS5zZXQoYnl0ZXMsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBsZW47XG4gICAgICAgIGlmIChvZmZzZXQgPiBsZW5ndGgpIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IG9mZnNldDtcbiAgICAgICAgfVxuICAgIH0gOiBmdW5jdGlvbihieXRlcykge1xuICAgICAgICBpZiAodHlwZW9mIGJ5dGVzID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB3cml0ZVN0cmluZyhieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgd3JpdGVCeXRlKGJ5dGVzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2xpY2UgPSBIQVNfVFlQRURfQVJSQVlTID8gZnVuY3Rpb24oc3RhcnQsIGxlbmd0aCkge1xuICAgICAgICBpZiAoZGF0YS5idWZmZXIuc2xpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlci5zbGljZShzdGFydCwgc3RhcnQgKyBsZW5ndGgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElFMTBcbiAgICAgICAgICAgIHZhciB4ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIHguc2V0KG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBzdGFydCwgbGVuZ3RoKSk7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgIH0gOiBmdW5jdGlvbihzdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBkYXRhLnNsaWNlKHN0YXJ0LCBzdGFydCArIGxlbmd0aCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGVvZigpIHtcbiAgICAgICAgcmV0dXJuIG9mZnNldCA+PSBsZW5ndGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRCeXRlKCkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0IDwgbGVuZ3RoID8gZGF0YVtvZmZzZXQrK10gOiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZUJ5dGUoYikge1xuICAgICAgICBlbnN1cmUob2Zmc2V0KTtcbiAgICAgICAgZGF0YVtvZmZzZXQrK10gPSBiICYgMHhGRjtcbiAgICAgICAgaWYgKG9mZnNldCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgbGVuZ3RoID0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRTaG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIChyZWFkQnl0ZSgpIDw8IDgpIHwgcmVhZEJ5dGUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JpdGVTaG9ydCh3KSB7XG4gICAgICAgIHdyaXRlQnl0ZSh3ID4+IDgpO1xuICAgICAgICB3cml0ZUJ5dGUodyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRTaG9ydF8oKSB7XG4gICAgICAgIHZhciB3ID0gcmVhZFNob3J0KCk7XG4gICAgICAgIHJldHVybiB3ID49IDB4ODAwMCA/IHcgLSAweDEwMDAwIDogdztcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JpdGVTaG9ydF8odykge1xuICAgICAgICB3cml0ZVNob3J0KHcgPCAwID8gdyArIDB4MTAwMDAgOiB3KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZExvbmcoKSB7XG4gICAgICAgIHJldHVybiAocmVhZFNob3J0KCkgKiAweDEwMDAwKSArIHJlYWRTaG9ydCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZUxvbmcodykge1xuICAgICAgICB3cml0ZVNob3J0KCh3ID4+PiAxNikgJiAweEZGRkYpO1xuICAgICAgICB3cml0ZVNob3J0KHcgJiAweEZGRkYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkTG9uZ18oKSB7XG4gICAgICAgIHZhciB3ID0gcmVhZExvbmcoKTtcbiAgICAgICAgcmV0dXJuIHcgPj0gMHg4MDAwMDAwMCA/IHcgLSAweDEwMDAwMDAwMCA6IHc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyaXRlTG9uZ18odykge1xuICAgICAgICB3cml0ZUxvbmcodyA8IDAgPyB3ICsgMHgxMDAwMDAwMDAgOiB3KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZEZpeGVkKCkge1xuICAgICAgICByZXR1cm4gcmVhZExvbmcoKSAvIDB4MTAwMDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdyaXRlRml4ZWQoZikge1xuICAgICAgICB3cml0ZUxvbmcoTWF0aC5yb3VuZChmICogMHgxMDAwMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkRml4ZWRfKCkge1xuICAgICAgICByZXR1cm4gcmVhZExvbmdfKCkgLyAweDEwMDAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3cml0ZUZpeGVkXyhmKSB7XG4gICAgICAgIHdyaXRlTG9uZ18oTWF0aC5yb3VuZChmICogMHgxMDAwMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkKGxlbikge1xuICAgICAgICByZXR1cm4gdGltZXMobGVuLCByZWFkQnl0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRTdHJpbmcobGVuKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgcmVhZChsZW4pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd3JpdGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB3cml0ZUJ5dGUoc3RyLmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRpbWVzKG4sIHJlYWRlcikge1xuICAgICAgICBmb3IgKHZhciByZXQgPSBuZXcgQXJyYXkobiksIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICAgICAgICByZXRbaV0gPSByZWFkZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIHZhciBzdHJlYW0gPSB7XG4gICAgICAgIGVvZiAgICAgICAgIDogZW9mLFxuICAgICAgICByZWFkQnl0ZSAgICA6IHJlYWRCeXRlLFxuICAgICAgICB3cml0ZUJ5dGUgICA6IHdyaXRlQnl0ZSxcbiAgICAgICAgcmVhZFNob3J0ICAgOiByZWFkU2hvcnQsXG4gICAgICAgIHdyaXRlU2hvcnQgIDogd3JpdGVTaG9ydCxcbiAgICAgICAgcmVhZExvbmcgICAgOiByZWFkTG9uZyxcbiAgICAgICAgd3JpdGVMb25nICAgOiB3cml0ZUxvbmcsXG4gICAgICAgIHJlYWRGaXhlZCAgIDogcmVhZEZpeGVkLFxuICAgICAgICB3cml0ZUZpeGVkICA6IHdyaXRlRml4ZWQsXG5cbiAgICAgICAgLy8gc2lnbmVkIG51bWJlcnMuXG4gICAgICAgIHJlYWRTaG9ydF8gIDogcmVhZFNob3J0XyxcbiAgICAgICAgd3JpdGVTaG9ydF8gOiB3cml0ZVNob3J0XyxcbiAgICAgICAgcmVhZExvbmdfICAgOiByZWFkTG9uZ18sXG4gICAgICAgIHdyaXRlTG9uZ18gIDogd3JpdGVMb25nXyxcbiAgICAgICAgcmVhZEZpeGVkXyAgOiByZWFkRml4ZWRfLFxuICAgICAgICB3cml0ZUZpeGVkXyA6IHdyaXRlRml4ZWRfLFxuXG4gICAgICAgIHJlYWQgICAgICAgIDogcmVhZCxcbiAgICAgICAgd3JpdGUgICAgICAgOiB3cml0ZSxcbiAgICAgICAgcmVhZFN0cmluZyAgOiByZWFkU3RyaW5nLFxuICAgICAgICB3cml0ZVN0cmluZyA6IHdyaXRlU3RyaW5nLFxuXG4gICAgICAgIHRpbWVzICAgICAgIDogdGltZXMsXG4gICAgICAgIGdldCAgICAgICAgIDogZ2V0LFxuICAgICAgICBzbGljZSAgICAgICA6IHNsaWNlLFxuXG4gICAgICAgIG9mZnNldDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgICAgICBpZiAocG9zICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwb3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2tpcDogZnVuY3Rpb24obmJ5dGVzKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gbmJ5dGVzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZJWCBDQUxMRVIuICBCaW5hcnlTdHJlYW0gaXMgbm8gbG9uZ2VyIGNvbnZlcnRpYmxlIHRvIHN0cmluZyFcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGxlbmd0aDsgfSxcblxuICAgICAgICBzYXZlRXhjdXJzaW9uOiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gb2Zmc2V0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZigpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgd3JpdGVCYXNlNjQ6IGZ1bmN0aW9uKGJhc2U2NCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5hdG9iKSB7XG4gICAgICAgICAgICAgICAgd3JpdGVTdHJpbmcod2luZG93LmF0b2IoYmFzZTY0KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlKEJBU0U2NC5kZWNvZGUoYmFzZTY0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJhc2U2NDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gQkFTRTY0LmVuY29kZShnZXQoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHN0cmVhbTtcbn1cblxuZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sXG4gICAgICAgIGNvdW50ZXIgPSAwLFxuICAgICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgZXh0cmE7XG4gICAgd2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuICAgICAgICBpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcbiAgICAgICAgICAgIGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcbiAgICAgICAgICAgIGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcbiAgICAgICAgICAgICAgICAvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY291bnRlci0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcbiAgICByZXR1cm4gYXJyYXkubWFwKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgdmFyIG91dHB1dCA9IFwiXCI7XG4gICAgICAgIGlmICh2YWx1ZSA+IDB4RkZGRikge1xuICAgICAgICAgICAgdmFsdWUgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgIG91dHB1dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcbiAgICAgICAgICAgIHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSkuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gYXRvYlVpbnQ4QXJyYXkoYmFzZTY0KSB7XG4gICAgY29uc3QgZGF0YSA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHJlc3VsdFtpZHhdID0gZGF0YS5jaGFyQ29kZUF0KGlkeCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVWludDhBcnJheShkYXRhKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGgpO1xuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgZGF0YS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIHJlc3VsdFtpZHhdID0gZGF0YVtpZHhdO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvVWludDhBcnJheShiYXNlNjQpIHtcbiAgICBpZiAod2luZG93LmF0b2IpIHtcbiAgICAgICAgcmV0dXJuIGF0b2JVaW50OEFycmF5KGJhc2U2NCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZVVpbnQ4QXJyYXkoQkFTRTY0LmRlY29kZShiYXNlNjQpKTtcbn1cblxuZXhwb3J0IHtcbiAgICBIQVNfVFlQRURfQVJSQVlTLFxuICAgIEJBU0U2NCxcbiAgICBCaW5hcnlTdHJlYW0sXG4gICAgdWNzMmRlY29kZSxcbiAgICB1Y3MyZW5jb2RlLFxuICAgIGJhc2U2NFRvVWludDhBcnJheVxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLXNwYWNlcywga2V5LXNwYWNpbmcsIGluZGVudCwgY2FtZWxjYXNlLCBzcGFjZS1iZWZvcmUtYmxvY2tzLCBlcWVxZXEsIGJyYWNlLXN0eWxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS1pbmZpeC1vcHMsIHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlbiwgYXJyYXktYnJhY2tldC1zcGFjaW5nLCBvYmplY3QtY3VybHktc3BhY2luZyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbmVzdGVkLXRlcm5hcnksIG1heC1wYXJhbXMsIGRlZmF1bHQtY2FzZSwgbm8tZWxzZS1yZXR1cm4sIG5vLWVtcHR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdmFyLCBibG9jay1zY29wZWQtdmFyICovXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcXG4gKlxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlLCBhbHRob3VnaCB3cml0dGVuIGZyb20gc2NyYXRjaCwgaXMgaW5mbHVlbmNlZCBieSB0aGVcbiAqIFRydWVUeXBlIHBhcnNlci9lbmNvZGVyIGluIFBERktpdCAtLSBodHRwOi8vcGRma2l0Lm9yZy8gKGEgQ29mZmVlU2NyaXB0XG4gKiBsaWJyYXJ5IGZvciBwcm9kdWNpbmcgUERGIGZpbGVzKS5cbiAqXG4gKiBQREZLaXQgaXMgKGMpIERldm9uIEdvdmV0dCAyMDE0IGFuZCByZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKlxuXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHsgQmluYXJ5U3RyZWFtLCB1Y3MyZGVjb2RlIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxuZnVuY3Rpb24gc29ydGVkS2V5cyhvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5zb3J0KGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gYSAtIGI7IH0pLm1hcChwYXJzZUZsb2F0KTtcbn1cblxuLy8vXG5jbGFzcyBEaXJlY3Rvcnkge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEpIHtcbiAgICAgICAgdGhpcy5yYXcgPSBkYXRhO1xuICAgICAgICB0aGlzLnNjYWxlclR5cGUgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMudGFibGVDb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMuc2VhcmNoUmFuZ2UgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmVudHJ5U2VsZWN0b3IgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLnJhbmdlU2hpZnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuXG4gICAgICAgIHZhciB0YWJsZXMgPSB0aGlzLnRhYmxlcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFibGVDb3VudDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSB7XG4gICAgICAgICAgICAgICAgdGFnICAgICAgOiBkYXRhLnJlYWRTdHJpbmcoNCksXG4gICAgICAgICAgICAgICAgY2hlY2tzdW0gOiBkYXRhLnJlYWRMb25nKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICAgOiBkYXRhLnJlYWRMb25nKCksXG4gICAgICAgICAgICAgICAgbGVuZ3RoICAgOiBkYXRhLnJlYWRMb25nKClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YWJsZXNbZW50cnkudGFnXSA9IGVudHJ5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVhZFRhYmxlKG5hbWUsIEN0b3IpIHtcbiAgICAgICAgdmFyIGRlZiA9IHRoaXMudGFibGVzW25hbWVdO1xuICAgICAgICBpZiAoIWRlZikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFibGUgXCIgKyBuYW1lICsgXCIgbm90IGZvdW5kIGluIGRpcmVjdG9yeVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXNbbmFtZV0gPSBkZWYudGFibGUgPSBuZXcgQ3Rvcih0aGlzLCBkZWYpKTtcbiAgICB9XG5cbiAgICByZW5kZXIodGFibGVzKSB7XG4gICAgICAgIHZhciB0YWJsZUNvdW50ID0gT2JqZWN0LmtleXModGFibGVzKS5sZW5ndGg7XG5cbiAgICAgICAgdmFyIG1heHBvdzIgPSBNYXRoLnBvdygyLCBNYXRoLmZsb29yKE1hdGgubG9nKHRhYmxlQ291bnQpIC8gTWF0aC5MTjIpKTtcbiAgICAgICAgdmFyIHNlYXJjaFJhbmdlID0gbWF4cG93MiAqIDE2O1xuICAgICAgICB2YXIgZW50cnlTZWxlY3RvciA9IE1hdGguZmxvb3IoTWF0aC5sb2cobWF4cG93MikgLyBNYXRoLkxOMik7XG4gICAgICAgIHZhciByYW5nZVNoaWZ0ID0gdGFibGVDb3VudCAqIDE2IC0gc2VhcmNoUmFuZ2U7XG5cbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMuc2NhbGVyVHlwZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRhYmxlQ291bnQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChzZWFyY2hSYW5nZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KGVudHJ5U2VsZWN0b3IpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChyYW5nZVNoaWZ0KTtcblxuICAgICAgICB2YXIgZGlyZWN0b3J5TGVuZ3RoID0gdGFibGVDb3VudCAqIDE2O1xuICAgICAgICB2YXIgb2Zmc2V0ID0gb3V0Lm9mZnNldCgpICsgZGlyZWN0b3J5TGVuZ3RoO1xuICAgICAgICB2YXIgaGVhZE9mZnNldCA9IG51bGw7XG4gICAgICAgIHZhciB0YWJsZURhdGEgPSBCaW5hcnlTdHJlYW0oKTtcblxuICAgICAgICBmb3IgKHZhciB0YWcgaW4gdGFibGVzKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkodGFibGVzLCB0YWcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gdGFibGVzW3RhZ107XG5cbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTdHJpbmcodGFnKTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMuY2hlY2tzdW0odGFibGUpKTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVMb25nKG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlTG9uZyh0YWJsZS5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgdGFibGVEYXRhLndyaXRlKHRhYmxlKTtcbiAgICAgICAgICAgICAgICBpZiAodGFnID09IFwiaGVhZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRPZmZzZXQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSB0YWJsZS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0ICUgNCkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGEud3JpdGVCeXRlKDApO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvdXQud3JpdGUodGFibGVEYXRhLmdldCgpKTtcbiAgICAgICAgdmFyIHN1bSA9IHRoaXMuY2hlY2tzdW0ob3V0LmdldCgpKTtcbiAgICAgICAgdmFyIGFkanVzdG1lbnQgPSAweEIxQjBBRkJBIC0gc3VtO1xuXG4gICAgICAgIG91dC5vZmZzZXQoaGVhZE9mZnNldCArIDgpO1xuICAgICAgICBvdXQud3JpdGVMb25nKGFkanVzdG1lbnQpO1xuICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgIH1cblxuICAgIGNoZWNrc3VtKGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IEJpbmFyeVN0cmVhbShkYXRhKTtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIHdoaWxlICghZGF0YS5lb2YoKSkge1xuICAgICAgICAgICAgc3VtICs9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtICYgMHhGRkZGRkZGRjtcbiAgICB9XG59XG5cbmNsYXNzIFRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihmaWxlLCBkZWYpIHtcbiAgICAgICAgdGhpcy5kZWZpbml0aW9uID0gZGVmO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGRlZi5sZW5ndGg7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gZGVmLm9mZnNldDtcbiAgICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgdGhpcy5yYXdEYXRhID0gZmlsZS5yYXc7XG4gICAgICAgIHRoaXMucGFyc2UoZmlsZS5yYXcpO1xuICAgIH1cblxuICAgIHJhdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3RGF0YS5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIHBhcnNlKCkge30gLy8gYWJzdHJhY3Rcbn1cblxuY2xhc3MgSGVhZFRhYmxlIGV4dGVuZHMgVGFibGUge1xuICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuICAgICAgICB0aGlzLnZlcnNpb24gICAgICAgICAgICAgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMucmV2aXNpb24gICAgICAgICAgICA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgdGhpcy5jaGVja1N1bUFkanVzdG1lbnQgID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICB0aGlzLm1hZ2ljTnVtYmVyICAgICAgICAgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgIHRoaXMuZmxhZ3MgICAgICAgICAgICAgICA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMudW5pdHNQZXJFbSAgICAgICAgICA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMuY3JlYXRlZCAgICAgICAgICAgICA9IGRhdGEucmVhZCg4KTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCAgICAgICAgICAgID0gZGF0YS5yZWFkKDgpO1xuXG4gICAgICAgIHRoaXMueE1pbiA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnlNaW4gPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy54TWF4ID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueU1heCA9IGRhdGEucmVhZFNob3J0XygpO1xuXG4gICAgICAgIHRoaXMubWFjU3R5bGUgICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5sb3dlc3RSZWNQUEVNICAgICAgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmZvbnREaXJlY3Rpb25IaW50ICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmluZGV4VG9Mb2NGb3JtYXQgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmdseXBoRGF0YUZvcm1hdCAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgIH1cblxuICAgIHJlbmRlcihpbmRleFRvTG9jRm9ybWF0KSB7XG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgb3V0LndyaXRlTG9uZyh0aGlzLnZlcnNpb24pO1xuICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMucmV2aXNpb24pO1xuICAgICAgICBvdXQud3JpdGVMb25nKDApOyAgICAgICAvLyBjaGVja3N1bSBhZGp1c3RtZW50OyBzaGFsbCBiZSBjb21wdXRlZCBsYXRlclxuICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMubWFnaWNOdW1iZXIpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLmZsYWdzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy51bml0c1BlckVtKTtcbiAgICAgICAgb3V0LndyaXRlKHRoaXMuY3JlYXRlZCk7XG4gICAgICAgIG91dC53cml0ZSh0aGlzLm1vZGlmaWVkKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMueE1pbik7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLnlNaW4pO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy54TWF4KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMueU1heCk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWFjU3R5bGUpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLmxvd2VzdFJlY1BQRU0pO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5mb250RGlyZWN0aW9uSGludCk7XG4gICAgICAgIG91dC53cml0ZVNob3J0XyhpbmRleFRvTG9jRm9ybWF0KTsgLy8gdGhpcyB3aWxsIGRlcGVuZCBvbiB0aGUgYGxvY2FgIHRhYmxlXG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmdseXBoRGF0YUZvcm1hdCk7XG4gICAgICAgIHJldHVybiBvdXQuZ2V0KCk7XG4gICAgfVxufVxuXG5jbGFzcyBMb2NhVGFibGUgZXh0ZW5kcyBUYWJsZSB7XG4gICAgcGFyc2UoZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLmZpbGUuaGVhZC5pbmRleFRvTG9jRm9ybWF0O1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldHMgPSBkYXRhLnRpbWVzKHRoaXMubGVuZ3RoIC8gMiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gMiAqIGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0cyA9IGRhdGEudGltZXModGhpcy5sZW5ndGggLyA0LCBkYXRhLnJlYWRMb25nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9mZnNldE9mKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldHNbaWRdO1xuICAgIH1cblxuICAgIGxlbmd0aE9mKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldHNbaWQgKyAxXSAtIHRoaXMub2Zmc2V0c1tpZF07XG4gICAgfVxuXG4gICAgcmVuZGVyKG9mZnNldHMpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICB2YXIgbmVlZHNMb25nRm9ybWF0ID0gb2Zmc2V0c1tvZmZzZXRzLmxlbmd0aCAtIDFdID4gMHhGRkZGO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9mZnNldHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChuZWVkc0xvbmdGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVMb25nKG9mZnNldHNbaV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChvZmZzZXRzW2ldIC8gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdDogbmVlZHNMb25nRm9ybWF0ID8gMSA6IDAsXG4gICAgICAgICAgICB0YWJsZTogb3V0LmdldCgpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBIaGVhVGFibGUgZXh0ZW5kcyBUYWJsZSB7XG4gICAgcGFyc2UoZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG5cbiAgICAgICAgdGhpcy52ZXJzaW9uICAgICAgICAgICAgICA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgdGhpcy5hc2NlbnQgICAgICAgICAgICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmRlc2NlbnQgICAgICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMubGluZUdhcCAgICAgICAgICAgICAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy5hZHZhbmNlV2lkdGhNYXggICAgICA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWluTGVmdFNpZGVCZWFyaW5nICAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy5taW5SaWdodFNpZGVCZWFyaW5nICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnhNYXhFeHRlbnQgICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuY2FyZXRTbG9wZVJpc2UgICAgICAgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy5jYXJldFNsb3BlUnVuICAgICAgICA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLmNhcmV0T2Zmc2V0ICAgICAgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG5cbiAgICAgICAgZGF0YS5za2lwKDQgKiAyKTsgICAgICAgLy8gcmVzZXJ2ZWRcblxuICAgICAgICB0aGlzLm1ldHJpY0RhdGFGb3JtYXQgICAgID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMubnVtT2ZMb25nSG9yTWV0cmljcyAgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIH1cblxuICAgIHJlbmRlcihpZHMpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICBvdXQud3JpdGVMb25nKHRoaXMudmVyc2lvbik7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmFzY2VudCk7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmRlc2NlbnQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5saW5lR2FwKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5hZHZhbmNlV2lkdGhNYXgpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5taW5MZWZ0U2lkZUJlYXJpbmcpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydF8odGhpcy5taW5SaWdodFNpZGVCZWFyaW5nKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMueE1heEV4dGVudCk7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmNhcmV0U2xvcGVSaXNlKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnRfKHRoaXMuY2FyZXRTbG9wZVJ1bik7XG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLmNhcmV0T2Zmc2V0KTtcblxuICAgICAgICBvdXQud3JpdGUoWyAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwIF0pOyAvLyByZXNlcnZlZCBieXRlc1xuXG4gICAgICAgIG91dC53cml0ZVNob3J0Xyh0aGlzLm1ldHJpY0RhdGFGb3JtYXQpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChpZHMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG59XG5cbmNsYXNzIE1heHBUYWJsZSBleHRlbmRzIFRhYmxlIHtcbiAgICBwYXJzZShkYXRhKSB7XG4gICAgICAgIGRhdGEub2Zmc2V0KHRoaXMub2Zmc2V0KTtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICB0aGlzLm51bUdseXBocyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4UG9pbnRzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhDb250b3VycyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4Q29tcG9uZW50UG9pbnRzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhDb21wb25lbnRDb250b3VycyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4Wm9uZXMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heFR3aWxpZ2h0UG9pbnRzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhTdG9yYWdlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhGdW5jdGlvbkRlZnMgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLm1heEluc3RydWN0aW9uRGVmcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4U3RhY2tFbGVtZW50cyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4U2l6ZU9mSW5zdHJ1Y3Rpb25zID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5tYXhDb21wb25lbnRFbGVtZW50cyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMubWF4Q29tcG9uZW50RGVwdGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgIH1cblxuICAgIHJlbmRlcihnbHlwaElkcykge1xuICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKCk7XG4gICAgICAgIG91dC53cml0ZUxvbmcodGhpcy52ZXJzaW9uKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoZ2x5cGhJZHMubGVuZ3RoKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhQb2ludHMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heENvbnRvdXJzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhDb21wb25lbnRQb2ludHMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heENvbXBvbmVudENvbnRvdXJzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhab25lcyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4VHdpbGlnaHRQb2ludHMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heFN0b3JhZ2UpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heEZ1bmN0aW9uRGVmcyk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KHRoaXMubWF4SW5zdHJ1Y3Rpb25EZWZzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhTdGFja0VsZW1lbnRzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhTaXplT2ZJbnN0cnVjdGlvbnMpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydCh0aGlzLm1heENvbXBvbmVudEVsZW1lbnRzKTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQodGhpcy5tYXhDb21wb25lbnREZXB0aCk7XG4gICAgICAgIHJldHVybiBvdXQuZ2V0KCk7XG4gICAgfVxufVxuXG5jbGFzcyBIbXR4VGFibGUgZXh0ZW5kcyBUYWJsZSB7XG4gICAgcGFyc2UoZGF0YSkge1xuICAgICAgICBkYXRhLm9mZnNldCh0aGlzLm9mZnNldCk7XG4gICAgICAgIHZhciBkaXIgPSB0aGlzLmZpbGUsIGhoZWEgPSBkaXIuaGhlYTtcbiAgICAgICAgdGhpcy5tZXRyaWNzID0gZGF0YS50aW1lcyhoaGVhLm51bU9mTG9uZ0hvck1ldHJpY3MsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFkdmFuY2U6IGRhdGEucmVhZFNob3J0KCksXG4gICAgICAgICAgICAgICAgbHNiOiBkYXRhLnJlYWRTaG9ydF8oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBsc2JDb3VudCA9IGRpci5tYXhwLm51bUdseXBocyAtIGRpci5oaGVhLm51bU9mTG9uZ0hvck1ldHJpY3M7XG4gICAgICAgIHRoaXMubGVmdFNpZGVCZWFyaW5ncyA9IGRhdGEudGltZXMobHNiQ291bnQsIGRhdGEucmVhZFNob3J0Xyk7XG4gICAgfVxuXG4gICAgZm9yR2x5cGgoaWQpIHtcbiAgICAgICAgdmFyIG1ldHJpY3MgPSB0aGlzLm1ldHJpY3M7XG4gICAgICAgIHZhciBuID0gbWV0cmljcy5sZW5ndGg7XG4gICAgICAgIGlmIChpZCA8IG4pIHtcbiAgICAgICAgICAgIHJldHVybiBtZXRyaWNzW2lkXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWR2YW5jZTogbWV0cmljc1tuIC0gMV0uYWR2YW5jZSxcbiAgICAgICAgICAgIGxzYjogdGhpcy5sZWZ0U2lkZUJlYXJpbmdzW2lkIC0gbl1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXIoZ2x5cGhJZHMpIHtcbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdseXBoSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuZm9yR2x5cGgoZ2x5cGhJZHNbaV0pO1xuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQobS5hZHZhbmNlKTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0XyhtLmxzYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG59XG5cbnZhciBHbHlmVGFibGUgPSAoZnVuY3Rpb24oKXtcbiAgICBjbGFzcyBTaW1wbGVHbHlwaCB7XG4gICAgICAgIGdldCBjb21wb3VuZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0cnVjdG9yKHJhdykge1xuICAgICAgICAgICAgdGhpcy5yYXcgPSByYXc7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yYXcuZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgQVJHXzFfQU5EXzJfQVJFX1dPUkRTICAgICA9IDB4MDAwMTtcbiAgICB2YXIgV0VfSEFWRV9BX1NDQUxFICAgICAgICAgICA9IDB4MDAwODtcbiAgICB2YXIgTU9SRV9DT01QT05FTlRTICAgICAgICAgICA9IDB4MDAyMDtcbiAgICB2YXIgV0VfSEFWRV9BTl9YX0FORF9ZX1NDQUxFICA9IDB4MDA0MDtcbiAgICB2YXIgV0VfSEFWRV9BX1RXT19CWV9UV08gICAgICA9IDB4MDA4MDtcbiAgICAvL3ZhciBXRV9IQVZFX0lOU1RSVUNUSU9OUyAgICAgID0gMHgwMTAwO1xuXG4gICAgY2xhc3MgQ29tcG91bmRHbHlwaCB7XG4gICAgICAgIGdldCBjb21wb3VuZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5yYXcgPSBkYXRhO1xuICAgICAgICAgICAgdmFyIGlkcyA9IHRoaXMuZ2x5cGhJZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBvZmZzZXRzID0gdGhpcy5pZE9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7ICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGZsYWdzID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICBvZmZzZXRzLnB1c2goZGF0YS5vZmZzZXQoKSk7XG4gICAgICAgICAgICAgICAgaWRzLnB1c2goZGF0YS5yZWFkU2hvcnQoKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShmbGFncyAmIE1PUkVfQ09NUE9ORU5UUykpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YS5za2lwKGZsYWdzICYgQVJHXzFfQU5EXzJfQVJFX1dPUkRTID8gNCA6IDIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZsYWdzICYgV0VfSEFWRV9BX1RXT19CWV9UV08pIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5za2lwKDgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZ3MgJiBXRV9IQVZFX0FOX1hfQU5EX1lfU0NBTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5za2lwKDQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxhZ3MgJiBXRV9IQVZFX0FfU0NBTEUpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5za2lwKDIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcihvbGQybmV3KSB7XG4gICAgICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKHRoaXMucmF3LmdldCgpKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5nbHlwaElkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuZ2x5cGhJZHNbaV07XG4gICAgICAgICAgICAgICAgb3V0Lm9mZnNldCh0aGlzLmlkT2Zmc2V0c1tpXSk7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQob2xkMm5ld1tpZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFRhYmxlIHtcbiAgICAgICAgcGFyc2UoKSB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBnbHlwaEZvcihpZCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gdGhpcy5jYWNoZTtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShjYWNoZSwgaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhY2hlW2lkXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxvY2EgPSB0aGlzLmZpbGUubG9jYTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBsb2NhLmxlbmd0aE9mKGlkKTtcblxuICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoY2FjaGVbaWRdID0gbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5yYXdEYXRhO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0ICsgbG9jYS5vZmZzZXRPZihpZCk7XG4gICAgICAgICAgICB2YXIgcmF3ID0gQmluYXJ5U3RyZWFtKGRhdGEuc2xpY2Uob2Zmc2V0LCBsZW5ndGgpKTtcblxuICAgICAgICAgICAgdmFyIG51bWJlck9mQ29udG91cnMgPSByYXcucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdmFyIHhNaW4gPSByYXcucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdmFyIHlNaW4gPSByYXcucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdmFyIHhNYXggPSByYXcucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdmFyIHlNYXggPSByYXcucmVhZFNob3J0XygpO1xuXG4gICAgICAgICAgICB2YXIgZ2x5cGggPSBjYWNoZVtpZF0gPSBudW1iZXJPZkNvbnRvdXJzIDwgMCA/IG5ldyBDb21wb3VuZEdseXBoKHJhdykgOiBuZXcgU2ltcGxlR2x5cGgocmF3KTtcblxuICAgICAgICAgICAgZ2x5cGgubnVtYmVyT2ZDb250b3VycyA9IG51bWJlck9mQ29udG91cnM7XG4gICAgICAgICAgICBnbHlwaC54TWluID0geE1pbjtcbiAgICAgICAgICAgIGdseXBoLnlNaW4gPSB5TWluO1xuICAgICAgICAgICAgZ2x5cGgueE1heCA9IHhNYXg7XG4gICAgICAgICAgICBnbHlwaC55TWF4ID0geU1heDtcblxuICAgICAgICAgICAgcmV0dXJuIGdseXBoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyKGdseXBocywgb2xkSWRzLCBvbGQybmV3KSB7XG4gICAgICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKCksIG9mZnNldHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gb2xkSWRzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBnbHlwaCA9IGdseXBoc1tpZF07XG4gICAgICAgICAgICAgICAgaWYgKG91dC5vZmZzZXQoKSAlIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LndyaXRlQnl0ZSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2Zmc2V0cy5wdXNoKG91dC5vZmZzZXQoKSk7XG4gICAgICAgICAgICAgICAgaWYgKGdseXBoKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC53cml0ZShnbHlwaC5yZW5kZXIob2xkMm5ldykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvdXQub2Zmc2V0KCkgJSAyKSB7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlQnl0ZSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldHMucHVzaChvdXQub2Zmc2V0KCkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0YWJsZTogb3V0LmdldCgpLFxuICAgICAgICAgICAgICAgIG9mZnNldHM6IG9mZnNldHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xufSgpKTtcblxudmFyIE5hbWVUYWJsZSA9IChmdW5jdGlvbigpe1xuICAgIGNsYXNzIE5hbWVFbnRyeSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHRleHQsIGVudHJ5KSB7XG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIHRoaXMucGxhdGZvcm1JRCA9IGVudHJ5LnBsYXRmb3JtSUQ7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtU3BlY2lmaWNJRCA9IGVudHJ5LnBsYXRmb3JtU3BlY2lmaWNJRDtcbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VJRCA9IGVudHJ5Lmxhbmd1YWdlSUQ7XG4gICAgICAgICAgICB0aGlzLm5hbWVJRCA9IGVudHJ5Lm5hbWVJRDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFRhYmxlIHtcbiAgICAgICAgcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuICAgICAgICAgICAgZGF0YS5yZWFkU2hvcnQoKTsgICAvLyBmb3JtYXRcbiAgICAgICAgICAgIHZhciBjb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB2YXIgc3RyaW5nT2Zmc2V0ID0gdGhpcy5vZmZzZXQgKyBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgdmFyIG5hbWVSZWNvcmRzID0gZGF0YS50aW1lcyhjb3VudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUlEICAgICAgICAgOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybVNwZWNpZmljSUQgOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUlEICAgICAgICAgOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lSUQgICAgICAgICAgICAgOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICAgICAgICAgICAgICBsZW5ndGggICAgICAgICAgICAgOiBkYXRhLnJlYWRTaG9ydCgpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgICAgICAgICAgICAgOiBkYXRhLnJlYWRTaG9ydCgpICsgc3RyaW5nT2Zmc2V0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHN0cmluZ3MgPSB0aGlzLnN0cmluZ3MgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZVJlY29yZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVjID0gbmFtZVJlY29yZHNbaV07XG4gICAgICAgICAgICAgICAgZGF0YS5vZmZzZXQocmVjLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSBkYXRhLnJlYWRTdHJpbmcocmVjLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdHJpbmdzW3JlYy5uYW1lSURdKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ3NbcmVjLm5hbWVJRF0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyaW5nc1tyZWMubmFtZUlEXS5wdXNoKG5ldyBOYW1lRW50cnkodGV4dCwgcmVjKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvc3RzY3JpcHRFbnRyeSA9IHN0cmluZ3NbNl1bMF07XG4gICAgICAgICAgICB0aGlzLnBvc3RzY3JpcHROYW1lID0gdGhpcy5wb3N0c2NyaXB0RW50cnkudGV4dC5yZXBsYWNlKC9bXlxceDIwLVxceDdGXS9nLCBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcihwc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuICAgICAgICAgICAgdmFyIHN0ckNvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gc3RyaW5ncykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShzdHJpbmdzLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJDb3VudCArPSBzdHJpbmdzW2ldLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3V0ID0gQmluYXJ5U3RyZWFtKCk7XG4gICAgICAgICAgICB2YXIgc3RyVGFibGUgPSBCaW5hcnlTdHJlYW0oKTtcblxuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7ICAvLyBmb3JtYXRcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ckNvdW50KTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KDYgKyAxMiAqIHN0ckNvdW50KTsgLy8gc3RyaW5nT2Zmc2V0XG5cbiAgICAgICAgICAgIGZvciAoaSBpbiBzdHJpbmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KHN0cmluZ3MsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gaSA9PSA2ID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5hbWVFbnRyeShwc05hbWUsIHRoaXMucG9zdHNjcmlwdEVudHJ5KVxuICAgICAgICAgICAgICAgICAgICBdIDogc3RyaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaXN0Lmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gbGlzdFtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ci5wbGF0Zm9ybUlEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0ci5wbGF0Zm9ybVNwZWNpZmljSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoc3RyLmxhbmd1YWdlSUQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoc3RyLm5hbWVJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChzdHIubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dC53cml0ZVNob3J0KHN0clRhYmxlLm9mZnNldCgpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyVGFibGUud3JpdGVTdHJpbmcoc3RyLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXQud3JpdGUoc3RyVGFibGUuZ2V0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgICAgICB9XG4gICAgfTtcbn0pKCk7XG5cbnZhciBQb3N0VGFibGUgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgUE9TVFNDUklQVF9HTFlQSFMgPSBcIi5ub3RkZWYgLm51bGwgbm9ubWFya2luZ3JldHVybiBzcGFjZSBleGNsYW0gcXVvdGVkYmwgbnVtYmVyc2lnbiBkb2xsYXIgcGVyY2VudCBhbXBlcnNhbmQgcXVvdGVzaW5nbGUgcGFyZW5sZWZ0IHBhcmVucmlnaHQgYXN0ZXJpc2sgcGx1cyBjb21tYSBoeXBoZW4gcGVyaW9kIHNsYXNoIHplcm8gb25lIHR3byB0aHJlZSBmb3VyIGZpdmUgc2l4IHNldmVuIGVpZ2h0IG5pbmUgY29sb24gc2VtaWNvbG9uIGxlc3MgZXF1YWwgZ3JlYXRlciBxdWVzdGlvbiBhdCBBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogYnJhY2tldGxlZnQgYmFja3NsYXNoIGJyYWNrZXRyaWdodCBhc2NpaWNpcmN1bSB1bmRlcnNjb3JlIGdyYXZlIGEgYiBjIGQgZSBmIGcgaCBpIGogayBsIG0gbiBvIHAgcSByIHMgdCB1IHYgdyB4IHkgeiBicmFjZWxlZnQgYmFyIGJyYWNlcmlnaHQgYXNjaWl0aWxkZSBBZGllcmVzaXMgQXJpbmcgQ2NlZGlsbGEgRWFjdXRlIE50aWxkZSBPZGllcmVzaXMgVWRpZXJlc2lzIGFhY3V0ZSBhZ3JhdmUgYWNpcmN1bWZsZXggYWRpZXJlc2lzIGF0aWxkZSBhcmluZyBjY2VkaWxsYSBlYWN1dGUgZWdyYXZlIGVjaXJjdW1mbGV4IGVkaWVyZXNpcyBpYWN1dGUgaWdyYXZlIGljaXJjdW1mbGV4IGlkaWVyZXNpcyBudGlsZGUgb2FjdXRlIG9ncmF2ZSBvY2lyY3VtZmxleCBvZGllcmVzaXMgb3RpbGRlIHVhY3V0ZSB1Z3JhdmUgdWNpcmN1bWZsZXggdWRpZXJlc2lzIGRhZ2dlciBkZWdyZWUgY2VudCBzdGVybGluZyBzZWN0aW9uIGJ1bGxldCBwYXJhZ3JhcGggZ2VybWFuZGJscyByZWdpc3RlcmVkIGNvcHlyaWdodCB0cmFkZW1hcmsgYWN1dGUgZGllcmVzaXMgbm90ZXF1YWwgQUUgT3NsYXNoIGluZmluaXR5IHBsdXNtaW51cyBsZXNzZXF1YWwgZ3JlYXRlcmVxdWFsIHllbiBtdSBwYXJ0aWFsZGlmZiBzdW1tYXRpb24gcHJvZHVjdCBwaSBpbnRlZ3JhbCBvcmRmZW1pbmluZSBvcmRtYXNjdWxpbmUgT21lZ2EgYWUgb3NsYXNoIHF1ZXN0aW9uZG93biBleGNsYW1kb3duIGxvZ2ljYWxub3QgcmFkaWNhbCBmbG9yaW4gYXBwcm94ZXF1YWwgRGVsdGEgZ3VpbGxlbW90bGVmdCBndWlsbGVtb3RyaWdodCBlbGxpcHNpcyBub25icmVha2luZ3NwYWNlIEFncmF2ZSBBdGlsZGUgT3RpbGRlIE9FIG9lIGVuZGFzaCBlbWRhc2ggcXVvdGVkYmxsZWZ0IHF1b3RlZGJscmlnaHQgcXVvdGVsZWZ0IHF1b3RlcmlnaHQgZGl2aWRlIGxvemVuZ2UgeWRpZXJlc2lzIFlkaWVyZXNpcyBmcmFjdGlvbiBjdXJyZW5jeSBndWlsc2luZ2xsZWZ0IGd1aWxzaW5nbHJpZ2h0IGZpIGZsIGRhZ2dlcmRibCBwZXJpb2RjZW50ZXJlZCBxdW90ZXNpbmdsYmFzZSBxdW90ZWRibGJhc2UgcGVydGhvdXNhbmQgQWNpcmN1bWZsZXggRWNpcmN1bWZsZXggQWFjdXRlIEVkaWVyZXNpcyBFZ3JhdmUgSWFjdXRlIEljaXJjdW1mbGV4IElkaWVyZXNpcyBJZ3JhdmUgT2FjdXRlIE9jaXJjdW1mbGV4IGFwcGxlIE9ncmF2ZSBVYWN1dGUgVWNpcmN1bWZsZXggVWdyYXZlIGRvdGxlc3NpIGNpcmN1bWZsZXggdGlsZGUgbWFjcm9uIGJyZXZlIGRvdGFjY2VudCByaW5nIGNlZGlsbGEgaHVuZ2FydW1sYXV0IG9nb25layBjYXJvbiBMc2xhc2ggbHNsYXNoIFNjYXJvbiBzY2Fyb24gWmNhcm9uIHpjYXJvbiBicm9rZW5iYXIgRXRoIGV0aCBZYWN1dGUgeWFjdXRlIFRob3JuIHRob3JuIG1pbnVzIG11bHRpcGx5IG9uZXN1cGVyaW9yIHR3b3N1cGVyaW9yIHRocmVlc3VwZXJpb3Igb25laGFsZiBvbmVxdWFydGVyIHRocmVlcXVhcnRlcnMgZnJhbmMgR2JyZXZlIGdicmV2ZSBJZG90YWNjZW50IFNjZWRpbGxhIHNjZWRpbGxhIENhY3V0ZSBjYWN1dGUgQ2Nhcm9uIGNjYXJvbiBkY3JvYXRcIi5zcGxpdCgvXFxzKy9nKTtcblxuICAgIHJldHVybiBjbGFzcyBleHRlbmRzIFRhYmxlIHtcbiAgICAgICAgcGFyc2UoZGF0YSkge1xuICAgICAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuXG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgIHRoaXMuaXRhbGljQW5nbGUgPSBkYXRhLnJlYWRGaXhlZF8oKTtcbiAgICAgICAgICAgIHRoaXMudW5kZXJsaW5lUG9zaXRpb24gPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgICAgIHRoaXMudW5kZXJsaW5lVGhpY2tuZXNzID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB0aGlzLmlzRml4ZWRQaXRjaCA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgIHRoaXMubWluTWVtVHlwZTQyID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgdGhpcy5tYXhNZW1UeXBlNDIgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICB0aGlzLm1pbk1lbVR5cGUxID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgdGhpcy5tYXhNZW1UeXBlMSA9IGRhdGEucmVhZExvbmcoKTtcblxuICAgICAgICAgICAgdmFyIG51bWJlck9mR2x5cGhzO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZm9ybWF0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAxMDAwMDpcbiAgICAgICAgICAgICAgY2FzZSAweDAwMDMwMDAwOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAyMDAwMDpcbiAgICAgICAgICAgICAgICBudW1iZXJPZkdseXBocyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5nbHlwaE5hbWVJbmRleCA9IGRhdGEudGltZXMobnVtYmVyT2ZHbHlwaHMsIGRhdGEucmVhZFNob3J0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm5hbWVzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gdGhpcy5vZmZzZXQgKyB0aGlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZGF0YS5vZmZzZXQoKSA8IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmFtZXMucHVzaChkYXRhLnJlYWRTdHJpbmcoZGF0YS5yZWFkQnl0ZSgpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAyNTAwMDpcbiAgICAgICAgICAgICAgICBudW1iZXJPZkdseXBocyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRzID0gZGF0YS5yZWFkKG51bWJlck9mR2x5cGhzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDB4MDAwNDAwMDA6XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAgPSBkYXRhLnRpbWVzKHRoaXMuZmlsZS5tYXhwLm51bUdseXBocywgZGF0YS5yZWFkU2hvcnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2x5cGhGb3IoY29kZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmZvcm1hdCkge1xuICAgICAgICAgICAgICBjYXNlIDB4MDAwMTAwMDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBPU1RTQ1JJUFRfR0xZUEhTW2NvZGVdIHx8IFwiLm5vdGRlZlwiO1xuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAyMDAwMDpcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmdseXBoTmFtZUluZGV4W2NvZGVdO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IFBPU1RTQ1JJUFRfR0xZUEhTLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TVFNDUklQVF9HTFlQSFNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lc1tpbmRleCAtIFBPU1RTQ1JJUFRfR0xZUEhTLmxlbmd0aF0gfHwgXCIubm90ZGVmXCI7XG5cbiAgICAgICAgICAgICAgY2FzZSAweDAwMDI1MDAwOlxuXG4gICAgICAgICAgICAgIGNhc2UgMHgwMDAzMDAwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIubm90ZGVmXCI7XG5cbiAgICAgICAgICAgICAgY2FzZSAweDAwMDQwMDAwOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcFtjb2RlXSB8fCAweEZGRkY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIobWFwcGluZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9ybWF0ID09IDB4MDAwMzAwMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yYXcoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8ga2VlcCBvcmlnaW5hbCBoZWFkZXIsIGJ1dCBzZXQgZm9ybWF0IHRvIDIuMFxuICAgICAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSh0aGlzLnJhd0RhdGEuc2xpY2UodGhpcy5vZmZzZXQsIDMyKSk7XG4gICAgICAgICAgICBvdXQud3JpdGVMb25nKDB4MDAwMjAwMDApO1xuICAgICAgICAgICAgb3V0Lm9mZnNldCgzMik7XG5cbiAgICAgICAgICAgIHZhciBpbmRleGVzID0gW107XG4gICAgICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcHBpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBtYXBwaW5nW2ldO1xuICAgICAgICAgICAgICAgIHZhciBwb3N0ID0gdGhpcy5nbHlwaEZvcihpZCk7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gUE9TVFNDUklQVF9HTFlQSFMuaW5kZXhPZihwb3N0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChQT1NUU0NSSVBUX0dMWVBIUy5sZW5ndGggKyBzdHJpbmdzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaChwb3N0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KG1hcHBpbmcubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChpbmRleGVzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVCeXRlKHN0cmluZ3NbaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTdHJpbmcoc3RyaW5nc1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXQuZ2V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xufSkoKTtcblxudmFyIENtYXBUYWJsZSA9IChmdW5jdGlvbigpe1xuICAgIGNsYXNzIENtYXBFbnRyeSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGRhdGEsIG9mZnNldCwgY29kZU1hcCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5wbGF0Zm9ybUlEID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIHNlbGYucGxhdGZvcm1TcGVjaWZpY0lEID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIHNlbGYub2Zmc2V0ID0gb2Zmc2V0ICsgZGF0YS5yZWFkTG9uZygpO1xuXG4gICAgICAgICAgICBkYXRhLnNhdmVFeGN1cnNpb24oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICAgICAgICBkYXRhLm9mZnNldChzZWxmLm9mZnNldCk7XG4gICAgICAgICAgICAgICAgc2VsZi5mb3JtYXQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWxmLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhbmd1YWdlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZU1hcFtpXSA9IGRhdGEucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhbmd1YWdlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlZ0NvdW50ID0gZGF0YS5yZWFkU2hvcnQoKSAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5za2lwKDYpOyAgICAgICAvLyBzZWFyY2hSYW5nZSwgZW50cnlTZWxlY3RvciwgcmFuZ2VTaGlmdFxuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kQ29kZSA9IGRhdGEudGltZXMoc2VnQ291bnQsIGRhdGEucmVhZFNob3J0KTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5za2lwKDIpOyAgICAgICAvLyByZXNlcnZlZCBwYWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0Q29kZSA9IGRhdGEudGltZXMoc2VnQ291bnQsIGRhdGEucmVhZFNob3J0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkRGVsdGEgPSBkYXRhLnRpbWVzKHNlZ0NvdW50LCBkYXRhLnJlYWRTaG9ydF8pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWRSYW5nZU9mZnNldCA9IGRhdGEudGltZXMoc2VnQ291bnQsIGRhdGEucmVhZFNob3J0KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAoc2VsZi5sZW5ndGggKyBzZWxmLm9mZnNldCAtIGRhdGEub2Zmc2V0KCkpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdseXBoSWRzID0gZGF0YS50aW1lcyhjb3VudCwgZGF0YS5yZWFkU2hvcnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzZWdDb3VudDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBzdGFydENvZGVbaV0sIGVuZCA9IGVuZENvZGVbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvZGUgPSBzdGFydDsgY29kZSA8PSBlbmQ7ICsrY29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnbHlwaElkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZFJhbmdlT2Zmc2V0W2ldID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoSWQgPSBjb2RlICsgaWREZWx0YVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBub24temVybywgaWRSYW5nZU9mZnNldCBjb250YWlucyBmb3IgZWFjaCBzZWdtZW50IHRoZSBieXRlIG9mZnNldCBvZiB0aGUgR2x5cGggSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGUgZ2x5cGhJZHMgdGFibGUsIGZyb20gdGhlICpjdXJyZW50KiBgaWAgY2VsbCBvZiBpZFJhbmdlT2Zmc2V0LiAgSW4gb3RoZXIgd29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgb2Zmc2V0IHNwYW5zIGZyb20gdGhlIGZpcnN0IGludG8gdGhlIHNlY29uZCBhcnJheS4gIFRoaXMgd29ya3MsIGJlY2F1c2UgdGhlIGFycmF5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgY29uc2VjdXRpdmUgaW4gdGhlIFRURiBmaWxlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgWyAuLi5pZFJhbmdlT2Zmc2V0Li4uIF1bIC4uLmdseXBoSWRzLi4uIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgLi4uLi4uIDQ4IC4uLi4uLiAgICAgICAuLi4uIElEIC4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgIF4tLS0tLSA0OCBieXRlcyAtLS0tLV5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKGJ1dCBJIGNhbid0IHN0b3Agd29uZGVyaW5nIHdoeSBpcyBpdCBub3QganVzdCBhIHBsYWluIGluZGV4LCBwb3NzaWJseSBpbmNyZW1lbnRlZCBieSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIGhhdmUgdGhhdCBzcGVjaWFsIGB6ZXJvYCB2YWx1ZS4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50cyBvZiBpZFJhbmdlT2Zmc2V0IGFyZSBldmVuIG51bWJlcnMsIGJlY2F1c2UgYm90aCBhcnJheXMgY29udGFpbiAxNi1iaXQgd29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHlldCB0aGUgb2Zmc2V0IGlzIGluIGJ5dGVzLiAgVGhhdCBpcyB3aHkgd2UgZGl2aWRlIGl0IGJ5IDIuICBUaGVuIHdlIHN1YnRyYWN0IHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1haW5pbmcgc2VnbWVudHMgKHNlZ0NvdW50LWkpLCBhbmQgYWRkIHRoZSBjb2RlLXN0YXJ0IG9mZnNldCwgdG8gd2hpY2ggd2UgbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgZGVsdGEgdG8gZ2V0IHRoZSBhY3R1YWwgZ2x5cGggSUQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBpZFJhbmdlT2Zmc2V0W2ldIC8gMiAtIChzZWdDb3VudCAtIGkpICsgKGNvZGUgLSBzdGFydCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoSWQgPSBnbHlwaElkc1tpbmRleF0gfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdseXBoSWQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdseXBoSWQgKz0gaWREZWx0YVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlTWFwW2NvZGVdID0gZ2x5cGhJZCAmIDB4RkZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhbmd1YWdlID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobGVuZ3RoLS0gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlTWFwW2NvZGUrK10gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5yZWFkU2hvcnQoKTsgLy8gcmVzZXJ2ZWRcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sZW5ndGggPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubGFuZ3VhZ2UgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZ3JvdXBzID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAobmdyb3Vwcy0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRDaGFyQ29kZSA9IGRhdGEucmVhZExvbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnbHlwaENvZGUgPSBkYXRhLnJlYWRMb25nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29kZSA8PSBlbmRDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVNYXBbY29kZSsrXSA9IGdseXBoQ29kZSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY29uc29sZS5lcnJvcihcIlVuaGFuZGxlZCBDTUFQIGZvcm1hdDogXCIgKyBzZWxmLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlckNoYXJtYXAobmNpZDJvZ2lkLCBvZ2lkMm5naWQpIHtcbiAgICAgICAgdmFyIGNvZGVzID0gc29ydGVkS2V5cyhuY2lkMm9naWQpO1xuICAgICAgICB2YXIgc3RhcnRDb2RlcyA9IFtdO1xuICAgICAgICB2YXIgZW5kQ29kZXMgPSBbXTtcbiAgICAgICAgdmFyIGxhc3QgPSBudWxsO1xuICAgICAgICB2YXIgZGlmZiA9IG51bGw7XG5cbiAgICAgICAgZnVuY3Rpb24gbmV3X2dpZChjaGFyY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9naWQybmdpZFtuY2lkMm9naWRbY2hhcmNvZGVdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29kZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gY29kZXNbaV07XG4gICAgICAgICAgICB2YXIgZ2lkID0gbmV3X2dpZChjb2RlKTtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGdpZCAtIGNvZGU7XG4gICAgICAgICAgICBpZiAobGFzdCA9PSBudWxsIHx8IGRlbHRhICE9PSBkaWZmKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kQ29kZXMucHVzaChsYXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhcnRDb2Rlcy5wdXNoKGNvZGUpO1xuICAgICAgICAgICAgICAgIGRpZmYgPSBkZWx0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3QgPSBjb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgICAgIGVuZENvZGVzLnB1c2gobGFzdCk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kQ29kZXMucHVzaCgweEZGRkYpO1xuICAgICAgICBzdGFydENvZGVzLnB1c2goMHhGRkZGKTtcblxuICAgICAgICB2YXIgc2VnQ291bnQgPSBzdGFydENvZGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHNlZ0NvdW50WDIgPSBzZWdDb3VudCAqIDI7XG4gICAgICAgIHZhciBzZWFyY2hSYW5nZSA9IDIgKiBNYXRoLnBvdygyLCBNYXRoLmZsb29yKE1hdGgubG9nKHNlZ0NvdW50KSAvIE1hdGguTE4yKSk7XG4gICAgICAgIHZhciBlbnRyeVNlbGVjdG9yID0gTWF0aC5sb2coc2VhcmNoUmFuZ2UgLyAyKSAvIE1hdGguTE4yO1xuICAgICAgICB2YXIgcmFuZ2VTaGlmdCA9IHNlZ0NvdW50WDIgLSBzZWFyY2hSYW5nZTtcblxuICAgICAgICB2YXIgZGVsdGFzID0gW107XG4gICAgICAgIHZhciByYW5nZU9mZnNldHMgPSBbXTtcbiAgICAgICAgdmFyIGdseXBoSWRzID0gW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNlZ0NvdW50OyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdGFydENvZGUgPSBzdGFydENvZGVzW2ldO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBlbmRDb2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChzdGFydENvZGUgPT0gMHhGRkZGKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgcmFuZ2VPZmZzZXRzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRHbHlwaCA9IG5ld19naWQoc3RhcnRDb2RlKTtcbiAgICAgICAgICAgIGlmIChzdGFydENvZGUgLSBzdGFydEdseXBoID49IDB4ODAwMCkge1xuICAgICAgICAgICAgICAgIGRlbHRhcy5wdXNoKDApO1xuICAgICAgICAgICAgICAgIHJhbmdlT2Zmc2V0cy5wdXNoKDIgKiAoZ2x5cGhJZHMubGVuZ3RoICsgc2VnQ291bnQgLSBpKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0Q29kZTsgaiA8PSBlbmRDb2RlOyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgZ2x5cGhJZHMucHVzaChuZXdfZ2lkKGopKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbHRhcy5wdXNoKHN0YXJ0R2x5cGggLSBzdGFydENvZGUpO1xuICAgICAgICAgICAgICAgIHJhbmdlT2Zmc2V0cy5wdXNoKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dCA9IEJpbmFyeVN0cmVhbSgpO1xuXG4gICAgICAgIG91dC53cml0ZVNob3J0KDMpOyAgICAgIC8vIHBsYXRmb3JtSURcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoMSk7ICAgICAgLy8gcGxhdGZvcm1TcGVjaWZpY0lEXG4gICAgICAgIG91dC53cml0ZUxvbmcoMTIpOyAgICAgIC8vIG9mZnNldFxuICAgICAgICBvdXQud3JpdGVTaG9ydCg0KTsgICAgICAvLyBmb3JtYXRcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoMTYgKyBzZWdDb3VudCAqIDggKyBnbHlwaElkcy5sZW5ndGggKiAyKTsgLy8gbGVuZ3RoXG4gICAgICAgIG91dC53cml0ZVNob3J0KDApOyAgICAgIC8vIGxhbmd1YWdlXG4gICAgICAgIG91dC53cml0ZVNob3J0KHNlZ0NvdW50WDIpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChzZWFyY2hSYW5nZSk7XG4gICAgICAgIG91dC53cml0ZVNob3J0KGVudHJ5U2VsZWN0b3IpO1xuICAgICAgICBvdXQud3JpdGVTaG9ydChyYW5nZVNoaWZ0KTtcblxuICAgICAgICBlbmRDb2Rlcy5mb3JFYWNoKG91dC53cml0ZVNob3J0KTtcbiAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7ICAgICAgLy8gcmVzZXJ2ZWQgcGFkXG4gICAgICAgIHN0YXJ0Q29kZXMuZm9yRWFjaChvdXQud3JpdGVTaG9ydCk7XG4gICAgICAgIGRlbHRhcy5mb3JFYWNoKG91dC53cml0ZVNob3J0Xyk7XG4gICAgICAgIHJhbmdlT2Zmc2V0cy5mb3JFYWNoKG91dC53cml0ZVNob3J0KTtcbiAgICAgICAgZ2x5cGhJZHMuZm9yRWFjaChvdXQud3JpdGVTaG9ydCk7XG5cbiAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBUYWJsZSB7XG4gICAgICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzZWxmLm9mZnNldDtcbiAgICAgICAgICAgIGRhdGEub2Zmc2V0KG9mZnNldCk7XG4gICAgICAgICAgICBzZWxmLmNvZGVNYXAgPSB7fTtcbiAgICAgICAgICAgIHNlbGYudmVyc2lvbiA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB2YXIgdGFibGVDb3VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICBzZWxmLnRhYmxlcyA9IGRhdGEudGltZXModGFibGVDb3VudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENtYXBFbnRyeShkYXRhLCBvZmZzZXQsIHNlbGYuY29kZU1hcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRpYyByZW5kZXIobmNpZDJvZ2lkLCBvZ2lkMm5naWQpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgICAgIG91dC53cml0ZVNob3J0KDApOyAgLy8gdmVyc2lvblxuICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMSk7ICAvLyB0YWJsZUNvdW50XG4gICAgICAgICAgICBvdXQud3JpdGUocmVuZGVyQ2hhcm1hcChuY2lkMm9naWQsIG9naWQybmdpZCkpO1xuICAgICAgICAgICAgcmV0dXJuIG91dC5nZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cbmNsYXNzIE9TMlRhYmxlIGV4dGVuZHMgVGFibGUge1xuICAgIHBhcnNlKGRhdGEpIHtcbiAgICAgICAgZGF0YS5vZmZzZXQodGhpcy5vZmZzZXQpO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmF2ZXJhZ2VDaGFyV2lkdGggPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy53ZWlnaHRDbGFzcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMud2lkdGhDbGFzcyA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFhTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFlTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1YnNjcmlwdFhPZmZzZXQgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy55U3Vic2NyaXB0WU9mZnNldCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnlTdXBlcnNjcmlwdFhTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1cGVyc2NyaXB0WVNpemUgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgdGhpcy55U3VwZXJzY3JpcHRYT2Zmc2V0ID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN1cGVyc2NyaXB0WU9mZnNldCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICB0aGlzLnlTdHJpa2VvdXRTaXplID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMueVN0cmlrZW91dFBvc2l0aW9uID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgIHRoaXMuZmFtaWx5Q2xhc3MgPSBkYXRhLnJlYWRTaG9ydF8oKTtcblxuICAgICAgICB0aGlzLnBhbm9zZSA9IGRhdGEudGltZXMoMTAsIGRhdGEucmVhZEJ5dGUpO1xuICAgICAgICB0aGlzLmNoYXJSYW5nZSA9IGRhdGEudGltZXMoNCwgZGF0YS5yZWFkTG9uZyk7XG5cbiAgICAgICAgdGhpcy52ZW5kb3JJRCA9IGRhdGEucmVhZFN0cmluZyg0KTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICB0aGlzLmZpcnN0Q2hhckluZGV4ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgdGhpcy5sYXN0Q2hhckluZGV4ID0gZGF0YS5yZWFkU2hvcnQoKTtcblxuICAgICAgICBpZiAodGhpcy52ZXJzaW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hc2NlbnQgPSBkYXRhLnJlYWRTaG9ydF8oKTtcbiAgICAgICAgICAgIHRoaXMuZGVzY2VudCA9IGRhdGEucmVhZFNob3J0XygpO1xuICAgICAgICAgICAgdGhpcy5saW5lR2FwID0gZGF0YS5yZWFkU2hvcnRfKCk7XG4gICAgICAgICAgICB0aGlzLndpbkFzY2VudCA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICB0aGlzLndpbkRlc2NlbnQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgdGhpcy5jb2RlUGFnZVJhbmdlID0gZGF0YS50aW1lcygyLCBkYXRhLnJlYWRMb25nKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhIZWlnaHQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwSGVpZ2h0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDaGFyID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmJyZWFrQ2hhciA9IGRhdGEucmVhZFNob3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhDb250ZXh0ID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KCk7XG4gICAgfVxufVxuXG52YXIgc3Vic2V0VGFnID0gMTAwMDAwO1xuXG5mdW5jdGlvbiBuZXh0U3Vic2V0VGFnKCkge1xuICAgIHZhciByZXQgPSBcIlwiLCBuID0gU3RyaW5nKHN1YnNldFRhZyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJldCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG4uY2hhckNvZGVBdChpKSAtIDQ4ICsgNjUpO1xuICAgIH1cbiAgICArK3N1YnNldFRhZztcbiAgICByZXR1cm4gcmV0O1xufVxuXG5jbGFzcyBTdWJmb250IHtcbiAgICBjb25zdHJ1Y3Rvcihmb250KSB7XG4gICAgICAgIHRoaXMuZm9udCA9IGZvbnQ7XG4gICAgICAgIHRoaXMuc3Vic2V0ID0ge307XG4gICAgICAgIHRoaXMudW5pY29kZXMgPSB7fTtcbiAgICAgICAgdGhpcy5vZ2lkMm5naWQgPSB7IDA6IDAgfTtcbiAgICAgICAgdGhpcy5uZ2lkMm9naWQgPSB7IDA6IDAgfTtcbiAgICAgICAgdGhpcy5uY2lkMm9naWQgPSB7fTtcbiAgICAgICAgdGhpcy5uZXh0ID0gdGhpcy5maXJzdENoYXIgPSAxO1xuICAgICAgICB0aGlzLm5leHRHaWQgPSAxO1xuICAgICAgICB0aGlzLnBzTmFtZSA9IG5leHRTdWJzZXRUYWcoKSArIFwiK1wiICsgdGhpcy5mb250LnBzTmFtZTtcbiAgICB9XG5cbiAgICB1c2UoY2gpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAodHlwZW9mIGNoID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB1Y3MyZGVjb2RlKGNoKS5yZWR1Y2UoZnVuY3Rpb24ocmV0LCBjb2RlKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShzZWxmLnVzZShjb2RlKSk7XG4gICAgICAgICAgICB9LCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZSA9IHNlbGYudW5pY29kZXNbY2hdO1xuICAgICAgICBpZiAoIWNvZGUpIHtcbiAgICAgICAgICAgIGNvZGUgPSBzZWxmLm5leHQrKztcbiAgICAgICAgICAgIHNlbGYuc3Vic2V0W2NvZGVdID0gY2g7XG4gICAgICAgICAgICBzZWxmLnVuaWNvZGVzW2NoXSA9IGNvZGU7XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIG5ldyBHSUQgKGdseXBoIElEKSBhbmQgbWFpbnRhaW4gbmV3R0lEIC0+XG4gICAgICAgICAgICAvLyBvbGRHSUQgYW5kIGJhY2sgbWFwcGluZ3NcbiAgICAgICAgICAgIHZhciBvbGRfZ2lkID0gc2VsZi5mb250LmNtYXAuY29kZU1hcFtjaF07XG4gICAgICAgICAgICBpZiAob2xkX2dpZCkge1xuICAgICAgICAgICAgICAgIHNlbGYubmNpZDJvZ2lkW2NvZGVdID0gb2xkX2dpZDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5vZ2lkMm5naWRbb2xkX2dpZF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3X2dpZCA9IHNlbGYubmV4dEdpZCsrO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9naWQybmdpZFtvbGRfZ2lkXSA9IG5ld19naWQ7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmdpZDJvZ2lkW25ld19naWRdID0gb2xkX2dpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuXG4gICAgZW5jb2RlVGV4dCh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZSh0ZXh0KTtcbiAgICB9XG5cbiAgICBnbHlwaElkcygpIHtcbiAgICAgICAgcmV0dXJuIHNvcnRlZEtleXModGhpcy5vZ2lkMm5naWQpO1xuICAgIH1cblxuICAgIGdseXBoc0ZvcihnbHlwaElkcywgcmVzdWx0KSB7XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdseXBoSWRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBnbHlwaElkc1tpXTtcbiAgICAgICAgICAgIGlmICghcmVzdWx0W2lkXSkge1xuICAgICAgICAgICAgICAgIHZhciBnbHlwaCA9IHJlc3VsdFtpZF0gPSB0aGlzLmZvbnQuZ2x5Zi5nbHlwaEZvcihpZCk7XG4gICAgICAgICAgICAgICAgaWYgKGdseXBoICYmIGdseXBoLmNvbXBvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2x5cGhzRm9yKGdseXBoLmdseXBoSWRzLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGdseXBocyA9IHRoaXMuZ2x5cGhzRm9yKHRoaXMuZ2x5cGhJZHMoKSk7XG5cbiAgICAgICAgLy8gYWRkIG1pc3Npbmcgc3ViLWdseXBoc1xuICAgICAgICBmb3IgKHZhciBvbGRfZ2lkIGluIGdseXBocykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGdseXBocywgb2xkX2dpZCkpIHtcbiAgICAgICAgICAgICAgICBvbGRfZ2lkID0gcGFyc2VJbnQob2xkX2dpZCwgMTApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9naWQybmdpZFtvbGRfZ2lkXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdfZ2lkID0gdGhpcy5uZXh0R2lkKys7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2dpZDJuZ2lkW29sZF9naWRdID0gbmV3X2dpZDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZ2lkMm9naWRbbmV3X2dpZF0gPSBvbGRfZ2lkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG11c3Qgb2J0YWluIG9sZF9naWRfaWRzIGluIGFuIG9yZGVyIG1hdGNoaW5nIHNvcnRlZFxuICAgICAgICAvLyBuZXdfZ2lkX2lkc1xuICAgICAgICB2YXIgbmV3X2dpZF9pZHMgPSBzb3J0ZWRLZXlzKHRoaXMubmdpZDJvZ2lkKTtcbiAgICAgICAgdmFyIG9sZF9naWRfaWRzID0gbmV3X2dpZF9pZHMubWFwKGZ1bmN0aW9uKGlkKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5naWQyb2dpZFtpZF07XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHZhciBmb250ID0gdGhpcy5mb250O1xuICAgICAgICB2YXIgZ2x5ZiA9IGZvbnQuZ2x5Zi5yZW5kZXIoZ2x5cGhzLCBvbGRfZ2lkX2lkcywgdGhpcy5vZ2lkMm5naWQpO1xuICAgICAgICB2YXIgbG9jYSA9IGZvbnQubG9jYS5yZW5kZXIoZ2x5Zi5vZmZzZXRzKTtcblxuICAgICAgICB0aGlzLmxhc3RDaGFyID0gdGhpcy5uZXh0IC0gMTtcblxuICAgICAgICB2YXIgdGFibGVzID0ge1xuICAgICAgICAgICAgXCJjbWFwXCIgOiBDbWFwVGFibGUucmVuZGVyKHRoaXMubmNpZDJvZ2lkLCB0aGlzLm9naWQybmdpZCksXG4gICAgICAgICAgICBcImdseWZcIiA6IGdseWYudGFibGUsXG4gICAgICAgICAgICBcImxvY2FcIiA6IGxvY2EudGFibGUsXG4gICAgICAgICAgICBcImhtdHhcIiA6IGZvbnQuaG10eC5yZW5kZXIob2xkX2dpZF9pZHMpLFxuICAgICAgICAgICAgXCJoaGVhXCIgOiBmb250LmhoZWEucmVuZGVyKG9sZF9naWRfaWRzKSxcbiAgICAgICAgICAgIFwibWF4cFwiIDogZm9udC5tYXhwLnJlbmRlcihvbGRfZ2lkX2lkcyksXG4gICAgICAgICAgICBcInBvc3RcIiA6IGZvbnQucG9zdC5yZW5kZXIob2xkX2dpZF9pZHMpLFxuICAgICAgICAgICAgXCJuYW1lXCIgOiBmb250Lm5hbWUucmVuZGVyKHRoaXMucHNOYW1lKSxcbiAgICAgICAgICAgIFwiaGVhZFwiIDogZm9udC5oZWFkLnJlbmRlcihsb2NhLmZvcm1hdCksXG4gICAgICAgICAgICBcIk9TLzJcIiA6IGZvbnQub3MyLnJlbmRlcigpXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9udC5kaXJlY3RvcnkucmVuZGVyKHRhYmxlcyk7XG4gICAgfVxuXG4gICAgY2lkVG9HaWRNYXAoKSB7XG4gICAgICAgIHZhciBvdXQgPSBCaW5hcnlTdHJlYW0oKSwgbGVuID0gMDtcbiAgICAgICAgZm9yICh2YXIgY2lkID0gdGhpcy5maXJzdENoYXI7IGNpZCA8IHRoaXMubmV4dDsgKytjaWQpIHtcbiAgICAgICAgICAgIHdoaWxlIChsZW4gPCBjaWQpIHtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydCgwKTtcbiAgICAgICAgICAgICAgICBsZW4rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbGRfZ2lkID0gdGhpcy5uY2lkMm9naWRbY2lkXTtcbiAgICAgICAgICAgIGlmIChvbGRfZ2lkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld19naWQgPSB0aGlzLm9naWQybmdpZFtvbGRfZ2lkXTtcbiAgICAgICAgICAgICAgICBvdXQud3JpdGVTaG9ydChuZXdfZ2lkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LndyaXRlU2hvcnQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZW4rKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0LmdldCgpO1xuICAgIH1cbn1cblxuY2xhc3MgVFRGRm9udCB7XG4gICAgY29uc3RydWN0b3IocmF3RGF0YSwgbmFtZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBkYXRhID0gc2VsZi5jb250ZW50cyA9IEJpbmFyeVN0cmVhbShyYXdEYXRhKTtcbiAgICAgICAgaWYgKGRhdGEucmVhZFN0cmluZyg0KSA9PSBcInR0Y2ZcIikge1xuICAgICAgICAgICAgdmFyIG9mZnNldDtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5vZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBzZWxmLnBhcnNlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IGEgbmFtZSBmb3IgVFRDIGZpbGVzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5yZWFkTG9uZygpOyAgICAgICAgLy8gdmVyc2lvblxuICAgICAgICAgICAgdmFyIG51bUZvbnRzID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Gb250czsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZGF0YS5yZWFkTG9uZygpO1xuICAgICAgICAgICAgICAgIGRhdGEuc2F2ZUV4Y3Vyc2lvbihwYXJzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYucHNOYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvbnQgXCIgKyBuYW1lICsgXCIgbm90IGZvdW5kIGluIGNvbGxlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLm9mZnNldCgwKTtcbiAgICAgICAgICAgIHNlbGYucGFyc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlKCkge1xuICAgICAgICB2YXIgZGlyID0gdGhpcy5kaXJlY3RvcnkgPSBuZXcgRGlyZWN0b3J5KHRoaXMuY29udGVudHMpO1xuXG4gICAgICAgIHRoaXMuaGVhZCA9IGRpci5yZWFkVGFibGUoXCJoZWFkXCIsIEhlYWRUYWJsZSk7XG4gICAgICAgIHRoaXMubG9jYSA9IGRpci5yZWFkVGFibGUoXCJsb2NhXCIsIExvY2FUYWJsZSk7XG4gICAgICAgIHRoaXMuaGhlYSA9IGRpci5yZWFkVGFibGUoXCJoaGVhXCIsIEhoZWFUYWJsZSk7XG4gICAgICAgIHRoaXMubWF4cCA9IGRpci5yZWFkVGFibGUoXCJtYXhwXCIsIE1heHBUYWJsZSk7XG4gICAgICAgIHRoaXMuaG10eCA9IGRpci5yZWFkVGFibGUoXCJobXR4XCIsIEhtdHhUYWJsZSk7XG4gICAgICAgIHRoaXMuZ2x5ZiA9IGRpci5yZWFkVGFibGUoXCJnbHlmXCIsIEdseWZUYWJsZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IGRpci5yZWFkVGFibGUoXCJuYW1lXCIsIE5hbWVUYWJsZSk7XG4gICAgICAgIHRoaXMucG9zdCA9IGRpci5yZWFkVGFibGUoXCJwb3N0XCIsIFBvc3RUYWJsZSk7XG4gICAgICAgIHRoaXMuY21hcCA9IGRpci5yZWFkVGFibGUoXCJjbWFwXCIsIENtYXBUYWJsZSk7XG4gICAgICAgIHRoaXMub3MyICA9IGRpci5yZWFkVGFibGUoXCJPUy8yXCIsIE9TMlRhYmxlKTtcblxuICAgICAgICB0aGlzLnBzTmFtZSA9IHRoaXMubmFtZS5wb3N0c2NyaXB0TmFtZTtcbiAgICAgICAgdGhpcy5hc2NlbnQgPSB0aGlzLm9zMi5hc2NlbnQgfHwgdGhpcy5oaGVhLmFzY2VudDtcbiAgICAgICAgdGhpcy5kZXNjZW50ID0gdGhpcy5vczIuZGVzY2VudCB8fCB0aGlzLmhoZWEuZGVzY2VudDtcbiAgICAgICAgdGhpcy5saW5lR2FwID0gdGhpcy5vczIubGluZUdhcCB8fCB0aGlzLmhoZWEubGluZUdhcDtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDEwMDAgLyB0aGlzLmhlYWQudW5pdHNQZXJFbTtcbiAgICB9XG5cbiAgICB3aWR0aE9mR2x5cGgoZ2x5cGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG10eC5mb3JHbHlwaChnbHlwaCkuYWR2YW5jZSAqIHRoaXMuc2NhbGU7XG4gICAgfVxuXG4gICAgbWFrZVN1YnNldCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJmb250KHRoaXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVFRGRm9udCB9O1xuIiwiaW1wb3J0IHsgZGVmbGF0ZSBhcyBwYWtvRGVmbGF0ZSB9IGZyb20gJ0Bwcm9ncmVzcy9wYWtvLWVzbSc7XG5cbmV4cG9ydCBjb25zdCBkZWZsYXRlID0gcGFrb0RlZmxhdGU7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0RlZmxhdGUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLW11bHRpLXNwYWNlcywga2V5LXNwYWNpbmcsIGluZGVudCwgY2FtZWxjYXNlLCBzcGFjZS1iZWZvcmUtYmxvY2tzLCBlcWVxZXEsIGJyYWNlLXN0eWxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBzcGFjZS1pbmZpeC1vcHMsIHNwYWNlLWJlZm9yZS1mdW5jdGlvbi1wYXJlbiwgYXJyYXktYnJhY2tldC1zcGFjaW5nLCBvYmplY3QtY3VybHktc3BhY2luZyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tbmVzdGVkLXRlcm5hcnksIG1heC1wYXJhbXMsIGRlZmF1bHQtY2FzZSwgbm8tZWxzZS1yZXR1cm4sIG5vLWVtcHR5ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiwgbm8tdmFyLCBibG9jay1zY29wZWQtdmFyICovXG5cbmltcG9ydCB7IEJpbmFyeVN0cmVhbSwgdWNzMmVuY29kZSwgYmFzZTY0VG9VaW50OEFycmF5LCBIQVNfVFlQRURfQVJSQVlTIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IHN1cHBvcnQgfSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgVFRGRm9udCB9IGZyb20gXCIuL3R0ZlwiO1xuaW1wb3J0IHsgZGVmbGF0ZSwgc3VwcG9ydHNEZWZsYXRlIH0gZnJvbSAnLi9kZWZsYXRlJztcbmltcG9ydCB7IGVuY29kZVVURjE2QkUsIEJPTSB9IGZyb20gXCIuLi91dGlsL2VuY29kZS11dGZcIjtcbmltcG9ydCB7IGVuY29kZUJhc2U2NCB9IGZyb20gXCIuLi91dGlsXCI7XG5cbmNvbnN0IGJyb3dzZXIgPSBzdXBwb3J0LmJyb3dzZXI7XG5jb25zdCBOTCA9IFwiXFxuXCI7XG5cbnZhciBSRVNPVVJDRV9DT1VOVEVSID0gMDtcblxuY29uc3QgUEFQRVJfU0laRSA9IHtcbiAgICBhMCAgICAgICAgOiBbIDIzODMuOTQgLCAzMzcwLjM5IF0sXG4gICAgYTEgICAgICAgIDogWyAxNjgzLjc4ICwgMjM4My45NCBdLFxuICAgIGEyICAgICAgICA6IFsgMTE5MC41NSAsIDE2ODMuNzggXSxcbiAgICBhMyAgICAgICAgOiBbIDg0MS44OSAgLCAxMTkwLjU1IF0sXG4gICAgYTQgICAgICAgIDogWyA1OTUuMjggICwgODQxLjg5ICBdLFxuICAgIGE1ICAgICAgICA6IFsgNDE5LjUzICAsIDU5NS4yOCAgXSxcbiAgICBhNiAgICAgICAgOiBbIDI5Ny42NCAgLCA0MTkuNTMgIF0sXG4gICAgYTcgICAgICAgIDogWyAyMDkuNzYgICwgMjk3LjY0ICBdLFxuICAgIGE4ICAgICAgICA6IFsgMTQ3LjQwICAsIDIwOS43NiAgXSxcbiAgICBhOSAgICAgICAgOiBbIDEwNC44OCAgLCAxNDcuNDAgIF0sXG4gICAgYTEwICAgICAgIDogWyA3My43MCAgICwgMTA0Ljg4ICBdLFxuICAgIGIwICAgICAgICA6IFsgMjgzNC42NSAsIDQwMDguMTkgXSxcbiAgICBiMSAgICAgICAgOiBbIDIwMDQuMDkgLCAyODM0LjY1IF0sXG4gICAgYjIgICAgICAgIDogWyAxNDE3LjMyICwgMjAwNC4wOSBdLFxuICAgIGIzICAgICAgICA6IFsgMTAwMC42MyAsIDE0MTcuMzIgXSxcbiAgICBiNCAgICAgICAgOiBbIDcwOC42NiAgLCAxMDAwLjYzIF0sXG4gICAgYjUgICAgICAgIDogWyA0OTguOTAgICwgNzA4LjY2ICBdLFxuICAgIGI2ICAgICAgICA6IFsgMzU0LjMzICAsIDQ5OC45MCAgXSxcbiAgICBiNyAgICAgICAgOiBbIDI0OS40NSAgLCAzNTQuMzMgIF0sXG4gICAgYjggICAgICAgIDogWyAxNzUuNzUgICwgMjQ5LjQ1ICBdLFxuICAgIGI5ICAgICAgICA6IFsgMTI0LjcyICAsIDE3NS43NSAgXSxcbiAgICBiMTAgICAgICAgOiBbIDg3Ljg3ICAgLCAxMjQuNzIgIF0sXG4gICAgYzAgICAgICAgIDogWyAyNTk5LjM3ICwgMzY3Ni41NCBdLFxuICAgIGMxICAgICAgICA6IFsgMTgzNi44NSAsIDI1OTkuMzcgXSxcbiAgICBjMiAgICAgICAgOiBbIDEyOTguMjcgLCAxODM2Ljg1IF0sXG4gICAgYzMgICAgICAgIDogWyA5MTguNDMgICwgMTI5OC4yNyBdLFxuICAgIGM0ICAgICAgICA6IFsgNjQ5LjEzICAsIDkxOC40MyAgXSxcbiAgICBjNSAgICAgICAgOiBbIDQ1OS4yMSAgLCA2NDkuMTMgIF0sXG4gICAgYzYgICAgICAgIDogWyAzMjMuMTUgICwgNDU5LjIxICBdLFxuICAgIGM3ICAgICAgICA6IFsgMjI5LjYxICAsIDMyMy4xNSAgXSxcbiAgICBjOCAgICAgICAgOiBbIDE2MS41NyAgLCAyMjkuNjEgIF0sXG4gICAgYzkgICAgICAgIDogWyAxMTMuMzkgICwgMTYxLjU3ICBdLFxuICAgIGMxMCAgICAgICA6IFsgNzkuMzcgICAsIDExMy4zOSAgXSxcbiAgICBleGVjdXRpdmUgOiBbIDUyMS44NiAgLCA3NTYuMDAgIF0sXG4gICAgZm9saW8gICAgIDogWyA2MTIuMDAgICwgOTM2LjAwICBdLFxuICAgIGxlZ2FsICAgICA6IFsgNjEyLjAwICAsIDEwMDguMDAgXSxcbiAgICBsZXR0ZXIgICAgOiBbIDYxMi4wMCAgLCA3OTIuMDAgIF0sXG4gICAgdGFibG9pZCAgIDogWyA3OTIuMDAgICwgMTIyNC4wMCBdXG59O1xuXG5mdW5jdGlvbiBtYWtlT3V0cHV0KCkge1xuICAgIHZhciBpbmRlbnRMZXZlbCA9IDAsIG91dHB1dCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgIGZ1bmN0aW9uIG91dCgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB4ID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKHggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBvdXRwdXQgdW5kZWZpbmVkIHRvIFBERlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggaW5zdGFuY2VvZiBQREZWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHguYmVmb3JlUmVuZGVyKG91dCk7XG4gICAgICAgICAgICAgICAgeC5yZW5kZXIob3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXkoeCkpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJBcnJheSh4LCBvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEYXRlKHgpKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyRGF0ZSh4LCBvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHggPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTih4KSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3Qgb3V0cHV0IE5hTiB0byBQREZcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBpdCBkb2Vzbid0IGVuZCB1cCBpbiBleHBvbmVudCBub3RhdGlvblxuICAgICAgICAgICAgICAgIHZhciBudW0gPSB4LnRvRml4ZWQoNyk7XG4gICAgICAgICAgICAgICAgaWYgKG51bS5pbmRleE9mKFwiLlwiKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bSA9IG51bS5yZXBsYWNlKC9cXC4/MCskLywgXCJcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChudW0gPT0gXCItMFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bSA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXRwdXQud3JpdGVTdHJpbmcobnVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9zdHJpbmd8Ym9vbGVhbi8udGVzdCh0eXBlb2YgeCkpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQud3JpdGVTdHJpbmcoU3RyaW5nKHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4LmdldCA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQud3JpdGUoeC5nZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgeCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF4KSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC53cml0ZVN0cmluZyhcIm51bGxcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0KG5ldyBQREZEaWN0aW9uYXJ5KHgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3V0LndyaXRlRGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgb3V0cHV0LndyaXRlKGRhdGEpO1xuICAgIH07XG4gICAgb3V0LndpdGhJbmRlbnQgPSBmdW5jdGlvbihmKSB7XG4gICAgICAgICsraW5kZW50TGV2ZWw7XG4gICAgICAgIGYob3V0KTtcbiAgICAgICAgLS1pbmRlbnRMZXZlbDtcbiAgICB9O1xuICAgIG91dC5pbmRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb3V0KE5MLCBwYWQoXCJcIiwgaW5kZW50TGV2ZWwgKiAyLCBcIiAgXCIpKTtcbiAgICAgICAgb3V0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBvdXQub2Zmc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXQub2Zmc2V0KCk7XG4gICAgfTtcbiAgICBvdXQudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRklYIENBTExFUlwiKTtcbiAgICB9O1xuICAgIG91dC5nZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG91dHB1dC5nZXQoKTtcbiAgICB9O1xuICAgIG91dC5zdHJlYW0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHdyYXBPYmplY3QodmFsdWUsIGlkKSB7XG4gICAgdmFyIGJlZm9yZVJlbmRlciA9IHZhbHVlLmJlZm9yZVJlbmRlcjtcbiAgICB2YXIgcmVuZGVyVmFsdWUgPSB2YWx1ZS5yZW5kZXI7XG5cbiAgICB2YWx1ZS5iZWZvcmVSZW5kZXIgPSBmdW5jdGlvbigpe307XG5cbiAgICB2YWx1ZS5yZW5kZXIgPSBmdW5jdGlvbihvdXQpIHtcbiAgICAgICAgb3V0KGlkLCBcIiAwIFJcIik7XG4gICAgfTtcblxuICAgIHZhbHVlLnJlbmRlckZ1bGwgPSBmdW5jdGlvbihvdXQpIHtcbiAgICAgICAgdmFsdWUuX29mZnNldCA9IG91dC5vZmZzZXQoKTtcbiAgICAgICAgb3V0KGlkLCBcIiAwIG9iaiBcIik7XG4gICAgICAgIGJlZm9yZVJlbmRlci5jYWxsKHZhbHVlLCBvdXQpO1xuICAgICAgICByZW5kZXJWYWx1ZS5jYWxsKHZhbHVlLCBvdXQpO1xuICAgICAgICBvdXQoXCIgZW5kb2JqXCIpO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcGVyT3B0aW9ucyhnZXRPcHRpb24pIHtcbiAgICBpZiAodHlwZW9mIGdldE9wdGlvbiAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb247XG4gICAgICAgIGdldE9wdGlvbiA9IGZ1bmN0aW9uKGtleSwgZGVmKSB7XG4gICAgICAgICAgICByZXR1cm4ga2V5IGluIG9wdGlvbnMgPyBvcHRpb25zW2tleV0gOiBkZWY7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBwYXBlclNpemUgPSBnZXRPcHRpb24oXCJwYXBlclNpemVcIiwgUEFQRVJfU0laRS5hNCk7XG4gICAgaWYgKCFwYXBlclNpemUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhcGVyU2l6ZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHBhcGVyU2l6ZSA9IFBBUEVSX1NJWkVbcGFwZXJTaXplLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAocGFwZXJTaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gcGFwZXIgc2l6ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcGVyU2l6ZVswXSA9IHVuaXRzVG9Qb2ludHMocGFwZXJTaXplWzBdKTtcbiAgICBwYXBlclNpemVbMV0gPSB1bml0c1RvUG9pbnRzKHBhcGVyU2l6ZVsxXSk7XG5cbiAgICBpZiAoZ2V0T3B0aW9uKFwibGFuZHNjYXBlXCIsIGZhbHNlKSkge1xuICAgICAgICBwYXBlclNpemUgPSBbXG4gICAgICAgICAgICBNYXRoLm1heChwYXBlclNpemVbMF0sIHBhcGVyU2l6ZVsxXSksXG4gICAgICAgICAgICBNYXRoLm1pbihwYXBlclNpemVbMF0sIHBhcGVyU2l6ZVsxXSlcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICB2YXIgbWFyZ2luID0gZ2V0T3B0aW9uKFwibWFyZ2luXCIpO1xuICAgIGlmIChtYXJnaW4pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtYXJnaW4gPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWFyZ2luID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIG1hcmdpbiA9IHVuaXRzVG9Qb2ludHMobWFyZ2luLCAwKTtcbiAgICAgICAgICAgIG1hcmdpbiA9IHsgbGVmdDogbWFyZ2luLCB0b3A6IG1hcmdpbiwgcmlnaHQ6IG1hcmdpbiwgYm90dG9tOiBtYXJnaW4gfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmdpbiA9IHtcbiAgICAgICAgICAgICAgICBsZWZ0ICAgOiB1bml0c1RvUG9pbnRzKG1hcmdpbi5sZWZ0LCAwKSxcbiAgICAgICAgICAgICAgICB0b3AgICAgOiB1bml0c1RvUG9pbnRzKG1hcmdpbi50b3AsIDApLFxuICAgICAgICAgICAgICAgIHJpZ2h0ICA6IHVuaXRzVG9Qb2ludHMobWFyZ2luLnJpZ2h0LCAwKSxcbiAgICAgICAgICAgICAgICBib3R0b20gOiB1bml0c1RvUG9pbnRzKG1hcmdpbi5ib3R0b20sIDApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRPcHRpb24oXCJhZGRNYXJnaW5cIikpIHtcbiAgICAgICAgICAgIHBhcGVyU2l6ZVswXSArPSBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodDtcbiAgICAgICAgICAgIHBhcGVyU2l6ZVsxXSArPSBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBwYXBlclNpemU6IHBhcGVyU2l6ZSwgbWFyZ2luOiBtYXJnaW4gfTtcbn1cblxudmFyIEZPTlRfQ0FDSEUgPSB7XG4gICAgXCJUaW1lcy1Sb21hblwiICAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1Cb2xkXCIgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1JdGFsaWNcIiAgICAgICAgICA6IHRydWUsXG4gICAgXCJUaW1lcy1Cb2xkSXRhbGljXCIgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2FcIiAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtQm9sZFwiICAgICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtT2JsaXF1ZVwiICAgICA6IHRydWUsXG4gICAgXCJIZWx2ZXRpY2EtQm9sZE9ibGlxdWVcIiA6IHRydWUsXG4gICAgXCJDb3VyaWVyXCIgICAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLUJvbGRcIiAgICAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLU9ibGlxdWVcIiAgICAgICA6IHRydWUsXG4gICAgXCJDb3VyaWVyLUJvbGRPYmxpcXVlXCIgICA6IHRydWUsXG4gICAgXCJTeW1ib2xcIiAgICAgICAgICAgICAgICA6IHRydWUsXG4gICAgXCJaYXBmRGluZ2JhdHNcIiAgICAgICAgICA6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGxvYWRCaW5hcnkodXJsLCBjb250KSB7XG4gICAgLy8gSUUgdGhyb3dzIEFjY2Vzc3MgZGVuaWVkIGVycm9yIGZvciBEYXRhIFVSSXNcbiAgICBsZXQgbTtcbiAgICBpZiAoYnJvd3Nlci5tc2llICYmIChtID0gL15kYXRhOi4qPztiYXNlNjQsL2kuZXhlYyh1cmwpKSkge1xuICAgICAgICBjb250KGJhc2U2NFRvVWludDhBcnJheSh1cmwuc3Vic3RyKG1bMF0ubGVuZ3RoKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgbG9hZCBVUkw6ICVzXCIsIHVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhcIkNhbm5vdCBsb2FkIFVSTDogJXNcIiwgdXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb250KG51bGwpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gICAgaWYgKEhBU19UWVBFRF9BUlJBWVMpIHtcbiAgICAgICAgcmVxLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgICB9XG4gICAgcmVxLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDAgfHwgcmVxLnN0YXR1cyA9PSAzMDQpIHtcbiAgICAgICAgICAgIGlmIChIQVNfVFlQRURfQVJSQVlTKSB7XG4gICAgICAgICAgICAgICAgY29udChuZXcgVWludDhBcnJheShyZXEucmVzcG9uc2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udChuZXcgd2luZG93LlZCQXJyYXkocmVxLnJlc3BvbnNlQm9keSkudG9BcnJheSgpKTsgLy8gSUU5IG9ubHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJlcS5vbmVycm9yID0gZXJyb3I7XG4gICAgcmVxLnNlbmQobnVsbCk7XG59XG5cbmZ1bmN0aW9uIGxvYWRGb250KHVybCwgY29udCkge1xuICAgIHZhciBmb250ID0gRk9OVF9DQUNIRVt1cmxdO1xuICAgIGlmIChmb250KSB7XG4gICAgICAgIGNvbnQoZm9udCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9hZEJpbmFyeSh1cmwsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBsb2FkIGZvbnQgZnJvbSBcIiArIHVybCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBmb250ID0gbmV3IFRURkZvbnQoZGF0YSk7XG4gICAgICAgICAgICAgICAgRk9OVF9DQUNIRVt1cmxdID0gZm9udDtcbiAgICAgICAgICAgICAgICBjb250KGZvbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbnZhciBJTUFHRV9DQUNIRSA9IHt9O1xuXG5mdW5jdGlvbiBjbGVhckltYWdlQ2FjaGUoKSB7XG4gICAgSU1BR0VfQ0FDSEUgPSB7fTtcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlKHVybCwgc2l6ZSwgY29udCwgb3B0aW9ucykge1xuICAgIHZhciBpbWcgPSBJTUFHRV9DQUNIRVt1cmxdLCBibG9idXJsLCBibG9iO1xuICAgIGlmIChpbWcpIHtcbiAgICAgICAgY29udChpbWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpZiAoISgvXmRhdGE6L2kudGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSEFTX1RZUEVEX0FSUkFZUyAmJiAhKC9eZGF0YTovaS50ZXN0KHVybCkpKSB7XG4gICAgICAgICAgICAvLyBJRTEwIGZhaWxzIHRvIGxvYWQgaW1hZ2VzIGZyb20gYW5vdGhlciBkb21haW4gZXZlbiB3aGVuIHRoZSBzZXJ2ZXIgc2VuZHMgdGhlXG4gICAgICAgICAgICAvLyBwcm9wZXIgQ09SUyBoZWFkZXJzLiAgYSBYSFIsIGhvd2V2ZXIsIHdpbGwgYmUgYWJsZSB0byBsb2FkIHRoZSBkYXRhLlxuICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk3MzQ1MTYvMTU0OTg1XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gT24gdGhlIG90aGVyIGhhbmQsIGl0J3Mgd29ydGggZG9pbmcgaXQgdGhpcyB3YXkgZm9yIGFsbCBicm93c2VycyB3aGljaCBzdXBwb3J0XG4gICAgICAgICAgICAvLyByZXNwb25zZVR5cGUgPSBcImJsb2JcIiAoSEFTX1RZUEVEX0FSUkFZUyB3aWxsIGJlIHRydWUpLCBiZWNhdXNlIHdlIGNhbiBpbnNwZWN0IHRoZVxuICAgICAgICAgICAgLy8gbWltZSB0eXBlIGFuZCBpZiBpdCdzIGEgSlBFRyAodmVyeSBjb21tb24gY2FzZSkgd2UgY2FuIHNhdmUgYSBsb3Qgb2YgdGltZSBpblxuICAgICAgICAgICAgLy8gX2xvYWQgYmVsb3cuXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgYmxvYiA9IHhoci5yZXNwb25zZTtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5tb3ppbGxhICYmIGJsb2IudHlwZSA9PSBcImltYWdlL3N2Zyt4bWxcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IHdvbid0IHJlbmRlciBTVkdzIHRoYXQgZG9uJ3QgY29udGFpbiB3aWR0aCBhbmQgaGVpZ2h0IGF0dHJpYnV0ZXMuXG4gICAgICAgICAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG9jID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGhpcy5yZXN1bHQsIFwiaW1hZ2Uvc3ZnK3htbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdmcgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN2Zy5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSAmJiBzdmcuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgZ29vZCwgY29udGludWUgd2l0aCB0aGUgZXhpc3RpbmcgYmxvYi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9idXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZChibG9idXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHNpemUud2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4bWwgPSBuZXcgd2luZG93LlhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhzdmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhVVJMID0gYGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJHtlbmNvZGVCYXNlNjQoeG1sKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkKGRhdGFVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBibG9idXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgX2xvYWQoYmxvYnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5vbmVycm9yID0gX29uZXJyb3I7XG4gICAgICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xuICAgICAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9sb2FkKHVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbG9hZCh1cmwpIHtcbiAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgaWYgKGltZy5jb21wbGV0ZSAmJiAhYnJvd3Nlci5tc2llKSB7XG4gICAgICAgICAgICAvLyBJRSwgYmxlc3MgaXRzIGxpdHRsZSBoZWFydCwgc2F5cyBpbWcuY29tcGxldGUgPT0gdHJ1ZSBldmVuIHRob3VnaCB0aGUgaW1hZ2UgaXNcbiAgICAgICAgICAgIC8vIG5vdCBsb2FkZWQgKHdpZHRoPTApLCB0aGVyZWZvcmUgd2UgbXVzdCBnbyB0aGUgb25sb2FkIHJvdXRlICh0aWNrZXQgOTI5NjM1KS5cbiAgICAgICAgICAgIF9vbmxvYWQuY2FsbChpbWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IF9vbmxvYWQ7XG4gICAgICAgICAgICBpbWcub25lcnJvciA9IF9vbmVycm9yO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3RyeWNhbnZhcygpIHtcbiAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0geyB3aWR0aDogaW1nLndpZHRoLCBoZWlnaHQ6IGltZy5oZWlnaHQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICBjYW52YXMud2lkdGggPSBzaXplLndpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG5cbiAgICAgICAgdmFyIGltZ2RhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbWdkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzaXplLndpZHRoLCBzaXplLmhlaWdodCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAvLyBpdCB0YWludGVkIHRoZSBjYW52YXMgLS0gY2FuJ3QgZHJhdyBpdC5cbiAgICAgICAgICAgIF9vbmVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpZiAoYmxvYnVybCkge1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwoYmxvYnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbiBjYXNlIGl0IGNvbnRhaW5zIHRyYW5zcGFyZW5jeSwgd2UgbXVzdCBzZXBhcmF0ZSByZ2IgZGF0YSBmcm9tIHRoZSBhbHBoYVxuICAgICAgICAvLyBjaGFubmVsIGFuZCBjcmVhdGUgYSBQREZSYXdJbWFnZSBpbWFnZSB3aXRoIG9wYWNpdHkuICBvdGhlcndpc2Ugd2UgY2FuIHVzZSBhXG4gICAgICAgIC8vIFBERkpwZWdJbWFnZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gdG8gZG8gdGhpcyBpbiBvbmUgc3RlcCwgd2UgY3JlYXRlIHRoZSByZ2IgYW5kIGFscGhhIHN0cmVhbXMgYW55d2F5LCBldmVuIGlmXG4gICAgICAgIC8vIHdlIG1pZ2h0IGVuZCB1cCBub3QgdXNpbmcgdGhlbSBpZiBoYXNBbHBoYSByZW1haW5zIGZhbHNlLlxuXG4gICAgICAgIHZhciBoYXNBbHBoYSA9IGZhbHNlLCByZ2IgPSBCaW5hcnlTdHJlYW0oKSwgYWxwaGEgPSBCaW5hcnlTdHJlYW0oKTtcbiAgICAgICAgdmFyIHJhd2J5dGVzID0gaW1nZGF0YS5kYXRhO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmF3Ynl0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZ2Iud3JpdGVCeXRlKHJhd2J5dGVzW2krK10pO1xuICAgICAgICAgICAgcmdiLndyaXRlQnl0ZShyYXdieXRlc1tpKytdKTtcbiAgICAgICAgICAgIHJnYi53cml0ZUJ5dGUocmF3Ynl0ZXNbaSsrXSk7XG4gICAgICAgICAgICB2YXIgYSA9IHJhd2J5dGVzW2krK107XG4gICAgICAgICAgICBpZiAoYSA8IDI1NSkge1xuICAgICAgICAgICAgICAgIGhhc0FscGhhID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFscGhhLndyaXRlQnl0ZShhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNBbHBoYSB8fCBvcHRpb25zLmtlZXBQTkcpIHtcbiAgICAgICAgICAgIGltZyA9IG5ldyBQREZSYXdJbWFnZShzaXplLndpZHRoLCBzaXplLmhlaWdodCwgcmdiLCBhbHBoYSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBubyB0cmFuc3BhcmVuY3ksIGVuY29kZSBhcyBKUEVHLlxuICAgICAgICAgICAgdmFyIGRhdGEgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiLCBvcHRpb25zLmpwZWdRdWFsaXR5KTtcbiAgICAgICAgICAgIGRhdGEgPSBkYXRhLnN1YnN0cihkYXRhLmluZGV4T2YoXCI7YmFzZTY0LFwiKSArIDgpO1xuXG4gICAgICAgICAgICB2YXIgc3RyZWFtID0gQmluYXJ5U3RyZWFtKCk7XG4gICAgICAgICAgICBzdHJlYW0ud3JpdGVCYXNlNjQoZGF0YSk7XG4gICAgICAgICAgICBpbWcgPSBuZXcgUERGSnBlZ0ltYWdlKHN0cmVhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250KElNQUdFX0NBQ0hFW3VybF0gPSBpbWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vbmVycm9yKCkge1xuICAgICAgICBjb250KElNQUdFX0NBQ0hFW3VybF0gPSBcIkVSUk9SXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vbmxvYWQoKSB7XG4gICAgICAgIGlmIChzaXplKSB7XG4gICAgICAgICAgICBjb25zdCBzdmcgPSAoYmxvYiAmJiBibG9iLnR5cGUgPT09ICdpbWFnZS9zdmcreG1sJykgfHwgKFxuICAgICAgICAgICAgICAvXmRhdGE6aW1hZ2VcXC9zdmdcXCt4bWw7L2kudGVzdCh0aGlzLnNyYy5zdWJzdHJpbmcoMCwgMTkpKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgdXBzY2FsZSA9IHNpemUud2lkdGggPj0gaW1nLndpZHRoIHx8IHNpemUuaGVpZ2h0ID49IGltZy5oZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIFVzZSB0aGUgb3JpZ2luYWwgaW1hZ2UgaWYgcmVxdWVzdGVkIHNpemUgaXMgYmlnZ2VyIHRoYW4gdGhlIHNvdXJjZSxcbiAgICAgICAgICAgIC8vIHVubGVzcyBpdCdzIGFuIFNWRyB0aGF0IGNhbiBiZSB1cHNjYWxlZC5cbiAgICAgICAgICAgIGlmICghc3ZnICYmIHVwc2NhbGUpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNpemUgJiYgYmxvYiAmJiAvXmltYWdlXFwvanBlP2ckL2kudGVzdChibG9iLnR5cGUpKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBrbm93IHdlIGdvdCBhIEpQRUcsIHdlIGNhbiBza2lwIHRoZSBwcm9jZXNzIG9mIHJlbmRlcmluZyBpdCB0byBhXG4gICAgICAgICAgICAvLyBjYW52YXMsIGdldHRpbmcgdGhlIHBpeGVsIGRhdGEsIHNlYXJjaGluZyBmb3IgdHJhbnNwYXJlbmN5IHdlIGtub3cgd2Ugd29uJ3RcbiAgICAgICAgICAgIC8vIGZpbmQsIGdldHRpbmcgYmFjayBhIGRhdGEgVVJJIGFuZCB0aGVuIGRlY29kaW5nIHRoZSBCQVNFNjQgdG8gZmluYWxseSBnZXQgdGhlXG4gICAgICAgICAgICAvLyBiaW5hcnkgd2UgYWxyZWFkeSBoYXZlLiAgQWxzbywgd2UgYXZvaWQgZG93bmdyYWRpbmcgdGhlIGltYWdlIHF1YWxpdHksIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSBwb3NzaWJsZSBkcmF3YmFjayBvZiBtYWtpbmcgYSBiaWdnZXIgUERGOyBzdGlsbCwgc2VlbXMgbGVnaXQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQmVzaWRlcyBzYXZpbmcgYSBsb3Qgb2Ygd29yaywgdGhpcyBhbHNvIHJldXNlcyB0aGUgYnVmZmVyIG1lbW9yeVxuICAgICAgICAgICAgLy8gKEJpbmFyeVN0cmVhbSBkb2VzIG5vdCBjcmVhdGUgYSBjb3B5KSwgcG90ZW50aWFsbHkgc2F2aW5nIHNvbWUgR0MgY3ljbGVzLlxuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IG5ldyBQREZKcGVnSW1hZ2UoQmluYXJ5U3RyZWFtKG5ldyBVaW50OEFycmF5KHRoaXMucmVzdWx0KSkpO1xuICAgICAgICAgICAgICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGJsb2J1cmwpO1xuICAgICAgICAgICAgICAgICAgICBjb250KElNQUdFX0NBQ0hFW3VybF0gPSBpbWcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYW4gZXJyb3IgcGFyc2luZyB0aGUgSlBFRyBzdHJlYW0sIGl0IGNvdWxkIGJlIGR1ZSB0byBhXG4gICAgICAgICAgICAgICAgICAgIC8vIG1pc2NvbmZpZ3VyZWQgc2VydmVyIChpbXByb3BlciBjb250ZW50LXR5cGU6XG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzQxODQpLiAgSWYgdGhhdCdzIHRoZSBjYXNlLFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY2FudmFzIHdpbGwgc3RpbGwgYmUgYWJsZSB0byBkcmF3IGl0LlxuICAgICAgICAgICAgICAgICAgICBfdHJ5Y2FudmFzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90cnljYW52YXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFueUxvYWRlcihsb2FkT25lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHVybHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBuID0gdXJscy5sZW5ndGgsIGkgPSBuO1xuICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIGlmICgtLW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgICAgICBsb2FkT25lKHVybHNbaV0sIG5leHQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxudmFyIGxvYWRGb250cyA9IG1hbnlMb2FkZXIobG9hZEZvbnQpO1xudmFyIGxvYWRJbWFnZXMgPSBmdW5jdGlvbihpbWFnZXMsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBqcGVnUXVhbGl0eSA6IDAuOTIsXG4gICAgICAgIGtlZXBQTkcgICAgIDogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcbiAgICB2YXIgdXJscyA9IE9iamVjdC5rZXlzKGltYWdlcyksIG4gPSB1cmxzLmxlbmd0aDtcbiAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKC0tbiA9PT0gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cmxzLmZvckVhY2goZnVuY3Rpb24odXJsKXtcbiAgICAgICAgbG9hZEltYWdlKHVybCwgaW1hZ2VzW3VybF0sIG5leHQsIG9wdGlvbnMpO1xuICAgIH0pO1xufTtcblxuY2xhc3MgUERGRG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIG91dCA9IG1ha2VPdXRwdXQoKTtcbiAgICAgICAgdmFyIG9iamNvdW50ID0gMDtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBbXTtcblxuICAgICAgICBmdW5jdGlvbiBnZXRPcHRpb24obmFtZSwgZGVmdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMgJiYgb3B0aW9uc1tuYW1lXSAhPSBudWxsKSA/IG9wdGlvbnNbbmFtZV0gOiBkZWZ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmdldE9wdGlvbiA9IGdldE9wdGlvbjtcblxuICAgICAgICBzZWxmLmF0dGFjaCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAob2JqZWN0cy5pbmRleE9mKHZhbHVlKSA8IDApIHtcbiAgICAgICAgICAgICAgICB3cmFwT2JqZWN0KHZhbHVlLCArK29iamNvdW50KTtcbiAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYucGFnZXMgPSBbXTtcblxuICAgICAgICBzZWxmLkZPTlRTID0ge307XG4gICAgICAgIHNlbGYuSU1BR0VTID0ge307XG4gICAgICAgIHNlbGYuR1JBRF9DT0xfRlVOQ1RJT05TID0ge307IC8vIGNhY2hlIGZvciBjb2xvciBncmFkaWVudCBmdW5jdGlvbnNcbiAgICAgICAgc2VsZi5HUkFEX09QQ19GVU5DVElPTlMgPSB7fTsgLy8gY2FjaGUgZm9yIG9wYWNpdHkgZ3JhZGllbnQgZnVuY3Rpb25zXG4gICAgICAgIHNlbGYuR1JBRF9DT0wgPSB7fTsgICAgIC8vIGNhY2hlIGZvciB3aG9sZSBjb2xvciBncmFkaWVudCBvYmplY3RzXG4gICAgICAgIHNlbGYuR1JBRF9PUEMgPSB7fTsgICAgIC8vIGNhY2hlIGZvciB3aG9sZSBvcGFjaXR5IGdyYWRpZW50IG9iamVjdHNcblxuICAgICAgICB2YXIgY2F0YWxvZyA9IHNlbGYuYXR0YWNoKG5ldyBQREZDYXRhbG9nKCkpO1xuICAgICAgICB2YXIgcGFnZVRyZWUgPSBzZWxmLmF0dGFjaChuZXcgUERGUGFnZVRyZWUoKSk7XG5cbiAgICAgICAgaWYgKGdldE9wdGlvbihcImF1dG9QcmludFwiKSkge1xuICAgICAgICAgICAgbGV0IG5hbWVUcmVlID0ge307XG4gICAgICAgICAgICBuYW1lVHJlZS5KYXZhU2NyaXB0ID0gbmV3IFBERkRpY3Rpb25hcnkoeyBOYW1lczogW1xuICAgICAgICAgICAgICAgIG5ldyBQREZTdHJpbmcoXCJKU1wiKSwgc2VsZi5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgICAgICAgICBTOiBfKFwiSmF2YVNjcmlwdFwiKSxcbiAgICAgICAgICAgICAgICAgICAgSlM6IG5ldyBQREZTdHJpbmcoXCJwcmludCh0cnVlKTtcIilcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIF0gfSk7XG4gICAgICAgICAgICBjYXRhbG9nLnByb3BzLk5hbWVzID0gbmV3IFBERkRpY3Rpb25hcnkobmFtZVRyZWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2F0YWxvZy5zZXRQYWdlcyhwYWdlVHJlZSk7XG5cbiAgICAgICAgdmFyIGluZm8gPSBzZWxmLmF0dGFjaChuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBQcm9kdWNlciAgICAgOiBuZXcgUERGU3RyaW5nKGdldE9wdGlvbihcInByb2R1Y2VyXCIsIFwiS2VuZG8gVUkgUERGIEdlbmVyYXRvclwiKSwgdHJ1ZSksIC8vIFhYWDoga2VuZG8udmVyc2lvbj9cbiAgICAgICAgICAgIFRpdGxlICAgICAgICA6IG5ldyBQREZTdHJpbmcoZ2V0T3B0aW9uKFwidGl0bGVcIiwgXCJcIiksIHRydWUpLFxuICAgICAgICAgICAgQXV0aG9yICAgICAgIDogbmV3IFBERlN0cmluZyhnZXRPcHRpb24oXCJhdXRob3JcIiwgXCJcIiksIHRydWUpLFxuICAgICAgICAgICAgU3ViamVjdCAgICAgIDogbmV3IFBERlN0cmluZyhnZXRPcHRpb24oXCJzdWJqZWN0XCIsIFwiXCIpLCB0cnVlKSxcbiAgICAgICAgICAgIEtleXdvcmRzICAgICA6IG5ldyBQREZTdHJpbmcoZ2V0T3B0aW9uKFwia2V5d29yZHNcIiwgXCJcIiksIHRydWUpLFxuICAgICAgICAgICAgQ3JlYXRvciAgICAgIDogbmV3IFBERlN0cmluZyhnZXRPcHRpb24oXCJjcmVhdG9yXCIsIFwiS2VuZG8gVUkgUERGIEdlbmVyYXRvclwiKSwgdHJ1ZSksXG4gICAgICAgICAgICBDcmVhdGlvbkRhdGUgOiBnZXRPcHRpb24oXCJkYXRlXCIsIG5ldyBEYXRlKCkpXG4gICAgICAgIH0pKTtcblxuICAgICAgICBzZWxmLmFkZFBhZ2UgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgcGFwZXJPcHRpb25zICA9IGdldFBhcGVyT3B0aW9ucyhmdW5jdGlvbihuYW1lLCBkZWZ2YWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiAob3B0aW9ucyAmJiBvcHRpb25zW25hbWVdICE9IG51bGwpID8gb3B0aW9uc1tuYW1lXSA6IGRlZnZhbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHBhcGVyU2l6ZSAgICAgPSBwYXBlck9wdGlvbnMucGFwZXJTaXplO1xuICAgICAgICAgICAgdmFyIG1hcmdpbiAgICAgICAgPSBwYXBlck9wdGlvbnMubWFyZ2luO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnRXaWR0aCAgPSBwYXBlclNpemVbMF07XG4gICAgICAgICAgICB2YXIgY29udGVudEhlaWdodCA9IHBhcGVyU2l6ZVsxXTtcbiAgICAgICAgICAgIGlmIChtYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGggLT0gbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgICAgICAgY29udGVudEhlaWdodCAtPSBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gbmV3IFBERlN0cmVhbShtYWtlT3V0cHV0KCksIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgICAgIENvbnRlbnRzIDogc2VsZi5hdHRhY2goY29udGVudCksXG4gICAgICAgICAgICAgICAgUGFyZW50ICAgOiBwYWdlVHJlZSxcbiAgICAgICAgICAgICAgICBNZWRpYUJveCA6IFsgMCwgMCwgcGFwZXJTaXplWzBdLCBwYXBlclNpemVbMV0gXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBwYWdlID0gbmV3IFBERlBhZ2Uoc2VsZiwgcHJvcHMpO1xuICAgICAgICAgICAgcGFnZS5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICBwYWdlVHJlZS5hZGRQYWdlKHNlbGYuYXR0YWNoKHBhZ2UpKTtcblxuICAgICAgICAgICAgLy8gY2FudmFzLWxpa2UgY29vcmQuIHN5c3RlbS4gICgwLDApIGlzIHVwcGVyLWxlZnQuXG4gICAgICAgICAgICAvLyB0ZXh0IG11c3QgYmUgdmVydGljYWxseSBtaXJvcnJlZCBiZWZvcmUgZHJhd2luZy5cbiAgICAgICAgICAgIHBhZ2UudHJhbnNmb3JtKDEsIDAsIDAsIC0xLCAwLCBwYXBlclNpemVbMV0pO1xuXG4gICAgICAgICAgICBpZiAobWFyZ2luKSB7XG4gICAgICAgICAgICAgICAgcGFnZS50cmFuc2xhdGUobWFyZ2luLmxlZnQsIG1hcmdpbi50b3ApO1xuICAgICAgICAgICAgICAgIC8vIFhYWDogY2xpcCB0byByaWdodC9ib3R0b20gbWFyZ2luLiAgTWFrZSB0aGlzIG9wdGlvbmFsP1xuICAgICAgICAgICAgICAgIHBhZ2UucmVjdCgwLCAwLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpO1xuICAgICAgICAgICAgICAgIHBhZ2UuY2xpcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWxmLnBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgICAgICByZXR1cm4gcGFnZTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAvLy8gZmlsZSBoZWFkZXJcbiAgICAgICAgICAgIG91dChcIiVQREYtMS40XCIsIE5MLCBcIiVcXHhjMlxceGMxXFx4ZGFcXHhjZlxceGNlXCIsIE5MLCBOTCk7XG5cbiAgICAgICAgICAgIC8vLyBmaWxlIGJvZHlcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0c1tpXS5yZW5kZXJGdWxsKG91dCk7XG4gICAgICAgICAgICAgICAgb3V0KE5MLCBOTCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vLyBjcm9zcy1yZWZlcmVuY2UgdGFibGVcbiAgICAgICAgICAgIHZhciB4cmVmT2Zmc2V0ID0gb3V0Lm9mZnNldCgpO1xuICAgICAgICAgICAgb3V0KFwieHJlZlwiLCBOTCwgMCwgXCIgXCIsIG9iamVjdHMubGVuZ3RoICsgMSwgTkwpO1xuICAgICAgICAgICAgb3V0KFwiMDAwMDAwMDAwMCA2NTUzNSBmIFwiLCBOTCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG91dCh6ZXJvcGFkKG9iamVjdHNbaV0uX29mZnNldCwgMTApLCBcIiAwMDAwMCBuIFwiLCBOTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQoTkwpO1xuXG4gICAgICAgICAgICAvLy8gdHJhaWxlclxuICAgICAgICAgICAgb3V0KFwidHJhaWxlclwiLCBOTCk7XG4gICAgICAgICAgICBvdXQobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgICAgIFNpemU6IG9iamVjdHMubGVuZ3RoICsgMSxcbiAgICAgICAgICAgICAgICBSb290OiBjYXRhbG9nLFxuICAgICAgICAgICAgICAgIEluZm86IGluZm9cbiAgICAgICAgICAgIH0pLCBOTCwgTkwpO1xuXG4gICAgICAgICAgICAvLy8gZW5kXG4gICAgICAgICAgICBvdXQoXCJzdGFydHhyZWZcIiwgTkwsIHhyZWZPZmZzZXQsIE5MKTtcbiAgICAgICAgICAgIG91dChcIiUlRU9GXCIsIE5MKTtcblxuICAgICAgICAgICAgcmV0dXJuIG91dC5zdHJlYW0oKS5vZmZzZXQoMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5sb2FkRm9udHMgPSBsb2FkRm9udHM7XG4gICAgICAgIHNlbGYubG9hZEltYWdlcyA9IGxvYWRJbWFnZXM7XG4gICAgfVxuXG4gICAgZ2V0Rm9udCh1cmwpIHtcbiAgICAgICAgdmFyIGZvbnQgPSB0aGlzLkZPTlRTW3VybF07XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgZm9udCA9IEZPTlRfQ0FDSEVbdXJsXTtcbiAgICAgICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvbnQgXCIgKyB1cmwgKyBcIiBoYXMgbm90IGJlZW4gbG9hZGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBmb250ID0gdGhpcy5hdHRhY2gobmV3IFBERlN0YW5kYXJkRm9udCh1cmwpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9udCA9IHRoaXMuYXR0YWNoKG5ldyBQREZGb250KHRoaXMsIGZvbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuRk9OVFNbdXJsXSA9IGZvbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfVxuXG4gICAgZ2V0SW1hZ2UodXJsKSB7XG4gICAgICAgIHZhciBpbWcgPSB0aGlzLklNQUdFU1t1cmxdO1xuICAgICAgICBpZiAoIWltZykge1xuICAgICAgICAgICAgaW1nID0gSU1BR0VfQ0FDSEVbdXJsXTtcbiAgICAgICAgICAgIGlmICghaW1nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW1hZ2UgXCIgKyB1cmwgKyBcIiBoYXMgbm90IGJlZW4gbG9hZGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltZyA9PT0gXCJFUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcgPSB0aGlzLklNQUdFU1t1cmxdID0gdGhpcy5hdHRhY2goaW1nLmFzU3RyZWFtKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1nO1xuICAgIH1cblxuICAgIGdldE9wYWNpdHlHUyhvcGFjaXR5LCBmb3JTdHJva2UpIHtcbiAgICAgICAgdmFyIGlkID0gcGFyc2VGbG9hdChvcGFjaXR5KS50b0ZpeGVkKDMpO1xuICAgICAgICBvcGFjaXR5ID0gcGFyc2VGbG9hdChpZCk7XG4gICAgICAgIGlkICs9IGZvclN0cm9rZSA/IFwiU1wiIDogXCJGXCI7XG4gICAgICAgIHZhciBjYWNoZSA9IHRoaXMuX29wYWNpdHlHU0NhY2hlIHx8ICh0aGlzLl9vcGFjaXR5R1NDYWNoZSA9IHt9KTtcbiAgICAgICAgdmFyIGdzID0gY2FjaGVbaWRdO1xuICAgICAgICBpZiAoIWdzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgVHlwZTogXyhcIkV4dEdTdGF0ZVwiKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb3JTdHJva2UpIHtcbiAgICAgICAgICAgICAgICBwcm9wcy5DQSA9IG9wYWNpdHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb3BzLmNhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdzID0gdGhpcy5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkocHJvcHMpKTtcbiAgICAgICAgICAgIGdzLl9yZXNvdXJjZU5hbWUgPSBfKFwiR1NcIiArICgrK1JFU09VUkNFX0NPVU5URVIpKTtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IGdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBncztcbiAgICB9XG5cbiAgICBkaWN0KHByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUERGRGljdGlvbmFyeShwcm9wcyk7XG4gICAgfVxuXG4gICAgbmFtZShzdHIpIHtcbiAgICAgICAgcmV0dXJuIF8oc3RyKTtcbiAgICB9XG5cbiAgICBzdHJlYW0ocHJvcHMsIGNvbnRlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZTdHJlYW0oY29udGVudCwgcHJvcHMpO1xuICAgIH1cbn1cblxuLyogLS0tLS1bIHV0aWxzIF0tLS0tLSAqL1xuXG5mdW5jdGlvbiBwYWQoc3RyLCBsZW4sIGNoKSB7XG4gICAgd2hpbGUgKHN0ci5sZW5ndGggPCBsZW4pIHtcbiAgICAgICAgc3RyID0gY2ggKyBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIHplcm9wYWQobiwgbGVuKSB7XG4gICAgcmV0dXJuIHBhZChTdHJpbmcobiksIGxlbiwgXCIwXCIpO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIGtleSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xufVxuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEFycmF5O1xufTtcblxuZnVuY3Rpb24gaXNEYXRlKG9iaikge1xuICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEYXRlO1xufVxuXG5mdW5jdGlvbiByZW5kZXJBcnJheShhLCBvdXQpIHtcbiAgICBvdXQoXCJbXCIpO1xuICAgIGlmIChhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb3V0LndpdGhJbmRlbnQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChpID4gMCAmJiBpICUgOCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQuaW5kZW50KGFbaV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dChcIiBcIiwgYVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy9vdXQuaW5kZW50KCk7XG4gICAgfVxuICAgIG91dChcIiBdXCIpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJEYXRlKGRhdGUsIG91dCkge1xuICAgIG91dChcIihEOlwiLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgNCksXG4gICAgICAgIHplcm9wYWQoZGF0ZS5nZXRVVENNb250aCgpICsgMSwgMiksXG4gICAgICAgIHplcm9wYWQoZGF0ZS5nZXRVVENEYXRlKCksIDIpLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDSG91cnMoKSwgMiksXG4gICAgICAgIHplcm9wYWQoZGF0ZS5nZXRVVENNaW51dGVzKCksIDIpLFxuICAgICAgICB6ZXJvcGFkKGRhdGUuZ2V0VVRDU2Vjb25kcygpLCAyKSxcbiAgICAgICAgXCJaKVwiKTtcbn1cblxuZnVuY3Rpb24gbW0ycHQobW0pIHtcbiAgICByZXR1cm4gbW0gKiAoNzIvMjUuNCk7XG59XG5cbmZ1bmN0aW9uIGNtMnB0KGNtKSB7XG4gICAgcmV0dXJuIG1tMnB0KGNtICogMTApO1xufVxuXG5mdW5jdGlvbiBpbjJwdChpbmNoKSAge1xuICAgIHJldHVybiBpbmNoICogNzI7XG59XG5cblxuZnVuY3Rpb24gdW5pdHNUb1BvaW50cyh4LCBkZWYpIHtcbiAgICBpZiAodHlwZW9mIHggPT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB4ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIG0gPSAvXlxccyooWzAtOS5dKylcXHMqKG1tfGNtfGlufHB0KVxccyokLy5leGVjKHgpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgdmFyIG51bSA9IHBhcnNlRmxvYXQobVsxXSk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobVsyXSA9PSBcInB0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgXCJtbVwiOiBtbTJwdCxcbiAgICAgICAgICAgICAgICAgICAgXCJjbVwiOiBjbTJwdCxcbiAgICAgICAgICAgICAgICAgICAgXCJpblwiOiBpbjJwdFxuICAgICAgICAgICAgICAgIH1bbVsyXV0obnVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGVmICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcGFyc2UgdW5pdDogXCIgKyB4KTtcbn1cblxuLyogLS0tLS1bIFBERiBiYXNpYyBvYmplY3RzIF0tLS0tLSAqL1xuXG5jbGFzcyBQREZWYWx1ZSB7XG4gICAgYmVmb3JlUmVuZGVyKCkge31cbn1cblxuY2xhc3MgUERGU3RyaW5nIGV4dGVuZHMgUERGVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCB1dGYxNmJlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51dGYxNmJlID0gQm9vbGVhbih1dGYxNmJlKTtcbiAgICB9XG5cbiAgICByZW5kZXIob3V0KSB7XG4gICAgICAgIGxldCB0eHQgPSB0aGlzLnZhbHVlO1xuICAgICAgICBpZiAodGhpcy51dGYxNmJlKSB7XG4gICAgICAgICAgICB0eHQgPSBCT00gKyBlbmNvZGVVVEYxNkJFKHR4dCk7XG4gICAgICAgICAgICB0eHQgPSB0eHQucmVwbGFjZSgvKFtcXChcXClcXFxcXSkvZywgXCJcXFxcJDFcIik7XG4gICAgICAgICAgICBvdXQoXCIoXCIsIHR4dCwgXCIpXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gb3V0LndyaXRlU3RyaW5nIHRydW5jYXRlcyBjaGFyY29kZXMgdG8gOCBiaXRzIGFuZFxuICAgICAgICAgICAgLy8gMHgxMjggJiAweEZGIGlzIDQwLCB0aGUgY29kZSBmb3Igb3BlbiBwYXJlbi5cbiAgICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIGRvIHRoZSBjaG9wcGluZyBoZXJlIHRvIG1ha2VcbiAgICAgICAgICAgIC8vIHN1cmUgd2UgYmFja3NsYXNoIGFsbCBjYXNlcy5cbiAgICAgICAgICAgIGxldCBkYXRhID0gWyA0MCBdOyAvLyBvcGVuIFBERiBzdHJpbmcgJygnXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR4dC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBjb2RlID0gdHh0LmNoYXJDb2RlQXQoaSkgJiAweEZGO1xuICAgICAgICAgICAgICAgIGlmIChjb2RlID09IDQwIHx8IGNvZGUgPT0gNDEgfHwgY29kZSA9PSA5Mikge1xuICAgICAgICAgICAgICAgICAgICAvLyBiYWNrc2xhc2ggYmVmb3JlICgsICkgYW5kIFxcXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucHVzaCg5Mik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRhdGEucHVzaChjb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEucHVzaCg0MSk7ICAvLyAnKScgY2xvc2UgUERGIHN0cmluZ1xuICAgICAgICAgICAgb3V0LndyaXRlRGF0YShkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9XG59XG5cbmNsYXNzIFBERkhleFN0cmluZyBleHRlbmRzIFBERlN0cmluZyB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgc3VwZXIodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKG91dCkge1xuICAgICAgICBvdXQoXCI8XCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudmFsdWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG91dCh6ZXJvcGFkKHRoaXMudmFsdWUuY2hhckNvZGVBdChpKS50b1N0cmluZygxNiksIDQpKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQoXCI+XCIpO1xuICAgIH1cbn1cblxuLy8vIG5hbWVzXG5jbGFzcyBQREZOYW1lIGV4dGVuZHMgUERGVmFsdWUge1xuICAgIHN0YXRpYyBnZXQobmFtZSkge1xuICAgICAgICByZXR1cm4gXyhuYW1lKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuXG4gICAgcmVuZGVyKG91dCkge1xuICAgICAgICBvdXQoXCIvXCIgKyB0aGlzLmVzY2FwZSgpKTtcbiAgICB9XG5cbiAgICBlc2NhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWUucmVwbGFjZSgvW15cXHgyMS1cXHg3RV0vZywgZnVuY3Rpb24oYyl7XG4gICAgICAgICAgICByZXR1cm4gXCIjXCIgKyB6ZXJvcGFkKGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNiksIDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF8obmFtZSkge1xuICAgIHJldHVybiBuZXcgUERGTmFtZShuYW1lKTtcbn1cblxuLy8vIGRpY3Rpb25hcnlcblxuY2xhc3MgUERGRGljdGlvbmFyeSBleHRlbmRzIFBERlZhbHVlIHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgcmVuZGVyKG91dCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzLCBlbXB0eSA9IHRydWU7XG4gICAgICAgIG91dChcIjw8XCIpO1xuICAgICAgICBvdXQud2l0aEluZGVudChmdW5jdGlvbigpe1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShwcm9wcywgaSkgJiYgIS9eXy8udGVzdChpKSkge1xuICAgICAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvdXQuaW5kZW50KF8oaSksIFwiIFwiLCBwcm9wc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFlbXB0eSkge1xuICAgICAgICAgICAgb3V0LmluZGVudCgpO1xuICAgICAgICB9XG4gICAgICAgIG91dChcIj4+XCIpO1xuICAgIH1cbn1cblxuLy8vIHN0cmVhbXNcblxuY2xhc3MgUERGU3RyZWFtIGV4dGVuZHMgUERGVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHByb3BzLCBjb21wcmVzcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdmFyIHRtcCA9IEJpbmFyeVN0cmVhbSgpO1xuICAgICAgICAgICAgdG1wLndyaXRlKGRhdGEpO1xuICAgICAgICAgICAgZGF0YSA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHMgfHwge307XG4gICAgICAgIHRoaXMuY29tcHJlc3MgPSBjb21wcmVzcztcbiAgICB9XG5cbiAgICByZW5kZXIob3V0KSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhLmdldCgpLCBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzICYmIHN1cHBvcnRzRGVmbGF0ZSgpKSB7XG4gICAgICAgICAgICBpZiAoIXByb3BzLkZpbHRlcikge1xuICAgICAgICAgICAgICAgIHByb3BzLkZpbHRlciA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKHByb3BzLkZpbHRlciBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHByb3BzLkZpbHRlciA9IFsgcHJvcHMuRmlsdGVyIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wcy5GaWx0ZXIudW5zaGlmdChfKFwiRmxhdGVEZWNvZGVcIikpO1xuICAgICAgICAgICAgZGF0YSA9IGRlZmxhdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuTGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIG91dChuZXcgUERGRGljdGlvbmFyeShwcm9wcyksIFwiIHN0cmVhbVwiLCBOTCk7XG4gICAgICAgIG91dC53cml0ZURhdGEoZGF0YSk7XG4gICAgICAgIG91dChOTCwgXCJlbmRzdHJlYW1cIik7XG4gICAgfVxufVxuXG4vLy8gY2F0YWxvZ1xuXG5jbGFzcyBQREZDYXRhbG9nIGV4dGVuZHMgUERGRGljdGlvbmFyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIFR5cGU6IF8oXCJDYXRhbG9nXCIpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFBhZ2VzKHBhZ2VzT2JqKSB7XG4gICAgICAgIHRoaXMucHJvcHMuUGFnZXMgPSBwYWdlc09iajtcbiAgICB9XG59XG5cbi8vLyBwYWdlIHRyZWVcblxuY2xhc3MgUERGUGFnZVRyZWUgZXh0ZW5kcyBQREZEaWN0aW9uYXJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgVHlwZSAgOiBfKFwiUGFnZXNcIiksXG4gICAgICAgICAgICBLaWRzICA6IFtdLFxuICAgICAgICAgICAgQ291bnQgOiAwXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZFBhZ2UocGFnZU9iaikge1xuICAgICAgICB0aGlzLnByb3BzLktpZHMucHVzaChwYWdlT2JqKTtcbiAgICAgICAgdGhpcy5wcm9wcy5Db3VudCsrO1xuICAgIH1cbn1cblxuLy8vIGltYWdlc1xuXG4vLyBKUEVHXG5cbnZhciBTT0ZfQ09ERVMgPSBbMHhjMCwgMHhjMSwgMHhjMiwgMHhjMywgMHhjNSwgMHhjNiwgMHhjNywgMHhjOSwgMHhjYSwgMHhjYiwgMHhjZCwgMHhjZSwgMHhjZl07XG5cbmNsYXNzIFBERkpwZWdJbWFnZSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgICAgICAvLyB3ZSBtdXN0IGRldGVybWluZSB0aGUgY29ycmVjdCBjb2xvciBzcGFjZS4gIHdlJ2xsIHBhcnNlIGEgYml0XG4gICAgICAgIC8vIG9mIHRoZSBKUEVHIHN0cmVhbSBmb3IgdGhpcywgaXQncyBzdGlsbCBiZXR0ZXIgdGhhbiBnb2luZ1xuICAgICAgICAvLyB0aHJvdWdoIHRoZSBjYW52YXMuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzI4NDVcbiAgICAgICAgZGF0YS5vZmZzZXQoMCk7XG4gICAgICAgIHZhciB3aWR0aCwgaGVpZ2h0LCBjb2xvclNwYWNlLCBiaXRzUGVyQ29tcG9uZW50O1xuICAgICAgICB2YXIgc29pID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgaWYgKHNvaSAhPSAweEZGRDgpIHtcbiAgICAgICAgICAgIC8vIFhYWDogZG8gd2UgaGF2ZSBzb21lIGJldHRlciBvcHRpb25zIGhlcmU/XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEpQRUcgaW1hZ2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKCFkYXRhLmVvZigpKSB7XG4gICAgICAgICAgICB2YXIgZmYgPSBkYXRhLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICBpZiAoZmYgIT0gMHhGRikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSlBFRyBpbWFnZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBkYXRhLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgIGlmIChTT0ZfQ09ERVMuaW5kZXhPZihtYXJrZXIpID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBcInN0YXJ0IG9mIGZyYW1lXCIgbWFya2VyXG4gICAgICAgICAgICAgICAgYml0c1BlckNvbXBvbmVudCA9IGRhdGEucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBkYXRhLnJlYWRTaG9ydCgpO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gZGF0YS5yZWFkU2hvcnQoKTtcbiAgICAgICAgICAgICAgICBjb2xvclNwYWNlID0gZGF0YS5yZWFkQnl0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5za2lwKGxlbmd0aCAtIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbG9yU3BhY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKUEVHIGltYWdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgICAgVHlwZSAgICAgICAgICAgICA6IF8oXCJYT2JqZWN0XCIpLFxuICAgICAgICAgICAgU3VidHlwZSAgICAgICAgICA6IF8oXCJJbWFnZVwiKSxcbiAgICAgICAgICAgIFdpZHRoICAgICAgICAgICAgOiB3aWR0aCxcbiAgICAgICAgICAgIEhlaWdodCAgICAgICAgICAgOiBoZWlnaHQsXG4gICAgICAgICAgICBCaXRzUGVyQ29tcG9uZW50IDogYml0c1BlckNvbXBvbmVudCxcbiAgICAgICAgICAgIEZpbHRlciAgICAgICAgICAgOiBfKFwiRENURGVjb2RlXCIpXG4gICAgICAgIH07XG5cbiAgICAgICAgc3dpdGNoIChjb2xvclNwYWNlKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHByb3BzLkNvbG9yU3BhY2UgPSBfKFwiRGV2aWNlR3JheVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBwcm9wcy5Db2xvclNwYWNlID0gXyhcIkRldmljZVJHQlwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBwcm9wcy5Db2xvclNwYWNlID0gXyhcIkRldmljZUNNWUtcIik7XG4gICAgICAgICAgICBwcm9wcy5EZWNvZGUgPSBbIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAgXTsgLy8gaW52ZXJ0IGNvbG9yc1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFzU3RyZWFtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkYXRhLm9mZnNldCgwKTtcbiAgICAgICAgICAgIHZhciBzdHJlYW0gPSBuZXcgUERGU3RyZWFtKGRhdGEsIHByb3BzKTtcbiAgICAgICAgICAgIHN0cmVhbS5fcmVzb3VyY2VOYW1lID0gXyhcIklcIiArICgrK1JFU09VUkNFX0NPVU5URVIpKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vLyBQREZSYXdJbWFnZSB3aWxsIGJlIHVzZWQgZm9yIGltYWdlcyB3aXRoIHRyYW5zcGFyZW5jeSAoUE5HKVxuXG5jbGFzcyBQREZSYXdJbWFnZSB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmdiLCBhbHBoYSkge1xuICAgICAgICB0aGlzLmFzU3RyZWFtID0gZnVuY3Rpb24ocGRmKSB7XG4gICAgICAgICAgICB2YXIgbWFzayA9IG5ldyBQREZTdHJlYW0oYWxwaGEsIHtcbiAgICAgICAgICAgICAgICBUeXBlICAgICAgICAgICAgIDogXyhcIlhPYmplY3RcIiksXG4gICAgICAgICAgICAgICAgU3VidHlwZSAgICAgICAgICA6IF8oXCJJbWFnZVwiKSxcbiAgICAgICAgICAgICAgICBXaWR0aCAgICAgICAgICAgIDogd2lkdGgsXG4gICAgICAgICAgICAgICAgSGVpZ2h0ICAgICAgICAgICA6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBCaXRzUGVyQ29tcG9uZW50IDogOCxcbiAgICAgICAgICAgICAgICBDb2xvclNwYWNlICAgICAgIDogXyhcIkRldmljZUdyYXlcIilcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgdmFyIHN0cmVhbSA9IG5ldyBQREZTdHJlYW0ocmdiLCB7XG4gICAgICAgICAgICAgICAgVHlwZSAgICAgICAgICAgICA6IF8oXCJYT2JqZWN0XCIpLFxuICAgICAgICAgICAgICAgIFN1YnR5cGUgICAgICAgICAgOiBfKFwiSW1hZ2VcIiksXG4gICAgICAgICAgICAgICAgV2lkdGggICAgICAgICAgICA6IHdpZHRoLFxuICAgICAgICAgICAgICAgIEhlaWdodCAgICAgICAgICAgOiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgQml0c1BlckNvbXBvbmVudCA6IDgsXG4gICAgICAgICAgICAgICAgQ29sb3JTcGFjZSAgICAgICA6IF8oXCJEZXZpY2VSR0JcIiksXG4gICAgICAgICAgICAgICAgU01hc2sgICAgICAgICAgICA6IHBkZi5hdHRhY2gobWFzaylcbiAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgc3RyZWFtLl9yZXNvdXJjZU5hbWUgPSBfKFwiSVwiICsgKCsrUkVTT1VSQ0VfQ09VTlRFUikpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8vLyBzdGFuZGFyZCBmb250c1xuXG5jbGFzcyBQREZTdGFuZGFyZEZvbnQgZXh0ZW5kcyBQREZEaWN0aW9uYXJ5IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKXtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgVHlwZSAgICAgOiBfKFwiRm9udFwiKSxcbiAgICAgICAgICAgIFN1YnR5cGUgIDogXyhcIlR5cGUxXCIpLFxuICAgICAgICAgICAgQmFzZUZvbnQgOiBfKG5hbWUpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX3Jlc291cmNlTmFtZSA9IF8oXCJGXCIgKyAoKytSRVNPVVJDRV9DT1VOVEVSKSk7XG4gICAgfVxuXG4gICAgZW5jb2RlVGV4dChzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQREZTdHJpbmcoU3RyaW5nKHN0cikpO1xuICAgIH1cbn1cblxuLy8vIFRURiBmb250c1xuXG5jbGFzcyBQREZGb250IGV4dGVuZHMgUERGRGljdGlvbmFyeSB7XG4gICAgY29uc3RydWN0b3IocGRmLCBmb250LCBwcm9wcyl7XG4gICAgICAgIHN1cGVyKHt9KTtcblxuICAgICAgICBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgIHByb3BzLlR5cGUgPSBfKFwiRm9udFwiKTtcbiAgICAgICAgcHJvcHMuU3VidHlwZSA9IF8oXCJUeXBlMFwiKTtcbiAgICAgICAgcHJvcHMuRW5jb2RpbmcgPSBfKFwiSWRlbnRpdHktSFwiKTtcblxuICAgICAgICB0aGlzLl9wZGYgPSBwZGY7XG4gICAgICAgIHRoaXMuX2ZvbnQgPSBmb250O1xuICAgICAgICB0aGlzLl9zdWIgPSBmb250Lm1ha2VTdWJzZXQoKTtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VOYW1lID0gXyhcIkZcIiArICgrK1JFU09VUkNFX0NPVU5URVIpKTtcblxuICAgICAgICB2YXIgaGVhZCA9IGZvbnQuaGVhZDtcblxuICAgICAgICB0aGlzLm5hbWUgPSBmb250LnBzTmFtZTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5zY2FsZSA9IGZvbnQuc2NhbGU7XG4gICAgICAgIHRoaXMuYmJveCA9IFtcbiAgICAgICAgICAgIGhlYWQueE1pbiAqIHNjYWxlLFxuICAgICAgICAgICAgaGVhZC55TWluICogc2NhbGUsXG4gICAgICAgICAgICBoZWFkLnhNYXggKiBzY2FsZSxcbiAgICAgICAgICAgIGhlYWQueU1heCAqIHNjYWxlXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pdGFsaWNBbmdsZSA9IGZvbnQucG9zdC5pdGFsaWNBbmdsZTtcbiAgICAgICAgdGhpcy5hc2NlbnQgPSBmb250LmFzY2VudCAqIHNjYWxlO1xuICAgICAgICB0aGlzLmRlc2NlbnQgPSBmb250LmRlc2NlbnQgKiBzY2FsZTtcbiAgICAgICAgdGhpcy5saW5lR2FwID0gZm9udC5saW5lR2FwICogc2NhbGU7XG4gICAgICAgIHRoaXMuY2FwSGVpZ2h0ID0gZm9udC5vczIuY2FwSGVpZ2h0IHx8IHRoaXMuYXNjZW50O1xuICAgICAgICB0aGlzLnhIZWlnaHQgPSBmb250Lm9zMi54SGVpZ2h0IHx8IDA7XG4gICAgICAgIHRoaXMuc3RlbVYgPSAwO1xuXG4gICAgICAgIHRoaXMuZmFtaWx5Q2xhc3MgPSAoZm9udC5vczIuZmFtaWx5Q2xhc3MgfHwgMCkgPj4gODtcbiAgICAgICAgdGhpcy5pc1NlcmlmID0gdGhpcy5mYW1pbHlDbGFzcyA+PSAxICYmIHRoaXMuZmFtaWx5Q2xhc3MgPD0gNztcbiAgICAgICAgdGhpcy5pc1NjcmlwdCA9IHRoaXMuZmFtaWx5Q2xhc3MgPT0gMTA7XG5cbiAgICAgICAgdGhpcy5mbGFncyA9ICgoZm9udC5wb3N0LmlzRml4ZWRQaXRjaCA/IDEgOiAwKSB8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmlzU2VyaWYgPyAxIDw8IDEgOiAwKSB8XG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmlzU2NyaXB0ID8gMSA8PCAzIDogMCkgfFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5pdGFsaWNBbmdsZSAhPT0gMCA/IDEgPDwgNiA6IDApIHxcbiAgICAgICAgICAgICAgICAgICAgKDEgPDwgNSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW5jb2RlVGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBERkhleFN0cmluZyh0aGlzLl9zdWIuZW5jb2RlVGV4dChTdHJpbmcodGV4dCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdldFRleHRXaWR0aChmb250U2l6ZSwgdGV4dCkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gMCwgY29kZU1hcCA9IHRoaXMuX2ZvbnQuY21hcC5jb2RlTWFwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdseXBoSWQgPSBjb2RlTWFwW3RleHQuY2hhckNvZGVBdChpKV07XG4gICAgICAgICAgICAgICAgd2lkdGggKz0gdGhpcy5fZm9udC53aWR0aE9mR2x5cGgoZ2x5cGhJZCB8fCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aWR0aCAqIGZvbnRTaXplIC8gMTAwMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlZm9yZVJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHZhciBzdWIgPSBzZWxmLl9zdWI7XG5cbiAgICAgICAgICAgIC8vIHdyaXRlIHRoZSBUVEYgZGF0YVxuICAgICAgICAgICAgdmFyIGRhdGEgPSBzdWIucmVuZGVyKCk7XG4gICAgICAgICAgICB2YXIgZm9udFN0cmVhbSA9IG5ldyBQREZTdHJlYW0oQmluYXJ5U3RyZWFtKGRhdGEpLCB7XG4gICAgICAgICAgICAgICAgTGVuZ3RoMTogZGF0YS5sZW5ndGhcbiAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHNlbGYuX3BkZi5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgICAgIFR5cGUgICAgICAgICA6IF8oXCJGb250RGVzY3JpcHRvclwiKSxcbiAgICAgICAgICAgICAgICBGb250TmFtZSAgICAgOiBfKHNlbGYuX3N1Yi5wc05hbWUpLFxuICAgICAgICAgICAgICAgIEZvbnRCQm94ICAgICA6IHNlbGYuYmJveCxcbiAgICAgICAgICAgICAgICBGbGFncyAgICAgICAgOiBzZWxmLmZsYWdzLFxuICAgICAgICAgICAgICAgIFN0ZW1WICAgICAgICA6IHNlbGYuc3RlbVYsXG4gICAgICAgICAgICAgICAgSXRhbGljQW5nbGUgIDogc2VsZi5pdGFsaWNBbmdsZSxcbiAgICAgICAgICAgICAgICBBc2NlbnQgICAgICAgOiBzZWxmLmFzY2VudCxcbiAgICAgICAgICAgICAgICBEZXNjZW50ICAgICAgOiBzZWxmLmRlc2NlbnQsXG4gICAgICAgICAgICAgICAgQ2FwSGVpZ2h0ICAgIDogc2VsZi5jYXBIZWlnaHQsXG4gICAgICAgICAgICAgICAgWEhlaWdodCAgICAgIDogc2VsZi54SGVpZ2h0LFxuICAgICAgICAgICAgICAgIEZvbnRGaWxlMiAgICA6IHNlbGYuX3BkZi5hdHRhY2goZm9udFN0cmVhbSlcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgdmFyIGNtYXAgPSBzdWIubmNpZDJvZ2lkO1xuICAgICAgICAgICAgdmFyIGZpcnN0Q2hhciA9IHN1Yi5maXJzdENoYXI7XG4gICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBzdWIubGFzdENoYXI7XG4gICAgICAgICAgICB2YXIgY2hhcldpZHRocyA9IFtdO1xuICAgICAgICAgICAgKGZ1bmN0aW9uIGxvb3AoaSwgY2h1bmspe1xuICAgICAgICAgICAgICAgIGlmIChpIDw9IGxhc3RDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnaWQgPSBjbWFwW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2lkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AoaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJXaWR0aHMucHVzaChpLCBjaHVuayA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnB1c2goc2VsZi5fZm9udC53aWR0aE9mR2x5cGgoZ2lkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb29wKGkgKyAxLCBjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KShmaXJzdENoYXIpO1xuXG4gICAgICAgICAgICAvLyBBcyBpZiB0d28gZGljdGlvbmFyaWVzIHdlcmVuJ3QgZW5vdWdoLCB3ZSBuZWVkIGFub3RoZXJcbiAgICAgICAgICAgIC8vIG9uZSwgdGhlIFwiZGVzY2VuZGFudCBmb250XCIuICBPbmx5IHRoYXQgb25lIGNhbiBiZSBvZlxuICAgICAgICAgICAgLy8gU3VidHlwZSBDSURGb250VHlwZTIuICBQREYgaXMgdGhlIFgxMSBvZiBkb2N1bWVudFxuICAgICAgICAgICAgLy8gZm9ybWF0czogcG9ydGFibGUgYnV0IGZ1bGwgb2YgbGVnYWN5IHRoYXQgbm9ib2R5IGNhcmVzXG4gICAgICAgICAgICAvLyBhYm91dCBhbnltb3JlLlxuXG4gICAgICAgICAgICB2YXIgZGVzY2VuZGFudCA9IG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgICAgICBUeXBlOiBfKFwiRm9udFwiKSxcbiAgICAgICAgICAgICAgICBTdWJ0eXBlOiBfKFwiQ0lERm9udFR5cGUyXCIpLFxuICAgICAgICAgICAgICAgIEJhc2VGb250OiBfKHNlbGYuX3N1Yi5wc05hbWUpLFxuICAgICAgICAgICAgICAgIENJRFN5c3RlbUluZm86IG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgUmVnaXN0cnkgICA6IG5ldyBQREZTdHJpbmcoXCJBZG9iZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgT3JkZXJpbmcgICA6IG5ldyBQREZTdHJpbmcoXCJJZGVudGl0eVwiKSxcbiAgICAgICAgICAgICAgICAgICAgU3VwcGxlbWVudCA6IDBcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBGb250RGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICBGaXJzdENoYXI6IGZpcnN0Q2hhcixcbiAgICAgICAgICAgICAgICBMYXN0Q2hhcjogbGFzdENoYXIsXG4gICAgICAgICAgICAgICAgRFc6IE1hdGgucm91bmQoc2VsZi5fZm9udC53aWR0aE9mR2x5cGgoMCkpLFxuICAgICAgICAgICAgICAgIFc6IGNoYXJXaWR0aHMsXG4gICAgICAgICAgICAgICAgQ0lEVG9HSURNYXA6IHNlbGYuX3BkZi5hdHRhY2goc2VsZi5fbWFrZUNpZFRvR2lkTWFwKCkpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGRpY3QgPSBzZWxmLnByb3BzO1xuICAgICAgICAgICAgZGljdC5CYXNlRm9udCA9IF8oc2VsZi5fc3ViLnBzTmFtZSk7XG4gICAgICAgICAgICBkaWN0LkRlc2NlbmRhbnRGb250cyA9IFsgc2VsZi5fcGRmLmF0dGFjaChkZXNjZW5kYW50KSBdO1xuXG4gICAgICAgICAgICAvLyBDb21wdXRlIHRoZSBUb1VuaWNvZGUgbWFwIHNvIHRoYXQgYXBwcyBjYW4gZXh0cmFjdFxuICAgICAgICAgICAgLy8gbWVhbmluZ2Z1bCB0ZXh0IGZyb20gdGhlIFBERi5cbiAgICAgICAgICAgIHZhciB1bmltYXAgPSBuZXcgUERGVG9Vbmljb2RlQ21hcChmaXJzdENoYXIsIGxhc3RDaGFyLCBzdWIuc3Vic2V0KTtcbiAgICAgICAgICAgIHZhciB1bmltYXBTdHJlYW0gPSBuZXcgUERGU3RyZWFtKG1ha2VPdXRwdXQoKSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB1bmltYXBTdHJlYW0uZGF0YSh1bmltYXApO1xuICAgICAgICAgICAgZGljdC5Ub1VuaWNvZGUgPSBzZWxmLl9wZGYuYXR0YWNoKHVuaW1hcFN0cmVhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBfbWFrZUNpZFRvR2lkTWFwKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQREZTdHJlYW0oQmluYXJ5U3RyZWFtKHRoaXMuX3N1Yi5jaWRUb0dpZE1hcCgpKSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbn1cblxuY2xhc3MgUERGVG9Vbmljb2RlQ21hcCBleHRlbmRzIFBERlZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihmaXJzdENoYXIsIGxhc3RDaGFyLCBtYXApe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmZpcnN0Q2hhciA9IGZpcnN0Q2hhcjtcbiAgICAgICAgdGhpcy5sYXN0Q2hhciA9IGxhc3RDaGFyO1xuICAgICAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICB9XG5cbiAgICByZW5kZXIob3V0KSB7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ0lESW5pdCAvUHJvY1NldCBmaW5kcmVzb3VyY2UgYmVnaW5cIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIxMiBkaWN0IGJlZ2luXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiYmVnaW5jbWFwXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiL0NJRFN5c3RlbUluZm8gPDxcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIC9SZWdpc3RyeSAoQWRvYmUpXCIpO1xuICAgICAgICBvdXQuaW5kZW50KFwiICAvT3JkZXJpbmcgKFVDUylcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIC9TdXBwbGVtZW50IDBcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCI+PiBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ01hcE5hbWUgL0Fkb2JlLUlkZW50aXR5LVVDUyBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIvQ01hcFR5cGUgMiBkZWZcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIxIGJlZ2luY29kZXNwYWNlcmFuZ2VcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCIgIDwwMDAwPjxmZmZmPlwiKTtcbiAgICAgICAgb3V0LmluZGVudChcImVuZGNvZGVzcGFjZXJhbmdlXCIpO1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgb3V0LmluZGVudChzZWxmLmxhc3RDaGFyIC0gc2VsZi5maXJzdENoYXIgKyAxLCBcIiBiZWdpbmJmY2hhclwiKTtcbiAgICAgICAgb3V0LndpdGhJbmRlbnQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGZvciAodmFyIGNvZGUgPSBzZWxmLmZpcnN0Q2hhcjsgY29kZSA8PSBzZWxmLmxhc3RDaGFyOyArK2NvZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5pY29kZSA9IHNlbGYubWFwW2NvZGVdO1xuICAgICAgICAgICAgICAgIHZhciBzdHIgPSB1Y3MyZW5jb2RlKFsgdW5pY29kZSBdKTtcbiAgICAgICAgICAgICAgICBvdXQuaW5kZW50KFwiPFwiLCB6ZXJvcGFkKGNvZGUudG9TdHJpbmcoMTYpLCA0KSwgXCI+XCIsIFwiPFwiKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQoemVyb3BhZChzdHIuY2hhckNvZGVBdChpKS50b1N0cmluZygxNiksIDQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0KFwiPlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRiZmNoYXJcIik7XG5cbiAgICAgICAgb3V0LmluZGVudChcImVuZGNtYXBcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJDTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3BcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRcIik7XG4gICAgICAgIG91dC5pbmRlbnQoXCJlbmRcIik7XG4gICAgfVxufVxuXG4vLy8gZ3JhZGllbnRzXG5cbmZ1bmN0aW9uIG1ha2VIYXNoKGEpIHtcbiAgICByZXR1cm4gYS5tYXAoZnVuY3Rpb24oeCl7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHgpID8gbWFrZUhhc2goeClcbiAgICAgICAgICAgIDogdHlwZW9mIHggPT0gXCJudW1iZXJcIiA/IChNYXRoLnJvdW5kKHggKiAxMDAwKSAvIDEwMDApLnRvRml4ZWQoMylcbiAgICAgICAgICAgIDogeDtcbiAgICB9KS5qb2luKFwiIFwiKTtcbn1cblxuZnVuY3Rpb24gY2FjaGVDb2xvckdyYWRpZW50RnVuY3Rpb24ocGRmLCByMSwgZzEsIGIxLCByMiwgZzIsIGIyKSB7XG4gICAgdmFyIGhhc2ggPSBtYWtlSGFzaChbIHIxLCBnMSwgYjEsIHIyLCBnMiwgYjIgXSk7XG4gICAgdmFyIGZ1bmMgPSBwZGYuR1JBRF9DT0xfRlVOQ1RJT05TW2hhc2hdO1xuICAgIGlmICghZnVuYykge1xuICAgICAgICBmdW5jID0gcGRmLkdSQURfQ09MX0ZVTkNUSU9OU1toYXNoXSA9IHBkZi5hdHRhY2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgRnVuY3Rpb25UeXBlOiAyLFxuICAgICAgICAgICAgRG9tYWluOiBbIDAsIDEgXSxcbiAgICAgICAgICAgIFJhbmdlOiBbIDAsIDEsIDAsIDEsIDAsIDEgXSxcbiAgICAgICAgICAgIE46IDEsXG4gICAgICAgICAgICBDMDogWyByMSAsIGcxICwgYjEgXSxcbiAgICAgICAgICAgIEMxOiBbIHIyICwgZzIgLCBiMiBdXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmM7XG59XG5cbmZ1bmN0aW9uIGNhY2hlT3BhY2l0eUdyYWRpZW50RnVuY3Rpb24ocGRmLCBhMSwgYTIpIHtcbiAgICB2YXIgaGFzaCA9IG1ha2VIYXNoKFsgYTEsIGEyIF0pO1xuICAgIHZhciBmdW5jID0gcGRmLkdSQURfT1BDX0ZVTkNUSU9OU1toYXNoXTtcbiAgICBpZiAoIWZ1bmMpIHtcbiAgICAgICAgZnVuYyA9IHBkZi5HUkFEX09QQ19GVU5DVElPTlNbaGFzaF0gPSBwZGYuYXR0YWNoKG5ldyBQREZEaWN0aW9uYXJ5KHtcbiAgICAgICAgICAgIEZ1bmN0aW9uVHlwZTogMixcbiAgICAgICAgICAgIERvbWFpbjogWyAwLCAxIF0sXG4gICAgICAgICAgICBSYW5nZTogWyAwLCAxIF0sXG4gICAgICAgICAgICBOOiAxLFxuICAgICAgICAgICAgQzA6IFsgYTEgXSxcbiAgICAgICAgICAgIEMxOiBbIGEyIF1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYztcbn1cblxuZnVuY3Rpb24gbWFrZUdyYWRpZW50RnVuY3Rpb25zKHBkZiwgc3RvcHMpIHtcbiAgICB2YXIgaGFzQWxwaGEgPSBmYWxzZTtcbiAgICB2YXIgb3BhY2l0aWVzID0gW107XG4gICAgdmFyIGNvbG9ycyA9IFtdO1xuICAgIHZhciBvZmZzZXRzID0gW107XG4gICAgdmFyIGVuY29kZSA9IFtdO1xuICAgIHZhciBpLCBwcmV2LCBjdXIsIHByZXZDb2xvciwgY3VyQ29sb3I7XG4gICAgZm9yIChpID0gMTsgaSA8IHN0b3BzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHByZXYgPSBzdG9wc1tpIC0gMV07XG4gICAgICAgIGN1ciA9IHN0b3BzW2ldO1xuICAgICAgICBwcmV2Q29sb3IgPSBwcmV2LmNvbG9yO1xuICAgICAgICBjdXJDb2xvciA9IGN1ci5jb2xvcjtcbiAgICAgICAgY29sb3JzLnB1c2goY2FjaGVDb2xvckdyYWRpZW50RnVuY3Rpb24oXG4gICAgICAgICAgICBwZGYsXG4gICAgICAgICAgICBwcmV2Q29sb3IuciwgcHJldkNvbG9yLmcsIHByZXZDb2xvci5iLFxuICAgICAgICAgICAgY3VyQ29sb3IuciwgIGN1ckNvbG9yLmcsICBjdXJDb2xvci5iXG4gICAgICAgICkpO1xuICAgICAgICBpZiAocHJldkNvbG9yLmEgPCAxIHx8IGN1ckNvbG9yLmEgPCAxKSB7XG4gICAgICAgICAgICBoYXNBbHBoYSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0cy5wdXNoKGN1ci5vZmZzZXQpO1xuICAgICAgICBlbmNvZGUucHVzaCgwLCAxKTtcbiAgICB9XG4gICAgaWYgKGhhc0FscGhhKSB7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBzdG9wcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcHJldiA9IHN0b3BzW2kgLSAxXTtcbiAgICAgICAgICAgIGN1ciA9IHN0b3BzW2ldO1xuICAgICAgICAgICAgcHJldkNvbG9yID0gcHJldi5jb2xvcjtcbiAgICAgICAgICAgIGN1ckNvbG9yID0gY3VyLmNvbG9yO1xuICAgICAgICAgICAgb3BhY2l0aWVzLnB1c2goY2FjaGVPcGFjaXR5R3JhZGllbnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICBwZGYsIHByZXZDb2xvci5hLCBjdXJDb2xvci5hXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvZmZzZXRzLnBvcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhc0FscGhhICA6IGhhc0FscGhhLFxuICAgICAgICBjb2xvcnMgICAgOiBhc3NlbWJsZShjb2xvcnMpLFxuICAgICAgICBvcGFjaXRpZXMgOiBoYXNBbHBoYSA/IGFzc2VtYmxlKG9wYWNpdGllcykgOiBudWxsXG4gICAgfTtcbiAgICBmdW5jdGlvbiBhc3NlbWJsZShmdW5jcykge1xuICAgICAgICBpZiAoZnVuY3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgRnVuY3Rpb25UeXBlOiAzLFxuICAgICAgICAgICAgRnVuY3Rpb25zOiBmdW5jcyxcbiAgICAgICAgICAgIERvbWFpbjogWyAwLCAxIF0sXG4gICAgICAgICAgICBCb3VuZHM6IG9mZnNldHMsXG4gICAgICAgICAgICBFbmNvZGU6IGVuY29kZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2FjaGVDb2xvckdyYWRpZW50KHBkZiwgaXNSYWRpYWwsIHN0b3BzLCBjb29yZHMsIGZ1bmNzLCBib3gpIHtcbiAgICB2YXIgc2hhZGluZywgaGFzaDtcbiAgICAvLyBpZiBib3ggaXMgZ2l2ZW4gdGhlbiB3ZSBoYXZlIHVzZXItc3BhY2UgY29vcmRpbmF0ZXMsIHdoaWNoXG4gICAgLy8gbWVhbnMgdGhlIGdyYWRpZW50IGlzIGRlc2lnbmVkIGZvciBhIGNlcnRhaW4gcG9zaXRpb24vc2l6ZVxuICAgIC8vIG9uIHBhZ2UuICBjYWNoaW5nIHdvbid0IGRvIGFueSBnb29kLlxuICAgIGlmICghYm94KSB7XG4gICAgICAgIHZhciBhID0gWyBpc1JhZGlhbCBdLmNvbmNhdChjb29yZHMpO1xuICAgICAgICBzdG9wcy5mb3JFYWNoKGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgYS5wdXNoKHgub2Zmc2V0LCB4LmNvbG9yLnIsIHguY29sb3IuZywgeC5jb2xvci5iKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhhc2ggPSBtYWtlSGFzaChhKTtcbiAgICAgICAgc2hhZGluZyA9IHBkZi5HUkFEX0NPTFtoYXNoXTtcbiAgICB9XG4gICAgaWYgKCFzaGFkaW5nKSB7XG4gICAgICAgIHNoYWRpbmcgPSBuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBUeXBlOiBfKFwiU2hhZGluZ1wiKSxcbiAgICAgICAgICAgIFNoYWRpbmdUeXBlOiBpc1JhZGlhbCA/IDMgOiAyLFxuICAgICAgICAgICAgQ29sb3JTcGFjZTogXyhcIkRldmljZVJHQlwiKSxcbiAgICAgICAgICAgIENvb3JkczogY29vcmRzLFxuICAgICAgICAgICAgRG9tYWluOiBbIDAsIDEgXSxcbiAgICAgICAgICAgIEZ1bmN0aW9uOiBmdW5jcyxcbiAgICAgICAgICAgIEV4dGVuZDogWyB0cnVlLCB0cnVlIF1cbiAgICAgICAgfSk7XG4gICAgICAgIHBkZi5hdHRhY2goc2hhZGluZyk7XG4gICAgICAgIHNoYWRpbmcuX3Jlc291cmNlTmFtZSA9IFwiU1wiICsgKCsrUkVTT1VSQ0VfQ09VTlRFUik7XG4gICAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgICAgICBwZGYuR1JBRF9DT0xbaGFzaF0gPSBzaGFkaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaGFkaW5nO1xufVxuXG5mdW5jdGlvbiBjYWNoZU9wYWNpdHlHcmFkaWVudChwZGYsIGlzUmFkaWFsLCBzdG9wcywgY29vcmRzLCBmdW5jcywgYm94KSB7XG4gICAgdmFyIG9wYWNpdHksIGhhc2g7XG4gICAgLy8gaWYgYm94IGlzIGdpdmVuIHRoZW4gd2UgaGF2ZSB1c2VyLXNwYWNlIGNvb3JkaW5hdGVzLCB3aGljaFxuICAgIC8vIG1lYW5zIHRoZSBncmFkaWVudCBpcyBkZXNpZ25lZCBmb3IgYSBjZXJ0YWluIHBvc2l0aW9uL3NpemVcbiAgICAvLyBvbiBwYWdlLiAgY2FjaGluZyB3b24ndCBkbyBhbnkgZ29vZC5cbiAgICBpZiAoIWJveCkge1xuICAgICAgICB2YXIgYSA9IFsgaXNSYWRpYWwgXS5jb25jYXQoY29vcmRzKTtcbiAgICAgICAgc3RvcHMuZm9yRWFjaChmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIGEucHVzaCh4Lm9mZnNldCwgeC5jb2xvci5hKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGhhc2ggPSBtYWtlSGFzaChhKTtcbiAgICAgICAgb3BhY2l0eSA9IHBkZi5HUkFEX09QQ1toYXNoXTtcbiAgICB9XG4gICAgaWYgKCFvcGFjaXR5KSB7XG4gICAgICAgIG9wYWNpdHkgPSBuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICBUeXBlOiBfKFwiRXh0R1N0YXRlXCIpLFxuICAgICAgICAgICAgQUlTOiBmYWxzZSxcbiAgICAgICAgICAgIENBOiAxLFxuICAgICAgICAgICAgY2E6IDEsXG4gICAgICAgICAgICBTTWFzazoge1xuICAgICAgICAgICAgICAgIFR5cGU6IF8oXCJNYXNrXCIpLFxuICAgICAgICAgICAgICAgIFM6IF8oXCJMdW1pbm9zaXR5XCIpLFxuICAgICAgICAgICAgICAgIEc6IHBkZi5hdHRhY2gobmV3IFBERlN0cmVhbShcIi9hMCBncyAvczAgc2hcIiwge1xuICAgICAgICAgICAgICAgICAgICBUeXBlOiBfKFwiWE9iamVjdFwiKSxcbiAgICAgICAgICAgICAgICAgICAgU3VidHlwZTogXyhcIkZvcm1cIiksXG4gICAgICAgICAgICAgICAgICAgIEZvcm1UeXBlOiAxLFxuICAgICAgICAgICAgICAgICAgICBCQm94OiAoYm94ID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94LmxlZnQsIGJveC50b3AgKyBib3guaGVpZ2h0LCBib3gubGVmdCArIGJveC53aWR0aCwgYm94LnRvcFxuICAgICAgICAgICAgICAgICAgICBdIDogWyAwLCAxLCAxLCAwIF0pLFxuICAgICAgICAgICAgICAgICAgICBHcm91cDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZTogXyhcIkdyb3VwXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgUzogXyhcIlRyYW5zcGFyZW5jeVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIENTOiBfKFwiRGV2aWNlR3JheVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIEk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVzb3VyY2VzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHRHU3RhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMDogeyBDQTogMSwgY2E6IDEgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFNoYWRpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzMDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvclNwYWNlOiBfKFwiRGV2aWNlR3JheVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29vcmRzOiBjb29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvbWFpbjogWyAwLCAxIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNoYWRpbmdUeXBlOiBpc1JhZGlhbCA/IDMgOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbjogZnVuY3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4dGVuZDogWyB0cnVlLCB0cnVlIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBkZi5hdHRhY2gob3BhY2l0eSk7XG4gICAgICAgIG9wYWNpdHkuX3Jlc291cmNlTmFtZSA9IFwiT1wiICsgKCsrUkVTT1VSQ0VfQ09VTlRFUik7XG4gICAgICAgIGlmIChoYXNoKSB7XG4gICAgICAgICAgICBwZGYuR1JBRF9PUENbaGFzaF0gPSBvcGFjaXR5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGFjaXR5O1xufVxuXG5mdW5jdGlvbiBjYWNoZUdyYWRpZW50KHBkZiwgZ3JhZGllbnQsIGJveCkge1xuICAgIHZhciBpc1JhZGlhbCA9IGdyYWRpZW50LnR5cGUgPT0gXCJyYWRpYWxcIjtcbiAgICB2YXIgZnVuY3MgPSBtYWtlR3JhZGllbnRGdW5jdGlvbnMocGRmLCBncmFkaWVudC5zdG9wcyk7XG4gICAgdmFyIGNvb3JkcyA9IGlzUmFkaWFsID8gW1xuICAgICAgICBncmFkaWVudC5zdGFydC54ICwgZ3JhZGllbnQuc3RhcnQueSAsIGdyYWRpZW50LnN0YXJ0LnIsXG4gICAgICAgIGdyYWRpZW50LmVuZC54ICAgLCBncmFkaWVudC5lbmQueSAgICwgZ3JhZGllbnQuZW5kLnJcbiAgICBdIDogW1xuICAgICAgICBncmFkaWVudC5zdGFydC54ICwgZ3JhZGllbnQuc3RhcnQueSxcbiAgICAgICAgZ3JhZGllbnQuZW5kLnggICAsIGdyYWRpZW50LmVuZC55XG4gICAgXTtcbiAgICB2YXIgc2hhZGluZyA9IGNhY2hlQ29sb3JHcmFkaWVudChcbiAgICAgICAgcGRmLCBpc1JhZGlhbCwgZ3JhZGllbnQuc3RvcHMsIGNvb3JkcywgZnVuY3MuY29sb3JzLCBncmFkaWVudC51c2VyU3BhY2UgJiYgYm94XG4gICAgKTtcbiAgICB2YXIgb3BhY2l0eSA9IGZ1bmNzLmhhc0FscGhhID8gY2FjaGVPcGFjaXR5R3JhZGllbnQoXG4gICAgICAgIHBkZiwgaXNSYWRpYWwsIGdyYWRpZW50LnN0b3BzLCBjb29yZHMsIGZ1bmNzLm9wYWNpdGllcywgZ3JhZGllbnQudXNlclNwYWNlICYmIGJveFxuICAgICkgOiBudWxsO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhhc0FscGhhOiBmdW5jcy5oYXNBbHBoYSxcbiAgICAgICAgc2hhZGluZzogc2hhZGluZyxcbiAgICAgICAgb3BhY2l0eTogb3BhY2l0eVxuICAgIH07XG59XG5cbi8vLyBwYWdlIG9iamVjdFxuXG5jbGFzcyBQREZQYWdlIGV4dGVuZHMgUERGRGljdGlvbmFyeSB7XG4gICAgY29uc3RydWN0b3IocGRmLCBwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLl9wZGYgPSBwZGY7XG4gICAgICAgIHRoaXMuX3Jjb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2ZvbnRSZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fZ3NSZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5feFJlc291cmNlcyA9IHt9O1xuICAgICAgICB0aGlzLl9wYXRSZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fc2hSZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fb3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IFsgMSwgMCwgMCwgMSwgMCwgMCBdO1xuICAgICAgICB0aGlzLl9hbm5vdGF0aW9ucyA9IFtdO1xuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9mb250U2l6ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fY29udGV4dFN0YWNrID0gW107XG5cbiAgICAgICAgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBwcm9wcy5UeXBlID0gXyhcIlBhZ2VcIik7XG4gICAgICAgIHByb3BzLlByb2NTZXQgPSBbXG4gICAgICAgICAgICBfKFwiUERGXCIpLFxuICAgICAgICAgICAgXyhcIlRleHRcIiksXG4gICAgICAgICAgICBfKFwiSW1hZ2VCXCIpLFxuICAgICAgICAgICAgXyhcIkltYWdlQ1wiKSxcbiAgICAgICAgICAgIF8oXCJJbWFnZUlcIilcbiAgICAgICAgXTtcbiAgICAgICAgcHJvcHMuUmVzb3VyY2VzID0gbmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgRm9udCAgICAgIDogbmV3IFBERkRpY3Rpb25hcnkodGhpcy5fZm9udFJlc291cmNlcyksXG4gICAgICAgICAgICBFeHRHU3RhdGUgOiBuZXcgUERGRGljdGlvbmFyeSh0aGlzLl9nc1Jlc291cmNlcyksXG4gICAgICAgICAgICBYT2JqZWN0ICAgOiBuZXcgUERGRGljdGlvbmFyeSh0aGlzLl94UmVzb3VyY2VzKSxcbiAgICAgICAgICAgIFBhdHRlcm4gICA6IG5ldyBQREZEaWN0aW9uYXJ5KHRoaXMuX3BhdFJlc291cmNlcyksXG4gICAgICAgICAgICBTaGFkaW5nICAgOiBuZXcgUERGRGljdGlvbmFyeSh0aGlzLl9zaFJlc291cmNlcylcbiAgICAgICAgfSk7XG4gICAgICAgIHByb3BzLkFubm90cyA9IHRoaXMuX2Fubm90YXRpb25zO1xuICAgIH1cblxuICAgIF9vdXQoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuZGF0YS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybShhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgICAgIGlmICghaXNJZGVudGl0eU1hdHJpeChhcmd1bWVudHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtbXVsKGFyZ3VtZW50cywgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgICAgIHRoaXMuX291dChhLCBcIiBcIiwgYiwgXCIgXCIsIGMsIFwiIFwiLCBkLCBcIiBcIiwgZSwgXCIgXCIsIGYsIFwiIGNtXCIpO1xuICAgICAgICAgICAgLy8gWFhYOiBkZWJ1Z1xuICAgICAgICAgICAgLy8gdGhpcy5fb3V0KFwiICUgY3VycmVudCBtYXRyaXg6IFwiLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICAgICAgdGhpcy5fb3V0KE5MKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRyYW5zbGF0ZShkeCwgZHkpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgZHgsIGR5KTtcbiAgICB9XG5cbiAgICBzY2FsZShzeCwgc3kpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0oc3gsIDAsIDAsIHN5LCAwLCAwKTtcbiAgICB9XG5cbiAgICByb3RhdGUoYW5nbGUpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybShjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwKTtcbiAgICB9XG5cbiAgICBiZWdpblRleHQoKSB7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fb3V0KFwiQlRcIiwgTkwpO1xuICAgIH1cblxuICAgIGVuZFRleHQoKSB7XG4gICAgICAgIHRoaXMuX3RleHRNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX291dChcIkVUXCIsIE5MKTtcbiAgICB9XG5cbiAgICBfcmVxdWlyZVRleHRNb2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RleHRNb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUZXh0IG1vZGUgcmVxdWlyZWQ7IGNhbGwgcGFnZS5iZWdpblRleHQoKSBmaXJzdFwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXF1aXJlRm9udCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mb250KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmb250IHNlbGVjdGVkOyBjYWxsIHBhZ2Uuc2V0Rm9udCgpIGZpcnN0XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Rm9udChmb250LCBzaXplKSB7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVUZXh0TW9kZSgpO1xuICAgICAgICBpZiAoZm9udCA9PSBudWxsKSB7XG4gICAgICAgICAgICBmb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgfSBlbHNlIGlmICghKGZvbnQgaW5zdGFuY2VvZiBQREZGb250KSkge1xuICAgICAgICAgICAgZm9udCA9IHRoaXMuX3BkZi5nZXRGb250KGZvbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHNpemUgPSB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mb250UmVzb3VyY2VzW2ZvbnQuX3Jlc291cmNlTmFtZV0gPSBmb250O1xuICAgICAgICB0aGlzLl9mb250ID0gZm9udDtcbiAgICAgICAgdGhpcy5fZm9udFNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLl9vdXQoZm9udC5fcmVzb3VyY2VOYW1lLCBcIiBcIiwgc2l6ZSwgXCIgVGZcIiwgTkwpO1xuICAgIH1cblxuICAgIHNldFRleHRMZWFkaW5nKHNpemUpIHtcbiAgICAgICAgdGhpcy5fcmVxdWlyZVRleHRNb2RlKCk7XG4gICAgICAgIHRoaXMuX291dChzaXplLCBcIiBUTFwiLCBOTCk7XG4gICAgfVxuXG4gICAgc2V0VGV4dFJlbmRlcmluZ01vZGUobW9kZSkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlVGV4dE1vZGUoKTtcbiAgICAgICAgdGhpcy5fb3V0KG1vZGUsIFwiIFRyXCIsIE5MKTtcbiAgICB9XG5cbiAgICBzaG93VGV4dCh0ZXh0LCByZXF1ZXN0ZWRXaWR0aCkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlRm9udCgpO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAxICYmIHJlcXVlc3RlZFdpZHRoICYmIHRoaXMuX2ZvbnQgaW5zdGFuY2VvZiBQREZGb250KSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0V2lkdGggPSB0aGlzLl9mb250LmdldFRleHRXaWR0aCh0aGlzLl9mb250U2l6ZSwgdGV4dCk7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSByZXF1ZXN0ZWRXaWR0aCAvIG91dHB1dFdpZHRoICogMTAwO1xuICAgICAgICAgICAgdGhpcy5fb3V0KHNjYWxlLCBcIiBUeiBcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3V0KHRoaXMuX2ZvbnQuZW5jb2RlVGV4dCh0ZXh0KSwgXCIgVGpcIiwgTkwpO1xuICAgIH1cblxuICAgIHNob3dUZXh0TkwodGV4dCkge1xuICAgICAgICB0aGlzLl9yZXF1aXJlRm9udCgpO1xuICAgICAgICB0aGlzLl9vdXQodGhpcy5fZm9udC5lbmNvZGVUZXh0KHRleHQpLCBcIiAnXCIsIE5MKTtcbiAgICB9XG5cbiAgICBhZGRMaW5rKHVyaSwgYm94KSB7XG4gICAgICAgIHZhciBsbCA9IHRoaXMuX3RvUGFnZSh7IHg6IGJveC5sZWZ0LCB5OiBib3guYm90dG9tIH0pO1xuICAgICAgICB2YXIgdXIgPSB0aGlzLl90b1BhZ2UoeyB4OiBib3gucmlnaHQsIHk6IGJveC50b3AgfSk7XG4gICAgICAgIHRoaXMuX2Fubm90YXRpb25zLnB1c2gobmV3IFBERkRpY3Rpb25hcnkoe1xuICAgICAgICAgICAgVHlwZSAgICA6IF8oXCJBbm5vdFwiKSxcbiAgICAgICAgICAgIFN1YnR5cGUgOiBfKFwiTGlua1wiKSxcbiAgICAgICAgICAgIFJlY3QgICAgOiBbIGxsLngsIGxsLnksIHVyLngsIHVyLnkgXSxcbiAgICAgICAgICAgIEJvcmRlciAgOiBbIDAsIDAsIDAgXSxcbiAgICAgICAgICAgIEEgICAgICAgOiBuZXcgUERGRGljdGlvbmFyeSh7XG4gICAgICAgICAgICAgICAgVHlwZSA6IF8oXCJBY3Rpb25cIiksXG4gICAgICAgICAgICAgICAgUyAgICA6IF8oXCJVUklcIiksXG4gICAgICAgICAgICAgICAgVVJJICA6IG5ldyBQREZTdHJpbmcodXJpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIHNldFN0cm9rZUNvbG9yKHIsIGcsIGIpIHtcbiAgICAgICAgdGhpcy5fb3V0KHIsIFwiIFwiLCBnLCBcIiBcIiwgYiwgXCIgUkdcIiwgTkwpO1xuICAgIH1cblxuICAgIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgICAgICB0aGlzLnNldEZpbGxPcGFjaXR5KG9wYWNpdHkpO1xuICAgICAgICB0aGlzLnNldFN0cm9rZU9wYWNpdHkob3BhY2l0eSk7XG4gICAgICAgIHRoaXMuX29wYWNpdHkgKj0gb3BhY2l0eTtcbiAgICB9XG5cbiAgICBzZXRTdHJva2VPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICB2YXIgZ3MgPSB0aGlzLl9wZGYuZ2V0T3BhY2l0eUdTKHRoaXMuX29wYWNpdHkgKiBvcGFjaXR5LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX2dzUmVzb3VyY2VzW2dzLl9yZXNvdXJjZU5hbWVdID0gZ3M7XG4gICAgICAgICAgICB0aGlzLl9vdXQoZ3MuX3Jlc291cmNlTmFtZSwgXCIgZ3NcIiwgTkwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0RmlsbENvbG9yKHIsIGcsIGIpIHtcbiAgICAgICAgdGhpcy5fb3V0KHIsIFwiIFwiLCBnLCBcIiBcIiwgYiwgXCIgcmdcIiwgTkwpO1xuICAgIH1cblxuICAgIHNldEZpbGxPcGFjaXR5KG9wYWNpdHkpIHtcbiAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICB2YXIgZ3MgPSB0aGlzLl9wZGYuZ2V0T3BhY2l0eUdTKHRoaXMuX29wYWNpdHkgKiBvcGFjaXR5LCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9nc1Jlc291cmNlc1tncy5fcmVzb3VyY2VOYW1lXSA9IGdzO1xuICAgICAgICAgICAgdGhpcy5fb3V0KGdzLl9yZXNvdXJjZU5hbWUsIFwiIGdzXCIsIE5MKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdyYWRpZW50KGdyYWRpZW50LCBib3gpIHtcbiAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIHRoaXMucmVjdChib3gubGVmdCwgYm94LnRvcCwgYm94LndpZHRoLCBib3guaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jbGlwKCk7XG4gICAgICAgIGlmICghZ3JhZGllbnQudXNlclNwYWNlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybShib3gud2lkdGgsIDAsIDAsIGJveC5oZWlnaHQsIGJveC5sZWZ0LCBib3gudG9wKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZyA9IGNhY2hlR3JhZGllbnQodGhpcy5fcGRmLCBncmFkaWVudCwgYm94KTtcbiAgICAgICAgdmFyIHNuYW1lID0gZy5zaGFkaW5nLl9yZXNvdXJjZU5hbWUsIG9uYW1lO1xuICAgICAgICB0aGlzLl9zaFJlc291cmNlc1tzbmFtZV0gPSBnLnNoYWRpbmc7XG4gICAgICAgIGlmIChnLmhhc0FscGhhKSB7XG4gICAgICAgICAgICBvbmFtZSA9IGcub3BhY2l0eS5fcmVzb3VyY2VOYW1lO1xuICAgICAgICAgICAgdGhpcy5fZ3NSZXNvdXJjZXNbb25hbWVdID0gZy5vcGFjaXR5O1xuICAgICAgICAgICAgdGhpcy5fb3V0KFwiL1wiICsgb25hbWUgKyBcIiBncyBcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3V0KFwiL1wiICsgc25hbWUgKyBcIiBzaFwiLCBOTCk7XG4gICAgICAgIHRoaXMucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIHNldERhc2hQYXR0ZXJuKGRhc2hBcnJheSwgZGFzaFBoYXNlKSB7XG4gICAgICAgIHRoaXMuX291dChkYXNoQXJyYXksIFwiIFwiLCBkYXNoUGhhc2UsIFwiIGRcIiwgTkwpO1xuICAgIH1cblxuICAgIHNldExpbmVXaWR0aCh3aWR0aCkge1xuICAgICAgICB0aGlzLl9vdXQod2lkdGgsIFwiIHdcIiwgTkwpO1xuICAgIH1cblxuICAgIHNldExpbmVDYXAobGluZUNhcCkge1xuICAgICAgICB0aGlzLl9vdXQobGluZUNhcCwgXCIgSlwiLCBOTCk7XG4gICAgfVxuXG4gICAgc2V0TGluZUpvaW4obGluZUpvaW4pIHtcbiAgICAgICAgdGhpcy5fb3V0KGxpbmVKb2luLCBcIiBqXCIsIE5MKTtcbiAgICB9XG5cbiAgICBzZXRNaXR0ZXJMaW1pdChtaXR0ZXJMaW1pdCkge1xuICAgICAgICB0aGlzLl9vdXQobWl0dGVyTGltaXQsIFwiIE1cIiwgTkwpO1xuICAgIH1cblxuICAgIHNhdmUoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHRTdGFjay5wdXNoKHRoaXMuX2NvbnRleHQoKSk7XG4gICAgICAgIHRoaXMuX291dChcInFcIiwgTkwpO1xuICAgIH1cblxuICAgIHJlc3RvcmUoKSB7XG4gICAgICAgIHRoaXMuX291dChcIlFcIiwgTkwpO1xuICAgICAgICB0aGlzLl9jb250ZXh0KHRoaXMuX2NvbnRleHRTdGFjay5wb3AoKSk7XG4gICAgfVxuXG5cbiAgICAvLyBwYXRoc1xuICAgIG1vdmVUbyh4LCB5KSB7XG4gICAgICAgIHRoaXMuX291dCh4LCBcIiBcIiwgeSwgXCIgbVwiLCBOTCk7XG4gICAgfVxuXG4gICAgbGluZVRvKHgsIHkpIHtcbiAgICAgICAgdGhpcy5fb3V0KHgsIFwiIFwiLCB5LCBcIiBsXCIsIE5MKTtcbiAgICB9XG5cbiAgICBiZXppZXIoeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgICB0aGlzLl9vdXQoeDEsIFwiIFwiLCB5MSwgXCIgXCIsIHgyLCBcIiBcIiwgeTIsIFwiIFwiLCB4MywgXCIgXCIsIHkzLCBcIiBjXCIsIE5MKTtcbiAgICB9XG5cbiAgICBiZXppZXIxKHgxLCB5MSwgeDMsIHkzKSB7XG4gICAgICAgIHRoaXMuX291dCh4MSwgXCIgXCIsIHkxLCBcIiBcIiwgeDMsIFwiIFwiLCB5MywgXCIgeVwiLCBOTCk7XG4gICAgfVxuXG4gICAgYmV6aWVyMih4MiwgeTIsIHgzLCB5Mykge1xuICAgICAgICB0aGlzLl9vdXQoeDIsIFwiIFwiLCB5MiwgXCIgXCIsIHgzLCBcIiBcIiwgeTMsIFwiIHZcIiwgTkwpO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJoXCIsIE5MKTtcbiAgICB9XG5cbiAgICByZWN0KHgsIHksIHcsIGgpIHtcbiAgICAgICAgdGhpcy5fb3V0KHgsIFwiIFwiLCB5LCBcIiBcIiwgdywgXCIgXCIsIGgsIFwiIHJlXCIsIE5MKTtcbiAgICB9XG5cbiAgICBlbGxpcHNlKHgsIHksIHJ4LCByeSkge1xuICAgICAgICBmdW5jdGlvbiBfWCh2KSB7IHJldHVybiB4ICsgdjsgfVxuICAgICAgICBmdW5jdGlvbiBfWSh2KSB7IHJldHVybiB5ICsgdjsgfVxuXG4gICAgICAgIC8vIGhvdyB0byBnZXQgdG8gdGhlIFwibWFnaWMgbnVtYmVyXCIgaXMgZXhwbGFpbmVkIGhlcmU6XG4gICAgICAgIC8vIGh0dHA6Ly93d3cud2hpemtpZHRlY2gucmVkcHJpbmNlLm5ldC9iZXppZXIvY2lyY2xlL2thcHBhL1xuICAgICAgICB2YXIgayA9IDAuNTUyMjg0NzQ5ODMwNzkzNjtcblxuICAgICAgICB0aGlzLm1vdmVUbyhfWCgwKSwgX1kocnkpKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWChyeCAqIGspICwgX1kocnkpLFxuICAgICAgICAgICAgX1gocngpICAgICAsIF9ZKHJ5ICogayksXG4gICAgICAgICAgICBfWChyeCkgICAgICwgX1koMClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWChyeCkgICAgICwgX1koLXJ5ICogayksXG4gICAgICAgICAgICBfWChyeCAqIGspICwgX1koLXJ5KSxcbiAgICAgICAgICAgIF9YKDApICAgICAgLCBfWSgtcnkpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuYmV6aWVyKFxuICAgICAgICAgICAgX1goLXJ4ICogaykgLCBfWSgtcnkpLFxuICAgICAgICAgICAgX1goLXJ4KSAgICAgLCBfWSgtcnkgKiBrKSxcbiAgICAgICAgICAgIF9YKC1yeCkgICAgICwgX1koMClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iZXppZXIoXG4gICAgICAgICAgICBfWCgtcngpICAgICAsIF9ZKHJ5ICogayksXG4gICAgICAgICAgICBfWCgtcnggKiBrKSAsIF9ZKHJ5KSxcbiAgICAgICAgICAgIF9YKDApICAgICAgICwgX1kocnkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgY2lyY2xlKHgsIHksIHIpIHtcbiAgICAgICAgdGhpcy5lbGxpcHNlKHgsIHksIHIsIHIpO1xuICAgIH1cblxuICAgIHN0cm9rZSgpIHtcbiAgICAgICAgdGhpcy5fb3V0KFwiU1wiLCBOTCk7XG4gICAgfVxuXG4gICAgbm9wKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJuXCIsIE5MKTtcbiAgICB9XG5cbiAgICBjbGlwKCkge1xuICAgICAgICB0aGlzLl9vdXQoXCJXIG5cIiwgTkwpO1xuICAgIH1cblxuICAgIGNsaXBTdHJva2UoKSB7XG4gICAgICAgIHRoaXMuX291dChcIlcgU1wiLCBOTCk7XG4gICAgfVxuXG4gICAgY2xvc2VTdHJva2UoKSB7XG4gICAgICAgIHRoaXMuX291dChcInNcIiwgTkwpO1xuICAgIH1cblxuICAgIGZpbGwoKSB7XG4gICAgICAgIHRoaXMuX291dChcImZcIiwgTkwpO1xuICAgIH1cblxuICAgIGZpbGxTdHJva2UoKSB7XG4gICAgICAgIHRoaXMuX291dChcIkJcIiwgTkwpO1xuICAgIH1cblxuICAgIGRyYXdJbWFnZSh1cmwpIHtcbiAgICAgICAgdmFyIGltZyA9IHRoaXMuX3BkZi5nZXRJbWFnZSh1cmwpO1xuICAgICAgICBpZiAoaW1nKSB7IC8vIHRoZSByZXN1bHQgY2FuIGJlIG51bGwgZm9yIGEgY3Jvc3MtZG9tYWluIGltYWdlXG4gICAgICAgICAgICB0aGlzLl94UmVzb3VyY2VzW2ltZy5fcmVzb3VyY2VOYW1lXSA9IGltZztcbiAgICAgICAgICAgIHRoaXMuX291dChpbWcuX3Jlc291cmNlTmFtZSwgXCIgRG9cIiwgTkwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tbWVudCh0eHQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0eHQuc3BsaXQoL1xccj9cXG4vZykuZm9yRWFjaChmdW5jdGlvbihsaW5lKXtcbiAgICAgICAgICAgIHNlbGYuX291dChcIiUgXCIsIGxpbmUsIE5MKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gaW50ZXJuYWxcbiAgICBfY29udGV4dCh2YWwpIHtcbiAgICAgICAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9vcGFjaXR5ID0gdmFsLm9wYWNpdHk7XG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSB2YWwubWF0cml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB0aGlzLl9vcGFjaXR5LFxuICAgICAgICAgICAgICAgIG1hdHJpeDogdGhpcy5fbWF0cml4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3RvUGFnZShwKSB7XG4gICAgICAgIHZhciBtID0gdGhpcy5fbWF0cml4O1xuICAgICAgICB2YXIgYSA9IG1bMF0sIGIgPSBtWzFdLCBjID0gbVsyXSwgZCA9IG1bM10sIGUgPSBtWzRdLCBmID0gbVs1XTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGEqcC54ICsgYypwLnkgKyBlLFxuICAgICAgICAgICAgeTogYipwLnggKyBkKnAueSArIGZcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVucXVvdGUoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKihbJ1wiXSkoLiopXFwxXFxzKiQvLCBcIiQyXCIpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZvbnREZWYoZm9udGRlZikge1xuICAgIC8vIFhYWDogdGhpcyBpcyB2ZXJ5IGNydWRlIGZvciBub3cgYW5kIGJ1Z2d5LiAgUHJvcGVyIHBhcnNpbmcgaXMgcXVpdGUgaW52b2x2ZWQuXG4gICAgdmFyIHJ4ID0gL15cXHMqKChub3JtYWx8aXRhbGljKVxccyspPygobm9ybWFsfHNtYWxsLWNhcHMpXFxzKyk/KChub3JtYWx8Ym9sZHxcXGQrKVxccyspPygoWzAtOS5dKykocHh8cHQpKShcXC8oKFswLTkuXSspKHB4fHB0KXxub3JtYWwpKT9cXHMrKC4qPylcXHMqJC9pO1xuICAgIHZhciBtID0gcnguZXhlYyhmb250ZGVmKTtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHsgZm9udFNpemU6IDEyLCBmb250RmFtaWx5OiBcInNhbnMtc2VyaWZcIiB9O1xuICAgIH1cbiAgICB2YXIgZm9udFNpemUgPSBtWzhdID8gcGFyc2VJbnQobVs4XSwgMTApIDogMTI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXRhbGljICAgICA6IG1bMl0gJiYgbVsyXS50b0xvd2VyQ2FzZSgpID09IFwiaXRhbGljXCIsXG4gICAgICAgIHZhcmlhbnQgICAgOiBtWzRdLFxuICAgICAgICBib2xkICAgICAgIDogbVs2XSAmJiAvYm9sZHw3MDAvaS50ZXN0KG1bNl0pLFxuICAgICAgICBmb250U2l6ZSAgIDogZm9udFNpemUsXG4gICAgICAgIGxpbmVIZWlnaHQgOiBtWzEyXSA/IG1bMTJdID09IFwibm9ybWFsXCIgPyBmb250U2l6ZSA6IHBhcnNlSW50KG1bMTJdLCAxMCkgOiBudWxsLFxuICAgICAgICBmb250RmFtaWx5IDogbVsxNF0uc3BsaXQoL1xccyosXFxzKi9nKS5tYXAodW5xdW90ZSlcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRGb250VVJMKHN0eWxlKSB7XG4gICAgZnVuY3Rpb24gbWtGYW1pbHkobmFtZSkge1xuICAgICAgICBpZiAoc3R5bGUuYm9sZCkge1xuICAgICAgICAgICAgbmFtZSArPSBcInxib2xkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0eWxlLml0YWxpYykge1xuICAgICAgICAgICAgbmFtZSArPSBcInxpdGFsaWNcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHk7XG4gICAgdmFyIG5hbWUsIHVybDtcbiAgICBpZiAoZm9udEZhbWlseSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9udEZhbWlseS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbmFtZSA9IG1rRmFtaWx5KGZvbnRGYW1pbHlbaV0pO1xuICAgICAgICAgICAgdXJsID0gRk9OVF9NQVBQSU5HU1tuYW1lXTtcbiAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVybCA9IEZPTlRfTUFQUElOR1NbZm9udEZhbWlseS50b0xvd2VyQ2FzZSgpXTtcbiAgICB9XG4gICAgd2hpbGUgKHR5cGVvZiB1cmwgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHVybCA9IHVybCgpO1xuICAgIH1cbiAgICBpZiAoIXVybCkge1xuICAgICAgICB1cmwgPSBcIlRpbWVzLVJvbWFuXCI7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG59XG5cbnZhciBGT05UX01BUFBJTkdTID0ge1xuICAgIFwic2VyaWZcIiAgICAgICAgICAgICAgICAgICAgOiBcIlRpbWVzLVJvbWFuXCIsXG4gICAgXCJzZXJpZnxib2xkXCIgICAgICAgICAgICAgICA6IFwiVGltZXMtQm9sZFwiLFxuICAgIFwic2VyaWZ8aXRhbGljXCIgICAgICAgICAgICAgOiBcIlRpbWVzLUl0YWxpY1wiLFxuICAgIFwic2VyaWZ8Ym9sZHxpdGFsaWNcIiAgICAgICAgOiBcIlRpbWVzLUJvbGRJdGFsaWNcIixcbiAgICBcInNhbnMtc2VyaWZcIiAgICAgICAgICAgICAgIDogXCJIZWx2ZXRpY2FcIixcbiAgICBcInNhbnMtc2VyaWZ8Ym9sZFwiICAgICAgICAgIDogXCJIZWx2ZXRpY2EtQm9sZFwiLFxuICAgIFwic2Fucy1zZXJpZnxpdGFsaWNcIiAgICAgICAgOiBcIkhlbHZldGljYS1PYmxpcXVlXCIsXG4gICAgXCJzYW5zLXNlcmlmfGJvbGR8aXRhbGljXCIgICA6IFwiSGVsdmV0aWNhLUJvbGRPYmxpcXVlXCIsXG4gICAgXCJtb25vc3BhY2VcIiAgICAgICAgICAgICAgICA6IFwiQ291cmllclwiLFxuICAgIFwibW9ub3NwYWNlfGJvbGRcIiAgICAgICAgICAgOiBcIkNvdXJpZXItQm9sZFwiLFxuICAgIFwibW9ub3NwYWNlfGl0YWxpY1wiICAgICAgICAgOiBcIkNvdXJpZXItT2JsaXF1ZVwiLFxuICAgIFwibW9ub3NwYWNlfGJvbGR8aXRhbGljXCIgICAgOiBcIkNvdXJpZXItQm9sZE9ibGlxdWVcIixcbiAgICBcInphcGZkaW5nYmF0c1wiICAgICAgICAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xib2xkXCIgICAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xpdGFsaWNcIiAgICAgIDogXCJaYXBmRGluZ2JhdHNcIixcbiAgICBcInphcGZkaW5nYmF0c3xib2xkfGl0YWxpY1wiIDogXCJaYXBmRGluZ2JhdHNcIlxufTtcblxuZnVuY3Rpb24gZm9udEFsaWFzKGFsaWFzLCBuYW1lKSB7XG4gICAgYWxpYXMgPSBhbGlhcy50b0xvd2VyQ2FzZSgpO1xuICAgIEZPTlRfTUFQUElOR1NbYWxpYXNdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGT05UX01BUFBJTkdTW25hbWVdO1xuICAgIH07XG4gICAgRk9OVF9NQVBQSU5HU1thbGlhcyArIFwifGJvbGRcIl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZPTlRfTUFQUElOR1NbbmFtZSArIFwifGJvbGRcIl07XG4gICAgfTtcbiAgICBGT05UX01BUFBJTkdTW2FsaWFzICsgXCJ8aXRhbGljXCJdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGT05UX01BUFBJTkdTW25hbWUgKyBcInxpdGFsaWNcIl07XG4gICAgfTtcbiAgICBGT05UX01BUFBJTkdTW2FsaWFzICsgXCJ8Ym9sZHxpdGFsaWNcIl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIEZPTlRfTUFQUElOR1NbbmFtZSArIFwifGJvbGR8aXRhbGljXCJdO1xuICAgIH07XG59XG5cbi8vIExldCdzIGRlZmluZSBzb21lIGNvbW1vbiBuYW1lcyB0byBhbiBhcHByb3ByaWF0ZSByZXBsYWNlbWVudC5cbi8vIFRoZXNlIGFyZSBvdmVycmlkYWJsZSB2aWEgcGRmLmRlZmluZUZvbnQsIHNob3VsZCB0aGUgdXNlciB3YW50IHRvXG4vLyBpbmNsdWRlIHRoZSBwcm9wZXIgdmVyc2lvbnMuXG5cbmZvbnRBbGlhcyhcIlRpbWVzIE5ldyBSb21hblwiICwgXCJzZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkNvdXJpZXIgTmV3XCIgICAgICwgXCJtb25vc3BhY2VcIik7XG5mb250QWxpYXMoXCJBcmlhbFwiICAgICAgICAgICAsIFwic2Fucy1zZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkhlbHZldGljYVwiICAgICAgICwgXCJzYW5zLXNlcmlmXCIpO1xuZm9udEFsaWFzKFwiVmVyZGFuYVwiICAgICAgICAgLCBcInNhbnMtc2VyaWZcIik7XG5mb250QWxpYXMoXCJUYWhvbWFcIiAgICAgICAgICAsIFwic2Fucy1zZXJpZlwiKTtcbmZvbnRBbGlhcyhcIkdlb3JnaWFcIiAgICAgICAgICwgXCJzYW5zLXNlcmlmXCIpO1xuZm9udEFsaWFzKFwiTW9uYWNvXCIgICAgICAgICAgLCBcIm1vbm9zcGFjZVwiKTtcbmZvbnRBbGlhcyhcIkFuZGFsZSBNb25vXCIgICAgICwgXCJtb25vc3BhY2VcIik7XG5cbmZ1bmN0aW9uIGRlZmluZUZvbnQobmFtZSwgdXJsKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICBmb3IgKHZhciBpIGluIG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eShuYW1lLCBpKSkge1xuICAgICAgICAgICAgICAgIGRlZmluZUZvbnQoaSwgbmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBGT05UX01BUFBJTkdTW25hbWVdID0gdXJsO1xuXG4gICAgICAgIC8vIHNwZWNpYWwgaGFuZGxpbmcgZm9yIERlamFWdSBmb250czogaWYgdGhleSBnZXQgZGVmaW5lZCxcbiAgICAgICAgLy8gbGV0IHRoZW0gYWxzbyByZXBsYWNlIHRoZSBkZWZhdWx0IGZhbWlsaWVzLCBmb3IgZ29vZFxuICAgICAgICAvLyBVbmljb2RlIHN1cHBvcnQgb3V0IG9mIHRoZSBib3guXG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc1wiICAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZlwiXSAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xib2xkXCIgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxib2xkXCJdICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xpdGFsaWNcIiAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxpdGFsaWNcIl0gICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2Fuc3xib2xkfGl0YWxpY1wiICAgOiBGT05UX01BUFBJTkdTW1wic2Fucy1zZXJpZnxib2xkfGl0YWxpY1wiXSAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZcIiAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZcIl0gICAgICAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8Ym9sZFwiICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8Ym9sZFwiXSAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8aXRhbGljXCIgICAgICAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8aXRhbGljXCJdICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgc2VyaWZ8Ym9sZHxpdGFsaWNcIiAgOiBGT05UX01BUFBJTkdTW1wic2VyaWZ8Ym9sZHxpdGFsaWNcIl0gICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub1wiICAgICAgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlXCJdICAgICAgICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xib2xkXCIgICAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGJvbGRcIl0gICAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xpdGFsaWNcIiAgICAgICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGl0YWxpY1wiXSAgICAgICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkZWphdnUgbW9ub3xib2xkfGl0YWxpY1wiICAgOiBGT05UX01BUFBJTkdTW1wibW9ub3NwYWNlfGJvbGR8aXRhbGljXCJdICAgPSB1cmw7IGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtbXVsKGEsIGIpIHtcbiAgICB2YXIgYTEgPSBhWzBdLCBiMSA9IGFbMV0sIGMxID0gYVsyXSwgZDEgPSBhWzNdLCBlMSA9IGFbNF0sIGYxID0gYVs1XTtcbiAgICB2YXIgYTIgPSBiWzBdLCBiMiA9IGJbMV0sIGMyID0gYlsyXSwgZDIgPSBiWzNdLCBlMiA9IGJbNF0sIGYyID0gYls1XTtcbiAgICByZXR1cm4gW1xuICAgICAgICBhMSphMiArIGIxKmMyLCAgICAgICAgICBhMSpiMiArIGIxKmQyLFxuICAgICAgICBjMSphMiArIGQxKmMyLCAgICAgICAgICBjMSpiMiArIGQxKmQyLFxuICAgICAgICBlMSphMiArIGYxKmMyICsgZTIsICAgICBlMSpiMiArIGYxKmQyICsgZjJcbiAgICBdO1xufVxuXG5mdW5jdGlvbiBpc0lkZW50aXR5TWF0cml4KG0pIHtcbiAgICByZXR1cm4gbVswXSA9PT0gMSAmJiBtWzFdID09PSAwICYmIG1bMl0gPT09IDAgJiYgbVszXSA9PT0gMSAmJiBtWzRdID09PSAwICYmIG1bNV0gPT09IDA7XG59XG5cbmNvbnN0IFRFWFRfUkVOREVSSU5HX01PREUgPSB7XG4gICAgZmlsbCAgICAgICAgICAgOiAwLFxuICAgIHN0cm9rZSAgICAgICAgIDogMSxcbiAgICBmaWxsQW5kU3Ryb2tlICA6IDIsXG4gICAgaW52aXNpYmxlICAgICAgOiAzLFxuICAgIGZpbGxBbmRDbGlwICAgIDogNCxcbiAgICBzdHJva2VBbmRDbGlwICA6IDUsXG4gICAgZmlsbFN0cm9rZUNsaXAgOiA2LFxuICAgIGNsaXAgICAgICAgICAgIDogN1xufTtcblxuZXhwb3J0IHtcbiAgICBQREZEb2N1bWVudCBhcyBEb2N1bWVudCxcbiAgICBCaW5hcnlTdHJlYW0sXG4gICAgZGVmaW5lRm9udCxcbiAgICBwYXJzZUZvbnREZWYsXG4gICAgZ2V0Rm9udFVSTCxcbiAgICBsb2FkRm9udHMsXG4gICAgbG9hZEltYWdlcyxcbiAgICBnZXRQYXBlck9wdGlvbnMsXG4gICAgY2xlYXJJbWFnZUNhY2hlLFxuICAgIFRFWFRfUkVOREVSSU5HX01PREVcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG5pbXBvcnQgeyBjcmVhdGVQcm9taXNlIH0gZnJvbSBcIi4uL3V0aWxcIjtcbmltcG9ydCB7IHBhcnNlQ29sb3IgYXMgdXRpbHNfcGFyc2VDb2xvciwgc2F2ZUFzIGFzIHV0aWxfc2F2ZUFzLCBzdXBwb3J0IH0gZnJvbSBcIi4uL2NvbW1vblwiO1xuaW1wb3J0ICogYXMgUERGIGZyb20gXCIuL2NvcmVcIjtcbmltcG9ydCB7IEdyb3VwLCBQYXRoLCBNdWx0aVBhdGgsIEdyYWRpZW50LCBSYWRpYWxHcmFkaWVudCB9IGZyb20gJy4uL2RyYXdpbmcnO1xuaW1wb3J0ICogYXMgZ2VvIGZyb20gXCIuLi9nZW9tZXRyeVwiO1xuXG5jb25zdCBERUZBVUxUX0lNQUdFX0RQSSA9IDMwMDtcbmNvbnN0IFRFWFRfUkVOREVSSU5HX01PREUgPSBQREYuVEVYVF9SRU5ERVJJTkdfTU9ERTtcblxuY29uc3QgREFTSF9QQVRURVJOUyA9IHtcbiAgICBkYXNoICAgICAgICAgICA6IFsgNCBdLFxuICAgIGRhc2hEb3QgICAgICAgIDogWyA0LCAyLCAxLCAyIF0sXG4gICAgZG90ICAgICAgICAgICAgOiBbIDEsIDIgXSxcbiAgICBsb25nRGFzaCAgICAgICA6IFsgOCwgMiBdLFxuICAgIGxvbmdEYXNoRG90ICAgIDogWyA4LCAyLCAxLCAyIF0sXG4gICAgbG9uZ0Rhc2hEb3REb3QgOiBbIDgsIDIsIDEsIDIsIDEsIDIgXSxcbiAgICBzb2xpZCAgICAgICAgICA6IFtdXG59O1xuXG5jb25zdCBMSU5FX0NBUCA9IHtcbiAgICBidXR0ICAgOiAwLFxuICAgIHJvdW5kICA6IDEsXG4gICAgc3F1YXJlIDogMlxufTtcblxuY29uc3QgTElORV9KT0lOID0ge1xuICAgIG1pdGVyIDogMCxcbiAgICByb3VuZCA6IDEsXG4gICAgYmV2ZWwgOiAyXG59O1xuXG5mdW5jdGlvbiByZW5kZXIoZ3JvdXAsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZvbnRzID0gW10sIGltYWdlcyA9IHt9LCBvcHRpb25zID0gZ3JvdXAub3B0aW9ucztcblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvbihuYW1lLCBkZWZ2YWwsIGhhc2gpIHtcbiAgICAgICAgaWYgKCFoYXNoKSB7XG4gICAgICAgICAgICBoYXNoID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzaC5wZGYgJiYgaGFzaC5wZGZbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhc2gucGRmW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZ2YWw7XG4gICAgfVxuXG4gICAgdmFyIG11bHRpUGFnZSA9IGdldE9wdGlvbihcIm11bHRpUGFnZVwiKTtcbiAgICB2YXIgaW1nRFBJID0gZ2V0T3B0aW9uKFwiaW1nRFBJXCIsIERFRkFVTFRfSU1BR0VfRFBJKTtcblxuICAgIFBERi5jbGVhckltYWdlQ2FjaGUoKTtcblxuICAgIGdyb3VwLnRyYXZlcnNlKGZ1bmN0aW9uKGVsZW1lbnQpe1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICBJbWFnZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBlbGVtZW50LnNyYygpO1xuICAgICAgICAgICAgICAgIHZhciBzaXplID0gZWxlbWVudC5iYm94KCkuc2l6ZTtcbiAgICAgICAgICAgICAgICBpZiAoaW1nRFBJKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gaW1hZ2VzW3VybF07XG4gICAgICAgICAgICAgICAgICAgIHNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbChzaXplLndpZHRoICogaW1nRFBJIC8gNzIpLFxuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5jZWlsKHNpemUuaGVpZ2h0ICogaW1nRFBJIC8gNzIpXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzaXplLndpZHRoID0gTWF0aC5tYXgocHJldi53aWR0aCwgc2l6ZS53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZS5oZWlnaHQgPSBNYXRoLm1heChwcmV2LmhlaWdodCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW1hZ2VzW3VybF0gPSBzaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFRleHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBQREYucGFyc2VGb250RGVmKGVsZW1lbnQub3B0aW9ucy5mb250KTtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gUERGLmdldEZvbnRVUkwoc3R5bGUpO1xuICAgICAgICAgICAgICAgIGlmIChmb250cy5pbmRleE9mKHVybCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRzLnB1c2godXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gZG9JdCgpIHtcbiAgICAgICAgaWYgKC0tY291bnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGRmID0gbmV3IChQREYuRG9jdW1lbnQpKHtcbiAgICAgICAgICAgIHByb2R1Y2VyICA6IGdldE9wdGlvbihcInByb2R1Y2VyXCIpLFxuICAgICAgICAgICAgdGl0bGUgICAgIDogZ2V0T3B0aW9uKFwidGl0bGVcIiksXG4gICAgICAgICAgICBhdXRob3IgICAgOiBnZXRPcHRpb24oXCJhdXRob3JcIiksXG4gICAgICAgICAgICBzdWJqZWN0ICAgOiBnZXRPcHRpb24oXCJzdWJqZWN0XCIpLFxuICAgICAgICAgICAga2V5d29yZHMgIDogZ2V0T3B0aW9uKFwia2V5d29yZHNcIiksXG4gICAgICAgICAgICBjcmVhdG9yICAgOiBnZXRPcHRpb24oXCJjcmVhdG9yXCIpLFxuICAgICAgICAgICAgZGF0ZSAgICAgIDogZ2V0T3B0aW9uKFwiZGF0ZVwiKSxcblxuICAgICAgICAgICAgYXV0b1ByaW50IDogZ2V0T3B0aW9uKFwiYXV0b1ByaW50XCIpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdQYWdlKGdyb3VwKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGdyb3VwLm9wdGlvbnM7XG5cbiAgICAgICAgICAgIHZhciB0bXAgPSBvcHRpbWl6ZShncm91cCk7XG4gICAgICAgICAgICB2YXIgYmJveCA9IHRtcC5iYm94O1xuICAgICAgICAgICAgZ3JvdXAgPSB0bXAucm9vdDtcbiAgICAgICAgICAgIC8vIHZhciB0bXAsIGJib3g7XG5cbiAgICAgICAgICAgIHZhciBwYXBlclNpemUgPSBnZXRPcHRpb24oXCJwYXBlclNpemVcIiwgZ2V0T3B0aW9uKFwicGFwZXJTaXplXCIsIFwiYXV0b1wiKSwgb3B0aW9ucyksIGFkZE1hcmdpbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBhcGVyU2l6ZSA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgICAgIGlmIChiYm94KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gYmJveC5nZXRTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHBhcGVyU2l6ZSA9IFsgc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQgXTtcbiAgICAgICAgICAgICAgICAgICAgYWRkTWFyZ2luID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IGJib3guZ2V0T3JpZ2luKCk7XG4gICAgICAgICAgICAgICAgICAgIHRtcCA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgICAgICAgICB0bXAudHJhbnNmb3JtKG5ldyBnZW8uTWF0cml4KDEsIDAsIDAsIDEsIC1vcmlnaW4ueCwgLW9yaWdpbi55KSk7XG4gICAgICAgICAgICAgICAgICAgIHRtcC5hcHBlbmQoZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICBncm91cCA9IHRtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcGVyU2l6ZSA9IFwiQTRcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYWdlO1xuICAgICAgICAgICAgcGFnZSA9IHBkZi5hZGRQYWdlKHtcbiAgICAgICAgICAgICAgICBwYXBlclNpemUgOiBwYXBlclNpemUsXG4gICAgICAgICAgICAgICAgbWFyZ2luICAgIDogZ2V0T3B0aW9uKFwibWFyZ2luXCIsIGdldE9wdGlvbihcIm1hcmdpblwiKSwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgYWRkTWFyZ2luIDogYWRkTWFyZ2luLFxuICAgICAgICAgICAgICAgIGxhbmRzY2FwZSA6IGdldE9wdGlvbihcImxhbmRzY2FwZVwiLCBnZXRPcHRpb24oXCJsYW5kc2NhcGVcIiwgZmFsc2UpLCBvcHRpb25zKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkcmF3RWxlbWVudChncm91cCwgcGFnZSwgcGRmKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtdWx0aVBhZ2UpIHtcbiAgICAgICAgICAgIGdyb3VwLmNoaWxkcmVuLmZvckVhY2goZHJhd1BhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHJhd1BhZ2UoZ3JvdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2socGRmLnJlbmRlcigpLCBwZGYpO1xuICAgIH1cblxuICAgIHZhciBjb3VudCA9IDI7XG4gICAgUERGLmxvYWRGb250cyhmb250cywgZG9JdCk7XG4gICAgUERGLmxvYWRJbWFnZXMoaW1hZ2VzLCBkb0l0LCB7XG4gICAgICAgIGpwZWdRdWFsaXR5IDogZ2V0T3B0aW9uKFwianBlZ1F1YWxpdHlcIiwgMC45MiksXG4gICAgICAgIGtlZXBQTkcgICAgIDogZ2V0T3B0aW9uKFwia2VlcFBOR1wiLCBmYWxzZSlcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdG9EYXRhVVJMKGdyb3VwLCBjYWxsYmFjaykge1xuICAgIHJlbmRlcihncm91cCwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGNhbGxiYWNrKFwiZGF0YTphcHBsaWNhdGlvbi9wZGY7YmFzZTY0LFwiICsgZGF0YS5iYXNlNjQoKSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvQmxvYihncm91cCwgY2FsbGJhY2spIHtcbiAgICByZW5kZXIoZ3JvdXAsIGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBjYWxsYmFjayhuZXcgd2luZG93LkJsb2IoWyBkYXRhLmdldCgpIF0sIHsgdHlwZTogXCJhcHBsaWNhdGlvbi9wZGZcIiB9KSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNhdmVBcyhncm91cCwgZmlsZW5hbWUsIHByb3h5LCBjYWxsYmFjaykge1xuICAgIC8vIFhYWDogU2FmYXJpIGhhcyBCbG9iLCBidXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgZG93bmxvYWQgYXR0cmlidXRlXG4gICAgLy8gICAgICBzbyB3ZSdkIGVuZCB1cCBjb252ZXJ0aW5nIHRvIGRhdGFVUkwgYW5kIHVzaW5nIHRoZSBwcm94eSBhbnl3YXkuXG4gICAgaWYgKHdpbmRvdy5CbG9iICYmICFzdXBwb3J0LmJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgIHRvQmxvYihncm91cCwgZnVuY3Rpb24oYmxvYil7XG4gICAgICAgICAgICB1dGlsX3NhdmVBcyh7IGRhdGFVUkk6IGJsb2IsIGZpbGVOYW1lOiBmaWxlbmFtZSB9KTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGJsb2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0b0RhdGFVUkwoZ3JvdXAsIGZ1bmN0aW9uKGRhdGFVUkwpe1xuICAgICAgICAgICAgdXRpbF9zYXZlQXMoeyBkYXRhVVJJOiBkYXRhVVJMLCBmaWxlTmFtZTogZmlsZW5hbWUsIHByb3h5VVJMOiBwcm94eSB9KTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGFVUkwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoKGhhbmRsZXJzLCBlbGVtZW50KSB7XG4gICAgdmFyIGhhbmRsZXIgPSBoYW5kbGVyc1tlbGVtZW50Lm5vZGVUeXBlXTtcbiAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gaGFuZGxlci5jYWxsLmFwcGx5KGhhbmRsZXIsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xufVxuXG5mdW5jdGlvbiBkcmF3RWxlbWVudChlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICBpZiAoZWxlbWVudC5vcHRpb25zLl9wZGZEZWJ1Zykge1xuICAgICAgICBwYWdlLmNvbW1lbnQoXCJCRUdJTjogXCIgKyBlbGVtZW50Lm9wdGlvbnMuX3BkZkRlYnVnKTtcbiAgICB9XG5cbiAgICB2YXIgdHJhbnNmb3JtID0gZWxlbWVudC50cmFuc2Zvcm0oKTtcbiAgICB2YXIgb3BhY2l0eSA9IGVsZW1lbnQub3BhY2l0eSgpO1xuXG4gICAgcGFnZS5zYXZlKCk7XG5cbiAgICBpZiAob3BhY2l0eSAhPSBudWxsICYmIG9wYWNpdHkgPCAxKSB7XG4gICAgICAgIHBhZ2Uuc2V0T3BhY2l0eShvcGFjaXR5KTtcbiAgICB9XG5cbiAgICBzZXRTdHJva2VPcHRpb25zKGVsZW1lbnQsIHBhZ2UsIHBkZik7XG4gICAgc2V0RmlsbE9wdGlvbnMoZWxlbWVudCwgcGFnZSwgcGRmKTtcblxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIG0gPSB0cmFuc2Zvcm0ubWF0cml4KCk7XG4gICAgICAgIHBhZ2UudHJhbnNmb3JtKG0uYSwgbS5iLCBtLmMsIG0uZCwgbS5lLCBtLmYpO1xuICAgIH1cblxuICAgIHNldENsaXBwaW5nKGVsZW1lbnQsIHBhZ2UsIHBkZik7XG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICAgIFBhdGggICAgICA6IGRyYXdQYXRoLFxuICAgICAgICBNdWx0aVBhdGggOiBkcmF3TXVsdGlQYXRoLFxuICAgICAgICBDaXJjbGUgICAgOiBkcmF3Q2lyY2xlLFxuICAgICAgICBBcmMgICAgICAgOiBkcmF3QXJjLFxuICAgICAgICBUZXh0ICAgICAgOiBkcmF3VGV4dCxcbiAgICAgICAgSW1hZ2UgICAgIDogZHJhd0ltYWdlLFxuICAgICAgICBHcm91cCAgICAgOiBkcmF3R3JvdXAsXG4gICAgICAgIFJlY3QgICAgICA6IGRyYXdSZWN0XG4gICAgfSwgZWxlbWVudCwgcGFnZSwgcGRmKTtcblxuICAgIHBhZ2UucmVzdG9yZSgpO1xuXG4gICAgaWYgKGVsZW1lbnQub3B0aW9ucy5fcGRmRGVidWcpIHtcbiAgICAgICAgcGFnZS5jb21tZW50KFwiRU5EOiBcIiArIGVsZW1lbnQub3B0aW9ucy5fcGRmRGVidWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0U3Ryb2tlT3B0aW9ucyhlbGVtZW50LCBwYWdlKSB7XG4gICAgdmFyIHN0cm9rZSA9IGVsZW1lbnQuc3Ryb2tlICYmIGVsZW1lbnQuc3Ryb2tlKCk7XG4gICAgaWYgKCFzdHJva2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjb2xvciA9IHN0cm9rZS5jb2xvcjtcbiAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKGNvbG9yKTtcbiAgICAgICAgaWYgKGNvbG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gbm8gc3Ryb2tlXG4gICAgICAgIH1cbiAgICAgICAgcGFnZS5zZXRTdHJva2VDb2xvcihjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iKTtcbiAgICAgICAgaWYgKGNvbG9yLmEgIT0gMSkge1xuICAgICAgICAgICAgcGFnZS5zZXRTdHJva2VPcGFjaXR5KGNvbG9yLmEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHdpZHRoID0gc3Ryb2tlLndpZHRoO1xuICAgIGlmICh3aWR0aCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBzdHJva2VcbiAgICAgICAgfVxuICAgICAgICBwYWdlLnNldExpbmVXaWR0aCh3aWR0aCk7XG4gICAgfVxuXG4gICAgdmFyIGRhc2hUeXBlID0gc3Ryb2tlLmRhc2hUeXBlO1xuICAgIGlmIChkYXNoVHlwZSkge1xuICAgICAgICBwYWdlLnNldERhc2hQYXR0ZXJuKERBU0hfUEFUVEVSTlNbZGFzaFR5cGVdLCAwKTtcbiAgICB9XG5cbiAgICB2YXIgbGluZUNhcCA9IHN0cm9rZS5saW5lQ2FwO1xuICAgIGlmIChsaW5lQ2FwKSB7XG4gICAgICAgIHBhZ2Uuc2V0TGluZUNhcChMSU5FX0NBUFtsaW5lQ2FwXSk7XG4gICAgfVxuXG4gICAgdmFyIGxpbmVKb2luID0gc3Ryb2tlLmxpbmVKb2luO1xuICAgIGlmIChsaW5lSm9pbikge1xuICAgICAgICBwYWdlLnNldExpbmVKb2luKExJTkVfSk9JTltsaW5lSm9pbl0pO1xuICAgIH1cblxuICAgIHZhciBvcGFjaXR5ID0gc3Ryb2tlLm9wYWNpdHk7XG4gICAgaWYgKG9wYWNpdHkgIT0gbnVsbCkge1xuICAgICAgICBwYWdlLnNldFN0cm9rZU9wYWNpdHkob3BhY2l0eSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRGaWxsT3B0aW9ucyhlbGVtZW50LCBwYWdlKSB7XG4gICAgdmFyIGZpbGwgPSBlbGVtZW50LmZpbGwgJiYgZWxlbWVudC5maWxsKCk7XG4gICAgaWYgKCFmaWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZmlsbCBpbnN0YW5jZW9mIEdyYWRpZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY29sb3IgPSBmaWxsLmNvbG9yO1xuICAgIGlmIChjb2xvcikge1xuICAgICAgICBjb2xvciA9IHBhcnNlQ29sb3IoY29sb3IpO1xuICAgICAgICBpZiAoY29sb3IgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBubyBmaWxsXG4gICAgICAgIH1cbiAgICAgICAgcGFnZS5zZXRGaWxsQ29sb3IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgIGlmIChjb2xvci5hICE9IDEpIHtcbiAgICAgICAgICAgIHBhZ2Uuc2V0RmlsbE9wYWNpdHkoY29sb3IuYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgb3BhY2l0eSA9IGZpbGwub3BhY2l0eTtcbiAgICBpZiAob3BhY2l0eSAhPSBudWxsKSB7XG4gICAgICAgIHBhZ2Uuc2V0RmlsbE9wYWNpdHkob3BhY2l0eSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRDbGlwcGluZyhlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICAvLyBYWFg6IG9ubHkgUGF0aCBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudC5cbiAgICB2YXIgY2xpcCA9IGVsZW1lbnQuY2xpcCgpO1xuICAgIGlmIChjbGlwKSB7XG4gICAgICAgIF9kcmF3UGF0aChjbGlwLCBwYWdlLCBwZGYpO1xuICAgICAgICBwYWdlLmNsaXAoKTtcbiAgICAgICAgLy8gcGFnZS5zZXRTdHJva2VDb2xvcihNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgLy8gcGFnZS5zZXRMaW5lV2lkdGgoMSk7XG4gICAgICAgIC8vIHBhZ2Uuc3Ryb2tlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGREcmF3KHRoaW5nKSB7XG4gICAgcmV0dXJuICh0aGluZyAmJlxuICAgICAgICAgICAgKHRoaW5nIGluc3RhbmNlb2YgR3JhZGllbnQgfHxcbiAgICAgICAgICAgICAodGhpbmcuY29sb3IgJiYgIS9eKG5vbmV8dHJhbnNwYXJlbnQpJC9pLnRlc3QodGhpbmcuY29sb3IpICYmXG4gICAgICAgICAgICAgICh0aGluZy53aWR0aCA9PSBudWxsIHx8IHRoaW5nLndpZHRoID4gMCkgJiZcbiAgICAgICAgICAgICAgKHRoaW5nLm9wYWNpdHkgPT0gbnVsbCB8fCB0aGluZy5vcGFjaXR5ID4gMCkpKSk7XG59XG5cbmZ1bmN0aW9uIG1heWJlR3JhZGllbnQoZWxlbWVudCwgcGFnZSwgcGRmLCBzdHJva2UpIHtcbiAgICB2YXIgZmlsbCA9IGVsZW1lbnQuZmlsbCgpO1xuICAgIGlmIChmaWxsIGluc3RhbmNlb2YgR3JhZGllbnQpIHtcbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgcGFnZS5jbGlwU3Ryb2tlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYWdlLmNsaXAoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNSYWRpYWwgPSBmaWxsIGluc3RhbmNlb2YgUmFkaWFsR3JhZGllbnQ7XG4gICAgICAgIHZhciBzdGFydCwgZW5kO1xuICAgICAgICBpZiAoaXNSYWRpYWwpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0geyB4OiBmaWxsLmNlbnRlcigpLnggLCB5OiBmaWxsLmNlbnRlcigpLnkgLCByOiAwIH07XG4gICAgICAgICAgICBlbmQgICA9IHsgeDogZmlsbC5jZW50ZXIoKS54ICwgeTogZmlsbC5jZW50ZXIoKS55ICwgcjogZmlsbC5yYWRpdXMoKSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhcnQgPSB7IHg6IGZpbGwuc3RhcnQoKS54ICwgeTogZmlsbC5zdGFydCgpLnkgfTtcbiAgICAgICAgICAgIGVuZCAgID0geyB4OiBmaWxsLmVuZCgpLnggICAsIHk6IGZpbGwuZW5kKCkueSAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RvcHMgPSBmaWxsLnN0b3BzLmVsZW1lbnRzKCkubWFwKGZ1bmN0aW9uKHN0b3Ape1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHN0b3Aub2Zmc2V0KCk7XG4gICAgICAgICAgICBpZiAoLyUkLy50ZXN0KG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwYXJzZUZsb2F0KG9mZnNldCkgLyAxMDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHBhcnNlRmxvYXQob2Zmc2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb2xvciA9IHBhcnNlQ29sb3Ioc3RvcC5jb2xvcigpKTtcbiAgICAgICAgICAgIGNvbG9yLmEgKj0gc3RvcC5vcGFjaXR5KCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHVwbGljYXRzIGZpcnN0IGFuZCBsYXN0IHN0b3AgdG8gZml4XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzE3ODJcbiAgICAgICAgc3RvcHMudW5zaGlmdChzdG9wc1swXSk7XG4gICAgICAgIHN0b3BzLnB1c2goc3RvcHNbc3RvcHMubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgIHZhciBncmFkaWVudCA9IHtcbiAgICAgICAgICAgIHVzZXJTcGFjZSA6IGZpbGwudXNlclNwYWNlKCksXG4gICAgICAgICAgICB0eXBlICAgICAgOiBpc1JhZGlhbCA/IFwicmFkaWFsXCIgOiBcImxpbmVhclwiLFxuICAgICAgICAgICAgc3RhcnQgICAgIDogc3RhcnQsXG4gICAgICAgICAgICBlbmQgICAgICAgOiBlbmQsXG4gICAgICAgICAgICBzdG9wcyAgICAgOiBzdG9wc1xuICAgICAgICB9O1xuICAgICAgICB2YXIgYm94ID0gZWxlbWVudC5yYXdCQm94KCk7XG4gICAgICAgIHZhciB0bCA9IGJveC50b3BMZWZ0KCksIHNpemUgPSBib3guZ2V0U2l6ZSgpO1xuICAgICAgICBib3ggPSB7XG4gICAgICAgICAgICBsZWZ0ICAgOiB0bC54LFxuICAgICAgICAgICAgdG9wICAgIDogdGwueSxcbiAgICAgICAgICAgIHdpZHRoICA6IHNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgOiBzaXplLmhlaWdodFxuICAgICAgICB9O1xuICAgICAgICBwYWdlLmdyYWRpZW50KGdyYWRpZW50LCBib3gpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1heWJlRmlsbFN0cm9rZShlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICBpZiAoc2hvdWxkRHJhdyhlbGVtZW50LmZpbGwoKSkgJiYgc2hvdWxkRHJhdyhlbGVtZW50LnN0cm9rZSgpKSkge1xuICAgICAgICBpZiAoIW1heWJlR3JhZGllbnQoZWxlbWVudCwgcGFnZSwgcGRmLCB0cnVlKSkge1xuICAgICAgICAgICAgcGFnZS5maWxsU3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNob3VsZERyYXcoZWxlbWVudC5maWxsKCkpKSB7XG4gICAgICAgIGlmICghbWF5YmVHcmFkaWVudChlbGVtZW50LCBwYWdlLCBwZGYsIGZhbHNlKSkge1xuICAgICAgICAgICAgcGFnZS5maWxsKCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNob3VsZERyYXcoZWxlbWVudC5zdHJva2UoKSkpIHtcbiAgICAgICAgcGFnZS5zdHJva2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBzaG91bGQgbm90IGdldCBoZXJlOyB0aGUgcGF0aCBzaG91bGQgaGF2ZSBiZWVuXG4gICAgICAgIC8vIG9wdGltaXplZCBhd2F5LiAgYnV0IGxldCdzIGJlIHByZXBhcmVkLlxuICAgICAgICBwYWdlLm5vcCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVEcmF3UmVjdChwYXRoLCBwYWdlKSB7XG4gICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zZWdtZW50cztcbiAgICBpZiAoc2VnbWVudHMubGVuZ3RoID09IDQgJiYgcGF0aC5vcHRpb25zLmNsb3NlZCkge1xuICAgICAgICAvLyBkZXRlY3QgaWYgdGhpcyBwYXRoIGxvb2tzIGxpa2UgYSByZWN0YW5nbGUgcGFyYWxsZWwgdG8gdGhlIGF4aXNcbiAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHNlZ21lbnRzW2ldLmNvbnRyb2xJbigpKSB7IC8vIGhhcyBjdXJ2ZT9cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhW2ldID0gc2VnbWVudHNbaV0uYW5jaG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBhIHJlY3RhbmdsZSBpZiB0aGUgeS94L3kveCBvciB4L3kveC95IGNvb3JkcyBvZlxuICAgICAgICAvLyBjb25zZWN1dGl2ZSBwb2ludHMgYXJlIHRoZSBzYW1lLlxuICAgICAgICB2YXIgaXNSZWN0ID0gKFxuICAgICAgICAgICAgYVswXS55ID09IGFbMV0ueSAmJiBhWzFdLnggPT0gYVsyXS54ICYmIGFbMl0ueSA9PSBhWzNdLnkgJiYgYVszXS54ID09IGFbMF0ueFxuICAgICAgICApIHx8IChcbiAgICAgICAgICAgIGFbMF0ueCA9PSBhWzFdLnggJiYgYVsxXS55ID09IGFbMl0ueSAmJiBhWzJdLnggPT0gYVszXS54ICYmIGFbM10ueSA9PSBhWzBdLnlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGlzUmVjdCkge1xuICAgICAgICAgICAgLy8gdGhpcyBzYXZlcyBhIGJ1bmNoIG9mIGluc3RydWN0aW9ucyBpbiBQREY6XG4gICAgICAgICAgICAvLyBtb3ZlVG8sIGxpbmVUbywgbGluZVRvLCBsaW5lVG8sIGNsb3NlIC0+IHJlY3QuXG4gICAgICAgICAgICBwYWdlLnJlY3QoYVswXS54LCBhWzBdLnksXG4gICAgICAgICAgICAgICAgICAgICAgYVsyXS54IC0gYVswXS54IC8qd2lkdGgqLyxcbiAgICAgICAgICAgICAgICAgICAgICBhWzJdLnkgLSBhWzBdLnkgLypoZWlnaHQqLyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gX2RyYXdQYXRoKGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIHZhciBzZWdtZW50cyA9IGVsZW1lbnQuc2VnbWVudHM7XG4gICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghbWF5YmVEcmF3UmVjdChlbGVtZW50LCBwYWdlLCBwZGYpKSB7XG4gICAgICAgIGZvciAodmFyIHByZXYsIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzZWcgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBzZWcuYW5jaG9yKCk7XG4gICAgICAgICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgICAgICAgICBwYWdlLm1vdmVUbyhhbmNob3IueCwgYW5jaG9yLnkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldk91dCA9IHByZXYuY29udHJvbE91dCgpO1xuICAgICAgICAgICAgICAgIHZhciBjb250cm9sSW4gPSBzZWcuY29udHJvbEluKCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZPdXQgJiYgY29udHJvbEluKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuYmV6aWVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldk91dC54ICAgLCBwcmV2T3V0LnksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sSW4ueCAsIGNvbnRyb2xJbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLnggICAgLCBhbmNob3IueVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UubGluZVRvKGFuY2hvci54LCBhbmNob3IueSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldiA9IHNlZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5vcHRpb25zLmNsb3NlZCkge1xuICAgICAgICAgICAgcGFnZS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3UGF0aChlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICBfZHJhd1BhdGgoZWxlbWVudCwgcGFnZSwgcGRmKTtcbiAgICBtYXliZUZpbGxTdHJva2UoZWxlbWVudCwgcGFnZSwgcGRmKTtcbn1cblxuZnVuY3Rpb24gZHJhd011bHRpUGF0aChlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICB2YXIgcGF0aHMgPSBlbGVtZW50LnBhdGhzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgX2RyYXdQYXRoKHBhdGhzW2ldLCBwYWdlLCBwZGYpO1xuICAgIH1cbiAgICBtYXliZUZpbGxTdHJva2UoZWxlbWVudCwgcGFnZSwgcGRmKTtcbn1cblxuZnVuY3Rpb24gZHJhd0NpcmNsZShlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICB2YXIgZyA9IGVsZW1lbnQuZ2VvbWV0cnkoKTtcbiAgICBwYWdlLmNpcmNsZShnLmNlbnRlci54LCBnLmNlbnRlci55LCBnLnJhZGl1cyk7XG4gICAgbWF5YmVGaWxsU3Ryb2tlKGVsZW1lbnQsIHBhZ2UsIHBkZik7XG59XG5cbmZ1bmN0aW9uIGRyYXdBcmMoZWxlbWVudCwgcGFnZSwgcGRmKSB7XG4gICAgdmFyIHBvaW50cyA9IGVsZW1lbnQuZ2VvbWV0cnkoKS5jdXJ2ZVBvaW50cygpO1xuICAgIHBhZ2UubW92ZVRvKHBvaW50c1swXS54LCBwb2ludHNbMF0ueSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBwb2ludHMubGVuZ3RoOykge1xuICAgICAgICBwYWdlLmJlemllcihcbiAgICAgICAgICAgIHBvaW50c1tpXS54LCBwb2ludHNbaSsrXS55LFxuICAgICAgICAgICAgcG9pbnRzW2ldLngsIHBvaW50c1tpKytdLnksXG4gICAgICAgICAgICBwb2ludHNbaV0ueCwgcG9pbnRzW2krK10ueVxuICAgICAgICApO1xuICAgIH1cbiAgICBtYXliZUZpbGxTdHJva2UoZWxlbWVudCwgcGFnZSwgcGRmKTtcbn1cblxuZnVuY3Rpb24gZHJhd1RleHQoZWxlbWVudCwgcGFnZSkge1xuICAgIHZhciBzdHlsZSA9IFBERi5wYXJzZUZvbnREZWYoZWxlbWVudC5vcHRpb25zLmZvbnQpO1xuICAgIHZhciBwb3MgPSBlbGVtZW50Ll9wb3NpdGlvbjtcbiAgICB2YXIgbW9kZTtcbiAgICBpZiAoZWxlbWVudC5maWxsKCkgJiYgZWxlbWVudC5zdHJva2UoKSkge1xuICAgICAgICBtb2RlID0gVEVYVF9SRU5ERVJJTkdfTU9ERS5maWxsQW5kU3Ryb2tlO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maWxsKCkpIHtcbiAgICAgICAgbW9kZSA9IFRFWFRfUkVOREVSSU5HX01PREUuZmlsbDtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuc3Ryb2tlKCkpIHtcbiAgICAgICAgbW9kZSA9IFRFWFRfUkVOREVSSU5HX01PREUuc3Ryb2tlO1xuICAgIH1cblxuICAgIHBhZ2UudHJhbnNmb3JtKDEsIDAsIDAsIC0xLCBwb3MueCwgcG9zLnkgKyBzdHlsZS5mb250U2l6ZSk7XG4gICAgcGFnZS5iZWdpblRleHQoKTtcbiAgICBwYWdlLnNldEZvbnQoUERGLmdldEZvbnRVUkwoc3R5bGUpLCBzdHlsZS5mb250U2l6ZSk7XG4gICAgcGFnZS5zZXRUZXh0UmVuZGVyaW5nTW9kZShtb2RlKTtcbiAgICBwYWdlLnNob3dUZXh0KGVsZW1lbnQuY29udGVudCgpLCBlbGVtZW50Ll9wZGZSZWN0ID8gZWxlbWVudC5fcGRmUmVjdC53aWR0aCgpIDogbnVsbCk7XG4gICAgcGFnZS5lbmRUZXh0KCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdHcm91cChlbGVtZW50LCBwYWdlLCBwZGYpIHtcbiAgICBpZiAoZWxlbWVudC5fcGRmTGluaykge1xuICAgICAgICBwYWdlLmFkZExpbmsoZWxlbWVudC5fcGRmTGluay51cmwsIGVsZW1lbnQuX3BkZkxpbmspO1xuICAgIH1cbiAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZHJhd0VsZW1lbnQoY2hpbGRyZW5baV0sIHBhZ2UsIHBkZik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmF3SW1hZ2UoZWxlbWVudCwgcGFnZSkge1xuICAgIHZhciB1cmwgPSBlbGVtZW50LnNyYygpO1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVjdCA9IGVsZW1lbnQucmVjdCgpO1xuICAgIHZhciB0bCA9IHJlY3QuZ2V0T3JpZ2luKCk7XG4gICAgdmFyIHN6ID0gcmVjdC5nZXRTaXplKCk7XG4gICAgcGFnZS50cmFuc2Zvcm0oc3oud2lkdGgsIDAsIDAsIC1zei5oZWlnaHQsIHRsLngsIHRsLnkgKyBzei5oZWlnaHQpO1xuICAgIHBhZ2UuZHJhd0ltYWdlKHVybCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdSZWN0KGVsZW1lbnQsIHBhZ2UsIHBkZikge1xuICAgIHZhciBnZW9tZXRyeSA9IGVsZW1lbnQuZ2VvbWV0cnkoKTtcbiAgICBjb25zdCBbIHJ4LCByeSBdID0gZ2VvbWV0cnkuY29ybmVyUmFkaXVzO1xuICAgIGlmIChyeCA9PT0gMCAmJiByeSA9PT0gMCkge1xuICAgICAgICBwYWdlLnJlY3QoZ2VvbWV0cnkub3JpZ2luLngsIGdlb21ldHJ5Lm9yaWdpbi55LCBnZW9tZXRyeS5zaXplLndpZHRoLCBnZW9tZXRyeS5zaXplLmhlaWdodCk7XG4gICAgICAgIG1heWJlRmlsbFN0cm9rZShlbGVtZW50LCBwYWdlLCBwZGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYXdQYXRoKFBhdGguZnJvbVJlY3QoZ2VvbWV0cnksIGVsZW1lbnQub3B0aW9ucyksIHBhZ2UsIHBkZik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUNvbG9yKHZhbHVlKSB7XG4gICAgdmFyIGNvbG9yID0gdXRpbHNfcGFyc2VDb2xvcih2YWx1ZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGNvbG9yID8gY29sb3IudG9SR0IoKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIG9wdGltaXplKHJvb3QpIHtcbiAgICB2YXIgY2xpcGJveCA9IGZhbHNlO1xuICAgIHZhciBtYXRyaXggPSBnZW8uTWF0cml4LnVuaXQoKTtcbiAgICB2YXIgY3VycmVudEJveCA9IG51bGw7XG4gICAgdmFyIGNoYW5nZWQ7XG4gICAgZG8ge1xuICAgICAgICBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHJvb3QgPSBvcHQocm9vdCk7XG4gICAgfSB3aGlsZSAocm9vdCAmJiBjaGFuZ2VkKTtcbiAgICByZXR1cm4geyByb290OiByb290LCBiYm94OiBjdXJyZW50Qm94IH07XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2UobmV3U2hhcGUpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXdTaGFwZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aXNpYmxlKHNoYXBlKSB7XG4gICAgICAgIHJldHVybiAoc2hhcGUudmlzaWJsZSgpICYmIHNoYXBlLm9wYWNpdHkoKSA+IDAgJiZcbiAgICAgICAgICAgICAgICAoIHNob3VsZERyYXcoc2hhcGUuZmlsbCgpKSB8fFxuICAgICAgICAgICAgICAgICAgc2hvdWxkRHJhdyhzaGFwZS5zdHJva2UoKSkgKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3B0QXJyYXkoYSkge1xuICAgICAgICB2YXIgYiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBlbCA9IG9wdChhW2ldKTtcbiAgICAgICAgICAgIGlmIChlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYi5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3aXRoQ2xpcHBpbmcoc2hhcGUsIGYpIHtcbiAgICAgICAgdmFyIHNhdmVjbGlwYm94ID0gY2xpcGJveDtcbiAgICAgICAgdmFyIHNhdmVtYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKHNoYXBlLnRyYW5zZm9ybSgpKSB7XG4gICAgICAgICAgICBtYXRyaXggPSBtYXRyaXgubXVsdGlwbHlDb3B5KHNoYXBlLnRyYW5zZm9ybSgpLm1hdHJpeCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjbGlwID0gc2hhcGUuY2xpcCgpO1xuICAgICAgICBpZiAoY2xpcCkge1xuICAgICAgICAgICAgY2xpcCA9IGNsaXAuYmJveCgpO1xuICAgICAgICAgICAgaWYgKGNsaXApIHtcbiAgICAgICAgICAgICAgICBjbGlwID0gY2xpcC5iYm94KG1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY2xpcGJveCA9IGNsaXBib3ggPyBnZW8uUmVjdC5pbnRlcnNlY3QoY2xpcGJveCwgY2xpcCkgOiBjbGlwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBjbGlwYm94ID0gc2F2ZWNsaXBib3g7XG4gICAgICAgICAgICBtYXRyaXggPSBzYXZlbWF0cml4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5DbGlwYm94KHNoYXBlKSB7XG4gICAgICAgIGlmIChjbGlwYm94ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm94ID0gc2hhcGUucmF3QkJveCgpLmJib3gobWF0cml4KTtcbiAgICAgICAgaWYgKGNsaXBib3ggJiYgYm94KSB7XG4gICAgICAgICAgICBib3ggPSBnZW8uUmVjdC5pbnRlcnNlY3QoYm94LCBjbGlwYm94KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYm94O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wdChzaGFwZSkge1xuICAgICAgICByZXR1cm4gd2l0aENsaXBwaW5nKHNoYXBlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCEoc2hhcGUgaW5zdGFuY2VvZiBHcm91cCB8fCBzaGFwZSBpbnN0YW5jZW9mIE11bHRpUGF0aCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gaW5DbGlwYm94KHNoYXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoIWJveCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50Qm94ID0gY3VycmVudEJveCA/IGdlby5SZWN0LnVuaW9uKGN1cnJlbnRCb3gsIGJveCkgOiBib3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goe1xuICAgICAgICAgICAgICAgIFBhdGg6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFwZS5zZWdtZW50cy5sZW5ndGggPT09IDAgfHwgIXZpc2libGUoc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE11bHRpUGF0aDogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBuZXcgTXVsdGlQYXRoKHNoYXBlLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBlbC5wYXRocyA9IG9wdEFycmF5KHNoYXBlLnBhdGhzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBDaXJjbGU6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaWJsZShzaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgQXJjOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZpc2libGUoc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRleHQ6IGZ1bmN0aW9uKHNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghL1xcUy8udGVzdChzaGFwZS5jb250ZW50KCkpIHx8ICF2aXNpYmxlKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBJbWFnZTogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc2hhcGUudmlzaWJsZSgpICYmIHNoYXBlLm9wYWNpdHkoKSA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGFwZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIEdyb3VwOiBmdW5jdGlvbihzaGFwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShzaGFwZS52aXNpYmxlKCkgJiYgc2hhcGUub3BhY2l0eSgpID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gbmV3IEdyb3VwKHNoYXBlLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBlbC5jaGlsZHJlbiA9IG9wdEFycmF5KHNoYXBlLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuX3BkZkxpbmsgPSBzaGFwZS5fcGRmTGluaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYXBlICE9PSByb290ICYmIGVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCAmJiAhc2hhcGUuX3BkZkxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgUmVjdDogZnVuY3Rpb24oc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2aXNpYmxlKHNoYXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgc2hhcGUpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGV4cG9ydFBERihncm91cCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9taXNlID0gY3JlYXRlUHJvbWlzZSgpO1xuXG4gICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpID09IFwibWFyZ2luXCIgJiYgZ3JvdXAub3B0aW9ucy5wZGYgJiYgZ3JvdXAub3B0aW9ucy5wZGYuX2lnbm9yZU1hcmdpbikge1xuICAgICAgICAgICAgLy8gVGhpcyBoYWNraXNoIG9wdGlvbiBpcyBzZXQgYnkgdGhlIHBhZ2UgYnJlYWtpbmcgY29kZSBpbiBkcmF3RE9NLiAgVGhlIGlkZWEgaXNcbiAgICAgICAgICAgIC8vIHRoYXQgbWFyZ2luIGlzIGFscmVhZHkgdGFrZW4gaW50byBhY2NvdW50IHRoZXJlICh0aGF0J3MgcmVxdWlyZWQgdG8gZG8gcHJvcGVyXG4gICAgICAgICAgICAvLyBwYWdlIGJyZWFraW5nKSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBzZXQgaXQgYWdhaW4gaGVyZSwgYXMgaXQgd291bGQgZG91YmxlIHRoZVxuICAgICAgICAgICAgLy8gdG9wLWxlZnQgbWFyZ2luLCBhbmQgdHJ1bmNhdGUgdGhlIGNvbnRlbnQgb24gYm90dG9tL3JpZ2h0LlxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAub3B0aW9ucy5zZXQoXCJwZGYuXCIgKyBpLCBvcHRpb25zW2ldKTtcbiAgICB9XG5cbiAgICB0b0RhdGFVUkwoZ3JvdXAsIHByb21pc2UucmVzb2x2ZSk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gWFhYOiB0aGUgZHVwbGljYXRpb24gaXMgaW4gb3JkZXIgdG8ga2VlcCBleHBvcnRQREYgcmV0dXJuIGEgZGF0YVxuLy8gVVJJLCB3aGljaCBpcyB3aGF0IHByZXZpb3VzIHZlcnNpb25zIGRvLiAgQ3VycmVudGx5IG9ubHkgSUU5IGRvZXNcbi8vIG5vdCBzdXBwb3J0IEJsb2IsIElNTyB3ZSBzaG91bGQgc3dpdGNoIHRvIEJsb2IgYnkgZGVmYXVsdFxuLy8gZXZlcnl3aGVyZS5cbmZ1bmN0aW9uIGV4cG9ydFBERlRvQmxvYihncm91cCwgb3B0aW9ucykge1xuICAgIHZhciBwcm9taXNlID0gY3JlYXRlUHJvbWlzZSgpO1xuXG4gICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgIGlmIChpID09IFwibWFyZ2luXCIgJiYgZ3JvdXAub3B0aW9ucy5wZGYgJiYgZ3JvdXAub3B0aW9ucy5wZGYuX2lnbm9yZU1hcmdpbikge1xuICAgICAgICAgICAgLy8gVGhpcyBoYWNraXNoIG9wdGlvbiBpcyBzZXQgYnkgdGhlIHBhZ2UgYnJlYWtpbmcgY29kZSBpbiBkcmF3RE9NLiAgVGhlIGlkZWEgaXNcbiAgICAgICAgICAgIC8vIHRoYXQgbWFyZ2luIGlzIGFscmVhZHkgdGFrZW4gaW50byBhY2NvdW50IHRoZXJlICh0aGF0J3MgcmVxdWlyZWQgdG8gZG8gcHJvcGVyXG4gICAgICAgICAgICAvLyBwYWdlIGJyZWFraW5nKSBhbmQgd2UgZG9uJ3Qgd2FudCB0byBzZXQgaXQgYWdhaW4gaGVyZSwgYXMgaXQgd291bGQgZG91YmxlIHRoZVxuICAgICAgICAgICAgLy8gdG9wLWxlZnQgbWFyZ2luLCBhbmQgdHJ1bmNhdGUgdGhlIGNvbnRlbnQgb24gYm90dG9tL3JpZ2h0LlxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAub3B0aW9ucy5zZXQoXCJwZGYuXCIgKyBpLCBvcHRpb25zW2ldKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LkJsb2IgJiYgIXN1cHBvcnQuYnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgdG9CbG9iKGdyb3VwLCBwcm9taXNlLnJlc29sdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRvRGF0YVVSTChncm91cCwgcHJvbWlzZS5yZXNvbHZlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuXG5leHBvcnQgeyBleHBvcnRQREYsIGV4cG9ydFBERlRvQmxvYiwgc2F2ZUFzLCB0b0RhdGFVUkwsIHRvQmxvYiwgcmVuZGVyIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMsIGtleS1zcGFjaW5nLCBpbmRlbnQsIGNhbWVsY2FzZSwgc3BhY2UtYmVmb3JlLWJsb2NrcywgZXFlcWVxLCBicmFjZS1zdHlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgc3BhY2UtaW5maXgtb3BzLCBzcGFjZS1iZWZvcmUtZnVuY3Rpb24tcGFyZW4sIGFycmF5LWJyYWNrZXQtc3BhY2luZywgb2JqZWN0LWN1cmx5LXNwYWNpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW5lc3RlZC10ZXJuYXJ5LCBtYXgtcGFyYW1zLCBkZWZhdWx0LWNhc2UsIG5vLWVsc2UtcmV0dXJuLCBuby1lbXB0eSwgeW9kYSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24sIG5vLXZhciwgYmxvY2stc2NvcGVkLXZhciAqL1xuXG5pbXBvcnQgKiBhcyBnZW8gZnJvbSBcIi4uL2dlb21ldHJ5XCI7XG5pbXBvcnQgKiBhcyBQREYgZnJvbSBcIi4uL3BkZlwiO1xuaW1wb3J0IHsgYXJhYmljVG9Sb21hbiwgY3JlYXRlUHJvbWlzZSwgbWVhc3VyZVRleHQsIG1lcmdlU29ydCB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgcGFyc2VDb2xvciBhcyB1dGlsc19wYXJzZUNvbG9yLCBzdXBwb3J0LCB0ZW1wbGF0ZSBhcyBjb21waWxlVGVtcGxhdGUgfSBmcm9tIFwiLi4vY29tbW9uXCI7XG5pbXBvcnQgeyBQYXRoLCBUZXh0LCBHcm91cCwgSW1hZ2UsIENpcmNsZSwgUmVjdCwgTGluZWFyR3JhZGllbnQgfSBmcm9tIFwiLi4vZHJhd2luZ1wiO1xuaW1wb3J0IHsgZW5jb2RlQmFzZTY0IH0gZnJvbSBcIi4uL3V0aWxcIjtcblxuY29uc3QgYnJvd3NlciA9IHN1cHBvcnQuYnJvd3NlciB8fCB7fTtcbi8qXG5cbiAgWFhYOiB0byB0ZXN0OlxuXG4gIC0gY2xvbmVOb2RlcyBmdW5jdGlvbjpcbiAgICAtIGRyYXdpbmcgZG9jdW1lbnQgY29udGFpbmluZyBjYW52YXMgd2l0aCBwYWdlIGJyZWFraW5nXG4gICAgLSBkcmF3aW5nIGRvY3VtZW50IHdpdGggbmFtZWQgcmFkaW8gPGlucHV0Pi1zIChzaG91bGQgbm90IGNsZWFyIHNlbGVjdGlvbilcbiAgICAtIElFOS9JRTEwIGRvbid0IHN1cHBvcnQgZWwuZGF0YXNldDsgZG8gdGhleSBjb3B5IHVzZXIgZGF0YT9cblxuICAtIHJlcGVhdGluZyB0YWJsZSBoZWFkZXJzL2Zvb3RlcnMgb24gcGFnZSBicmVha2luZ1xuXG4gIC0gZm9yY2VCcmVhaywga2VlcFRvZ2V0aGVyXG5cbiAgLSBhdm9pZExpbmtzXG5cbiAqL1xuXG4vKiAtLS0tLVsgbG9jYWwgdmFycyBdLS0tLS0gKi9cblxuZnVuY3Rpb24gc2xpY2UodGhpbmcpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpbmcpO1xufVxuXG52YXIgS0VORE9fUFNFVURPX0VMRU1FTlQgPSBcIktFTkRPLVBTRVVETy1FTEVNRU5UXCI7XG5jb25zdCBLRU5ET19CVUxMRVRfVFlQRSA9ICdkYXRhLWtlbmRvLWJ1bGxldC10eXBlJztcblxudmFyIElNQUdFX0NBQ0hFID0ge307XG5cbnZhciBub2RlSW5mbyA9IHt9O1xubm9kZUluZm8uX3Jvb3QgPSBub2RlSW5mbztcblxuLyogLS0tLS1bIEN1c3RvbSBUZXh0IG5vZGUgdG8gc3BlZWQgdXAgcmVuZGVyaW5nIGluIFBERiBdLS0tLS0gKi9cblxuY29uc3QgaW5Ccm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBtaWNyb3NvZnQgPSBpbkJyb3dzZXIgPyBicm93c2VyLm1zaWUgfHwgYnJvd3Nlci5lZGdlIDogZmFsc2U7XG5cbmNsYXNzIFRleHRSZWN0IGV4dGVuZHMgVGV4dCB7XG4gICAgY29uc3RydWN0b3Ioc3RyLCByZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHN0ciwgcmVjdC5nZXRPcmlnaW4oKSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3BkZlJlY3QgPSByZWN0O1xuICAgIH1cbiAgICByZWN0KCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjcnV4IG9mIGl0OiB3ZSBjYW4gYXZvaWQgYSBjYWxsIHRvXG4gICAgICAgIC8vIG1lYXN1cmUoKSwgd2hpY2ggaXMgd2hhdCB0aGUgYmFzZSBjbGFzcyBkb2VzLCBzaW5jZSB3ZVxuICAgICAgICAvLyBhbHJlYWR5IGtub3cgdGhlIHJlY3QuICBtZWFzdXJlKCkgaXMgcy1sLW8tdy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BkZlJlY3Q7XG4gICAgfVxuICAgIHJhd0JCb3goKSB7XG4gICAgICAgIC8vIGFsc28gbGV0J3MgYXZvaWQgY3JlYXRpbmcgYSBuZXcgcmVjdGFuZ2xlLlxuICAgICAgICByZXR1cm4gdGhpcy5fcGRmUmVjdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsLCBjbHMpIHtcbiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbC5jbGFzc05hbWUgKz0gXCIgXCIgKyBjbHM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xzKSB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykucmVkdWNlKGZ1bmN0aW9uKGEsIHdvcmQpe1xuICAgICAgICAgICAgaWYgKHdvcmQgIT0gY2xzKSB7XG4gICAgICAgICAgICAgICAgYS5wdXNoKHdvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH0sIFtdKS5qb2luKFwiIFwiKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldENTUyhlbCwgc3R5bGVzKSB7XG4gICAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICAgIGVsLnN0eWxlW2tleV0gPSBzdHlsZXNba2V5XTtcbiAgICB9KTtcbn1cblxudmFyIG1hdGNoZXMgPSB0eXBlb2YgRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBFbGVtZW50LnByb3RvdHlwZSAmJiAoZnVuY3Rpb24ocCl7XG4gICAgaWYgKHAubWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tYXRjaGVzKHNlbGVjdG9yKTsgfTtcbiAgICB9XG4gICAgaWYgKHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlbCwgc2VsZWN0b3IpIHsgcmV0dXJuIGVsLndlYmtpdE1hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IH07XG4gICAgfVxuICAgIGlmIChwLm1vek1hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tb3pNYXRjaGVzU2VsZWN0b3Ioc2VsZWN0b3IpOyB9O1xuICAgIH1cbiAgICBpZiAocC5tc01hdGNoZXNTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIHNlbGVjdG9yKSB7IHJldHVybiBlbC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7IH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihzKSB7XG5cdHJldHVybiBbXS5pbmRleE9mLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzKSwgdGhpcykgIT09IC0xO1xuICAgIH07XG59KShFbGVtZW50LnByb3RvdHlwZSk7XG5cbmZ1bmN0aW9uIGNsb3Nlc3QoZWwsIHNlbGVjdG9yKSB7XG4gICAgaWYgKGVsLmNsb3Nlc3QpIHtcbiAgICAgICAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIH1cbiAgICAvLyBJRTogc3RyaW5naWZ5aW5nIHJhdGhlciB0aGFuIHNpbXBseSBjb21wYXJpbmcgd2l0aCBgZG9jdW1lbnRgLFxuICAgIC8vIHdoaWNoIGlzIG5vdCBpZnJhbWUtcHJvb2YgYW5kIGZhaWxzIGluIGVkaXRvciBleHBvcnQg4oCUXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzY3MjFcbiAgICB3aGlsZSAoZWwgJiYgIS9eXFxbb2JqZWN0ICg/OkhUTUwpP0RvY3VtZW50XFxdJC8udGVzdChTdHJpbmcoZWwpKSkge1xuICAgICAgICBpZiAoZWwubm9kZVR5cGUgPT0gMSAvKiBFbGVtZW50ICovICYmIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9XG4gICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICB9XG59XG5cbi8vIGNsb25lIG5vZGVzIG91cnNlbHZlcywgc28gdGhhdCB3ZSByZWRyYXcgPGNhbnZhcz4gKERPTSBvclxuLy8galF1ZXJ5IGNsb25lIHdpbGwgbm90KVxudmFyIGNsb25lTm9kZXMgPSAoZnVuY3Rpb24oJCl7XG4gICAgaWYgKCQpIHtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBLZW5kbyBhbmQgalF1ZXJ5LCB1c2UgdGhpcyB2ZXJzaW9uIGFzIGl0IHdpbGxcbiAgICAgICAgLy8gbWFpbnRhaW4gcHJvcGVyIGxpbmtzIGJldHdlZW4gY2xvbmVkIGVsZW1lbnQgYW5kIEtlbmRvXG4gICAgICAgIC8vIHdpZGdldHMgKGkuZS4gaXQgY2xvbmVzIGpRdWVyeSBkYXRhKCksIHdoaWNoIGlzbid0IHRoZSBzYW1lXG4gICAgICAgIC8vIGFzIGVsZW1lbnQncyBkYXRhIGF0dHJpYnV0ZXMpLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy8yNzUwXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbG9uZU5vZGVzKGVsKSB7XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlID09IDEgLyogRWxlbWVudCAqLykge1xuICAgICAgICAgICAgICAgIHZhciAkZWwgPSAkKGVsKSwgJGNsb25lID0gJChjbG9uZSksIGk7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkZWwuZGF0YSgpO1xuICAgICAgICAgICAgICAgIGZvciAoaSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRjbG9uZS5kYXRhKGksIGRhdGFbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoL15jYW52YXMkL2kudGVzdChlbC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGVsLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfG9wdGlvbikkL2kudGVzdChlbC50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIHRoZSBuYW1lIGF0dHJpYnV0ZXMgc28gdGhhdCB3ZSBkb24ndCBhZmZlY3QgdGhlIHNlbGVjdGlvbiBvZiB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgbm9kZXMgKGkuZS4gY2hlY2tlZCBzdGF0dXMgb2YgcmFkaW8gYnV0dG9ucykgd2hlbiB3ZSBpbnNlcnQgb3VyIGNvcHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50byB0aGUgRE9NLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzU0MDlcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lLnJlbW92ZUF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghL150ZXh0YXJlYSQvaS50ZXN0KGVsLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS52YWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmNoZWNrZWQgPSBlbC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5zZWxlY3RlZCA9IGVsLnNlbGVjdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBlbC5maXJzdENoaWxkOyBpOyBpID0gaS5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChjbG9uZU5vZGVzKGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhlIG5vLWpRdWVyeSB2ZXJzaW9uXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBjbG9uZU5vZGVzKGVsKSB7XG4gICAgICAgICAgICBjb25zdCBjbG9uZSA9IChmdW5jdGlvbiBkaXZlKG5vZGUpe1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLl9rZW5kb0V4cG9ydFZpc3VhbCkge1xuICAgICAgICAgICAgICAgICAgICBjbG9uZS5fa2VuZG9FeHBvcnRWaXN1YWwgPSBub2RlLl9rZW5kb0V4cG9ydFZpc3VhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vZGUuZmlyc3RDaGlsZDsgaTsgaSA9IGkubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoZGl2ZShpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZTtcbiAgICAgICAgICAgIH0pKGVsKTtcblxuICAgICAgICAgICAgLy8gcmUtZHJhdyBjYW52YXNlcyAtIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy80ODcyXG4gICAgICAgICAgICBjb25zdCBjYW52YXNlcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJjYW52YXNcIik7XG4gICAgICAgICAgICBpZiAoY2FudmFzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2xpY2UoY2xvbmUucXVlcnlTZWxlY3RvckFsbChcImNhbnZhc1wiKSkuZm9yRWFjaCgoY2FudmFzLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuZHJhd0ltYWdlKGNhbnZhc2VzW2ldLCAwLCAwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIFwibmFtZVwiIGF0dHJpYnV0ZXMgZnJvbSA8aW5wdXQ+IGVsZW1lbnRzIC1cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81NDA5XG4gICAgICAgICAgICBjb25zdCBvcmlnID0gZWwucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBvcHRpb25cIik7XG4gICAgICAgICAgICBzbGljZShjbG9uZS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIG9wdGlvblwiKSkuZm9yRWFjaCgoZWwsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgIGlmICghL150ZXh0YXJlYSQvaS50ZXN0KGVsLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLnZhbHVlID0gb3JpZ1tpXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWwuY2hlY2tlZCA9IG9yaWdbaV0uY2hlY2tlZDtcbiAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZCA9IG9yaWdbaV0uc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgICAgICB9O1xuICAgIH1cbn0pKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmtlbmRvICYmIHdpbmRvdy5rZW5kby5qUXVlcnkpO1xuXG5mdW5jdGlvbiBnZXRYWSh0aGluZykge1xuICAgIGlmICh0eXBlb2YgdGhpbmcgPT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geyB4OiB0aGluZywgeTogdGhpbmcgfTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpbmcpKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHRoaW5nWzBdLCB5OiB0aGluZ1sxXSB9O1xuICAgIH1cbiAgICByZXR1cm4geyB4OiB0aGluZy54LCB5OiB0aGluZy55IH07XG59XG5cbmZ1bmN0aW9uIGRyYXdET00oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgfVxuICAgIHZhciBwcm9taXNlID0gY3JlYXRlUHJvbWlzZSgpO1xuXG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnJlamVjdChcIk5vIGVsZW1lbnQgdG8gZXhwb3J0XCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGUgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIndpbmRvdy5nZXRDb21wdXRlZFN0eWxlIGlzIG1pc3NpbmcuICBZb3UgYXJlIHVzaW5nIGFuIHVuc3VwcG9ydGVkIGJyb3dzZXIsIG9yIHJ1bm5pbmcgaW4gSUU4IGNvbXBhdGliaWxpdHkgbW9kZS4gIERyYXdpbmcgSFRNTCBpcyBzdXBwb3J0ZWQgaW4gQ2hyb21lLCBGaXJlZm94LCBTYWZhcmkgYW5kIElFOSsuXCIpO1xuICAgIH1cblxuICAgIFBERi5kZWZpbmVGb250KGdldEZvbnRGYWNlcyhlbGVtZW50Lm93bmVyRG9jdW1lbnQpKTtcblxuICAgIHZhciBzY2FsZSA9IGdldFhZKG9wdGlvbnMuc2NhbGUgfHwgMSk7XG5cbiAgICBmdW5jdGlvbiBkb09uZShlbGVtZW50KSB7XG4gICAgICAgIHZhciBncm91cCA9IG5ldyBHcm91cCgpO1xuXG4gICAgICAgIC8vIHRyYW5zbGF0ZSB0byBzdGFydCBvZiBwYWdlXG4gICAgICAgIHZhciBwb3MgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBzZXRUcmFuc2Zvcm0oZ3JvdXAsIFtcbiAgICAgICAgICAgIHNjYWxlLngsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHNjYWxlLnksXG4gICAgICAgICAgICAoLXBvcy5sZWZ0ICogc2NhbGUueCksXG4gICAgICAgICAgICAoLXBvcy50b3AgKiBzY2FsZS55KVxuICAgICAgICBdKTtcblxuICAgICAgICBub2RlSW5mby5fY2xpcGJveCA9IGZhbHNlO1xuICAgICAgICBub2RlSW5mby5fbWF0cml4ID0gZ2VvLk1hdHJpeC51bml0KCk7XG4gICAgICAgIG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQgPSB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXZvaWRMaW5rcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm9kZUluZm8uX2F2b2lkTGlua3MgPSBcImFcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVJbmZvLl9hdm9pZExpbmtzID0gb3B0aW9ucy5hdm9pZExpbmtzO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgXCJrLXBkZi1leHBvcnRcIik7XG4gICAgICAgIHJlbmRlckVsZW1lbnQoZWxlbWVudCwgZ3JvdXApO1xuICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBcImstcGRmLWV4cG9ydFwiKTtcblxuICAgICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuXG4gICAgY2FjaGVJbWFnZXMoWyBlbGVtZW50IF0sIGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBmb3JjZUJyZWFrID0gb3B0aW9ucyAmJiBvcHRpb25zLmZvcmNlUGFnZUJyZWFrO1xuICAgICAgICB2YXIgaGFzUGFwZXJTaXplID0gb3B0aW9ucyAmJiBvcHRpb25zLnBhcGVyU2l6ZSAmJiBvcHRpb25zLnBhcGVyU2l6ZSAhPSBcImF1dG9cIjtcbiAgICAgICAgdmFyIHBhcGVyT3B0aW9ucyA9IFBERi5nZXRQYXBlck9wdGlvbnMoZnVuY3Rpb24oa2V5LCBkZWYpe1xuICAgICAgICAgICAgaWYgKGtleSA9PSBcInBhcGVyU2l6ZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gUERGLmdldFBhcGVyT3B0aW9ucyBjcm9ha3Mgb24gXCJhdXRvXCIsIGp1c3QgcGFzcyBkdW1teSBBNCBhcyB3ZSBtaWdodFxuICAgICAgICAgICAgICAgIC8vIHN0aWxsIGJlIGludGVyZXN0ZWQgaW4gbWFyZ2lucy5cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFzUGFwZXJTaXplID8gb3B0aW9uc1trZXldIDogXCJBNFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleSBpbiBvcHRpb25zID8gb3B0aW9uc1trZXldIDogZGVmO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHBhZ2VXaWR0aCA9IGhhc1BhcGVyU2l6ZSAmJiBwYXBlck9wdGlvbnMucGFwZXJTaXplWzBdO1xuICAgICAgICB2YXIgcGFnZUhlaWdodCA9IGhhc1BhcGVyU2l6ZSAmJiBwYXBlck9wdGlvbnMucGFwZXJTaXplWzFdO1xuICAgICAgICB2YXIgbWFyZ2luID0gb3B0aW9ucy5tYXJnaW4gJiYgcGFwZXJPcHRpb25zLm1hcmdpbjtcbiAgICAgICAgdmFyIGhhc01hcmdpbiA9IEJvb2xlYW4obWFyZ2luKTtcbiAgICAgICAgaWYgKGZvcmNlQnJlYWsgfHwgcGFnZUhlaWdodCkge1xuICAgICAgICAgICAgaWYgKCFtYXJnaW4pIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4gPSB7IGxlZnQ6IDAsIHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3ZSB3YW50IHBhcGVyIHNpemUgYW5kIG1hcmdpbiB0byBiZSB1bmFmZmVjdGVkIGJ5XG4gICAgICAgICAgICAvLyBzY2FsaW5nIGluIHRoZSBvdXRwdXQsIHNvIHdlIGhhdmUgdG8gcmV2ZXJzZS1zY2FsZVxuICAgICAgICAgICAgLy8gYmVmb3JlIG91ciBjYWxjdWxhdGlvbnMgYmVnaW4uXG4gICAgICAgICAgICBpZiAocGFnZVdpZHRoKSAgeyBwYWdlV2lkdGggIC89IHNjYWxlLng7IH1cbiAgICAgICAgICAgIGlmIChwYWdlSGVpZ2h0KSB7IHBhZ2VIZWlnaHQgLz0gc2NhbGUueTsgfVxuICAgICAgICAgICAgbWFyZ2luLmxlZnQgICAvPSBzY2FsZS54O1xuICAgICAgICAgICAgbWFyZ2luLnJpZ2h0ICAvPSBzY2FsZS54O1xuICAgICAgICAgICAgbWFyZ2luLnRvcCAgICAvPSBzY2FsZS55O1xuICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSAvPSBzY2FsZS55O1xuXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoe1xuICAgICAgICAgICAgICAgIHBkZjoge1xuICAgICAgICAgICAgICAgICAgICBtdWx0aVBhZ2UgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGFwZXJTaXplICAgICA6IGhhc1BhcGVyU2l6ZSA/IHBhcGVyT3B0aW9ucy5wYXBlclNpemUgOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgX2lnbm9yZU1hcmdpbiA6IGhhc01hcmdpbiAvLyBIQUNLISAgc2VlIGV4cG9ydFBERiBpbiBwZGYvZHJhd2luZy5qc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGFuZGxlUGFnZUJyZWFrcyhcbiAgICAgICAgICAgICAgICBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FuY2VsZWQgPSBmYWxzZSwgcGFnZU51bSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gbmV4dCgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlTnVtIDwgeC5wYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBkb09uZSh4LnBhZ2VzW3BhZ2VOdW1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnByb2dyZXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlTnVtOiArK3BhZ2VOdW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiB4LnBhZ2VzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFhYWDogc2hvdWxkIHdlIGFsc28gZmFpbCgpIHRoZSBkZWZlcnJlZCBvYmplY3Q/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHguY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHguY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeC5jb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LnBhZ2VzLmZvckVhY2goZnVuY3Rpb24ocGFnZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKGRvT25lKHBhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgeC5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh4LmNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoZ3JvdXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGZvcmNlQnJlYWssXG4gICAgICAgICAgICAgICAgcGFnZVdpZHRoID8gcGFnZVdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQgOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhZ2VIZWlnaHQgPyBwYWdlSGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20gOiBudWxsLFxuICAgICAgICAgICAgICAgIG1hcmdpbixcbiAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKGRvT25lKGVsZW1lbnQpKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbWFrZVRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9IGNvbXBpbGVUZW1wbGF0ZSh0ZW1wbGF0ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IHRlbXBsYXRlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwgJiYgdHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSBkaXYuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhc3N1bWVkIERPTSBlbGVtZW50XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVQYWdlQnJlYWtzKGNhbGxiYWNrLCBlbGVtZW50LCBmb3JjZUJyZWFrLCBwYWdlV2lkdGgsIHBhZ2VIZWlnaHQsIG1hcmdpbiwgb3B0aW9ucykge1xuICAgICAgICB2YXIgdGVtcGxhdGUgPSBtYWtlVGVtcGxhdGUob3B0aW9ucy50ZW1wbGF0ZSk7XG4gICAgICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBwYWdlcyA9IFtdO1xuICAgICAgICB2YXIgY29weSA9IG9wdGlvbnMuX2Rlc3RydWN0aXZlID8gZWxlbWVudCA6IGNsb25lTm9kZXMoZWxlbWVudCk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcIktFTkRPLVBERi1ET0NVTUVOVFwiKTtcbiAgICAgICAgdmFyIGFkanVzdCA9IDA7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIDx0Zm9vdD4gZWxlbWVudHMgYXJlIGF0IHRoZSBlbmQgKEdyaWQgd2lkZ2V0XG4gICAgICAgIC8vIHBsYWNlcyBURk9PVCBiZWZvcmUgVEJPRFksIHRyaWNraW5nIG91ciBhbGdvcml0aG0gdG9cbiAgICAgICAgLy8gaW5zZXJ0IGEgcGFnZSBicmVhayByaWdodCBhZnRlciB0aGUgaGVhZGVyKS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzQ2OTlcbiAgICAgICAgc2xpY2UoY29weS5xdWVyeVNlbGVjdG9yQWxsKFwidGZvb3RcIikpLmZvckVhY2goZnVuY3Rpb24odGZvb3Qpe1xuICAgICAgICAgICAgdGZvb3QucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0Zm9vdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbWVtYmVyIHRoZSBpbmRleCBvZiBlYWNoIExJIGZyb20gYW4gb3JkZXJlZCBsaXN0LlxuICAgICAgICAvLyB3ZSdsbCB1c2UgaXQgdG8gcmVjb25zdHJ1Y3QgdGhlIHByb3BlciBudW1iZXJpbmcuXG4gICAgICAgIHNsaWNlKGNvcHkucXVlcnlTZWxlY3RvckFsbChcIm9sXCIpKS5mb3JFYWNoKGZ1bmN0aW9uKG9sKXtcbiAgICAgICAgICAgIHNsaWNlKG9sLmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKGxpLCBpbmRleCl7XG4gICAgICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwia2VuZG8tc3BsaXQtaW5kZXhcIiwgaW5kZXgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldENTUyhjb250YWluZXIsIHtcbiAgICAgICAgICAgIGRpc3BsYXkgICA6IFwiYmxvY2tcIixcbiAgICAgICAgICAgIHBvc2l0aW9uICA6IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgIGJveFNpemluZyA6IFwiY29udGVudC1ib3hcIixcbiAgICAgICAgICAgIGxlZnQgICAgICA6IFwiLTEwMDAwcHhcIixcbiAgICAgICAgICAgIHRvcCAgICAgICA6IFwiLTEwMDAwcHhcIlxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocGFnZVdpZHRoKSB7XG4gICAgICAgICAgICAvLyBzdWJ0bGU6IGlmIHdlIGRvbid0IHNldCB0aGUgd2lkdGggKmFuZCogbWFyZ2lucyBoZXJlLCB0aGUgbGF5b3V0IGluIHRoaXNcbiAgICAgICAgICAgIC8vIGNvbnRhaW5lciB3aWxsIGJlIGRpZmZlcmVudCBmcm9tIHRoZSBvbmUgaW4gb3VyIGZpbmFsIHBhZ2UgZWxlbWVudHMsIGFuZCB3ZSdsbFxuICAgICAgICAgICAgLy8gc3BsaXQgYXQgdGhlIHdyb25nIHBsYWNlcy5cbiAgICAgICAgICAgIHNldENTUyhjb250YWluZXIsIHtcbiAgICAgICAgICAgICAgICB3aWR0aCAgICAgICAgOiBwYWdlV2lkdGggKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgIDogbWFyZ2luLmxlZnQgKyBcInB4XCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0IDogbWFyZ2luLnJpZ2h0ICsgXCJweFwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgZmlyc3QgZWxlbWVudCBoYXMgYSBtYXJnaW4tdG9wIChpLmUuIGEgPGgxPikgdGhlIHBhZ2Ugd2lsbCBiZVxuICAgICAgICAgICAgLy8gaW5hZHZlcnRlbnRseSBlbmxhcmdlZCBieSB0aGF0IG51bWJlciAodGhlIGJyb3dzZXIgd2lsbCByZXBvcnQgdGhlIGNvbnRhaW5lcidzXG4gICAgICAgICAgICAvLyBib3VuZGluZyBib3ggdG9wIHRvIHN0YXJ0IGF0IHRoZSBlbGVtZW50J3MgdG9wLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgaXRzXG4gICAgICAgICAgICAvLyBtYXJnaW4pLiAgQWRkaW5nIG92ZXJmbG93OiBoaWRkZW4gc2VlbXMgdG8gZml4IGl0LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHRvIHVuZGVyc3RhbmQgdGhlIGRpZmZlcmVuY2UsIHRyeSB0aGUgZm9sbG93aW5nIHNuaXBwZXRzIGluIHlvdXIgYnJvd3NlcjpcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAxLiA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogeWVsbG93XCI+XG4gICAgICAgICAgICAvLyAgICAgIDxoMSBzdHlsZT1cIm1hcmdpbjogM2VtXCI+Rm9vPC9oMT5cbiAgICAgICAgICAgIC8vICAgIDwvZGl2PlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIDIuIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB5ZWxsb3c7IG92ZXJmbG93OiBoaWRkZW5cIj5cbiAgICAgICAgICAgIC8vICAgICAgPGgxIHN0eWxlPVwibWFyZ2luOiAzZW1cIj5Gb288L2gxPlxuICAgICAgICAgICAgLy8gICAgPC9kaXY+XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gdGhpcyBkZXRhaWwgaXMgbm90IGltcG9ydGFudCB3aGVuIGF1dG9tYXRpYyBwYWdlIGJyZWFraW5nIGlzIG5vdCByZXF1ZXN0ZWQsIGhlbmNlXG4gICAgICAgICAgICAvLyBkb2luZyBpdCBvbmx5IGlmIHBhZ2VXaWR0aCBpcyBkZWZpbmVkLlxuICAgICAgICAgICAgc2V0Q1NTKGNvcHksIHsgb3ZlcmZsb3c6IFwiaGlkZGVuXCIgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZWxlbWVudCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb3B5KTtcblxuICAgICAgICAvLyBXaXRoIGNhY2hlIGRpc2FibGVkLCBpbWFnZXMgd2lsbCBzdGlsbCBoYXZlIGhlaWdodCB6ZXJvIHVudGlsIHRoZWlyIGBjb21wbGV0ZWAgYXR0cmlidXRlXG4gICAgICAgIC8vIGlzIHRydWUuICBgd2hlbkltYWdlc0FyZUFjdHVhbGx5TG9hZGVkYCB3aWxsIHdhaXQgZm9yIGl0LlxuICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVQYWdlQnJlYWspIHtcbiAgICAgICAgICAgIHdoZW5JbWFnZXNBcmVBY3R1YWxseUxvYWRlZChbIGNvbnRhaW5lciBdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmJlZm9yZVBhZ2VCcmVhayhjb250YWluZXIsIGRvUGFnZUJyZWFrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2hlbkltYWdlc0FyZUFjdHVhbGx5TG9hZGVkKFsgY29udGFpbmVyIF0sIGRvUGFnZUJyZWFrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRvUGFnZUJyZWFrKCkge1xuICAgICAgICAgICAgaWYgKGZvcmNlQnJlYWsgIT0gXCItXCIgfHwgcGFnZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNwbGl0RWxlbWVudChjb3B5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBwYWdlID0gbWFrZVBhZ2UoKTtcbiAgICAgICAgICAgICAgICBjb3B5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBhZ2UsIGNvcHkpO1xuICAgICAgICAgICAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQoY29weSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICAgIHBhZ2VzLmZvckVhY2goZnVuY3Rpb24ocGFnZSwgaSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gdGVtcGxhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCAgICA6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWdlTnVtICAgIDogaSArIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzIDogcGFnZXMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSW1hZ2VzKHBhZ2VzLCBjYWxsYmFjay5iaW5kKG51bGwsIHsgcGFnZXM6IHBhZ2VzLCBjb250YWluZXI6IGNvbnRhaW5lciB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBrZWVwVG9nZXRoZXIoZWwpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmtlZXBUb2dldGhlciAmJiBtYXRjaGVzKGVsLCBvcHRpb25zLmtlZXBUb2dldGhlcikgJiYgZWwub2Zmc2V0SGVpZ2h0IDw9IHBhZ2VIZWlnaHQgLSBhZGp1c3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgICAgICAgICBpZiAoL15oWzEtNl0kL2kudGVzdCh0YWcpICYmIGVsLm9mZnNldEhlaWdodCA+PSBwYWdlSGVpZ2h0IC0gYWRqdXN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKGVsLmdldEF0dHJpYnV0ZShcImRhdGEta2VuZG8tY2hhcnRcIikgfHxcbiAgICAgICAgICAgICAgICAgICAgL14oPzppbWd8dHJ8dGhlYWR8dGh8dGZvb3R8aWZyYW1lfHN2Z3xvYmplY3R8Y2FudmFzfGlucHV0fHRleHRhcmVhfHNlbGVjdHx2aWRlb3xoWzEtNl0pL2kudGVzdChlbC50YWdOYW1lKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzcGxpdEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlRBQkxFXCIpIHtcbiAgICAgICAgICAgICAgICBzZXRDU1MoZWxlbWVudCwgeyB0YWJsZUxheW91dDogXCJmaXhlZFwiIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtlZXBUb2dldGhlcihlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgYm90dG9tUGFkZGluZyA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJwYWRkaW5nLWJvdHRvbVwiKSk7XG4gICAgICAgICAgICB2YXIgYm90dG9tQm9yZGVyID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImJvcmRlci1ib3R0b20td2lkdGhcIikpO1xuICAgICAgICAgICAgdmFyIHNhdmVBZGp1c3QgPSBhZGp1c3Q7XG4gICAgICAgICAgICBhZGp1c3QgKz0gYm90dG9tUGFkZGluZyArIGJvdHRvbUJvcmRlcjtcbiAgICAgICAgICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGVsID0gZWxlbWVudC5maXJzdENoaWxkOyBlbDsgZWwgPSBlbC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChlbC5ub2RlVHlwZSA9PSAxIC8qIEVsZW1lbnQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyhlbCwgZm9yY2VCcmVhaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrQXRFbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFnZUhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgaW4gXCJtYW51YWwgYnJlYWtzIG1vZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXRFbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghL14oPzpzdGF0aWN8cmVsYXRpdmUpJC8udGVzdChnZXRQcm9wZXJ0eVZhbHVlKGdldENvbXB1dGVkU3R5bGUoZWwpLCBcInBvc2l0aW9uXCIpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhbGwgPSBmYWxsc09uTWFyZ2luKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbGwgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZWxlbWVudCBzdGFydHMgb24gbmV4dCBwYWdlLCBicmVhayBiZWZvcmUgYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtBdEVsZW1lbnQoZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIGVuZHMgdXAgb24gbmV4dCBwYWdlLCBvciBwb3NzaWJseSBkb2Vzbid0IGZpdCBvbiBhIHBhZ2UgYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbC4gIGJyZWFrIGJlZm9yZSBpdCBhbnl3YXkgaWYgaXQncyBhbiA8aW1nPiBvciA8dHI+LCBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gc3BsaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2VlcFRvZ2V0aGVyKGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrQXRFbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXRFbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGl0RWxlbWVudChlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZWwubm9kZVR5cGUgPT0gMyAvKiBUZXh0ICovICYmIHBhZ2VIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRUZXh0KGVsLCBpc0ZpcnN0KTtcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkanVzdCA9IHNhdmVBZGp1c3Q7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmaXJzdEluUGFyZW50KGVsKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGVsLnBhcmVudE5vZGUsIGZpcnN0ID0gcC5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKGVsID09PSBmaXJzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsID09PSBwLmNoaWxkcmVuWzBdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Lm5vZGVUeXBlID09IDcgLyogY29tbWVudCAqLyB8fFxuICAgICAgICAgICAgICAgICAgICBmaXJzdC5ub2RlVHlwZSA9PSA4IC8qIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdC5ub2RlVHlwZSA9PSAzIC8qIHRleHQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2hpdGVzcGFjZSBvbmx5IHdlIGNhbiBwcm9iYWJseSBjb25zaWRlciBpdCdzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhL1xcUy8udGVzdChmaXJzdC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBicmVha0F0RWxlbWVudChlbCkge1xuICAgICAgICAgICAgaWYgKGVsLm5vZGVUeXBlID09IDEgJiYgZWwgIT09IGNvcHkgJiYgZmlyc3RJblBhcmVudChlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnJlYWtBdEVsZW1lbnQoZWwucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGFibGUsIGNvbGdyb3VwLCB0aGVhZCwgZ3JpZCwgZ3JpZEhlYWQ7XG4gICAgICAgICAgICB0YWJsZSA9IGNsb3Nlc3QoZWwsIFwidGFibGVcIik7XG4gICAgICAgICAgICBjb2xncm91cCA9IHRhYmxlICYmIHRhYmxlLnF1ZXJ5U2VsZWN0b3IoXCJjb2xncm91cFwiKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcGVhdEhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGVhZCA9IHRhYmxlICYmIHRhYmxlLnF1ZXJ5U2VsZWN0b3IoXCJ0aGVhZFwiKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIGJyZWFrIHBhZ2UgaW4gYSBLZW5kbyBHcmlkLCByZXBlYXQgaXRzIGhlYWRlci4gIFRoaXMgdWdseSBoYWNrIGlzXG4gICAgICAgICAgICAgICAgLy8gbmVjZXNzYXJ5IGJlY2F1c2UgYSBzY3JvbGxhYmxlIGdyaWQgd2lsbCBrZWVwIHRoZSBoZWFkZXIgaW4gYSBzZXBhcmF0ZVxuICAgICAgICAgICAgICAgIC8vIDx0YWJsZT4gZWxlbWVudCBmcm9tIGl0cyBjb250ZW50LlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gWFhYOiBUaGlzIGlzIGxpa2VseSB0byBicmVhayBhcyBzb29uIGFzIHRoZSB3aWRnZXQgSFRNTCBpcyBtb2RpZmllZC5cbiAgICAgICAgICAgICAgICBncmlkID0gY2xvc2VzdChlbCwgXCIuay1ncmlkXCIpO1xuICAgICAgICAgICAgICAgIGlmIChncmlkICYmIGdyaWQucXVlcnlTZWxlY3RvcihcIi5rLWF1dG8tc2Nyb2xsYWJsZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBncmlkSGVhZCA9IGdyaWQucXVlcnlTZWxlY3RvcihcIi5rLWdyaWQtaGVhZGVyXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UoKTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY29weSk7XG4gICAgICAgICAgICByYW5nZS5zZXRFbmRCZWZvcmUoZWwpO1xuICAgICAgICAgICAgcGFnZS5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICAgICAgICBjb3B5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBhZ2UsIGNvcHkpO1xuICAgICAgICAgICAgcHJldmVudEJ1bGxldE9uTGlzdEl0ZW0oZWwucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICBpZiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICB0YWJsZSA9IGNsb3Nlc3QoZWwsIFwidGFibGVcIik7IC8vIHRoYXQncyB0aGUgPHRhYmxlPiBvbiBuZXh0IHBhZ2UhXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVwZWF0SGVhZGVycyAmJiB0aGVhZCkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnRCZWZvcmUodGhlYWQuY2xvbmVOb2RlKHRydWUpLCB0YWJsZS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLmluc2VydEJlZm9yZShjb2xncm91cC5jbG9uZU5vZGUodHJ1ZSksIHRhYmxlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJlcGVhdEhlYWRlcnMgJiYgZ3JpZEhlYWQpIHtcbiAgICAgICAgICAgICAgICBncmlkID0gY2xvc2VzdChlbCwgXCIuay1ncmlkXCIpO1xuICAgICAgICAgICAgICAgIGdyaWQuaW5zZXJ0QmVmb3JlKGdyaWRIZWFkLmNsb25lTm9kZSh0cnVlKSwgZ3JpZC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1ha2VQYWdlKCkge1xuICAgICAgICAgICAgdmFyIHBhZ2UgPSBkb2MuY3JlYXRlRWxlbWVudChcIktFTkRPLVBERi1QQUdFXCIpO1xuICAgICAgICAgICAgc2V0Q1NTKHBhZ2UsIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5ICA6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICBib3hTaXppbmc6IFwiY29udGVudC1ib3hcIixcbiAgICAgICAgICAgICAgICB3aWR0aCAgICA6IHBhZ2VXaWR0aCA/IChwYWdlV2lkdGggKyBcInB4XCIpIDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZyAgOiAobWFyZ2luLnRvcCArIFwicHggXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi5yaWdodCArIFwicHggXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gKyBcInB4IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4ubGVmdCArIFwicHhcIiksXG5cbiAgICAgICAgICAgICAgICAvLyBhbGxvdyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgZWxlbWVudHMgdG8gYmUgcmVsYXRpdmUgdG8gY3VycmVudCBwYWdlXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gOiBcInJlbGF0aXZlXCIsXG5cbiAgICAgICAgICAgICAgICAvLyB3aXRob3V0IHRoZSBmb2xsb3dpbmcgd2UgbWlnaHQgYWZmZWN0IGxheW91dCBvZiBzdWJzZXF1ZW50IHBhZ2VzXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICAgOiBwYWdlSGVpZ2h0ID8gKHBhZ2VIZWlnaHQgKyBcInB4XCIpIDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgOiBwYWdlSGVpZ2h0IHx8IHBhZ2VXaWR0aCA/IFwiaGlkZGVuXCIgOiBcInZpc2libGVcIixcbiAgICAgICAgICAgICAgICBjbGVhciAgICA6IFwiYm90aFwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gZGVidWdcbiAgICAgICAgICAgIC8vICQoXCI8ZGl2PlwiKS5jc3Moe1xuICAgICAgICAgICAgLy8gICAgIHBvc2l0aW9uICA6IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgIC8vICAgICBsZWZ0ICAgICAgOiBtYXJnaW4ubGVmdCxcbiAgICAgICAgICAgIC8vICAgICB0b3AgICAgICAgOiBtYXJnaW4udG9wLFxuICAgICAgICAgICAgLy8gICAgIHdpZHRoICAgICA6IHBhZ2VXaWR0aCxcbiAgICAgICAgICAgIC8vICAgICBoZWlnaHQgICAgOiBwYWdlSGVpZ2h0LFxuICAgICAgICAgICAgLy8gICAgIGJveFNpemluZyA6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICAgICAgLy8gICAgIGJhY2tncm91bmQ6IFwicmdiYSgyNTUsIDI1NSwgMCwgMC41KVwiXG4gICAgICAgICAgICAvLyAgICAgLy9ib3JkZXIgICAgOiBcIjFweCBzb2xpZCByZWRcIlxuICAgICAgICAgICAgLy8gfSkuYXBwZW5kVG8ocGFnZSk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucGFnZUNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHBhZ2UuY2xhc3NOYW1lID0gb3B0aW9ucy5wYWdlQ2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBwYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZmFsbHNPbk1hcmdpbih0aGluZykge1xuICAgICAgICAgICAgdmFyIGJveCA9IHRoaW5nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKGJveC53aWR0aCA9PT0gMCB8fCBib3guaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSSdkIHNheSBhbiBlbGVtZW50IHdpdGggZGltZW5zaW9ucyB6ZXJvIGZpdHMgb24gY3VycmVudCBwYWdlLlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvcCA9IGNvcHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICAgdmFyIGF2YWlsYWJsZSA9IHBhZ2VIZWlnaHQgLSBhZGp1c3Q7XG4gICAgICAgICAgICByZXR1cm4gKGJveC5oZWlnaHQgPiBhdmFpbGFibGUpID8gM1xuICAgICAgICAgICAgICAgIDogKGJveC50b3AgLSB0b3AgPiBhdmFpbGFibGUpID8gMVxuICAgICAgICAgICAgICAgIDogKGJveC5ib3R0b20gLSB0b3AgPiBhdmFpbGFibGUpID8gMlxuICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNwbGl0VGV4dChub2RlLCBpc0ZpcnN0KSB7XG4gICAgICAgICAgICBpZiAoIS9cXFMvLnRlc3Qobm9kZS5kYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxlbiA9IG5vZGUuZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhub2RlKTtcbiAgICAgICAgICAgIHZhciBmYWxsID0gZmFsbHNPbk1hcmdpbihyYW5nZSk7XG4gICAgICAgICAgICBpZiAoIWZhbGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47ICAgICAvLyB0aGUgd2hvbGUgdGV4dCBmaXRzIG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbmV4dG5vZGUgPSBub2RlO1xuICAgICAgICAgICAgaWYgKGZhbGwgPT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0cyBvbiBuZXh0IHBhZ2UsIGJyZWFrIGJlZm9yZSBhbnl3YXkuXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgbGVhdmluZyBhbiBlbXB0eSA8cD4sIDxsaT4sIGV0Yy4gb24gcHJldmlvdXMgcGFnZS5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdEVsZW1lbnQobm9kZS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVha0F0RWxlbWVudChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gZmluZEVPUChtaW4sIHBvcywgbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluID09IHBvcyB8fCBwb3MgPT0gbWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsc09uTWFyZ2luKHJhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT1AobWluLCAobWluICsgcG9zKSA+PiAxLCBwb3MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT1AocG9zLCAocG9zICsgbWF4KSA+PiAxLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoMCwgbGVuID4+IDEsIGxlbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIS9cXFMvLnRlc3QocmFuZ2UudG9TdHJpbmcoKSkgJiYgaXNGaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBsZWF2aW5nIGFuIGVtcHR5IDxwPiwgPGxpPiwgZXRjLiBvbiBwcmV2aW91cyBwYWdlLlxuICAgICAgICAgICAgICAgICAgICBicmVha0F0RWxlbWVudChub2RlLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgb25seSBuZWVkZWQgZm9yIElFLCBidXQgaXQgZmVlbHMgY2xlYW5lciB0byBkbyBpdCBhbnl3YXkuICBXaXRob3V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0LCBJRSB3aWxsIHRydW5jYXRlIGEgdmVyeSBsb25nIHRleHQgKHBsYXlncm91bmQvcGRmLWxvbmctdGV4dC0yLmh0bWwpLlxuICAgICAgICAgICAgICAgICAgICBuZXh0bm9kZSA9IG5vZGUuc3BsaXRUZXh0KHJhbmdlLmVuZE9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBtYWtlUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShjb3B5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvcHkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGFnZSwgY29weSk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnRCdWxsZXRPbkxpc3RJdGVtKG5leHRub2RlLnBhcmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3BsaXRUZXh0KG5leHRub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHByZXZlbnRCdWxsZXRPbkxpc3RJdGVtKGVsKSB7XG4gICAgICAgICAgICAvLyBzZXQgYSBoaW50IG9uIGNvbnRpbnVlZCBMSSBlbGVtZW50cywgdG8gdGVsbCB0aGVcbiAgICAgICAgICAgIC8vIHJlbmRlcmVyIG5vdCB0byBkcmF3IHRoZSBidWxsZXQgYWdhaW4uXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby11aS1jb3JlL2lzc3Vlcy8yNzMyXG4gICAgICAgICAgICB2YXIgbGkgPSBjbG9zZXN0KGVsLCBcImxpXCIpO1xuICAgICAgICAgICAgaWYgKGxpKSB7XG4gICAgICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKFwia2VuZG8tbm8tYnVsbGV0XCIsIFwiMVwiKTtcbiAgICAgICAgICAgICAgICBwcmV2ZW50QnVsbGV0T25MaXN0SXRlbShsaS5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBUaGlzIGlzIG5lZWRlZCBmb3IgdGhlIFNwcmVhZHNoZWV0IHByaW50IGZ1bmN0aW9uYWxpdHkuICBTaW5jZVxuLy8gdGhlcmUgd2Ugb25seSBuZWVkIHRvIGRyYXcgdGV4dCwgdGhpcyBjdXRzIHRocm91Z2ggdGhlIGNlcmVtb255XG4vLyBvZiBkcmF3RE9NL3JlbmRlckVsZW1lbnQgYW5kIHJlbmRlcnMgdGhlIHRleHQgbm9kZSBkaXJlY3RseS5cbmZ1bmN0aW9uIGRyYXdUZXh0KGVsZW1lbnQpIHtcbiAgICB2YXIgZ3JvdXAgPSBuZXcgR3JvdXAoKTtcbiAgICBub2RlSW5mby5fY2xpcGJveCA9IGZhbHNlO1xuICAgIG5vZGVJbmZvLl9tYXRyaXggPSBnZW8uTWF0cml4LnVuaXQoKTtcbiAgICBub2RlSW5mby5fc3RhY2tpbmdDb250ZXh0ID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBncm91cDogZ3JvdXBcbiAgICB9O1xuICAgIHB1c2hOb2RlSW5mbyhlbGVtZW50LCBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLCBncm91cCk7XG4gICAgaWYgKGVsZW1lbnQuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAzIC8qIFRleHQgKi8pIHtcbiAgICAgICAgLy8gYXZvaWQgdGhlIHBlbmFsdHkgb2YgcmVuZGVyRWxlbWVudFxuICAgICAgICByZW5kZXJUZXh0KGVsZW1lbnQsIGVsZW1lbnQuZmlyc3RDaGlsZCwgZ3JvdXApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZW5kZXJFbGVtZW50KGVsZW1lbnQsIGdyb3VwKTtcbiAgICB9XG4gICAgcG9wTm9kZUluZm8oKTtcbiAgICByZXR1cm4gZ3JvdXA7XG59XG5cbnZhciBwYXJzZUJhY2tncm91bmRJbWFnZSA9IChmdW5jdGlvbigpe1xuICAgIHZhciB0b2tfbGluZWFyX2dyYWRpZW50ICA9IC9eKCgtd2Via2l0LXwtbW96LXwtby18LW1zLSk/bGluZWFyLWdyYWRpZW50XFxzKilcXCgvO1xuICAgIC8vdmFyIHRva19yYWRpYWxfZ3JhZGllbnQgID0gL14oKC13ZWJraXQtfC1tb3otfC1vLXwtbXMtKT9yYWRpYWwtZ3JhZGllbnRcXHMqKVxcKC87XG4gICAgdmFyIHRva19wZXJjZW50ICAgICAgICAgID0gL14oWy0wLTkuXSslKS87XG4gICAgdmFyIHRva19sZW5ndGggICAgICAgICAgID0gL14oWy0wLTkuXStweCkvO1xuICAgIHZhciB0b2tfa2V5d29yZCAgICAgICAgICA9IC9eKGxlZnR8cmlnaHR8dG9wfGJvdHRvbXx0b3xjZW50ZXIpXFxXLztcbiAgICB2YXIgdG9rX2FuZ2xlICAgICAgICAgICAgPSAvXihbLTAtOS5dKyhkZWd8Z3JhZHxyYWR8dHVybil8MCkvO1xuICAgIHZhciB0b2tfd2hpdGVzcGFjZSAgICAgICA9IC9eKFxccyspLztcbiAgICB2YXIgdG9rX3BvcGVuICAgICAgICAgICAgPSAvXihcXCgpLztcbiAgICB2YXIgdG9rX3BjbG9zZSAgICAgICAgICAgPSAvXihcXCkpLztcbiAgICB2YXIgdG9rX2NvbW1hICAgICAgICAgICAgPSAvXigsKS87XG4gICAgdmFyIHRva191cmwgICAgICAgICAgICAgID0gL14odXJsKVxcKC87XG4gICAgdmFyIHRva19jb250ZW50ICAgICAgICAgID0gL14oLio/KVxcKS87XG5cbiAgICB2YXIgY2FjaGUxID0ge30sIGNhY2hlMiA9IHt9O1xuXG4gICAgZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgdmFyIG9yaWcgPSBpbnB1dDtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGNhY2hlMSwgb3JpZykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZTFbb3JpZ107XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2tpcF93cygpIHtcbiAgICAgICAgICAgIHZhciBtID0gdG9rX3doaXRlc3BhY2UuZXhlYyhpbnB1dCk7XG4gICAgICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyKG1bMV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByZWFkKHRva2VuKSB7XG4gICAgICAgICAgICBza2lwX3dzKCk7XG4gICAgICAgICAgICB2YXIgbSA9IHRva2VuLmV4ZWMoaW5wdXQpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnN1YnN0cihtWzFdLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1bMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWFkX3N0b3AoKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSB1dGlsc19wYXJzZUNvbG9yKGlucHV0LCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBsZW5ndGgsIHBlcmNlbnQ7XG4gICAgICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICBsZXQgbWF0Y2ggPVxuICAgICAgICAgICAgICAgICAgICAvXiNbMC05YS1mXSsvaS5leGVjKGlucHV0KSB8fFxuICAgICAgICAgICAgICAgICAgICAvXnJnYmE/XFwoLio/XFwpL2kuZXhlYyhpbnB1dCkgfHxcbiAgICAgICAgICAgICAgICAgICAgL14uLio/XFxiLy5leGVjKGlucHV0KTsgLy8gbWF5YmUgbmFtZWQgY29sb3JcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnN1YnN0cihtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbG9yID0gY29sb3IudG9SR0IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIShsZW5ndGggPSByZWFkKHRva19sZW5ndGgpKSkge1xuICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gcmVhZCh0b2tfcGVyY2VudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGNvbG9yOiBjb2xvciwgbGVuZ3RoOiBsZW5ndGgsIHBlcmNlbnQ6IHBlcmNlbnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlYWRfbGluZWFyX2dyYWRpZW50KHByb3BOYW1lKSB7XG4gICAgICAgICAgICB2YXIgYW5nbGU7XG4gICAgICAgICAgICB2YXIgdG8xLCB0bzI7XG4gICAgICAgICAgICB2YXIgc3RvcHMgPSBbXTtcbiAgICAgICAgICAgIHZhciByZXZlcnNlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChyZWFkKHRva19wb3BlbikpIHtcbiAgICAgICAgICAgICAgICAvLyAxLiBbIDxhbmdsZT4gfHwgdG8gPHNpZGUtb3ItY29ybmVyPiwgXT9cbiAgICAgICAgICAgICAgICBhbmdsZSA9IHJlYWQodG9rX2FuZ2xlKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5nbGUgPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSBcIjBkZWdcIjsgLy8gRWRnZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgPSBwYXJzZUFuZ2xlKGFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZCh0b2tfY29tbWEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG8xID0gcmVhZCh0b2tfa2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0bzEgPT0gXCJ0b1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bzEgPSByZWFkKHRva19rZXl3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bzEgJiYgL14tLy50ZXN0KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdG8yID0gcmVhZCh0b2tfa2V5d29yZCk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWQodG9rX2NvbW1hKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoLy1tb3otLy50ZXN0KHByb3BOYW1lKSAmJiBhbmdsZSA9PSBudWxsICYmIHRvMSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gcmVhZCh0b2tfcGVyY2VudCksIHkgPSByZWFkKHRva19wZXJjZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID09IFwiMCVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8xID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA9PSBcIjEwMCVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8xID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh5ID09IFwiMCVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8yID0gXCJ0b3BcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5ID09IFwiMTAwJVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0bzIgPSBcImJvdHRvbVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlYWQodG9rX2NvbW1hKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyAyLiBjb2xvciBzdG9wc1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnB1dCAmJiAhcmVhZCh0b2tfcGNsb3NlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHJlYWRfc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goc3RvcCk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWQodG9rX2NvbW1hKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlICAgIDogXCJsaW5lYXJcIixcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUgICA6IGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICB0byAgICAgIDogdG8xICYmIHRvMiA/IHRvMSArIFwiIFwiICsgdG8yIDogdG8xID8gdG8xIDogdG8yID8gdG8yIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3RvcHMgICA6IHN0b3BzLFxuICAgICAgICAgICAgICAgICAgICByZXZlcnNlIDogcmV2ZXJzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWFkX3VybCgpIHtcbiAgICAgICAgICAgIGlmIChyZWFkKHRva19wb3BlbikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVhZCh0b2tfY29udGVudCk7XG4gICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL15bJ1wiXSt8W1wiJ10rJC9nLCBcIlwiKTtcbiAgICAgICAgICAgICAgICByZWFkKHRva19wY2xvc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwidXJsXCIsIHVybDogdXJsIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9rO1xuXG4gICAgICAgIGlmICgodG9rID0gcmVhZCh0b2tfbGluZWFyX2dyYWRpZW50KSkpIHtcbiAgICAgICAgICAgIHRvayA9IHJlYWRfbGluZWFyX2dyYWRpZW50KHRvayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRvayA9IHJlYWQodG9rX3VybCkpKSB7XG4gICAgICAgICAgICB0b2sgPSByZWFkX3VybCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChjYWNoZTFbb3JpZ10gPSB0b2sgfHwgeyB0eXBlOiBcIm5vbmVcIiB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGNhY2hlMiwgaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUyW2lucHV0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGNhY2hlMltpbnB1dF0gPSBzcGxpdFByb3BlcnR5KGlucHV0KS5tYXAocGFyc2UpKTtcbiAgICB9O1xufSkoKTtcblxudmFyIHNwbGl0UHJvcGVydHkgPSAoZnVuY3Rpb24oKXtcbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIHNlcGFyYXRvcikge1xuICAgICAgICBpZiAoIXNlcGFyYXRvcikge1xuICAgICAgICAgICAgc2VwYXJhdG9yID0gL15cXHMqLFxccyovO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhY2hlS2V5ID0gaW5wdXQgKyBzZXBhcmF0b3I7XG5cbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5KGNhY2hlLCBjYWNoZUtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWNoZVtjYWNoZUtleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIHZhciBsYXN0ID0gMCwgcG9zID0gMDtcbiAgICAgICAgdmFyIGluX3BhcmVuID0gMDtcbiAgICAgICAgdmFyIGluX3N0cmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgbTtcblxuICAgICAgICBmdW5jdGlvbiBsb29raW5nX2F0KHJ4KSB7XG4gICAgICAgICAgICByZXR1cm4gKG0gPSByeC5leGVjKGlucHV0LnN1YnN0cihwb3MpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0cmltKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChwb3MgPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghaW5fc3RyaW5nICYmIGxvb2tpbmdfYXQoL15bXFwoXFxbXFx7XS8pKSB7XG4gICAgICAgICAgICAgICAgaW5fcGFyZW4rKztcbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFpbl9zdHJpbmcgJiYgbG9va2luZ19hdCgvXltcXClcXF1cXH1dLykpIHtcbiAgICAgICAgICAgICAgICBpbl9wYXJlbi0tO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWluX3N0cmluZyAmJiBsb29raW5nX2F0KC9eW1xcXCJcXCddLykpIHtcbiAgICAgICAgICAgICAgICBpbl9zdHJpbmcgPSBtWzBdO1xuICAgICAgICAgICAgICAgIHBvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5fc3RyaW5nID09IFwiJ1wiICYmIGxvb2tpbmdfYXQoL15cXFxcXFwnLykpIHtcbiAgICAgICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGluX3N0cmluZyA9PSAnXCInICYmIGxvb2tpbmdfYXQoL15cXFxcXFxcIi8pKSB7XG4gICAgICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbl9zdHJpbmcgPT0gXCInXCIgJiYgbG9va2luZ19hdCgvXlxcJy8pKSB7XG4gICAgICAgICAgICAgICAgaW5fc3RyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbl9zdHJpbmcgPT0gJ1wiJyAmJiBsb29raW5nX2F0KC9eXFxcIi8pKSB7XG4gICAgICAgICAgICAgICAgaW5fc3RyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsb29raW5nX2F0KHNlcGFyYXRvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWluX3N0cmluZyAmJiAhaW5fcGFyZW4gJiYgcG9zID4gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh0cmltKGlucHV0LnN1YnN0cmluZyhsYXN0LCBwb3MpKSk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBwb3MgKyBtWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcG9zICs9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3QgPCBwb3MpIHtcbiAgICAgICAgICAgIHJldC5wdXNoKHRyaW0oaW5wdXQuc3Vic3RyaW5nKGxhc3QsIHBvcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGNhY2hlW2NhY2hlS2V5XSA9IHJldCk7XG4gICAgfTtcbn0pKCk7XG5cbnZhciBnZXRGb250VVJMID0gKGZ1bmN0aW9uKGNhY2hlKXtcbiAgICByZXR1cm4gZnVuY3Rpb24oZWwpe1xuICAgICAgICAvLyBYWFg6IGZvciBJRSB3ZSBnZXQgaGVyZSB0aGUgd2hvbGUgY3NzVGV4dCBvZiB0aGUgcnVsZSxcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgY29tcHV0ZWRTdHlsZS5zcmMgaXMgZW1wdHkuICBOZXh0IHRpbWUgd2UgbmVlZFxuICAgICAgICAvLyB0byBmaXggdGhlc2UgcmVnZXhwcyB3ZSBiZXR0ZXIgd3JpdGUgYSBDU1MgcGFyc2VyLiA6LVxcXG4gICAgICAgIHZhciB1cmwgPSBjYWNoZVtlbF07XG4gICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgIGlmICgobSA9IC91cmxcXCgoWydcIl0/KShbXidcIildKj8pXFwxXFwpXFxzK2Zvcm1hdFxcKChbJ1wiXT8pdHJ1ZXR5cGVcXDNcXCkvLmV4ZWMoZWwpKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IGNhY2hlW2VsXSA9IG1bMl07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKChtID0gL3VybFxcKChbJ1wiXT8pKFteJ1wiKV0qP1xcLnR0ZilcXDFcXCkvLmV4ZWMoZWwpKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IGNhY2hlW2VsXSA9IG1bMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9O1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbnZhciBnZXRGb250SGVpZ2h0ID0gKGZ1bmN0aW9uKGNhY2hlKXtcbiAgICByZXR1cm4gZnVuY3Rpb24oZm9udCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gY2FjaGVbZm9udF07XG4gICAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2FjaGVbZm9udF0gPSBtZWFzdXJlVGV4dChcIk1hcHFcIiwgeyBmb250OiBmb250IH0pLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH07XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuZnVuY3Rpb24gZ2V0Rm9udEZhY2VzKGRvYykge1xuICAgIGlmIChkb2MgPT0gbnVsbCkge1xuICAgICAgICBkb2MgPSBkb2N1bWVudDtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnN0eWxlU2hlZXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGRvU3R5bGVzaGVldChkb2Muc3R5bGVTaGVldHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICAgIGZ1bmN0aW9uIGRvU3R5bGVzaGVldChzcykge1xuICAgICAgICBpZiAoc3MpIHtcbiAgICAgICAgICAgIHZhciBydWxlcyA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bGVzID0gc3MuY3NzUnVsZXM7XG4gICAgICAgICAgICB9IGNhdGNoIChleCkge31cbiAgICAgICAgICAgIGlmIChydWxlcykge1xuICAgICAgICAgICAgICAgIGFkZFJ1bGVzKHNzLCBydWxlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEZvbnRzKHJ1bGUpIHtcbiAgICAgICAgdmFyIHNyYyA9IGdldFByb3BlcnR5VmFsdWUocnVsZS5zdHlsZSwgXCJzcmNcIik7XG4gICAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgICAgIHJldHVybiBzcGxpdFByb3BlcnR5KHNyYykucmVkdWNlKGZ1bmN0aW9uKGEsIGVsKXtcbiAgICAgICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRVUkwoZWwpO1xuICAgICAgICAgICAgICAgIGlmIChmb250KSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChmb250KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlclxuICAgICAgICAgICAgLy8gWFhYOiB0aGlzIGlzIGdyb3NzLiAgc2hvdWxkIHdvcmsgdGhvdWdoIGZvciB2YWxpZCBDU1MuXG4gICAgICAgICAgICB2YXIgZm9udCA9IGdldEZvbnRVUkwocnVsZS5jc3NUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBmb250ID8gWyBmb250IF0gOiBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRSdWxlcyhzdHlsZVNoZWV0LCBydWxlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJ1bGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJ1bGVzW2ldO1xuICAgICAgICAgICAgc3dpdGNoIChyLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAzOiAgICAgICAvLyBDU1NJbXBvcnRSdWxlXG4gICAgICAgICAgICAgICAgZG9TdHlsZXNoZWV0KHIuc3R5bGVTaGVldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNTogICAgICAgLy8gQ1NTRm9udEZhY2VSdWxlXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlICA9IHIuc3R5bGU7XG4gICAgICAgICAgICAgICAgdmFyIGZhbWlseSA9IHNwbGl0UHJvcGVydHkoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmb250LWZhbWlseVwiKSk7XG4gICAgICAgICAgICAgICAgdmFyIGJvbGQgICA9IC9eKFs1Njc4OV0wMHxib2xkKSQvaS50ZXN0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiZm9udC13ZWlnaHRcIikpO1xuICAgICAgICAgICAgICAgIHZhciBpdGFsaWMgPSBcIml0YWxpY1wiID09IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiZm9udC1zdHlsZVwiKTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjICAgID0gZmluZEZvbnRzKHIpO1xuICAgICAgICAgICAgICAgIGlmIChzcmMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRSdWxlKHN0eWxlU2hlZXQsIGZhbWlseSwgYm9sZCwgaXRhbGljLCBzcmNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRSdWxlKHN0eWxlU2hlZXQsIG5hbWVzLCBib2xkLCBpdGFsaWMsIHVybCkge1xuICAgICAgICAvLyBXZSBnZXQgZnVsbCByZXNvbHZlZCBhYnNvbHV0ZSBVUkxzIGluIENocm9tZSwgYnV0IHNhZGx5XG4gICAgICAgIC8vIG5vdCBpbiBGaXJlZm94LlxuICAgICAgICBpZiAoISgvXmRhdGE6L2kudGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgaWYgKCEoL15bXlxcLzpdKzpcXC9cXC8vLnRlc3QodXJsKSB8fCAvXlxcLy8udGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IFN0cmluZyhzdHlsZVNoZWV0LmhyZWYpLnJlcGxhY2UoL1teXFwvXSokLywgXCJcIikgKyB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL14oWydcIl0/KSguKj8pXFwxJC8sIFwiJDJcIik7IC8vIGl0J3MgcXVvdGVkXG4gICAgICAgICAgICBpZiAoYm9sZCkge1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gXCJ8Ym9sZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGl0YWxpYykge1xuICAgICAgICAgICAgICAgIG5hbWUgKz0gXCJ8aXRhbGljXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSB1cmw7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q291bnRlcihuYW1lKSB7XG4gICAgbmFtZSA9IFwiX2NvdW50ZXJfXCIgKyBuYW1lO1xuICAgIHJldHVybiBub2RlSW5mb1tuYW1lXTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsQ291bnRlcnMobmFtZSkge1xuICAgIHZhciB2YWx1ZXMgPSBbXSwgcCA9IG5vZGVJbmZvO1xuICAgIG5hbWUgPSBcIl9jb3VudGVyX1wiICsgbmFtZTtcbiAgICB3aGlsZSAocCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkocCwgbmFtZSkpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHBbbmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXMucmV2ZXJzZSgpO1xufVxuXG5mdW5jdGlvbiBpbmNDb3VudGVyKG5hbWUsIGluYykge1xuICAgIHZhciBwID0gbm9kZUluZm87XG4gICAgbmFtZSA9IFwiX2NvdW50ZXJfXCIgKyBuYW1lO1xuICAgIHdoaWxlIChwICYmICFoYXNPd25Qcm9wZXJ0eShwLCBuYW1lKSkge1xuICAgICAgICBwID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHApO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgICAgcCA9IG5vZGVJbmZvLl9yb290O1xuICAgIH1cbiAgICBwW25hbWVdID0gKHBbbmFtZV0gfHwgMCkgKyAoaW5jID09IG51bGwgPyAxIDogaW5jKTtcbn1cblxuZnVuY3Rpb24gcmVzZXRDb3VudGVyKG5hbWUsIHZhbCkge1xuICAgIG5hbWUgPSBcIl9jb3VudGVyX1wiICsgbmFtZTtcbiAgICBub2RlSW5mb1tuYW1lXSA9IHZhbCA9PSBudWxsID8gMCA6IHZhbDtcbn1cblxuZnVuY3Rpb24gZG9Db3VudGVycyhhLCBmLCBkZWYpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOykge1xuICAgICAgICB2YXIgbmFtZSA9IGFbaSsrXTtcbiAgICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQoYVtpXSk7XG4gICAgICAgIGlmIChpc05hTih2YWwpKSB7XG4gICAgICAgICAgICBmKG5hbWUsIGRlZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmKG5hbWUsIHZhbCk7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXJzKHN0eWxlKSB7XG4gICAgdmFyIGNvdW50ZXJSZXNldCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY291bnRlci1yZXNldFwiKTtcbiAgICBpZiAoY291bnRlclJlc2V0KSB7XG4gICAgICAgIGRvQ291bnRlcnMoc3BsaXRQcm9wZXJ0eShjb3VudGVyUmVzZXQsIC9eXFxzKy8pLCByZXNldENvdW50ZXIsIDApO1xuICAgIH1cbiAgICB2YXIgY291bnRlckluY3JlbWVudCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY291bnRlci1pbmNyZW1lbnRcIik7XG4gICAgaWYgKGNvdW50ZXJJbmNyZW1lbnQpIHtcbiAgICAgICAgZG9Db3VudGVycyhzcGxpdFByb3BlcnR5KGNvdW50ZXJJbmNyZW1lbnQsIC9eXFxzKy8pLCBpbmNDb3VudGVyLCAxKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29sb3Ioc3RyLCBjc3MpIHtcbiAgICB2YXIgY29sb3IgPSB1dGlsc19wYXJzZUNvbG9yKHN0ciwgdHJ1ZSk7XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICAgIGNvbG9yID0gY29sb3IudG9SR0IoKTtcbiAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci50b0Nzc1JnYmEoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2xvci5hID09PSAwKSB7XG4gICAgICAgICAgICBjb2xvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuXG5mdW5jdGlvbiB3aGVuSW1hZ2VzQXJlQWN0dWFsbHlMb2FkZWQoZWxlbWVudHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHBlbmRpbmcgPSAwO1xuICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbCl7XG4gICAgICAgIHZhciBpbWFnZXMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGltYWdlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGltZyA9IGltYWdlc1tpXTtcbiAgICAgICAgICAgIGlmICghaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgcGVuZGluZysrO1xuICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBpbWcub25lcnJvciA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghcGVuZGluZykge1xuICAgICAgICBuZXh0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKCFkb25lICYmIC0tcGVuZGluZyA8PSAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNhY2hlSW1hZ2VzKGVsZW1lbnRzLCBjYWxsYmFjaykge1xuICAgIHZhciB1cmxzID0gW107XG4gICAgZnVuY3Rpb24gYWRkKHVybCkge1xuICAgICAgICBpZiAoIUlNQUdFX0NBQ0hFW3VybF0pIHtcbiAgICAgICAgICAgIElNQUdFX0NBQ0hFW3VybF0gPSB0cnVlO1xuICAgICAgICAgICAgdXJscy5wdXNoKHVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIGRpdmUoZWxlbWVudCl7XG4gICAgICAgIGlmICgvXmltZyQvaS50ZXN0KGVsZW1lbnQudGFnTmFtZSkpIHtcbiAgICAgICAgICAgIGFkZChlbGVtZW50LnNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyc2VCYWNrZ3JvdW5kSW1hZ2UoXG4gICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKFxuICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksIFwiYmFja2dyb3VuZC1pbWFnZVwiXG4gICAgICAgICAgICApXG4gICAgICAgICkuZm9yRWFjaChmdW5jdGlvbihiZyl7XG4gICAgICAgICAgICBpZiAoYmcudHlwZSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgYWRkKGJnLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlbGVtZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzbGljZShlbGVtZW50LmNoaWxkcmVuKS5mb3JFYWNoKGRpdmUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgY291bnQgPSB1cmxzLmxlbmd0aDtcbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICBpZiAoLS1jb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAvLyBFdmVuIHRob3VnaCB3ZSBjYWNoZWQgdGhlbSwgdGhleSBzaW1wbHkgd29uJ3QgYmUgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IGluIHRoZSBuZXdseVxuICAgICAgICAgICAgLy8gY3JlYXRlZCBET00uICBQcmV2aW91c2x5IHdlJ2QgYWxsb3cgYSAxMG1zIHRpbWVvdXQsIGJ1dCB0aGF0J3MgYXJiaXRyYXJ5IGFuZCBjbGVhcmx5XG4gICAgICAgICAgICAvLyBub3Qgd29ya2luZyBpbiBhbGwgY2FzZXMgKGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81Mzk5KSwgc28gdGhpc1xuICAgICAgICAgICAgLy8gZnVuY3Rpb24gd2lsbCB3YWl0IGZvciB0aGVpciAuY29tcGxldGUgYXR0cmlidXRlLlxuICAgICAgICAgICAgd2hlbkltYWdlc0FyZUFjdHVhbGx5TG9hZGVkKGVsZW1lbnRzLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG4gICAgdXJscy5mb3JFYWNoKGZ1bmN0aW9uKHVybCl7XG4gICAgICAgIHZhciBpbWcgPSBJTUFHRV9DQUNIRVt1cmxdID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgICAgICBpZiAoISgvXmRhdGE6L2kudGVzdCh1cmwpKSkge1xuICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICBpZiAoaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gbmV4dDtcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgSU1BR0VfQ0FDSEVbdXJsXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhbHBoYU51bWVyYWwobikge1xuICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgIGRvIHtcbiAgICAgICAgdmFyIHIgPSBuICUgMjY7XG4gICAgICAgIHJlc3VsdCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoOTcgKyByKSArIHJlc3VsdDtcbiAgICAgICAgbiA9IE1hdGguZmxvb3IobiAvIDI2KTtcbiAgICB9IHdoaWxlIChuID4gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcHVzaE5vZGVJbmZvKGVsZW1lbnQsIHN0eWxlLCBncm91cCkge1xuICAgIG5vZGVJbmZvID0gT2JqZWN0LmNyZWF0ZShub2RlSW5mbyk7XG4gICAgbm9kZUluZm9bZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCldID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBzdHlsZTogc3R5bGVcbiAgICB9O1xuICAgIGxldCBkZWNvcmF0aW9uID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0ZXh0LWRlY29yYXRpb25cIik7XG4gICAgaWYgKGRlY29yYXRpb24gJiYgZGVjb3JhdGlvbiAhPSBcIm5vbmVcIikge1xuICAgICAgICBsZXQgY29sb3IgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiKTtcbiAgICAgICAgZGVjb3JhdGlvbi5zcGxpdCgvXFxzKy9nKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xuICAgICAgICAgICAgaWYgKCFub2RlSW5mb1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIG5vZGVJbmZvW25hbWVdID0gY29sb3I7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJ1bmRlcmxpbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0ZXh0LXVuZGVybGluZS1vZmZzZXRcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgIT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVJbmZvW1widW5kZXJsaW5lLW9mZnNldFwiXSA9IHBhcnNlRmxvYXQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoc3R5bGUpKSB7XG4gICAgICAgIG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQgPSB7XG4gICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3BOb2RlSW5mbygpIHtcbiAgICBub2RlSW5mbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihub2RlSW5mbyk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsaXBib3gocGF0aCkge1xuICAgIGlmIChub2RlSW5mby5fY2xpcGJveCAhPSBudWxsKSB7XG4gICAgICAgIHZhciBib3ggPSBwYXRoLmJib3gobm9kZUluZm8uX21hdHJpeCk7XG4gICAgICAgIGlmIChub2RlSW5mby5fY2xpcGJveCkge1xuICAgICAgICAgICAgbm9kZUluZm8uX2NsaXBib3ggPSBnZW8uUmVjdC5pbnRlcnNlY3Qobm9kZUluZm8uX2NsaXBib3gsIGJveCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlSW5mby5fY2xpcGJveCA9IGJveDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZW1wdHlDbGlwYm94KCkge1xuICAgIHZhciBjYiA9IG5vZGVJbmZvLl9jbGlwYm94O1xuICAgIGlmIChjYiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIGNiLndpZHRoKCkgPT09IDAgfHwgY2IuaGVpZ2h0KCkgPT09IDA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVzU3RhY2tpbmdDb250ZXh0KHN0eWxlKSB7XG4gICAgZnVuY3Rpb24gcHJvcChuYW1lKSB7IHJldHVybiBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBuYW1lKTsgfVxuICAgIGlmIChwcm9wKFwidHJhbnNmb3JtXCIpICE9IFwibm9uZVwiIHx8XG4gICAgICAgIHByb3AoXCJwb3NpdGlvblwiKSAhPSBcInN0YXRpY1wiIHx8XG4gICAgICAgIHByb3AoXCJ6LWluZGV4XCIpICE9IFwiYXV0b1wiIHx8XG4gICAgICAgIHByb3AoXCJvcGFjaXR5XCIpIDwgMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgcHNldWRvRWx0KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHBzZXVkb0VsdCB8fCBudWxsKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcCwgZGVmYSkge1xuICAgIHZhciB2YWwgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xuICAgIGlmICh2YWwgPT0gbnVsbCB8fCB2YWwgPT09IFwiXCIpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIud2Via2l0KSB7XG4gICAgICAgICAgICB2YWwgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiLXdlYmtpdC1cIiArIHByb3AgKTtcbiAgICAgICAgfSBlbHNlIGlmIChicm93c2VyLm1vemlsbGEpIHtcbiAgICAgICAgICAgIHZhbCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItbW96LVwiICsgcHJvcCApO1xuICAgICAgICB9IGVsc2UgaWYgKGJyb3dzZXIub3BlcmEpIHtcbiAgICAgICAgICAgIHZhbCA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCItby1cIiArIHByb3ApO1xuICAgICAgICB9IGVsc2UgaWYgKG1pY3Jvc29mdCkge1xuICAgICAgICAgICAgdmFsID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIi1tcy1cIiArIHByb3ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMiAmJiAodmFsID09IG51bGwgfHwgdmFsID09PSBcIlwiKSkge1xuICAgICAgICByZXR1cm4gZGVmYTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGxlYXNlU2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcCwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIHN0eWxlLnNldFByb3BlcnR5KHByb3AsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIGlmIChicm93c2VyLndlYmtpdCkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi13ZWJraXQtXCIgKyBwcm9wLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICB9IGVsc2UgaWYgKGJyb3dzZXIubW96aWxsYSkge1xuICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi1tb3otXCIgKyBwcm9wLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICB9IGVsc2UgaWYgKGJyb3dzZXIub3BlcmEpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXCItby1cIiArIHByb3AsIHZhbHVlLCBpbXBvcnRhbnQpO1xuICAgIH0gZWxzZSBpZiAobWljcm9zb2Z0KSB7XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KFwiLW1zLVwiICsgcHJvcCwgdmFsdWUsIGltcG9ydGFudCk7XG4gICAgICAgIHByb3AgPSBcIm1zXCIgKyBwcm9wLnJlcGxhY2UoLyhefC0pKFthLXpdKS9nLCBmdW5jdGlvbihzLCBwMSwgcDIpe1xuICAgICAgICAgICAgcmV0dXJuIHAxICsgcDIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRCb3JkZXIoc3R5bGUsIHNpZGUpIHtcbiAgICBzaWRlID0gXCJib3JkZXItXCIgKyBzaWRlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIHNpZGUgKyBcIi13aWR0aFwiKSksXG4gICAgICAgIHN0eWxlOiBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBzaWRlICsgXCItc3R5bGVcIiksXG4gICAgICAgIGNvbG9yOiBwYXJzZUNvbG9yKGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIHNpZGUgKyBcIi1jb2xvclwiKSwgdHJ1ZSlcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBzYXZlU3R5bGUoZWxlbWVudCwgZnVuYykge1xuICAgIHZhciBwcmV2ID0gZWxlbWVudC5zdHlsZS5jc3NUZXh0O1xuICAgIHZhciByZXN1bHQgPSBmdW5jKCk7XG4gICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gcHJldjtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIHNpZGUpIHtcbiAgICB2YXIgciA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYm9yZGVyLVwiICsgc2lkZSArIFwiLXJhZGl1c1wiKS5zcGxpdCgvXFxzKy9nKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgaWYgKHIubGVuZ3RoID09IDEpIHtcbiAgICAgICAgci5wdXNoKHJbMF0pO1xuICAgIH1cbiAgICByZXR1cm4gc2FuaXRpemVSYWRpdXMoeyB4OiByWzBdLCB5OiByWzFdIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRDb250ZW50Qm94KGVsZW1lbnQpIHtcbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBib3ggPSBpbm5lckJveChib3gsIFwiYm9yZGVyLSotd2lkdGhcIiwgZWxlbWVudCk7XG4gICAgYm94ID0gaW5uZXJCb3goYm94LCBcInBhZGRpbmctKlwiLCBlbGVtZW50KTtcbiAgICByZXR1cm4gYm94O1xufVxuXG5mdW5jdGlvbiBpbm5lckJveChib3gsIHByb3AsIGVsZW1lbnQpIHtcbiAgICB2YXIgc3R5bGUsIHd0LCB3ciwgd2IsIHdsO1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgd3QgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIHByb3AucmVwbGFjZShcIipcIiwgXCJ0b3BcIikpKTtcbiAgICAgICAgd3IgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIHByb3AucmVwbGFjZShcIipcIiwgXCJyaWdodFwiKSkpO1xuICAgICAgICB3YiA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcC5yZXBsYWNlKFwiKlwiLCBcImJvdHRvbVwiKSkpO1xuICAgICAgICB3bCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgcHJvcC5yZXBsYWNlKFwiKlwiLCBcImxlZnRcIikpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHByb3AgPT0gXCJudW1iZXJcIikge1xuICAgICAgICB3dCA9IHdyID0gd2IgPSB3bCA9IHByb3A7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcCAgICA6IGJveC50b3AgKyB3dCxcbiAgICAgICAgcmlnaHQgIDogYm94LnJpZ2h0IC0gd3IsXG4gICAgICAgIGJvdHRvbSA6IGJveC5ib3R0b20gLSB3YixcbiAgICAgICAgbGVmdCAgIDogYm94LmxlZnQgKyB3bCxcbiAgICAgICAgd2lkdGggIDogYm94LnJpZ2h0IC0gYm94LmxlZnQgLSB3ciAtIHdsLFxuICAgICAgICBoZWlnaHQgOiBib3guYm90dG9tIC0gYm94LnRvcCAtIHdiIC0gd3RcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm0oc3R5bGUpIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0cmFuc2Zvcm1cIik7XG4gICAgaWYgKHRyYW5zZm9ybSA9PSBcIm5vbmVcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIG1hdHJpeCA9IC9eXFxzKm1hdHJpeFxcKFxccyooLio/KVxccypcXClcXHMqJC8uZXhlYyh0cmFuc2Zvcm0pO1xuICAgIGlmIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwidHJhbnNmb3JtLW9yaWdpblwiKTtcbiAgICAgICAgbWF0cml4ID0gbWF0cml4WzFdLnNwbGl0KC9cXHMqLFxccyovZykubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgICBvcmlnaW4gPSBvcmlnaW4uc3BsaXQoL1xccysvZykubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF0cml4OiBtYXRyaXgsXG4gICAgICAgICAgICBvcmlnaW46IG9yaWdpblxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmFkaWFuc1RvRGVncmVlcyhyYWRpYW5zKSB7XG4gICAgcmV0dXJuICgoMTgwICogcmFkaWFucykgLyBNYXRoLlBJKSAlIDM2MDtcbn1cblxuZnVuY3Rpb24gcGFyc2VBbmdsZShhbmdsZSkge1xuICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KGFuZ2xlKTtcbiAgICBpZiAoL2dyYWQkLy50ZXN0KGFuZ2xlKSkge1xuICAgICAgICByZXR1cm4gTWF0aC5QSSAqIG51bSAvIDIwMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoL3JhZCQvLnRlc3QoYW5nbGUpKSB7XG4gICAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIGVsc2UgaWYgKC90dXJuJC8udGVzdChhbmdsZSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguUEkgKiBudW0gKiAyO1xuICAgIH1cbiAgICBlbHNlIGlmICgvZGVnJC8udGVzdChhbmdsZSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguUEkgKiBudW0gLyAxODA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRUcmFuc2Zvcm0oc2hhcGUsIG0pIHtcbiAgICBtID0gbmV3IGdlby5NYXRyaXgobVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgc2hhcGUudHJhbnNmb3JtKG0pO1xuICAgIHJldHVybiBtO1xufVxuXG5mdW5jdGlvbiBzZXRDbGlwcGluZyhzaGFwZSwgY2xpcFBhdGgpIHtcbiAgICBzaGFwZS5jbGlwKGNsaXBQYXRoKTtcbn1cblxuZnVuY3Rpb24gYWRkQXJjVG9QYXRoKHBhdGgsIHgsIHksIG9wdGlvbnMpIHtcbiAgICB2YXIgcG9pbnRzID0gbmV3IGdlby5BcmMoWyB4LCB5IF0sIG9wdGlvbnMpLmN1cnZlUG9pbnRzKCksIGkgPSAxO1xuICAgIHdoaWxlIChpIDwgcG9pbnRzLmxlbmd0aCkge1xuICAgICAgICBwYXRoLmN1cnZlVG8ocG9pbnRzW2krK10sIHBvaW50c1tpKytdLCBwb2ludHNbaSsrXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZVJhZGl1cyhyKSB7XG4gICAgaWYgKHIueCA8PSAwIHx8IHIueSA8PSAwKSB7XG4gICAgICAgIHIueCA9IHIueSA9IDA7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuXG5mdW5jdGlvbiBhZGp1c3RCb3JkZXJSYWRpdXNGb3JCb3goYm94LCByVEwsIHJUUiwgckJSLCByQkwpIHtcbiAgICAvLyBhZGp1c3QgYm9yZGVyIHJhZGl1c2VzIHN1Y2ggdGhhdCB0aGUgc3VtIG9mIGFkamFjZW50XG4gICAgLy8gcmFkaXVzZXMgaXMgbm90IGJpZ2dlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIHNpZGUuXG4gICAgLy8gc2VlbXMgdGhlIGNvcnJlY3QgYWxnb3JpdGhtIGlzIHZhcmlhbnQgKDMpIGZyb20gaGVyZTpcbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9TdHlsZS9DU1MvVHJhY2tlci9pc3N1ZXMvMjk/Y2hhbmdlbG9nXG4gICAgdmFyIHRsX3ggPSBNYXRoLm1heCgwLCByVEwueCksIHRsX3kgPSBNYXRoLm1heCgwLCByVEwueSk7XG4gICAgdmFyIHRyX3ggPSBNYXRoLm1heCgwLCByVFIueCksIHRyX3kgPSBNYXRoLm1heCgwLCByVFIueSk7XG4gICAgdmFyIGJyX3ggPSBNYXRoLm1heCgwLCByQlIueCksIGJyX3kgPSBNYXRoLm1heCgwLCByQlIueSk7XG4gICAgdmFyIGJsX3ggPSBNYXRoLm1heCgwLCByQkwueCksIGJsX3kgPSBNYXRoLm1heCgwLCByQkwueSk7XG5cbiAgICB2YXIgZiA9IE1hdGgubWluKFxuICAgICAgICBib3gud2lkdGggLyAodGxfeCArIHRyX3gpLFxuICAgICAgICBib3guaGVpZ2h0IC8gKHRyX3kgKyBicl95KSxcbiAgICAgICAgYm94LndpZHRoIC8gKGJyX3ggKyBibF94KSxcbiAgICAgICAgYm94LmhlaWdodCAvIChibF95ICsgdGxfeSlcbiAgICApO1xuXG4gICAgaWYgKGYgPCAxKSB7XG4gICAgICAgIHRsX3ggKj0gZjsgdGxfeSAqPSBmO1xuICAgICAgICB0cl94ICo9IGY7IHRyX3kgKj0gZjtcbiAgICAgICAgYnJfeCAqPSBmOyBicl95ICo9IGY7XG4gICAgICAgIGJsX3ggKj0gZjsgYmxfeSAqPSBmO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRsOiB7IHg6IHRsX3gsIHk6IHRsX3kgfSxcbiAgICAgICAgdHI6IHsgeDogdHJfeCwgeTogdHJfeSB9LFxuICAgICAgICBicjogeyB4OiBicl94LCB5OiBicl95IH0sXG4gICAgICAgIGJsOiB7IHg6IGJsX3gsIHk6IGJsX3kgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRSb3VuZEJveChlbGVtZW50LCBib3gsIHR5cGUpIHtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgdmFyIHJUTCA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJ0b3AtbGVmdFwiKTtcbiAgICB2YXIgclRSID0gZ2V0Qm9yZGVyUmFkaXVzKHN0eWxlLCBcInRvcC1yaWdodFwiKTtcbiAgICB2YXIgckJMID0gZ2V0Qm9yZGVyUmFkaXVzKHN0eWxlLCBcImJvdHRvbS1sZWZ0XCIpO1xuICAgIHZhciByQlIgPSBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIFwiYm90dG9tLXJpZ2h0XCIpO1xuXG4gICAgaWYgKHR5cGUgPT0gXCJwYWRkaW5nXCIgfHwgdHlwZSA9PSBcImNvbnRlbnRcIikge1xuICAgICAgICB2YXIgYnQgPSBnZXRCb3JkZXIoc3R5bGUsIFwidG9wXCIpO1xuICAgICAgICB2YXIgYnIgPSBnZXRCb3JkZXIoc3R5bGUsIFwicmlnaHRcIik7XG4gICAgICAgIHZhciBiYiA9IGdldEJvcmRlcihzdHlsZSwgXCJib3R0b21cIik7XG4gICAgICAgIHZhciBibCA9IGdldEJvcmRlcihzdHlsZSwgXCJsZWZ0XCIpO1xuICAgICAgICByVEwueCAtPSBibC53aWR0aDsgclRMLnkgLT0gYnQud2lkdGg7XG4gICAgICAgIHJUUi54IC09IGJyLndpZHRoOyByVFIueSAtPSBidC53aWR0aDtcbiAgICAgICAgckJSLnggLT0gYnIud2lkdGg7IHJCUi55IC09IGJiLndpZHRoO1xuICAgICAgICByQkwueCAtPSBibC53aWR0aDsgckJMLnkgLT0gYmIud2lkdGg7XG4gICAgICAgIGlmICh0eXBlID09IFwiY29udGVudFwiKSB7XG4gICAgICAgICAgICB2YXIgcHQgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwicGFkZGluZy10b3BcIikpO1xuICAgICAgICAgICAgdmFyIHByID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInBhZGRpbmctcmlnaHRcIikpO1xuICAgICAgICAgICAgdmFyIHBiID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInBhZGRpbmctYm90dG9tXCIpKTtcbiAgICAgICAgICAgIHZhciBwbCA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJwYWRkaW5nLWxlZnRcIikpO1xuICAgICAgICAgICAgclRMLnggLT0gcGw7IHJUTC55IC09IHB0O1xuICAgICAgICAgICAgclRSLnggLT0gcHI7IHJUUi55IC09IHB0O1xuICAgICAgICAgICAgckJSLnggLT0gcHI7IHJCUi55IC09IHBiO1xuICAgICAgICAgICAgckJMLnggLT0gcGw7IHJCTC55IC09IHBiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgclRMLnggLT0gdHlwZTsgclRMLnkgLT0gdHlwZTtcbiAgICAgICAgclRSLnggLT0gdHlwZTsgclRSLnkgLT0gdHlwZTtcbiAgICAgICAgckJSLnggLT0gdHlwZTsgckJSLnkgLT0gdHlwZTtcbiAgICAgICAgckJMLnggLT0gdHlwZTsgckJMLnkgLT0gdHlwZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm91bmRCb3goYm94LCByVEwsIHJUUiwgckJSLCByQkwpO1xufVxuXG4vLyBDcmVhdGUgYSBkcmF3aW5nLlBhdGggZm9yIGEgcm91bmRlZCByZWN0YW5nbGUuICBSZWNlaXZlcyB0aGVcbi8vIGJvdW5kaW5nIGJveCBhbmQgdGhlIGJvcmRlci1yYWRpdXNlcyBpbiBDU1Mgb3JkZXIgKHRvcC1sZWZ0LFxuLy8gdG9wLXJpZ2h0LCBib3R0b20tcmlnaHQsIGJvdHRvbS1sZWZ0KS4gIFRoZSByYWRpdXNlcyBtdXN0IGJlXG4vLyBvYmplY3RzIGNvbnRhaW5pbmcgeCAoaG9yaXouIHJhZGl1cykgYW5kIHkgKHZlcnRpY2FsIHJhZGl1cykuXG5mdW5jdGlvbiByb3VuZEJveChib3gsIHJUTDAsIHJUUjAsIHJCUjAsIHJCTDApIHtcbiAgICB2YXIgdG1wID0gYWRqdXN0Qm9yZGVyUmFkaXVzRm9yQm94KGJveCwgclRMMCwgclRSMCwgckJSMCwgckJMMCk7XG4gICAgdmFyIHJUTCA9IHRtcC50bDtcbiAgICB2YXIgclRSID0gdG1wLnRyO1xuICAgIHZhciByQlIgPSB0bXAuYnI7XG4gICAgdmFyIHJCTCA9IHRtcC5ibDtcbiAgICB2YXIgcGF0aCA9IG5ldyBQYXRoKHsgZmlsbDogbnVsbCwgc3Ryb2tlOiBudWxsIH0pO1xuICAgIHBhdGgubW92ZVRvKGJveC5sZWZ0LCBib3gudG9wICsgclRMLnkpO1xuICAgIGlmIChyVEwueCkge1xuICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgYm94LmxlZnQgKyByVEwueCwgYm94LnRvcCArIHJUTC55LCB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiAtMTgwLFxuICAgICAgICAgICAgZW5kQW5nbGU6IC05MCxcbiAgICAgICAgICAgIHJhZGl1c1g6IHJUTC54LFxuICAgICAgICAgICAgcmFkaXVzWTogclRMLnlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdGgubGluZVRvKGJveC5yaWdodCAtIHJUUi54LCBib3gudG9wKTtcbiAgICBpZiAoclRSLngpIHtcbiAgICAgICAgYWRkQXJjVG9QYXRoKHBhdGgsIGJveC5yaWdodCAtIHJUUi54LCBib3gudG9wICsgclRSLnksIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC05MCxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiAwLFxuICAgICAgICAgICAgcmFkaXVzWDogclRSLngsXG4gICAgICAgICAgICByYWRpdXNZOiByVFIueVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGF0aC5saW5lVG8oYm94LnJpZ2h0LCBib3guYm90dG9tIC0gckJSLnkpO1xuICAgIGlmIChyQlIueCkge1xuICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgYm94LnJpZ2h0IC0gckJSLngsIGJveC5ib3R0b20gLSByQlIueSwge1xuICAgICAgICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiA5MCxcbiAgICAgICAgICAgIHJhZGl1c1g6IHJCUi54LFxuICAgICAgICAgICAgcmFkaXVzWTogckJSLnlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhdGgubGluZVRvKGJveC5sZWZ0ICsgckJMLngsIGJveC5ib3R0b20pO1xuICAgIGlmIChyQkwueCkge1xuICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgYm94LmxlZnQgKyByQkwueCwgYm94LmJvdHRvbSAtIHJCTC55LCB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlOiA5MCxcbiAgICAgICAgICAgIGVuZEFuZ2xlOiAxODAsXG4gICAgICAgICAgICByYWRpdXNYOiByQkwueCxcbiAgICAgICAgICAgIHJhZGl1c1k6IHJCTC55XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aC5jbG9zZSgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRDb3VudGVyKHZhbCwgc3R5bGUpIHtcbiAgICB2YXIgc3RyID0gU3RyaW5nKHBhcnNlRmxvYXQodmFsKSk7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCI6XG4gICAgICAgIGlmIChzdHIubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgc3RyID0gXCIwXCIgKyBzdHI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgIGNhc2UgXCJsb3dlci1yb21hblwiOlxuICAgICAgICByZXR1cm4gYXJhYmljVG9Sb21hbih2YWwpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBjYXNlIFwidXBwZXItcm9tYW5cIjpcbiAgICAgICAgcmV0dXJuIGFyYWJpY1RvUm9tYW4odmFsKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgY2FzZSBcImxvd2VyLWxhdGluXCI6XG4gICAgICBjYXNlIFwibG93ZXItYWxwaGFcIjpcbiAgICAgICAgcmV0dXJuIGFscGhhTnVtZXJhbCh2YWwgLSAxKTtcbiAgICAgIGNhc2UgXCJ1cHBlci1sYXRpblwiOlxuICAgICAgY2FzZSBcInVwcGVyLWFscGhhXCI6XG4gICAgICAgIHJldHVybiBhbHBoYU51bWVyYWwodmFsIC0gMSkudG9VcHBlckNhc2UoKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBldmFsUHNldWRvRWxlbWVudENvbnRlbnQoZWxlbWVudCwgY29udGVudCkge1xuICAgIGZ1bmN0aW9uIGRpc3BsYXlDb3VudGVyKG5hbWUsIHN0eWxlLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRDb3VudGVyKGdldENvdW50ZXIobmFtZSkgfHwgMCwgc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvci5yZXBsYWNlKC9eXFxzKihbXCInXSkoLiopXFwxXFxzKiQvLCBcIiQyXCIpO1xuICAgICAgICByZXR1cm4gZ2V0QWxsQ291bnRlcnMobmFtZSkubWFwKGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0Q291bnRlcih2YWwsIHN0eWxlKTtcbiAgICAgICAgfSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB2YXIgYSA9IHNwbGl0UHJvcGVydHkoY29udGVudCwgL15cXHMrLyk7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBtO1xuICAgIGEuZm9yRWFjaChmdW5jdGlvbihlbCl7XG4gICAgICAgIHZhciB0bXA7XG4gICAgICAgIGlmICgobSA9IC9eXFxzKihbXCInXSkoLiopXFwxXFxzKiQvLmV4ZWMoZWwpKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobVsyXS5yZXBsYWNlKC9cXFxcKFswLTlhLWZdezR9KS9naSwgZnVuY3Rpb24ocywgcCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQocCwgMTYpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgobSA9IC9eXFxzKmNvdW50ZXJcXCgoLio/KVxcKVxccyokLy5leGVjKGVsKSkpIHtcbiAgICAgICAgICAgIHRtcCA9IHNwbGl0UHJvcGVydHkobVsxXSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChkaXNwbGF5Q291bnRlcih0bXBbMF0sIHRtcFsxXSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChtID0gL15cXHMqY291bnRlcnNcXCgoLio/KVxcKVxccyokLy5leGVjKGVsKSkpIHtcbiAgICAgICAgICAgIHRtcCA9IHNwbGl0UHJvcGVydHkobVsxXSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaChkaXNwbGF5Q291bnRlcih0bXBbMF0sIHRtcFsyXSwgdG1wWzFdKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKG0gPSAvXlxccyphdHRyXFwoKC4qPylcXClcXHMqJC8uZXhlYyhlbCkpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50LmdldEF0dHJpYnV0ZShtWzFdKSB8fCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVsKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NzVGV4dChzdHlsZSkge1xuICAgIGlmIChzdHlsZS5jc3NUZXh0KSB7XG4gICAgICAgIHJldHVybiBzdHlsZS5jc3NUZXh0O1xuICAgIH1cbiAgICAvLyBTdGF0dXM6IE5FVy4gIFJlcG9ydCB5ZWFyOiAyMDAyLiAgQ3VycmVudCB5ZWFyOiAyMDE0LlxuICAgIC8vIE5pY2UgcGxheWVkLCBNb3ppbGxpYW5zLlxuICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzY4N1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHN0eWxlW2ldICsgXCI6IFwiICsgZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgc3R5bGVbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKFwiO1xcblwiKTtcbn1cblxuZnVuY3Rpb24gX3JlbmRlcldpdGhQc2V1ZG9FbGVtZW50cyhlbGVtZW50LCBncm91cCkge1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gS0VORE9fUFNFVURPX0VMRU1FTlQpIHtcbiAgICAgICAgX3JlbmRlckVsZW1lbnQoZWxlbWVudCwgZ3JvdXApO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmYWtlID0gW107XG4gICAgZnVuY3Rpb24gcHNldWRvKGtpbmQsIHBsYWNlKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwga2luZCksIGNvbnRlbnQgPSBzdHlsZS5jb250ZW50O1xuICAgICAgICB1cGRhdGVDb3VudGVycyhzdHlsZSk7XG4gICAgICAgIGlmIChjb250ZW50ICYmIGNvbnRlbnQgIT0gXCJub3JtYWxcIiAmJiBjb250ZW50ICE9IFwibm9uZVwiICYmIHN0eWxlLndpZHRoICE9IFwiMHB4XCIpIHtcbiAgICAgICAgICAgIGxldCBwc2VsID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoS0VORE9fUFNFVURPX0VMRU1FTlQpO1xuICAgICAgICAgICAgcHNlbC5zdHlsZS5jc3NUZXh0ID0gZ2V0Q3NzVGV4dChzdHlsZSk7XG4gICAgICAgICAgICBwc2VsLnRleHRDb250ZW50ID0gZXZhbFBzZXVkb0VsZW1lbnRDb250ZW50KGVsZW1lbnQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUocHNlbCwgcGxhY2UpO1xuICAgICAgICAgICAgZmFrZS5wdXNoKHBzZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBzZXVkbyhcIjpiZWZvcmVcIiwgZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICBwc2V1ZG8oXCI6YWZ0ZXJcIiwgbnVsbCk7XG4gICAgaWYgKGZha2UubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgc2F2ZUNsYXNzID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IFwiIGtlbmRvLXBkZi1oaWRlLXBzZXVkby1lbGVtZW50c1wiO1xuICAgICAgICBfcmVuZGVyRWxlbWVudChlbGVtZW50LCBncm91cCk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gc2F2ZUNsYXNzO1xuICAgICAgICBmYWtlLmZvckVhY2goZnVuY3Rpb24oZWwpeyBlbGVtZW50LnJlbW92ZUNoaWxkKGVsKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgX3JlbmRlckVsZW1lbnQoZWxlbWVudCwgZ3JvdXApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX3JlbmRlckVsZW1lbnQoZWxlbWVudCwgZ3JvdXApIHtcbiAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgdmFyIHRvcCA9IGdldEJvcmRlcihzdHlsZSwgXCJ0b3BcIik7XG4gICAgdmFyIHJpZ2h0ID0gZ2V0Qm9yZGVyKHN0eWxlLCBcInJpZ2h0XCIpO1xuICAgIHZhciBib3R0b20gPSBnZXRCb3JkZXIoc3R5bGUsIFwiYm90dG9tXCIpO1xuICAgIHZhciBsZWZ0ID0gZ2V0Qm9yZGVyKHN0eWxlLCBcImxlZnRcIik7XG5cbiAgICB2YXIgclRMMCA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJ0b3AtbGVmdFwiKTtcbiAgICB2YXIgclRSMCA9IGdldEJvcmRlclJhZGl1cyhzdHlsZSwgXCJ0b3AtcmlnaHRcIik7XG4gICAgdmFyIHJCTDAgPSBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIFwiYm90dG9tLWxlZnRcIik7XG4gICAgdmFyIHJCUjAgPSBnZXRCb3JkZXJSYWRpdXMoc3R5bGUsIFwiYm90dG9tLXJpZ2h0XCIpO1xuXG4gICAgdmFyIGRpciA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiZGlyZWN0aW9uXCIpO1xuXG4gICAgdmFyIGJhY2tncm91bmRDb2xvciA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYmFja2dyb3VuZC1jb2xvclwiKTtcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSBwYXJzZUNvbG9yKGJhY2tncm91bmRDb2xvcik7XG5cbiAgICB2YXIgYmFja2dyb3VuZEltYWdlID0gcGFyc2VCYWNrZ3JvdW5kSW1hZ2UoIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYmFja2dyb3VuZC1pbWFnZVwiKSApO1xuICAgIHZhciBiYWNrZ3JvdW5kUmVwZWF0ID0gc3BsaXRQcm9wZXJ0eSggZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiKSApO1xuICAgIHZhciBiYWNrZ3JvdW5kUG9zaXRpb24gPSBzcGxpdFByb3BlcnR5KCBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImJhY2tncm91bmQtcG9zaXRpb25cIikgKTtcbiAgICB2YXIgYmFja2dyb3VuZE9yaWdpbiA9IHNwbGl0UHJvcGVydHkoIGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiYmFja2dyb3VuZC1vcmlnaW5cIikgKTtcbiAgICB2YXIgYmFja2dyb3VuZFNpemUgPSBzcGxpdFByb3BlcnR5KCBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImJhY2tncm91bmQtc2l6ZVwiKSApO1xuXG4gICAgLy8gSUUgc2hyaW5rcyB0aGUgdGV4dCB3aXRoIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzLFxuICAgIC8vIGFwcGFyZW50bHkgYmVjYXVzZSB0aGUgcmV0dXJuZWQgYm91bmRpbmcgYm94IGZvciB0aGUgcmFuZ2VcbiAgICAvLyBpcyBsaW1pdGVkIHRvIHRoZSB2aXNpYmxlIGFyZWEgbWludXMgc3BhY2UgZm9yIHRoZSBkb3RzLFxuICAgIC8vIGluc3RlYWQgb2YgYmVpbmcgdGhlIGZ1bGwgd2lkdGggb2YgdGhlIHRleHQuXG4gICAgLy9cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGVsZXJpay9rZW5kby9pc3N1ZXMvNTIzMlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvLXVpLWNvcmUvaXNzdWVzLzE4NjhcbiAgICAvL1xuICAgIC8vIFdlIGhhdmUgdG8gdGVzdCBpdCBoZXJlIHJhdGhlciB0aGFuIGluIHJlbmRlclRleHQgYmVjYXVzZVxuICAgIC8vIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzIGNvdWxkIGJlIHNldCBvbiBhIHBhcmVudCBlbGVtZW50IChub3RcbiAgICAvLyBuZWNlc3NhcmlseSB0aGUgb25lIGNvbnRhaW5pbmcgdGhlIHRleHQpOyBpbiB0aGlzIGNhc2UsXG4gICAgLy8gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50V2l0aFRoZVRleHQpIHdpbGwgcmV0dXJuIFwiY2xpcFwiLCBub3RcbiAgICAvLyBcImVsbGlwc2lzXCIgKHdoaWNoIGlzIHByb2JhYmx5IGEgYnVnLCBidXQgb2ggd2VsbC4uLilcbiAgICB2YXIgdGV4dE92ZXJmbG93LCBzYXZlVGV4dE92ZXJmbG93O1xuICAgIGlmIChtaWNyb3NvZnQpIHtcbiAgICAgICAgdGV4dE92ZXJmbG93ID0gc3R5bGUudGV4dE92ZXJmbG93OyAgICAgICAgICAgICAvLyBjb21wdXRlZCBzdHlsZVxuICAgICAgICBpZiAodGV4dE92ZXJmbG93ID09IFwiZWxsaXBzaXNcIikge1xuICAgICAgICAgICAgc2F2ZVRleHRPdmVyZmxvdyA9IGVsZW1lbnQuc3R5bGUudGV4dE92ZXJmbG93OyAvLyBvd24gc3R5bGUuXG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRleHRPdmVyZmxvdyA9IFwiY2xpcFwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIubXNpZSAmJiBicm93c2VyLnZlcnNpb24gPCAxMCkge1xuICAgICAgICAvLyBJRTkgaGFja3MuICBnZXRQcm9wZXJ0eVZhbHVlIHdvbid0IHJldHVybiB0aGUgY29ycmVjdFxuICAgICAgICAvLyB2YWx1ZS4gIFN1Y2tzIHRoYXQgd2UgaGF2ZSB0byBkbyBpdCBoZXJlLCBJJ2QgcHJlZmVyIHRvXG4gICAgICAgIC8vIG1vdmUgaXQgaW4gZ2V0UHJvcGVydHlWYWx1ZSwgYnV0IHdlIGRvbid0IGhhdmUgdGhlXG4gICAgICAgIC8vIGVsZW1lbnQuXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbiA9IHNwbGl0UHJvcGVydHkoZWxlbWVudC5jdXJyZW50U3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB2YXIgaW5uZXJib3ggPSBpbm5lckJveChlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBcImJvcmRlci0qLXdpZHRoXCIsIGVsZW1lbnQpO1xuXG4gICAgLy8gQ1NTIFwiY2xpcFwiIHByb3BlcnR5IC0gaWYgcHJlc2VudCwgcmVwbGFjZSB0aGUgZ3JvdXAgd2l0aCBhXG4gICAgLy8gbmV3IG9uZSB3aGljaCBpcyBjbGlwcGVkLiAgVGhpcyBtdXN0IGhhcHBlbiBiZWZvcmUgZHJhd2luZ1xuICAgIC8vIHRoZSBib3JkZXJzIGFuZCBiYWNrZ3JvdW5kLlxuICAgIChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgY2xpcCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiY2xpcFwiKTtcbiAgICAgICAgdmFyIG0gPSAvXlxccypyZWN0XFwoKC4qKVxcKVxccyokLy5leGVjKGNsaXApO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgdmFyIGEgPSBtWzFdLnNwbGl0KC9bICxdKy9nKTtcbiAgICAgICAgICAgIHZhciB0b3AgPSBhWzBdID09IFwiYXV0b1wiID8gaW5uZXJib3gudG9wIDogcGFyc2VGbG9hdChhWzBdKSArIGlubmVyYm94LnRvcDtcbiAgICAgICAgICAgIHZhciByaWdodCA9IGFbMV0gPT0gXCJhdXRvXCIgPyBpbm5lcmJveC5yaWdodCA6IHBhcnNlRmxvYXQoYVsxXSkgKyBpbm5lcmJveC5sZWZ0O1xuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IGFbMl0gPT0gXCJhdXRvXCIgPyBpbm5lcmJveC5ib3R0b20gOiBwYXJzZUZsb2F0KGFbMl0pICsgaW5uZXJib3gudG9wO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBhWzNdID09IFwiYXV0b1wiID8gaW5uZXJib3gubGVmdCA6IHBhcnNlRmxvYXQoYVszXSkgKyBpbm5lcmJveC5sZWZ0O1xuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgdmFyIGNsaXBQYXRoID0gbmV3IFBhdGgoKVxuICAgICAgICAgICAgICAgIC5tb3ZlVG8obGVmdCwgdG9wKVxuICAgICAgICAgICAgICAgIC5saW5lVG8ocmlnaHQsIHRvcClcbiAgICAgICAgICAgICAgICAubGluZVRvKHJpZ2h0LCBib3R0b20pXG4gICAgICAgICAgICAgICAgLmxpbmVUbyhsZWZ0LCBib3R0b20pXG4gICAgICAgICAgICAgICAgLmNsb3NlKCk7XG4gICAgICAgICAgICBzZXRDbGlwcGluZyh0bXAsIGNsaXBQYXRoKTtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZCh0bXApO1xuICAgICAgICAgICAgZ3JvdXAgPSB0bXA7XG4gICAgICAgICAgICB1cGRhdGVDbGlwYm94KGNsaXBQYXRoKTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICB2YXIgYm94ZXMsIGksIGNlbGxzO1xuICAgIHZhciBkaXNwbGF5ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJkaXNwbGF5XCIpO1xuXG4gICAgaWYgKGRpc3BsYXkgPT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgICAvLyBiZWNhdXNlIG9mIHJvd3NwYW4vY29sc3Bhbiwgd2Ugc2hvdWxkbid0IGRyYXcgYmFja2dyb3VuZCBvZiB0YWJsZSByb3cgZWxlbWVudHMgb24gdGhlXG4gICAgICAgIC8vIGJveCBnaXZlbiBieSBpdHMgZ2V0Qm91bmRpbmdDbGllbnRSZWN0LCBiZWNhdXNlIGlmIHdlIGRvIHdlIHJpc2sgb3ZlcndyaXR0aW5nIGFcbiAgICAgICAgLy8gcHJldmlvdXNseSByZW5kZXJlZCBjZWxsLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzQ4ODFcbiAgICAgICAgYm94ZXMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgY2VsbHMgPSBlbGVtZW50LmNoaWxkcmVuOyBpIDwgY2VsbHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGJveGVzLnB1c2goY2VsbHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgYm94ZXMgPSBlbGVtZW50LmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGlmIChib3hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgLy8gV29ya2Fyb3VuZCB0aGUgbWlzc2luZyBib3JkZXJzIGluIENocm9tZSEgIGdldENsaWVudFJlY3RzKCkgYm94ZXMgY29udGFpbnMgdmFsdWVzXG4gICAgICAgICAgICAvLyByb3VuZGVkIHRvIGludGVnZXIuICBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBhcHBlYXJzIHRvIHdvcmsgZmluZS4gIFdlIHN0aWxsIG5lZWRcbiAgICAgICAgICAgIC8vIGdldENsaWVudFJlY3RzKCkgdG8gc3VwcG9ydCBjYXNlcyB3aGVyZSB0aGVyZSBhcmUgbW9yZSBib3hlcyAoY29udGludWVkIGlubGluZVxuICAgICAgICAgICAgLy8gZWxlbWVudHMgdGhhdCBtaWdodCBoYXZlIGJvcmRlci9iYWNrZ3JvdW5kKS5cbiAgICAgICAgICAgIGJveGVzID0gWyBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHdvcmthcm91bmRzIGFub3RoZXIgQ2hyb21lIGJ1Zywgd2hlcmUgYm94ZXMgcmV0dXJuZWQgZm9yIGEgdGFibGUgd2l0aFxuICAgIC8vIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2Ugd2lsbCBvdmVybGFwIHRoZSB0YWJsZSBib3JkZXIuICBPdXIgcmVuZGVyaW5nIGlzIG5vdCBwZXJmZWN0IGluXG4gICAgLy8gc3VjaCBjYXNlIGFueXdheSwgYnV0IHdpdGggdGhpcyBpcyBiZXR0ZXIgdGhhbiB3aXRob3V0IGl0LlxuICAgIGJveGVzID0gYWRqdXN0Qm94ZXMoYm94ZXMpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGJveGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGRyYXdPbmVCb3goYm94ZXNbaV0sIGkgPT09IDAsIGkgPT0gYm94ZXMubGVuZ3RoIC0gMSk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGxpbmtzIGFzIHNlcGFyYXRlIGdyb3Vwcy4gIFdlIGNhbid0IHVzZSBib3hlcyByZXR1cm5lZCBieSBlbGVtZW50J3MgZ2V0Q2xpZW50UmVjdHNcbiAgICAvLyBiZWNhdXNlIGlmIGRpc3BsYXkgdHlwZSBpcyBcImlubGluZVwiIChkZWZhdWx0IGZvciA8YT4pLCBib3hlcyB3aWxsIG5vdCBpbmNsdWRlIHRoZSBoZWlnaHQgb2ZcbiAgICAvLyBpbWFnZXMgaW5zaWRlLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZS9pc3N1ZXMvMzM1OVxuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT0gXCJBXCIgJiYgZWxlbWVudC5ocmVmICYmICEvXiM/JC8udGVzdChlbGVtZW50LmdldEF0dHJpYnV0ZShcImhyZWZcIikpKSB7XG4gICAgICAgIGlmICghbm9kZUluZm8uX2F2b2lkTGlua3MgfHwgIW1hdGNoZXMoZWxlbWVudCwgbm9kZUluZm8uX2F2b2lkTGlua3MpKSB7XG4gICAgICAgICAgICBjb25zdCByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHIuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2xpY2Uoci5nZXRDbGllbnRSZWN0cygpKS5mb3JFYWNoKGZ1bmN0aW9uKGJveCl7XG4gICAgICAgICAgICAgICAgY29uc3QgZyA9IG5ldyBHcm91cCgpO1xuICAgICAgICAgICAgICAgIGcuX3BkZkxpbmsgPSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCAgICA6IGVsZW1lbnQuaHJlZixcbiAgICAgICAgICAgICAgICAgICAgdG9wICAgIDogYm94LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgIDogYm94LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBib3R0b20gOiBib3guYm90dG9tLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgOiBib3gubGVmdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKGcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm94ZXMubGVuZ3RoID4gMCAmJiBkaXNwbGF5ID09IFwibGlzdC1pdGVtXCIgJiYgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKFwia2VuZG8tbm8tYnVsbGV0XCIpKSB7XG4gICAgICAgIGRyYXdCdWxsZXQoYm94ZXNbMF0pO1xuICAgIH1cblxuICAgIC8vIG92ZXJmbG93OiBoaWRkZW4vYXV0byAtIGlmIHByZXNlbnQsIHJlcGxhY2UgdGhlIGdyb3VwIHdpdGhcbiAgICAvLyBhIG5ldyBvbmUgY2xpcHBlZCBieSB0aGUgaW5uZXIgYm94LlxuICAgIChmdW5jdGlvbigpe1xuICAgICAgICBmdW5jdGlvbiBjbGlwaXQoKSB7XG4gICAgICAgICAgICB2YXIgY2xpcFBhdGggPSBlbGVtZW50Um91bmRCb3goZWxlbWVudCwgaW5uZXJib3gsIFwicGFkZGluZ1wiKTtcbiAgICAgICAgICAgIHZhciB0bXAgPSBuZXcgR3JvdXAoKTtcbiAgICAgICAgICAgIHNldENsaXBwaW5nKHRtcCwgY2xpcFBhdGgpO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHRtcCk7XG4gICAgICAgICAgICBncm91cCA9IHRtcDtcbiAgICAgICAgICAgIHVwZGF0ZUNsaXBib3goY2xpcFBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Zvcm1GaWVsZChlbGVtZW50KSkge1xuICAgICAgICAgICAgY2xpcGl0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoL14oaGlkZGVufGF1dG98c2Nyb2xsKS8udGVzdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcIm92ZXJmbG93XCIpKSkge1xuICAgICAgICAgICAgY2xpcGl0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoL14oaGlkZGVufGF1dG98c2Nyb2xsKS8udGVzdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcIm92ZXJmbG93LXhcIikpKSB7XG4gICAgICAgICAgICBjbGlwaXQoKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXihoaWRkZW58YXV0b3xzY3JvbGwpLy50ZXN0KGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwib3ZlcmZsb3cteVwiKSkpIHtcbiAgICAgICAgICAgIGNsaXBpdCgpO1xuICAgICAgICB9XG4gICAgfSkoKTtcblxuICAgIGlmICghbWF5YmVSZW5kZXJXaWRnZXQoZWxlbWVudCwgZ3JvdXApICYmICFtYXliZVJlbmRlckJ1bGxldChlbGVtZW50LCBncm91cCkpIHtcbiAgICAgICAgcmVuZGVyQ29udGVudHMoZWxlbWVudCwgZ3JvdXApO1xuICAgIH1cblxuICAgIGlmIChtaWNyb3NvZnQgJiYgdGV4dE92ZXJmbG93ID09IFwiZWxsaXBzaXNcIikge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRleHRPdmVyZmxvdyA9IHNhdmVUZXh0T3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdyb3VwOyAvLyBvbmx5IHV0aWxpdHkgZnVuY3Rpb25zIGFmdGVyIHRoaXMgbGluZS5cblxuICAgIGZ1bmN0aW9uIGFkanVzdEJveGVzKGJveGVzKSB7XG4gICAgICAgIGlmICgvXnRkJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gbm9kZUluZm8udGFibGU7XG4gICAgICAgICAgICBpZiAodGFibGUgJiYgZ2V0UHJvcGVydHlWYWx1ZSh0YWJsZS5zdHlsZSwgXCJib3JkZXItY29sbGFwc2VcIikgPT0gXCJjb2xsYXBzZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlQm9yZGVyTGVmdCA9IGdldEJvcmRlcih0YWJsZS5zdHlsZSwgXCJsZWZ0XCIpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZUJvcmRlclRvcCA9IGdldEJvcmRlcih0YWJsZS5zdHlsZSwgXCJ0b3BcIikud2lkdGg7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBhZGp1c3RcbiAgICAgICAgICAgICAgICBpZiAodGFibGVCb3JkZXJMZWZ0ID09PSAwICYmIHRhYmxlQm9yZGVyVG9wID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBib3hlczsgLy8gbm9wZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGFibGVCb3ggPSB0YWJsZS5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdENlbGwgPSB0YWJsZS5lbGVtZW50LnJvd3NbMF0uY2VsbHNbMF07XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q2VsbEJveCA9IGZpcnN0Q2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDZWxsQm94LnRvcCA9PSB0YWJsZUJveC50b3AgfHwgZmlyc3RDZWxsQm94LmxlZnQgPT0gdGFibGVCb3gubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2xpY2UoYm94ZXMpLm1hcChmdW5jdGlvbihib3gpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ICAgOiBib3gubGVmdCArIHRhYmxlQm9yZGVyTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3AgICAgOiBib3gudG9wICsgdGFibGVCb3JkZXJUb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgIDogYm94LnJpZ2h0ICsgdGFibGVCb3JkZXJMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA6IGJveC5ib3R0b20gKyB0YWJsZUJvcmRlclRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgOiBib3guaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoICA6IGJveC53aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3hlcztcbiAgICB9XG5cbiAgICAvLyB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHRvIGRyYXcgZWFjaCBib3JkZXIuICBpdFxuICAgIC8vIGRyYXdzIHN0YXJ0aW5nIGF0IG9yaWdpbiBhbmQgdGhlIHJlc3VsdGVkIHBhdGggbXVzdCBiZVxuICAgIC8vIHRyYW5zbGF0ZWQvcm90YXRlZCB0byBiZSBwbGFjZWQgaW4gdGhlIHByb3BlciBwb3NpdGlvbi5cbiAgICAvL1xuICAgIC8vIGFyZ3VtZW50cyBhcmUgbmFtZWQgYXMgaWYgaXQgZHJhd3MgdGhlIHRvcCBib3JkZXI6XG4gICAgLy9cbiAgICAvLyAgICAtIGBsZW5gIHRoZSBsZW5ndGggb2YgdGhlIGVkZ2VcbiAgICAvLyAgICAtIGBXdG9wYCB0aGUgd2lkdGggb2YgdGhlIGVkZ2UgKGkuZS4gYm9yZGVyLXRvcC13aWR0aClcbiAgICAvLyAgICAtIGBXbGVmdGAgdGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGVkZ2UgKGJvcmRlci1sZWZ0LXdpZHRoKVxuICAgIC8vICAgIC0gYFdyaWdodGAgdGhlIHdpZHRoIG9mIHRoZSByaWdodCBlZGdlXG4gICAgLy8gICAgLSBgcmxgIGFuZCBgcmxgIC0tIHRoZSBib3JkZXIgcmFkaXVzIG9uIHRoZSBsZWZ0IGFuZCByaWdodFxuICAgIC8vICAgICAgKG9iamVjdHMgY29udGFpbmluZyB4IGFuZCB5LCBmb3IgaG9yaXovdmVydGljYWwgcmFkaXVzKVxuICAgIC8vICAgIC0gYHRyYW5zZm9ybWAgLS0gdHJhbnNmb3JtYXRpb24gdG8gYXBwbHlcbiAgICAvL1xuICAgIGZ1bmN0aW9uIGRyYXdFZGdlKGNvbG9yLCBsZW4sIFd0b3AsIFdsZWZ0LCBXcmlnaHQsIHJsLCByciwgdHJhbnNmb3JtKSB7XG4gICAgICAgIGlmIChXdG9wIDw9IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXRoLCBlZGdlID0gbmV3IEdyb3VwKCk7XG4gICAgICAgIHNldFRyYW5zZm9ybShlZGdlLCB0cmFuc2Zvcm0pO1xuICAgICAgICBncm91cC5hcHBlbmQoZWRnZSk7XG5cbiAgICAgICAgc2FuaXRpemVSYWRpdXMocmwpO1xuICAgICAgICBzYW5pdGl6ZVJhZGl1cyhycik7XG5cbiAgICAgICAgLy8gZHJhdyBtYWluIGJvcmRlci4gIHRoaXMgaXMgdGhlIGFyZWEgd2l0aG91dCB0aGUgcm91bmRlZCBjb3JuZXJzXG4gICAgICAgIHBhdGggPSBuZXcgUGF0aCh7XG4gICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9LFxuICAgICAgICAgICAgc3Ryb2tlOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgICBlZGdlLmFwcGVuZChwYXRoKTtcbiAgICAgICAgcGF0aC5tb3ZlVG8ocmwueCA/IE1hdGgubWF4KHJsLngsIFdsZWZ0KSA6IDAsIDApXG4gICAgICAgICAgICAubGluZVRvKGxlbiAtIChyci54ID8gTWF0aC5tYXgocnIueCwgV3JpZ2h0KSA6IDApLCAwKVxuICAgICAgICAgICAgLmxpbmVUbyhsZW4gLSBNYXRoLm1heChyci54LCBXcmlnaHQpLCBXdG9wKVxuICAgICAgICAgICAgLmxpbmVUbyhNYXRoLm1heChybC54LCBXbGVmdCksIFd0b3ApXG4gICAgICAgICAgICAuY2xvc2UoKTtcblxuICAgICAgICBpZiAocmwueCkge1xuICAgICAgICAgICAgZHJhd1JvdW5kQ29ybmVyKFdsZWZ0LCBybCwgWyAtMSwgMCwgMCwgMSwgcmwueCwgMCBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyci54KSB7XG4gICAgICAgICAgICBkcmF3Um91bmRDb3JuZXIoV3JpZ2h0LCByciwgWyAxLCAwLCAwLCAxLCBsZW4gLSByci54LCAwIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHJhd3Mgb25lIHJvdW5kIGNvcm5lciwgc3RhcnRpbmcgYXQgb3JpZ2luIChuZWVkcyB0byBiZVxuICAgICAgICAvLyB0cmFuc2xhdGVkL3JvdGF0ZWQgdG8gYmUgcGxhY2VkIHByb3Blcmx5KS5cbiAgICAgICAgZnVuY3Rpb24gZHJhd1JvdW5kQ29ybmVyKFdyaWdodCwgciwgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBNYXRoLlBJLzIgKiBXcmlnaHQgLyAoV3JpZ2h0ICsgV3RvcCk7XG5cbiAgICAgICAgICAgIC8vIG5vdCBzYW5pdGl6aW5nIHRoaXMgb25lLCBiZWNhdXNlIG5lZ2F0aXZlIHZhbHVlc1xuICAgICAgICAgICAgLy8gYXJlIHVzZWZ1bCB0byBmaWxsIHRoZSBib3ggY29ycmVjdGx5LlxuICAgICAgICAgICAgdmFyIHJpID0ge1xuICAgICAgICAgICAgICAgIHg6IHIueCAtIFdyaWdodCxcbiAgICAgICAgICAgICAgICB5OiByLnkgLSBXdG9wXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcGF0aCA9IG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgfSkubW92ZVRvKDAsIDApO1xuXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm0ocGF0aCwgdHJhbnNmb3JtKTtcblxuICAgICAgICAgICAgYWRkQXJjVG9QYXRoKHBhdGgsIDAsIHIueSwge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC05MCxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZTogLXJhZGlhbnNUb0RlZ3JlZXMoYW5nbGUpLFxuICAgICAgICAgICAgICAgIHJhZGl1c1g6IHIueCxcbiAgICAgICAgICAgICAgICByYWRpdXNZOiByLnlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAocmkueCA+IDAgJiYgcmkueSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXRoLmxpbmVUbyhyaS54ICogTWF0aC5jb3MoYW5nbGUpLCByLnkgLSByaS55ICogTWF0aC5zaW4oYW5nbGUpKTtcbiAgICAgICAgICAgICAgICBhZGRBcmNUb1BhdGgocGF0aCwgMCwgci55LCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGU6IC1yYWRpYW5zVG9EZWdyZWVzKGFuZ2xlKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kQW5nbGU6IC05MCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzWDogcmkueCxcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzWTogcmkueSxcbiAgICAgICAgICAgICAgICAgICAgYW50aWNsb2Nrd2lzZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmkueCA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXRoLmxpbmVUbyhyaS54LCBXdG9wKVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKDAsIFd0b3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF0aC5saW5lVG8ocmkueCwgV3RvcClcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhyaS54LCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRnZS5hcHBlbmQocGF0aC5jbG9zZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdCYWNrZ3JvdW5kKGJveCkge1xuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IG5ldyBHcm91cCgpO1xuICAgICAgICBzZXRDbGlwcGluZyhiYWNrZ3JvdW5kLCByb3VuZEJveChib3gsIHJUTDAsIHJUUjAsIHJCUjAsIHJCTDApKTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKGJhY2tncm91bmQpO1xuXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgIGZpbGw6IHsgY29sb3I6IGJhY2tncm91bmRDb2xvci50b0Nzc1JnYmEoKSB9LFxuICAgICAgICAgICAgICAgIHN0cm9rZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXRoLm1vdmVUbyhib3gubGVmdCwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LmJvdHRvbSlcbiAgICAgICAgICAgICAgICAubGluZVRvKGJveC5sZWZ0LCBib3guYm90dG9tKVxuICAgICAgICAgICAgICAgIC5jbG9zZSgpO1xuICAgICAgICAgICAgYmFja2dyb3VuZC5hcHBlbmQocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gYmFja2dyb3VuZEltYWdlLmxlbmd0aDsgLS1pID49IDA7KSB7XG4gICAgICAgICAgICBkcmF3T25lQmFja2dyb3VuZChcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLCBib3gsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlW2ldLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXRbaSAlIGJhY2tncm91bmRSZXBlYXQubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25baSAlIGJhY2tncm91bmRQb3NpdGlvbi5sZW5ndGhdLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRPcmlnaW5baSAlIGJhY2tncm91bmRPcmlnaW4ubGVuZ3RoXSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZVtpICUgYmFja2dyb3VuZFNpemUubGVuZ3RoXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdPbmVCYWNrZ3JvdW5kKGdyb3VwLCBib3gsIGJhY2tncm91bmQsIGJhY2tncm91bmRSZXBlYXQsIGJhY2tncm91bmRQb3NpdGlvbiwgYmFja2dyb3VuZE9yaWdpbiwgYmFja2dyb3VuZFNpemUpIHtcbiAgICAgICAgaWYgKCFiYWNrZ3JvdW5kIHx8IChiYWNrZ3JvdW5kID09IFwibm9uZVwiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhY2tncm91bmQudHlwZSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICB2YXIgaW1nID0gSU1BR0VfQ0FDSEVbYmFja2dyb3VuZC51cmxdO1xuICAgICAgICAgICAgaWYgKGltZyAmJiBpbWcud2lkdGggPiAwICYmIGltZy5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd0JhY2tncm91bmRJbWFnZShncm91cCwgYm94LCBpbWcud2lkdGgsIGltZy5oZWlnaHQsIGZ1bmN0aW9uKGdyb3VwLCByZWN0KXtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKG5ldyBJbWFnZShiYWNrZ3JvdW5kLnVybCwgcmVjdCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGJhY2tncm91bmQudHlwZSA9PSBcImxpbmVhclwiKSB7XG4gICAgICAgICAgICBkcmF3QmFja2dyb3VuZEltYWdlKGdyb3VwLCBib3gsIGJveC53aWR0aCwgYm94LmhlaWdodCwgZ3JhZGllbnRSZW5kZXJlcihiYWNrZ3JvdW5kKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkcmF3QmFja2dyb3VuZEltYWdlKGdyb3VwLCBib3gsIGltZ193aWR0aCwgaW1nX2hlaWdodCwgcmVuZGVyQkcpIHtcbiAgICAgICAgICAgIHZhciBhc3BlY3RfcmF0aW8gPSBpbWdfd2lkdGggLyBpbWdfaGVpZ2h0LCBmO1xuXG4gICAgICAgICAgICAvLyBmb3IgYmFja2dyb3VuZC1vcmlnaW46IGJvcmRlci1ib3ggdGhlIGJveCBpcyBhbHJlYWR5IGFwcHJvcHJpYXRlXG4gICAgICAgICAgICB2YXIgb3JnQm94ID0gYm94O1xuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRPcmlnaW4gPT0gXCJjb250ZW50LWJveFwiKSB7XG4gICAgICAgICAgICAgICAgb3JnQm94ID0gaW5uZXJCb3gob3JnQm94LCBcImJvcmRlci0qLXdpZHRoXCIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIG9yZ0JveCA9IGlubmVyQm94KG9yZ0JveCwgXCJwYWRkaW5nLSpcIiwgZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJhY2tncm91bmRPcmlnaW4gPT0gXCJwYWRkaW5nLWJveFwiKSB7XG4gICAgICAgICAgICAgICAgb3JnQm94ID0gaW5uZXJCb3gob3JnQm94LCBcImJvcmRlci0qLXdpZHRoXCIsIGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIS9eXFxzKmF1dG8oXFxzK2F1dG8pP1xccyokLy50ZXN0KGJhY2tncm91bmRTaXplKSkge1xuICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kU2l6ZSA9PSBcImNvbnRhaW5cIikge1xuICAgICAgICAgICAgICAgICAgICBmID0gTWF0aC5taW4ob3JnQm94LndpZHRoIC8gaW1nX3dpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnQm94LmhlaWdodCAvIGltZ19oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpbWdfd2lkdGggKj0gZjtcbiAgICAgICAgICAgICAgICAgICAgaW1nX2hlaWdodCAqPSBmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChiYWNrZ3JvdW5kU2l6ZSA9PSBcImNvdmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IE1hdGgubWF4KG9yZ0JveC53aWR0aCAvIGltZ193aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZ0JveC5oZWlnaHQgLyBpbWdfaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaW1nX3dpZHRoICo9IGY7XG4gICAgICAgICAgICAgICAgICAgIGltZ19oZWlnaHQgKj0gZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gYmFja2dyb3VuZFNpemUuc3BsaXQoL1xccysvZyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgd2lkdGhcbiAgICAgICAgICAgICAgICAgICAgaWYgKC8lJC8udGVzdChzaXplWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nX3dpZHRoID0gb3JnQm94LndpZHRoICogcGFyc2VGbG9hdChzaXplWzBdKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ193aWR0aCA9IHBhcnNlRmxvYXQoc2l6ZVswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gY29tcHV0ZSBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUubGVuZ3RoID09IDEgfHwgc2l6ZVsxXSA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nX2hlaWdodCA9IGltZ193aWR0aCAvIGFzcGVjdF9yYXRpbztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvJSQvLnRlc3Qoc2l6ZVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ19oZWlnaHQgPSBvcmdCb3guaGVpZ2h0ICogcGFyc2VGbG9hdChzaXplWzFdKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZ19oZWlnaHQgPSBwYXJzZUZsb2F0KHNpemVbMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9zID0gU3RyaW5nKGJhY2tncm91bmRQb3NpdGlvbik7XG5cbiAgICAgICAgICAgIC8vIElFIHNvbWV0aW1lcyByZXBvcnRzIHNpbmdsZS13b3JkIHBvc2l0aW9uc1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8tdWktY29yZS9pc3N1ZXMvMjc4NlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGl0IHNlZW1zIHRvIHN3aXRjaCB0byBwZXJjZW50YWdlcyB3aGVuIHRoZSBob3Jpem9udGFsXG4gICAgICAgICAgICAvLyBwb3NpdGlvbiBpcyBub3QgXCJjZW50ZXJcIiwgdGhlcmVmb3JlIHdlIGRvbid0IGhhbmRsZVxuICAgICAgICAgICAgLy8gbXVsdGktd29yZCBjYXNlcyBoZXJlLiAgQWxsIG90aGVyIGJyb3dzZXJzIHJldHVyblxuICAgICAgICAgICAgLy8gcGVyY2VudGFnZXMgb3IgcGl4ZWxzIGluc3RlYWQgb2Yga2V5d29yZHMuICBBdCBsZWFzdFxuICAgICAgICAgICAgLy8gZm9yIG5vdy4uLlxuICAgICAgICAgICAgc3dpdGNoIChwb3MpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiIDogcG9zID0gXCI1MCUgMTAwJVwiOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvcFwiICAgIDogcG9zID0gXCI1MCUgMFwiOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIiAgIDogcG9zID0gXCIwIDUwJVwiOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCIgIDogcG9zID0gXCIxMDAlIDUwJVwiOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiIDogcG9zID0gXCI1MCUgNTAlXCI7IGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwb3MgPSBwb3Muc3BsaXQoL1xccysvKTtcbiAgICAgICAgICAgIGlmIChwb3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBwb3NbMV0gPSBcIjUwJVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoLyUkLy50ZXN0KHBvc1swXSkpIHtcbiAgICAgICAgICAgICAgICBwb3NbMF0gPSBwYXJzZUZsb2F0KHBvc1swXSkgLyAxMDAgKiAob3JnQm94LndpZHRoIC0gaW1nX3dpZHRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zWzBdID0gcGFyc2VGbG9hdChwb3NbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC8lJC8udGVzdChwb3NbMV0pKSB7XG4gICAgICAgICAgICAgICAgcG9zWzFdID0gcGFyc2VGbG9hdChwb3NbMV0pIC8gMTAwICogKG9yZ0JveC5oZWlnaHQgLSBpbWdfaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcG9zWzFdID0gcGFyc2VGbG9hdChwb3NbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBnZW8uUmVjdChbIG9yZ0JveC5sZWZ0ICsgcG9zWzBdLCBvcmdCb3gudG9wICsgcG9zWzFdIF0sIFsgaW1nX3dpZHRoLCBpbWdfaGVpZ2h0IF0pO1xuXG4gICAgICAgICAgICAvLyBYWFg6IGJhY2tncm91bmQtcmVwZWF0IGNvdWxkIGJlIGltcGxlbWVudGVkIG1vcmVcbiAgICAgICAgICAgIC8vICAgICAgZWZmaWNpZW50bHkgYXMgYSBmaWxsIHBhdHRlcm4gKGF0IGxlYXN0IGZvciBQREZcbiAgICAgICAgICAgIC8vICAgICAgb3V0cHV0LCBwcm9iYWJseSBTVkcgdG9vKS5cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmV3WCgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVjdC5vcmlnaW4ueCA+IGJveC5sZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qub3JpZ2luLnggLT0gaW1nX3dpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmV3WSgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVjdC5vcmlnaW4ueSA+IGJveC50b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5vcmlnaW4ueSAtPSBpbWdfaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVwZWF0WCgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVjdC5vcmlnaW4ueCA8IGJveC5yaWdodCkge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJCRyhncm91cCwgcmVjdC5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5vcmlnaW4ueCArPSBpbWdfd2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZFJlcGVhdCA9PSBcIm5vLXJlcGVhdFwiKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyQkcoZ3JvdXAsIHJlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmFja2dyb3VuZFJlcGVhdCA9PSBcInJlcGVhdC14XCIpIHtcbiAgICAgICAgICAgICAgICByZXdYKCk7XG4gICAgICAgICAgICAgICAgcmVwZWF0WCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmFja2dyb3VuZFJlcGVhdCA9PSBcInJlcGVhdC15XCIpIHtcbiAgICAgICAgICAgICAgICByZXdZKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHJlY3Qub3JpZ2luLnkgPCBib3guYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckJHKGdyb3VwLCByZWN0LmNsb25lKCkpO1xuICAgICAgICAgICAgICAgICAgICByZWN0Lm9yaWdpbi55ICs9IGltZ19oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmFja2dyb3VuZFJlcGVhdCA9PSBcInJlcGVhdFwiKSB7XG4gICAgICAgICAgICAgICAgcmV3WCgpO1xuICAgICAgICAgICAgICAgIHJld1koKTtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID0gcmVjdC5vcmlnaW4uY2xvbmUoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAocmVjdC5vcmlnaW4ueSA8IGJveC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdC5vcmlnaW4ueCA9IG9yaWdpbi54O1xuICAgICAgICAgICAgICAgICAgICByZXBlYXRYKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlY3Qub3JpZ2luLnkgKz0gaW1nX2hlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3QnVsbGV0KCkge1xuICAgICAgICB2YXIgbGlzdFN0eWxlVHlwZSA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwibGlzdC1zdHlsZS10eXBlXCIpO1xuICAgICAgICBpZiAobGlzdFN0eWxlVHlwZSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0U3R5bGVQb3NpdGlvbiA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwibGlzdC1zdHlsZS1wb3NpdGlvblwiKTtcblxuICAgICAgICBmdW5jdGlvbiBfZHJhd0J1bGxldChmKSB7XG4gICAgICAgICAgICBzYXZlU3R5bGUoZWxlbWVudCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICAgICAgICAgIHZhciBidWxsZXQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChLRU5ET19QU0VVRE9fRUxFTUVOVCk7XG4gICAgICAgICAgICAgICAgYnVsbGV0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS5ib3hTaXppbmcgPSBcImJvcmRlci1ib3hcIjtcbiAgICAgICAgICAgICAgICBpZiAobGlzdFN0eWxlUG9zaXRpb24gPT0gXCJvdXRzaWRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LnN0eWxlLndpZHRoID0gXCI2ZW1cIjtcbiAgICAgICAgICAgICAgICAgICAgYnVsbGV0LnN0eWxlLmxlZnQgPSBcIi02LjhlbVwiO1xuICAgICAgICAgICAgICAgICAgICBidWxsZXQuc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZihidWxsZXQpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGJ1bGxldCwgZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICByZW5kZXJFbGVtZW50KGJ1bGxldCwgZ3JvdXApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoYnVsbGV0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZWxlbWVudEluZGV4KGYpIHtcbiAgICAgICAgICAgIHZhciBhID0gZWxlbWVudC5wYXJlbnROb2RlLmNoaWxkcmVuO1xuICAgICAgICAgICAgdmFyIGsgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImtlbmRvLXNwbGl0LWluZGV4XCIpO1xuICAgICAgICAgICAgaWYgKGsgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmKGt8MCwgYS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFbaV0gPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYoaSwgYS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobGlzdFN0eWxlVHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJjaXJjbGVcIjpcbiAgICAgICAgICBjYXNlIFwiZGlzY1wiOlxuICAgICAgICAgIGNhc2UgXCJzcXVhcmVcIjpcbiAgICAgICAgICAgIF9kcmF3QnVsbGV0KGZ1bmN0aW9uKGJ1bGxldCl7XG4gICAgICAgICAgICAgICAgYnVsbGV0LmlubmVySFRNTCA9ICcmbmJzcDsnO1xuICAgICAgICAgICAgICAgIGJ1bGxldC5zZXRBdHRyaWJ1dGUoS0VORE9fQlVMTEVUX1RZUEUsIGxpc3RTdHlsZVR5cGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJkZWNpbWFsXCI6XG4gICAgICAgICAgY2FzZSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCI6XG4gICAgICAgICAgICBfZHJhd0J1bGxldChmdW5jdGlvbihidWxsZXQpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJbmRleChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgICAgICAgICAgICArK2lkeDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RTdHlsZVR5cGUgPT0gXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiICYmIGlkeCA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHggPSBcIjBcIiArIGlkeDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBidWxsZXQuaW5uZXJIVE1MID0gaWR4ICsgXCIuXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcImxvd2VyLXJvbWFuXCI6XG4gICAgICAgICAgY2FzZSBcInVwcGVyLXJvbWFuXCI6XG4gICAgICAgICAgICBfZHJhd0J1bGxldChmdW5jdGlvbihidWxsZXQpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnRJbmRleChmdW5jdGlvbihpZHgpe1xuICAgICAgICAgICAgICAgICAgICBpZHggPSBhcmFiaWNUb1JvbWFuKGlkeCArIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFN0eWxlVHlwZSA9PSBcInVwcGVyLXJvbWFuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGlkeC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5pbm5lckhUTUwgPSBpZHggKyBcIi5cIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwibG93ZXItbGF0aW5cIjpcbiAgICAgICAgICBjYXNlIFwibG93ZXItYWxwaGFcIjpcbiAgICAgICAgICBjYXNlIFwidXBwZXItbGF0aW5cIjpcbiAgICAgICAgICBjYXNlIFwidXBwZXItYWxwaGFcIjpcbiAgICAgICAgICAgIF9kcmF3QnVsbGV0KGZ1bmN0aW9uKGJ1bGxldCl7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluZGV4KGZ1bmN0aW9uKGlkeCl7XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IGFscGhhTnVtZXJhbChpZHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoL151cHBlci9pLnRlc3QobGlzdFN0eWxlVHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IGlkeC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJ1bGxldC5pbm5lckhUTUwgPSBpZHggKyBcIi5cIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkcmF3cyBhIHNpbmdsZSBib3JkZXIgYm94XG4gICAgZnVuY3Rpb24gZHJhd09uZUJveChib3gsIGlzRmlyc3QsIGlzTGFzdCkge1xuICAgICAgICBpZiAoYm94LndpZHRoID09PSAwIHx8IGJveC5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdCYWNrZ3JvdW5kKGJveCk7XG5cbiAgICAgICAgdmFyIHNob3VsZERyYXdMZWZ0ID0gKGxlZnQud2lkdGggPiAwICYmICgoaXNGaXJzdCAmJiBkaXIgPT0gXCJsdHJcIikgfHwgKGlzTGFzdCAmJiBkaXIgPT0gXCJydGxcIikpKTtcbiAgICAgICAgdmFyIHNob3VsZERyYXdSaWdodCA9IChyaWdodC53aWR0aCA+IDAgJiYgKChpc0xhc3QgJiYgZGlyID09IFwibHRyXCIpIHx8IChpc0ZpcnN0ICYmIGRpciA9PSBcInJ0bFwiKSkpO1xuXG4gICAgICAgIC8vIFRoZSBtb3N0IGdlbmVyYWwgY2FzZSBpcyB0aGF0IHRoZSA0IGJvcmRlcnMgaGF2ZSBkaWZmZXJlbnQgd2lkdGhzIGFuZCBib3JkZXJcbiAgICAgICAgLy8gcmFkaXVzZXMuICBUaGUgd2F5IHRoYXQgaXMgaGFuZGxlZCBpcyBieSBkcmF3aW5nIDMgUGF0aHMgZm9yIGVhY2ggYm9yZGVyOiB0aGVcbiAgICAgICAgLy8gc3RyYWlnaHQgbGluZSwgYW5kIHR3byByb3VuZCBjb3JuZXJzIHdoaWNoIHJlcHJlc2VudCBoYWxmIG9mIHRoZSBlbnRpcmUgcm91bmRlZFxuICAgICAgICAvLyBjb3JuZXIuICBUbyBzaW1wbGlmeSBjb2RlIHRob3NlIHNoYXBlcyBhcmUgZHJhd2VkIGF0IG9yaWdpbiAoYnkgdGhlIGRyYXdFZGdlXG4gICAgICAgIC8vIGZ1bmN0aW9uKSwgdGhlbiB0cmFuc2xhdGVkL3JvdGF0ZWQgaW50byB0aGUgcmlnaHQgcG9zaXRpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoaXMgbGVhZHMgdG8gcG9vciByZXN1bHRzIGR1ZSB0byByb3VuZGluZyBpbiB0aGUgc2ltcGxlciBjYXNlcyB3aGVyZVxuICAgICAgICAvLyBib3JkZXJzIGFyZSBzdHJhaWdodCBsaW5lcy4gIFRoZXJlZm9yZSB3ZSBoYW5kbGUgYSBmZXcgc3VjaCBjYXNlcyBzZXBhcmF0ZWx5IHdpdGhcbiAgICAgICAgLy8gc3RyYWlnaHQgbGluZXMuIENed0Ned0NedyAtLSBub3BlLCBzY3JhdGNoIHRoYXQuICBwb29yIHJlbmRlcmluZyB3YXMgYmVjYXVzZSBvZiBhIGJ1Z1xuICAgICAgICAvLyBpbiBDaHJvbWUgKGdldENsaWVudFJlY3RzKCkgcmV0dXJucyByb3VuZGVkIGludGVnZXIgdmFsdWVzIHJhdGhlciB0aGFuIGV4YWN0IGZsb2F0cy5cbiAgICAgICAgLy8gd2ViIGRldiBpcyBzdGlsbCBhIGdoZXR0by4pXG5cbiAgICAgICAgLy8gZmlyc3QsIGp1c3QgaW4gY2FzZSB0aGVyZSBpcyBubyBib3JkZXIuLi5cbiAgICAgICAgaWYgKHRvcC53aWR0aCA9PT0gMCAmJiBsZWZ0LndpZHRoID09PSAwICYmIHJpZ2h0LndpZHRoID09PSAwICYmIGJvdHRvbS53aWR0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU1RBUlQgcGFpbnQgYm9yZGVyc1xuICAgICAgICAvLyBpZiBhbGwgYm9yZGVycyBoYXZlIGVxdWFsIGNvbG9ycy4uLlxuICAgICAgICBpZiAodG9wLmNvbG9yID09IHJpZ2h0LmNvbG9yICYmIHRvcC5jb2xvciA9PSBib3R0b20uY29sb3IgJiYgdG9wLmNvbG9yID09IGxlZnQuY29sb3IpIHtcblxuICAgICAgICAgICAgLy8gaWYgc2FtZSB3aWR0aHMgdG9vLCB3ZSBjYW4gZHJhdyB0aGUgd2hvbGUgYm9yZGVyIGJ5IHN0cm9raW5nIGEgc2luZ2xlIHBhdGguXG4gICAgICAgICAgICBpZiAodG9wLndpZHRoID09IHJpZ2h0LndpZHRoICYmIHRvcC53aWR0aCA9PSBib3R0b20ud2lkdGggJiYgdG9wLndpZHRoID09IGxlZnQud2lkdGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZERyYXdMZWZ0ICYmIHNob3VsZERyYXdSaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgYm94IGJ5IGhhbGYgdGhlIGJvcmRlciB3aWR0aCwgc28gd2UgY2FuIGRyYXcgaXQgYnkgc3Ryb2tpbmcuXG4gICAgICAgICAgICAgICAgICAgIGJveCA9IGlubmVyQm94KGJveCwgdG9wLndpZHRoLzIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgYm9yZGVyIHJhZGl1c2VzLCBhZ2FpbiBieSB0b3Aud2lkdGgvMiwgYW5kIG1ha2UgdGhlIHBhdGggZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBlbGVtZW50Um91bmRCb3goZWxlbWVudCwgYm94LCB0b3Aud2lkdGgvMik7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgub3B0aW9ucy5zdHJva2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdG9wLmNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRvcC53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBncm91cC5hcHBlbmQocGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBib3JkZXIgcmFkaXVzZXMgYXJlIHplcm8gYW5kIHdpZHRocyBhcmUgYXQgbW9zdCBvbmUgcGl4ZWwsIHdlIGNhbiBhZ2FpbiB1c2Ugc2ltcGxlXG4gICAgICAgIC8vIHBhdGhzLlxuICAgICAgICBpZiAoclRMMC54ID09PSAwICYmIHJUUjAueCA9PT0gMCAmJiByQlIwLnggPT09IDAgJiYgckJMMC54ID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhbHJpZ2h0LCAxLjlweCB3aWxsIGRvIGFzIHdlbGwuICB0aGUgZGlmZmVyZW5jZSBpbiBjb2xvciBibGVuZGluZyBzaG91bGQgbm90IGJlXG4gICAgICAgICAgICAvLyBub3RpY2VhYmxlLlxuICAgICAgICAgICAgaWYgKHRvcC53aWR0aCA8IDIgJiYgbGVmdC53aWR0aCA8IDIgJiYgcmlnaHQud2lkdGggPCAyICYmIGJvdHRvbS53aWR0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAvLyB0b3AgYm9yZGVyXG4gICAgICAgICAgICAgICAgaWYgKHRvcC53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogeyB3aWR0aDogdG9wLndpZHRoLCBjb2xvcjogdG9wLmNvbG9yIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdmVUbyhib3gubGVmdCwgYm94LnRvcCArIHRvcC53aWR0aC8yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5saW5lVG8oYm94LnJpZ2h0LCBib3gudG9wICsgdG9wLndpZHRoLzIpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYm90dG9tIGJvcmRlclxuICAgICAgICAgICAgICAgIGlmIChib3R0b20ud2lkdGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHsgd2lkdGg6IGJvdHRvbS53aWR0aCwgY29sb3I6IGJvdHRvbS5jb2xvciB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb3ZlVG8oYm94LmxlZnQsIGJveC5ib3R0b20gLSBib3R0b20ud2lkdGgvMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LmJvdHRvbSAtIGJvdHRvbS53aWR0aC8yKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGxlZnQgYm9yZGVyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZERyYXdMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQYXRoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHsgd2lkdGg6IGxlZnQud2lkdGgsIGNvbG9yOiBsZWZ0LmNvbG9yIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1vdmVUbyhib3gubGVmdCArIGxlZnQud2lkdGgvMiwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5sZWZ0ICsgbGVmdC53aWR0aC8yLCBib3guYm90dG9tKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJpZ2h0IGJvcmRlclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGREcmF3UmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFBhdGgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogeyB3aWR0aDogcmlnaHQud2lkdGgsIGNvbG9yOiByaWdodC5jb2xvciB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb3ZlVG8oYm94LnJpZ2h0IC0gcmlnaHQud2lkdGgvMiwgYm94LnRvcClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5yaWdodCAtIHJpZ2h0LndpZHRoLzIsIGJveC5ib3R0b20pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVORCBwYWludCBib3JkZXJzXG5cbiAgICAgICAgdmFyIHRtcCA9IGFkanVzdEJvcmRlclJhZGl1c0ZvckJveChib3gsIHJUTDAsIHJUUjAsIHJCUjAsIHJCTDApO1xuICAgICAgICB2YXIgclRMID0gdG1wLnRsO1xuICAgICAgICB2YXIgclRSID0gdG1wLnRyO1xuICAgICAgICB2YXIgckJSID0gdG1wLmJyO1xuICAgICAgICB2YXIgckJMID0gdG1wLmJsO1xuXG4gICAgICAgIC8vIHRvcCBib3JkZXJcbiAgICAgICAgZHJhd0VkZ2UodG9wLmNvbG9yLFxuICAgICAgICAgICAgICAgICBib3gud2lkdGgsIHRvcC53aWR0aCwgbGVmdC53aWR0aCwgcmlnaHQud2lkdGgsXG4gICAgICAgICAgICAgICAgIHJUTCwgclRSLFxuICAgICAgICAgICAgICAgICBbIDEsIDAsIDAsIDEsIGJveC5sZWZ0LCBib3gudG9wIF0pO1xuXG4gICAgICAgIC8vIGJvdHRvbSBib3JkZXJcbiAgICAgICAgZHJhd0VkZ2UoYm90dG9tLmNvbG9yLFxuICAgICAgICAgICAgICAgICBib3gud2lkdGgsIGJvdHRvbS53aWR0aCwgcmlnaHQud2lkdGgsIGxlZnQud2lkdGgsXG4gICAgICAgICAgICAgICAgIHJCUiwgckJMLFxuICAgICAgICAgICAgICAgICBbIC0xLCAwLCAwLCAtMSwgYm94LnJpZ2h0LCBib3guYm90dG9tIF0pO1xuXG4gICAgICAgIC8vIGZvciBsZWZ0L3JpZ2h0IGJvcmRlcnMgd2UgbmVlZCB0byBpbnZlcnQgdGhlIGJvcmRlci1yYWRpdXNlc1xuICAgICAgICBmdW5jdGlvbiBpbnYocCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgeDogcC55LCB5OiBwLnggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxlZnQgYm9yZGVyXG4gICAgICAgIGRyYXdFZGdlKGxlZnQuY29sb3IsXG4gICAgICAgICAgICAgICAgIGJveC5oZWlnaHQsIGxlZnQud2lkdGgsIGJvdHRvbS53aWR0aCwgdG9wLndpZHRoLFxuICAgICAgICAgICAgICAgICBpbnYockJMKSwgaW52KHJUTCksXG4gICAgICAgICAgICAgICAgIFsgMCwgLTEsIDEsIDAsIGJveC5sZWZ0LCBib3guYm90dG9tIF0pO1xuXG4gICAgICAgIC8vIHJpZ2h0IGJvcmRlclxuICAgICAgICBkcmF3RWRnZShyaWdodC5jb2xvcixcbiAgICAgICAgICAgICAgICAgYm94LmhlaWdodCwgcmlnaHQud2lkdGgsIHRvcC53aWR0aCwgYm90dG9tLndpZHRoLFxuICAgICAgICAgICAgICAgICBpbnYoclRSKSwgaW52KHJCUiksXG4gICAgICAgICAgICAgICAgIFsgMCwgMSwgLTEsIDAsIGJveC5yaWdodCwgYm94LnRvcCBdKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdyYWRpZW50UmVuZGVyZXIoZ3JhZGllbnQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZ3JvdXAsIHJlY3QpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdC53aWR0aCgpLCBoZWlnaHQgPSByZWN0LmhlaWdodCgpO1xuXG4gICAgICAgIHN3aXRjaCAoZ3JhZGllbnQudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJsaW5lYXJcIjpcblxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgYW5nbGUuXG4gICAgICAgICAgICB2YXIgYW5nbGUgPSBncmFkaWVudC5hbmdsZSAhPSBudWxsID8gZ3JhZGllbnQuYW5nbGUgOiBNYXRoLlBJO1xuICAgICAgICAgICAgc3dpdGNoIChncmFkaWVudC50bykge1xuICAgICAgICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgICAgIGFuZ2xlID0gLU1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBNYXRoLlBJO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgICAgICBhbmdsZSA9IE1hdGguUEkgLyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG9wIGxlZnRcIjogY2FzZSBcImxlZnQgdG9wXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtTWF0aC5hdGFuMihoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvcCByaWdodFwiOiBjYXNlIFwicmlnaHQgdG9wXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBNYXRoLmF0YW4yKGhlaWdodCwgd2lkdGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tIGxlZnRcIjogY2FzZSBcImxlZnQgYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBNYXRoLlBJICsgTWF0aC5hdGFuMihoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImJvdHRvbSByaWdodFwiOiBjYXNlIFwicmlnaHQgYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgYW5nbGUgPSBNYXRoLlBJIC0gTWF0aC5hdGFuMihoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGdyYWRpZW50LnJldmVyc2UpIHtcbiAgICAgICAgICAgICAgICBhbmdsZSAtPSBNYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBsaW1pdCB0aGUgYW5nbGUgYmV0d2VlbiAwLi4yUElcbiAgICAgICAgICAgIGFuZ2xlICU9IDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICAgICAgICAgIGFuZ2xlICs9IDIgKiBNYXRoLlBJO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb21wdXRlIGdyYWRpZW50J3Mgc3RhcnQvZW5kIHBvaW50cy4gIGhlcmUgbGVuIGlzIHRoZSBsZW5ndGggb2YgdGhlIGdyYWRpZW50IGxpbmVcbiAgICAgICAgICAgIC8vIGFuZCB4LHkgaXMgdGhlIGVuZCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIHRoZSByZWN0YW5nbGUgaW4gY29udmVudGlvbmFsXG4gICAgICAgICAgICAvLyAobWF0aCkgYXhpcyBkaXJlY3Rpb24uXG5cbiAgICAgICAgICAgIC8vIHRoaXMgaXMgdGhlIG9yaWdpbmFsICh1bnNjYWxlZCkgbGVuZ3RoIG9mIHRoZSBncmFkaWVudCBsaW5lLiAgbmVlZGVkIHRvIGRlYWwgd2l0aFxuICAgICAgICAgICAgLy8gYWJzb2x1dGVseSBwb3NpdGlvbmVkIGNvbG9yIHN0b3BzLiAgZm9ybXVsYSBmcm9tIHRoZSBDU1Mgc3BlYzpcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1pbWFnZXMtMy8jbGluZWFyLWdyYWRpZW50LXN5bnRheFxuICAgICAgICAgICAgdmFyIHB4bGVuID0gTWF0aC5hYnMod2lkdGggKiBNYXRoLnNpbihhbmdsZSkpICsgTWF0aC5hYnMoaGVpZ2h0ICogTWF0aC5jb3MoYW5nbGUpKTtcblxuICAgICAgICAgICAgLy8gVGhlIG1hdGggYmVsb3cgaXMgcHJldHR5IHNpbXBsZSwgYnV0IGl0IHRvb2sgYSB3aGlsZSB0byBmaWd1cmUgb3V0LiAgV2UgY29tcHV0ZSB4XG4gICAgICAgICAgICAvLyBhbmQgeSwgdGhlICplbmQqIG9mIHRoZSBncmFkaWVudCBsaW5lLiAgSG93ZXZlciwgd2Ugd2FudCB0byB0cmFuc2Zvcm0gdGhlbSBpbnRvXG4gICAgICAgICAgICAvLyBlbGVtZW50LWJhc2VkIGNvb3JkaW5hdGVzIChTVkcncyBncmFkaWVudFVuaXRzPVwib2JqZWN0Qm91bmRpbmdCb3hcIikuICBUaGF0IG1lYW5zLFxuICAgICAgICAgICAgLy8geD0wIGlzIHRoZSBsZWZ0IGVkZ2UsIHg9MSBpcyB0aGUgcmlnaHQgZWRnZSwgeT0wIGlzIHRoZSB0b3AgZWRnZSBhbmQgeT0xIGlzIHRoZVxuICAgICAgICAgICAgLy8gYm90dG9tIGVkZ2UuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQSBuYWl2ZSBhcHByb2FjaCB3b3VsZCB1c2UgdGhlIG9yaWdpbmFsIGFuZ2xlIGZvciB0aGVzZSBjYWxjdWxhdGlvbnMuICBTYXkgd2UnZFxuICAgICAgICAgICAgLy8gbGlrZSB0byBkcmF3IGEgZ3JhZGllbnQgYW5nbGVkIGF0IDQ1ZGVnIGluIGEgMTAweDQwMCBib3guICBXaGVuIHdlIHVzZVxuICAgICAgICAgICAgLy8gb2JqZWN0Qm91bmRpbmdCb3gsIHRoZSByZW5kZXJlciB3aWxsIGRyYXcgaXQgaW4gYSAxeDEgKnNxdWFyZSogYm94LCBhbmQgdGhlblxuICAgICAgICAgICAgLy8gc2NhbGUgdGhhdCB0byB0aGUgZGVzaXJlZCBkaW1lbnNpb25zLiAgVGhlIDQ1ZGVnIGFuZ2xlIHdpbGwgbG9vayBtb3JlIGxpa2UgNzBkZWdcbiAgICAgICAgICAgIC8vIGFmdGVyIHNjYWxpbmcuICBTVkcgKGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wc2VydmVycy5odG1sI0xpbmVhckdyYWRpZW50cykgc2F5c1xuICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZzpcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgICAgV2hlbiBncmFkaWVudFVuaXRzPVwib2JqZWN0Qm91bmRpbmdCb3hcIiBhbmQgJ2dyYWRpZW50VHJhbnNmb3JtJyBpcyB0aGVcbiAgICAgICAgICAgIC8vICAgICBpZGVudGl0eSBtYXRyaXgsIHRoZSBub3JtYWwgb2YgdGhlIGxpbmVhciBncmFkaWVudCBpcyBwZXJwZW5kaWN1bGFyIHRvIHRoZVxuICAgICAgICAgICAgLy8gICAgIGdyYWRpZW50IHZlY3RvciBpbiBvYmplY3QgYm91bmRpbmcgYm94IHNwYWNlIChpLmUuLCB0aGUgYWJzdHJhY3QgY29vcmRpbmF0ZVxuICAgICAgICAgICAgLy8gICAgIHN5c3RlbSB3aGVyZSAoMCwwKSBpcyBhdCB0aGUgdG9wL2xlZnQgb2YgdGhlIG9iamVjdCBib3VuZGluZyBib3ggYW5kICgxLDEpIGlzXG4gICAgICAgICAgICAvLyAgICAgYXQgdGhlIGJvdHRvbS9yaWdodCBvZiB0aGUgb2JqZWN0IGJvdW5kaW5nIGJveCkuIFdoZW4gdGhlIG9iamVjdCdzIGJvdW5kaW5nXG4gICAgICAgICAgICAvLyAgICAgYm94IGlzIG5vdCBzcXVhcmUsIHRoZSBncmFkaWVudCBub3JtYWwgd2hpY2ggaXMgaW5pdGlhbGx5IHBlcnBlbmRpY3VsYXIgdG9cbiAgICAgICAgICAgIC8vICAgICB0aGUgZ3JhZGllbnQgdmVjdG9yIHdpdGhpbiBvYmplY3QgYm91bmRpbmcgYm94IHNwYWNlIG1heSByZW5kZXJcbiAgICAgICAgICAgIC8vICAgICBub24tcGVycGVuZGljdWxhciByZWxhdGl2ZSB0byB0aGUgZ3JhZGllbnQgdmVjdG9yIGluIHVzZXIgc3BhY2UuIElmIHRoZVxuICAgICAgICAgICAgLy8gICAgIGdyYWRpZW50IHZlY3RvciBpcyBwYXJhbGxlbCB0byBvbmUgb2YgdGhlIGF4ZXMgb2YgdGhlIGJvdW5kaW5nIGJveCwgdGhlXG4gICAgICAgICAgICAvLyAgICAgZ3JhZGllbnQgbm9ybWFsIHdpbGwgcmVtYWluIHBlcnBlbmRpY3VsYXIuIFRoaXMgdHJhbnNmb3JtYXRpb24gaXMgZHVlIHRvXG4gICAgICAgICAgICAvLyAgICAgYXBwbGljYXRpb24gb2YgdGhlIG5vbi11bmlmb3JtIHNjYWxpbmcgdHJhbnNmb3JtYXRpb24gZnJvbSBib3VuZGluZyBib3ggc3BhY2VcbiAgICAgICAgICAgIC8vICAgICB0byB1c2VyIHNwYWNlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIGFuIGV4dHJlbWVseSBsb25nIGFuZCBjb25mdXNpbmcgd2F5IHRvIHRlbGwgd2hhdCBJIGp1c3Qgc2FpZCBhYm92ZS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byBhcHBseSB0aGUgcmV2ZXJzZSBzY2FsaW5nIHRvIHRoZSBvcmlnaW5hbCBhbmdsZSwgc29cbiAgICAgICAgICAgIC8vIHRoYXQgd2hlbiBpdCdsbCBmaW5hbGx5IGJlIHJlbmRlcmVkIGl0J2xsIGFjdHVhbGx5IGJlIGF0IHRoZSBkZXNpcmVkIHNsb3BlLiAgTm93XG4gICAgICAgICAgICAvLyBJJ2xsIGxldCB5b3UgZmlndXJlIG91dCB0aGUgbWF0aCB5b3Vyc2VsZi5cblxuICAgICAgICAgICAgdmFyIHNjYWxlZEFuZ2xlID0gTWF0aC5hdGFuKHdpZHRoICogTWF0aC50YW4oYW5nbGUpIC8gaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihzY2FsZWRBbmdsZSksIGNvcyA9IE1hdGguY29zKHNjYWxlZEFuZ2xlKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLmFicyhzaW4pICsgTWF0aC5hYnMoY29zKTtcbiAgICAgICAgICAgIHZhciB4ID0gbGVuLzIgKiBzaW47XG4gICAgICAgICAgICB2YXIgeSA9IGxlbi8yICogY29zO1xuXG4gICAgICAgICAgICAvLyBCZWNhdXNlIG9mIHRoZSBhcmN0YW5nZW50LCBvdXIgc2NhbGVkQW5nbGUgZW5kcyB1cCBiZXR3ZWVuIC1QSS8yLi5QSS8yLCBwb3NzaWJseVxuICAgICAgICAgICAgLy8gbG9zaW5nIHRoZSBpbnRlbmRlZCBkaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiAgVGhlIGZvbGxvd2luZyBmaXhlcyBpdC5cbiAgICAgICAgICAgIGlmIChhbmdsZSA+IE1hdGguUEkvMiAmJiBhbmdsZSA8PSAzKk1hdGguUEkvMikge1xuICAgICAgICAgICAgICAgIHggPSAteDtcbiAgICAgICAgICAgICAgICB5ID0gLXk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbXB1dGUgdGhlIGNvbG9yIHN0b3BzLlxuICAgICAgICAgICAgdmFyIGltcGxpY2l0ID0gW10sIHJpZ2h0ID0gMDtcbiAgICAgICAgICAgIHZhciBzdG9wcyA9IGdyYWRpZW50LnN0b3BzLm1hcChmdW5jdGlvbihzLCBpKXtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcy5wZXJjZW50O1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gcGFyc2VGbG9hdChvZmZzZXQpIC8gMTAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gcGFyc2VGbG9hdChzLmxlbmd0aCkgLyBweGxlbjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPT0gZ3JhZGllbnQuc3RvcHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHMuY29sb3IudG9Dc3NSZ2JhKCksXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeCBpbXBsaWNpdCBvZmZzZXRzXG4gICAgICAgICAgICAgICAgICAgIGltcGxpY2l0LmZvckVhY2goZnVuY3Rpb24ocywgaSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHMuc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3Aub2Zmc2V0ID0gcy5sZWZ0ICsgKHJpZ2h0IC0gcy5sZWZ0KSAqIChpICsgMSkgLyAoaW1wbGljaXQubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpbXBsaWNpdCA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGltcGxpY2l0LnB1c2goeyBsZWZ0OiByaWdodCwgc3RvcDogc3RvcCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3A7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gWyAwLjUgLSB4LCAwLjUgKyB5IF07XG4gICAgICAgICAgICB2YXIgZW5kID0gWyAwLjUgKyB4LCAwLjUgLSB5IF07XG5cbiAgICAgICAgICAgIC8vIGZpbmFsbHksIGRyYXcgaXQuXG4gICAgICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgUGF0aC5mcm9tUmVjdChyZWN0KVxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKG51bGwpXG4gICAgICAgICAgICAgICAgICAgIC5maWxsKG5ldyBMaW5lYXJHcmFkaWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCAgICAgOiBzdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCAgICAgICA6IGVuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BzICAgICA6IHN0b3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclNwYWNlIDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJhZGlhbFwiOlxuICAgICAgICAgICAgLy8gWFhYOlxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLmxvZykge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhcIlJhZGlhbCBncmFkaWVudHMgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGluIEhUTUwgcmVuZGVyZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIG1heWJlUmVuZGVyV2lkZ2V0KGVsZW1lbnQsIGdyb3VwKSB7XG4gICAgdmFyIHZpc3VhbDtcblxuICAgIGlmIChlbGVtZW50Ll9rZW5kb0V4cG9ydFZpc3VhbCkge1xuICAgICAgICB2aXN1YWwgPSBlbGVtZW50Ll9rZW5kb0V4cG9ydFZpc3VhbCgpO1xuICAgIH0gZWxzZSBpZiAod2luZG93LmtlbmRvICYmIHdpbmRvdy5rZW5kby5qUXVlcnkgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUod2luZG93LmtlbmRvLmF0dHIoXCJyb2xlXCIpKSkge1xuICAgICAgICB2YXIgd2lkZ2V0ID0gd2luZG93LmtlbmRvLndpZGdldEluc3RhbmNlKHdpbmRvdy5rZW5kby5qUXVlcnkoZWxlbWVudCkpO1xuICAgICAgICBpZiAod2lkZ2V0ICYmICh3aWRnZXQuZXhwb3J0RE9NVmlzdWFsIHx8IHdpZGdldC5leHBvcnRWaXN1YWwpKSB7XG4gICAgICAgICAgICBpZiAod2lkZ2V0LmV4cG9ydERPTVZpc3VhbCkge1xuICAgICAgICAgICAgICAgIHZpc3VhbCA9IHdpZGdldC5leHBvcnRET01WaXN1YWwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlzdWFsID0gd2lkZ2V0LmV4cG9ydFZpc3VhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF2aXN1YWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB3cmFwID0gbmV3IEdyb3VwKCk7XG4gICAgd3JhcC5jaGlsZHJlbi5wdXNoKHZpc3VhbCk7XG5cbiAgICB2YXIgYmJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgd3JhcC50cmFuc2Zvcm0oZ2VvLnRyYW5zZm9ybSgpLnRyYW5zbGF0ZShiYm94LmxlZnQsIGJib3gudG9wKSk7XG5cbiAgICBncm91cC5hcHBlbmQod3JhcCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gbWF5YmVSZW5kZXJCdWxsZXQoZWxlbWVudCwgZ3JvdXApIHtcbiAgICBjb25zdCBidWxsZXRUeXBlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoS0VORE9fQlVMTEVUX1RZUEUpO1xuXG4gICAgaWYgKCFidWxsZXRUeXBlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBjb2xvciA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuY29sb3I7XG5cbiAgICBpZiAoYnVsbGV0VHlwZSA9PT0gJ3NxdWFyZScpIHtcbiAgICAgICAgY29uc3QgcmVjdFNpemUgPSBib3guaGVpZ2h0IC8gNTtcbiAgICAgICAgZ3JvdXAuYXBwZW5kKG5ldyBSZWN0KG5ldyBnZW8uUmVjdChbXG4gICAgICAgICAgICBib3gucmlnaHQgLSByZWN0U2l6ZSxcbiAgICAgICAgICAgIGJveC50b3AgKyBib3guaGVpZ2h0IC8gMi4xXG4gICAgICAgIF0sIFtyZWN0U2l6ZSwgcmVjdFNpemVdKSkuZmlsbChjb2xvcikuc3Ryb2tlKGNvbG9yKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gYm94LmhlaWdodCAvIDc7XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IFtcbiAgICAgICAgICAgIGJveC5yaWdodCAtIHJhZGl1cyxcbiAgICAgICAgICAgIGJveC50b3AgKyAoYm94LmhlaWdodCArIHJhZGl1cykgLyAyXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IG5ldyBDaXJjbGUobmV3IGdlby5DaXJjbGUoY2VudGVyLCByYWRpdXMpKTtcbiAgICAgICAgaWYgKGJ1bGxldFR5cGUgPT09ICdjaXJjbGUnKSB7XG4gICAgICAgICAgICBjaXJjbGUuc3Ryb2tlKGNvbG9yLCAwLjUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2lyY2xlLmZpbGwoY29sb3IpLnN0cm9rZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBncm91cC5hcHBlbmQoY2lyY2xlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVuZGVySW1hZ2UoZWxlbWVudCwgdXJsLCBncm91cCkge1xuICAgIHZhciBib3ggPSBnZXRDb250ZW50Qm94KGVsZW1lbnQpO1xuICAgIHZhciByZWN0ID0gbmV3IGdlby5SZWN0KFsgYm94LmxlZnQsIGJveC50b3AgXSwgWyBib3gud2lkdGgsIGJveC5oZWlnaHQgXSk7XG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKHVybCwgcmVjdCk7XG4gICAgc2V0Q2xpcHBpbmcoaW1hZ2UsIGVsZW1lbnRSb3VuZEJveChlbGVtZW50LCBib3gsIFwiY29udGVudFwiKSk7XG4gICAgZ3JvdXAuYXBwZW5kKGltYWdlKTtcbn1cblxuZnVuY3Rpb24gekluZGV4U29ydChhLCBiKSB7XG4gICAgdmFyIHNhID0gZ2V0Q29tcHV0ZWRTdHlsZShhKTtcbiAgICB2YXIgc2IgPSBnZXRDb21wdXRlZFN0eWxlKGIpO1xuICAgIHZhciB6YSA9IHBhcnNlRmxvYXQoZ2V0UHJvcGVydHlWYWx1ZShzYSwgXCJ6LWluZGV4XCIpKTtcbiAgICB2YXIgemIgPSBwYXJzZUZsb2F0KGdldFByb3BlcnR5VmFsdWUoc2IsIFwiei1pbmRleFwiKSk7XG4gICAgdmFyIHBhID0gZ2V0UHJvcGVydHlWYWx1ZShzYSwgXCJwb3NpdGlvblwiKTtcbiAgICB2YXIgcGIgPSBnZXRQcm9wZXJ0eVZhbHVlKHNiLCBcInBvc2l0aW9uXCIpO1xuICAgIGlmIChpc05hTih6YSkgJiYgaXNOYU4oemIpKSB7XG4gICAgICAgIGlmICgoL3N0YXRpY3xhYnNvbHV0ZS8udGVzdChwYSkpICYmICgvc3RhdGljfGFic29sdXRlLy50ZXN0KHBiKSkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYSA9PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBiID09IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAoaXNOYU4oemEpKSB7XG4gICAgICAgIHJldHVybiB6YiA9PT0gMCA/IDAgOiB6YiA+IDAgPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmIChpc05hTih6YikpIHtcbiAgICAgICAgcmV0dXJuIHphID09PSAwID8gMCA6IHphID4gMCA/IDEgOiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoemEpIC0gcGFyc2VGbG9hdCh6Yik7XG59XG5cbmZ1bmN0aW9uIGlzRm9ybUZpZWxkKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gL14oPzp0ZXh0YXJlYXxzZWxlY3R8aW5wdXQpJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VsZWN0ZWRPcHRpb24oZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LnNlbGVjdGVkT3B0aW9ucyAmJiBlbGVtZW50LnNlbGVjdGVkT3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LnNlbGVjdGVkT3B0aW9uc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQub3B0aW9uc1tlbGVtZW50LnNlbGVjdGVkSW5kZXhdO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDaGVja2JveChlbGVtZW50LCBncm91cCkge1xuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgdmFyIGNvbG9yID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJjb2xvclwiKTtcbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoZWxlbWVudC50eXBlID09IFwiY2hlY2tib3hcIikge1xuICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICBQYXRoLmZyb21SZWN0KFxuICAgICAgICAgICAgICAgIG5ldyBnZW8uUmVjdChbIGJveC5sZWZ0KzEsIGJveC50b3ArMSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbIGJveC53aWR0aC0yLCBib3guaGVpZ2h0LTIgXSlcbiAgICAgICAgICAgICkuc3Ryb2tlKGNvbG9yLCAxKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAvLyBmaWxsIGEgcmVjdGFuZ2xlIGluc2lkZT8gIGxvb2tzIGtpbmRhIHVnbHkuXG4gICAgICAgICAgICAvLyBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICAvLyAgICAgUGF0aC5mcm9tUmVjdChcbiAgICAgICAgICAgIC8vICAgICAgICAgbmV3IGdlby5SZWN0KFsgYm94LmxlZnQrNCwgYm94LnRvcCs0IF0sXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICBbIGJveC53aWR0aC04LCBib3guaGVpZ2h0LThdKVxuICAgICAgICAgICAgLy8gICAgICkuZmlsbChjb2xvcikuc3Ryb2tlKG51bGwpXG4gICAgICAgICAgICAvLyApO1xuXG4gICAgICAgICAgICAvLyBsZXQncyBkcmF3IGEgY2hlY2ttYXJrIGluc3RlYWQuICBhcnRpc3RpYywgZWg/XG4gICAgICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgbmV3IFBhdGgoKVxuICAgICAgICAgICAgICAgICAgICAuc3Ryb2tlKGNvbG9yLCAxLjIpXG4gICAgICAgICAgICAgICAgICAgIC5tb3ZlVG8oYm94LmxlZnQgKyAwLjIyICogYm94LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveC50b3AgKyAwLjU1ICogYm94LmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgLmxpbmVUbyhib3gubGVmdCArIDAuNDUgKiBib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94LnRvcCArIDAuNzUgKiBib3guaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICAubGluZVRvKGJveC5sZWZ0ICsgMC43OCAqIGJveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3gudG9wICsgMC4yMiAqIGJveC53aWR0aClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBncm91cC5hcHBlbmQoXG4gICAgICAgICAgICBuZXcgQ2lyY2xlKFxuICAgICAgICAgICAgICAgIG5ldyBnZW8uQ2lyY2xlKFtcbiAgICAgICAgICAgICAgICAgICAgKGJveC5sZWZ0ICsgYm94LnJpZ2h0KSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIChib3gudG9wICsgYm94LmJvdHRvbSkgLyAyXG4gICAgICAgICAgICAgICAgXSwgTWF0aC5taW4oYm94LndpZHRoLTIsIGJveC5oZWlnaHQtMikgLyAyKVxuICAgICAgICAgICAgKS5zdHJva2UoY29sb3IsIDEpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlbGVtZW50LmNoZWNrZWQpIHtcbiAgICAgICAgICAgIGdyb3VwLmFwcGVuZChcbiAgICAgICAgICAgICAgICBuZXcgQ2lyY2xlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgZ2VvLkNpcmNsZShbXG4gICAgICAgICAgICAgICAgICAgICAgICAoYm94LmxlZnQgKyBib3gucmlnaHQpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgIChib3gudG9wICsgYm94LmJvdHRvbSkgLyAyXG4gICAgICAgICAgICAgICAgICAgIF0sIE1hdGgubWluKGJveC53aWR0aC04LCBib3guaGVpZ2h0LTgpIC8gMilcbiAgICAgICAgICAgICAgICApLmZpbGwoY29sb3IpLnN0cm9rZShudWxsKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyRm9ybUZpZWxkKGVsZW1lbnQsIGdyb3VwKSB7XG4gICAgdmFyIHRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh0YWcgPT0gXCJpbnB1dFwiICYmIChlbGVtZW50LnR5cGUgPT0gXCJjaGVja2JveFwiIHx8IGVsZW1lbnQudHlwZSA9PSBcInJhZGlvXCIpKSB7XG4gICAgICAgIHJldHVybiByZW5kZXJDaGVja2JveChlbGVtZW50LCBncm91cCk7XG4gICAgfVxuICAgIHZhciBwID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgdmFyIGVsID0gZG9jLmNyZWF0ZUVsZW1lbnQoS0VORE9fUFNFVURPX0VMRU1FTlQpO1xuICAgIHZhciBvcHRpb247XG4gICAgZWwuc3R5bGUuY3NzVGV4dCA9IGdldENzc1RleHQoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSk7XG4gICAgaWYgKHRhZyA9PSBcImlucHV0XCIpIHtcbiAgICAgICAgZWwuc3R5bGUud2hpdGVTcGFjZSA9IFwicHJlXCI7XG4gICAgfVxuICAgIGlmICh0YWcgPT0gXCJzZWxlY3RcIiB8fCB0YWcgPT0gXCJ0ZXh0YXJlYVwiKSB7XG4gICAgICAgIGVsLnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgfVxuICAgIGlmICh0YWcgPT0gXCJzZWxlY3RcIikge1xuICAgICAgICBpZiAoZWxlbWVudC5tdWx0aXBsZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24gPSBkb2MuY3JlYXRlRWxlbWVudChLRU5ET19QU0VVRE9fRUxFTUVOVCk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmNzc1RleHQgPSBnZXRDc3NUZXh0KGdldENvbXB1dGVkU3R5bGUoZWxlbWVudC5vcHRpb25zW2ldKSk7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7IC8vIElFOSBtZXNzZXMgdXAgd2l0aG91dCB0aGlzXG4gICAgICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gZWxlbWVudC5vcHRpb25zW2ldLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb24gPSBnZXRTZWxlY3RlZE9wdGlvbihlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IG9wdGlvbi50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGVsLnRleHRDb250ZW50ID0gZWxlbWVudC52YWx1ZTtcbiAgICB9XG4gICAgcC5pbnNlcnRCZWZvcmUoZWwsIGVsZW1lbnQpO1xuICAgIGVsLnNjcm9sbExlZnQgPSBlbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgZWwuc2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICAvLyBtdXN0IHRlbXBvcmFyaWx5IGhpZGUgdGhlIG9yaWdpbmFsIGVsZW1lbnQsIG90aGVyd2lzZSBpdFxuICAgIC8vIG1heSBhZmZlY3QgbGF5b3V0IG9mIHRoZSBmYWtlIGVsZW1lbnQgd2Ugd2FudCB0byByZW5kZXIuXG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICByZW5kZXJDb250ZW50cyhlbCwgZ3JvdXApO1xuICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgcC5yZW1vdmVDaGlsZChlbCk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVNWRyhlbGVtZW50KSB7XG4gICAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyB3aW5kb3cuWE1MU2VyaWFsaXplcigpO1xuICAgIGxldCB4bWwgPSBzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKGVsZW1lbnQpO1xuXG4gICAgaWYgKGJyb3dzZXIubW96aWxsYSAmJiAhKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIikpKSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbCwgXCJpbWFnZS9zdmcreG1sXCIpO1xuICAgICAgICBjb25zdCBzdmcgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCBib3ggPSBnZXRDb250ZW50Qm94KGVsZW1lbnQpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgYm94LndpZHRoKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBib3guaGVpZ2h0KTtcbiAgICAgICAgeG1sID0gc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhzdmcpO1xuICAgIH1cblxuICAgIHJldHVybiB4bWw7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNvbnRlbnRzKGVsZW1lbnQsIGdyb3VwKSB7XG4gICAgaWYgKG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQuZWxlbWVudCA9PT0gZWxlbWVudCkge1xuICAgICAgICAvLyB0aGUgZ3JvdXAgdGhhdCB3YXMgc2V0IGluIHB1c2hOb2RlSW5mbyBtaWdodCBoYXZlXG4gICAgICAgIC8vIGNoYW5nZWQgZHVlIHRvIGNsaXBwaW5nL3RyYW5zZm9ybXMsIHVwZGF0ZSBpdCBoZXJlLlxuICAgICAgICBub2RlSW5mby5fc3RhY2tpbmdDb250ZXh0Lmdyb3VwID0gZ3JvdXA7XG4gICAgfVxuICAgIHN3aXRjaCAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgcmVuZGVySW1hZ2UoZWxlbWVudCwgZWxlbWVudC5zcmMsIGdyb3VwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgbGV0IHhtbCA9IHNlcmlhbGl6ZVNWRyhlbGVtZW50KTtcbiAgICAgICAgbGV0IGRhdGFVUkwgPSBgZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwke2VuY29kZUJhc2U2NCh4bWwpfWA7XG4gICAgICAgIHJlbmRlckltYWdlKGVsZW1lbnQsIGRhdGFVUkwsIGdyb3VwKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJjYW52YXNcIjpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlbmRlckltYWdlKGVsZW1lbnQsIGVsZW1lbnQudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLCBncm91cCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAvLyB0YWludGVkOyBjYW4ndCBkcmF3IGl0LCBpZ25vcmUuXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgIHJlbmRlckZvcm1GaWVsZChlbGVtZW50LCBncm91cCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXSwgZmxvYXRzID0gW10sIHBvc2l0aW9uZWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGVsZW1lbnQuZmlyc3RDaGlsZDsgaTsgaSA9IGkubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIDM6ICAgICAgICAgLy8gVGV4dFxuICAgICAgICAgICAgICAgIGlmICgvXFxTLy50ZXN0KGkuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVGV4dChlbGVtZW50LCBpLCBncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDE6ICAgICAgICAgLy8gRWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoaSk7XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0aW5nID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmbG9hdFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInBvc2l0aW9uXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiAhPSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uZWQucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmxvYXRpbmcgIT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRzLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtZXJnZVNvcnQoY2hpbGRyZW4sIHpJbmRleFNvcnQpLmZvckVhY2goZnVuY3Rpb24oZWwpeyByZW5kZXJFbGVtZW50KGVsLCBncm91cCk7IH0pO1xuICAgICAgICBtZXJnZVNvcnQoZmxvYXRzLCB6SW5kZXhTb3J0KS5mb3JFYWNoKGZ1bmN0aW9uKGVsKXsgcmVuZGVyRWxlbWVudChlbCwgZ3JvdXApOyB9KTtcbiAgICAgICAgbWVyZ2VTb3J0KHBvc2l0aW9uZWQsIHpJbmRleFNvcnQpLmZvckVhY2goZnVuY3Rpb24oZWwpeyByZW5kZXJFbGVtZW50KGVsLCBncm91cCk7IH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVuZGVyVGV4dChlbGVtZW50LCBub2RlLCBncm91cCkge1xuICAgIGlmIChlbXB0eUNsaXBib3goKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAocGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInRleHQtaW5kZW50XCIpKSA8IC01MDApIHtcbiAgICAgICAgLy8gYXNzdW1lIGl0IHNob3VsZCBub3QgYmUgZGlzcGxheWVkLiAgdGhlIHNsaWRlcidzXG4gICAgICAgIC8vIGRyYWdnYWJsZSBoYW5kbGUgZGlzcGxheXMgYSBEcmFnIHRleHQgZm9yIHNvbWUgcmVhc29uLFxuICAgICAgICAvLyBoYXZpbmcgdGV4dC1pbmRlbnQ6IC0zMzMzcHguXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGV4dCA9IG5vZGUuZGF0YTtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIHZhciBlbmQgPSB0ZXh0LnNlYXJjaCgvXFxTXFxzKiQvKSArIDE7XG5cbiAgICBpZiAoIWVuZCkge1xuICAgICAgICByZXR1cm47IC8vIHdoaXRlc3BhY2Utb25seSBub2RlXG4gICAgfVxuXG4gICAgdmFyIGZvbnRTaXplID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmb250LXNpemVcIik7XG4gICAgdmFyIGxpbmVIZWlnaHQgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImxpbmUtaGVpZ2h0XCIpO1xuXG4gICAgLy8gc2ltcGx5IGdldFByb3BlcnR5VmFsdWUoXCJmb250XCIpIGRvZXNuJ3Qgd29yayBpbiBGaXJlZm94IDotXFxcbiAgICB2YXIgZm9udCA9IFtcbiAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmb250LXN0eWxlXCIpLFxuICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcImZvbnQtdmFyaWFudFwiKSxcbiAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmb250LXdlaWdodFwiKSxcbiAgICAgICAgZm9udFNpemUsIC8vIG5vIG5lZWQgZm9yIGxpbmUgaGVpZ2h0IGhlcmU7IGl0IGJyZWFrcyBsYXlvdXQgaW4gRkZcbiAgICAgICAgZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJmb250LWZhbWlseVwiKVxuICAgIF0uam9pbihcIiBcIik7XG5cbiAgICBmb250U2l6ZSA9IHBhcnNlRmxvYXQoZm9udFNpemUpO1xuICAgIGxpbmVIZWlnaHQgPSBwYXJzZUZsb2F0KGxpbmVIZWlnaHQpO1xuXG4gICAgaWYgKGZvbnRTaXplID09PSAwIHx8IGlzTmFOKGZvbnRTaXplKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNvbG9yID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJjb2xvclwiKTtcbiAgICB2YXIgcmFuZ2UgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICB2YXIgYWxpZ24gPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcInRleHQtYWxpZ25cIik7XG4gICAgdmFyIGlzSnVzdGlmaWVkID0gYWxpZ24gPT0gXCJqdXN0aWZ5XCI7XG4gICAgdmFyIGNvbHVtbkNvdW50ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJjb2x1bW4tY291bnRcIiwgMSk7XG4gICAgdmFyIHdoaXRlU3BhY2UgPSBnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcIndoaXRlLXNwYWNlXCIpO1xuICAgIHZhciB0ZXh0VHJhbnNmb3JtID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ0ZXh0LXRyYW5zZm9ybVwiKTtcblxuICAgIC8vIEEgbGluZSBvZiA1MDBweCwgd2l0aCBhIGZvbnQgb2YgMTJweCwgY29udGFpbnMgYW4gYXZlcmFnZSBvZiA4MCBjaGFyYWN0ZXJzLCBidXQgc2luY2Ugd2VcbiAgICAvLyBlcnIsIHdlJ2QgbGlrZSB0byBndWVzcyBhIGJpZ2dlciBudW1iZXIgcmF0aGVyIHRoYW4gYSBzbWFsbGVyIG9uZS4gIE11bHRpcGx5aW5nIGJ5IDVcbiAgICAvLyBzZWVtcyB0byBiZSBhIGdvb2Qgb3B0aW9uLlxuICAgIHZhciBlc3RpbWF0ZUxpbmVMZW5ndGggPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIC8gZm9udFNpemUgKiA1O1xuICAgIGlmIChlc3RpbWF0ZUxpbmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgZXN0aW1hdGVMaW5lTGVuZ3RoID0gNTAwO1xuICAgIH1cblxuICAgIC8vIHdlJ2xsIG1haW50YWluIHRoaXMgc28gd2UgY2FuIHdvcmthcm91bmQgYnVncyBpbiBDaHJvbWUncyBSYW5nZS5nZXRDbGllbnRSZWN0c1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy81NzQwXG4gICAgdmFyIHByZXZMaW5lQm90dG9tID0gbnVsbDtcblxuICAgIHZhciB1bmRlcmxpbmUgPSBub2RlSW5mb1tcInVuZGVybGluZVwiXTtcbiAgICB2YXIgbGluZVRocm91Z2ggPSBub2RlSW5mb1tcImxpbmUtdGhyb3VnaFwiXTtcbiAgICB2YXIgb3ZlcmxpbmUgPSBub2RlSW5mb1tcIm92ZXJsaW5lXCJdO1xuICAgIHZhciB1bmRlcmxpbmVPZmZzZXQgPSBub2RlSW5mb1tcInVuZGVybGluZS1vZmZzZXRcIl07XG5cbiAgICBpZiAodW5kZXJsaW5lKSB7XG4gICAgICAgIGZvckVhY2hSZWN0KGRlY29yYXRlVW5kZXIpO1xuICAgIH1cblxuICAgIC8vIGRvQ2h1bmsgcmV0dXJucyB0cnVlIHdoZW4gYWxsIHRleHQgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICB3aGlsZSAoIWRvQ2h1bmsoKSkge31cblxuICAgIGlmIChsaW5lVGhyb3VnaCB8fCBvdmVybGluZSkge1xuICAgICAgICBmb3JFYWNoUmVjdChkZWNvcmF0ZU92ZXIpO1xuICAgIH1cblxuICAgIHJldHVybjsgICAgICAgICAgICAgICAgIC8vIG9ubHkgZnVuY3Rpb24gZGVjbGFyYXRpb25zIGFmdGVyIHRoaXMgbGluZVxuXG4gICAgZnVuY3Rpb24gZm9yRWFjaFJlY3QoY2FsbGJhY2spIHtcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShub2RlKTtcbiAgICAgICAgbGV0IGNsaWVudFJlY3RzID0gc2xpY2UocmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKSk7XG5cbiAgICAgICAgZm9yRWFjaFJlY3QgPSAoY2IpID0+IGNsaWVudFJlY3RzLmZvckVhY2goY2IpO1xuICAgICAgICBmb3JFYWNoUmVjdChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWN0dWFsbHlHZXRSYW5nZUJvdW5kaW5nUmVjdChyYW5nZSkge1xuICAgICAgICAvLyBYWFg6IHRvIGJlIHJldmlzZWQgd2hlbiB0aGlzIENocm9tZSBidWcgaXMgZml4ZWQ6XG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTYxMjQ1OVxuICAgICAgICBpZiAobWljcm9zb2Z0IHx8IGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGJyb3dzZXIgYnVnczogSUUgYW5kIENocm9tZSB3b3VsZCBzb21ldGltZXNcbiAgICAgICAgICAgIC8vIHJldHVybiAwIG9yIDEtd2lkdGggcmVjdGFuZ2xlcyBiZWZvcmUgb3IgYWZ0ZXIgdGhlIG1haW5cbiAgICAgICAgICAgIC8vIG9uZS4gIGh0dHBzOi8vZ2l0aHViLmNvbS90ZWxlcmlrL2tlbmRvL2lzc3Vlcy80Njc0XG5cbiAgICAgICAgICAgIC8vIEFjdHVhbGx5IENocm9tZSA1MCBnb3Qgd29yc2UsIHNpbmNlIHRoZSByZWN0YW5nbGVzIGNhbiBub3cgaGF2ZSB0aGUgd2lkdGggb2YgYVxuICAgICAgICAgICAgLy8gZnVsbCBjaGFyYWN0ZXIsIG1ha2luZyBpdCBoYXJkIHRvIHRlbGwgd2hldGhlciBpdCdzIGEgYm9ndXMgcmVjdGFuZ2xlIG9yIHZhbGlkXG4gICAgICAgICAgICAvLyBzZWxlY3Rpb24gbG9jYXRpb24uICBUaGUgd29ya2Fyb3VuZCBpcyB0byBpZ25vcmUgcmVjdGFuZ2xlcyB0aGF0IGZhbGwgb24gdGhlXG4gICAgICAgICAgICAvLyBwcmV2aW91cyBsaW5lLiAgaHR0cHM6Ly9naXRodWIuY29tL3RlbGVyaWsva2VuZG8vaXNzdWVzLzU3NDBcbiAgICAgICAgICAgIHZhciByZWN0YW5nbGVzID0gcmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKSwgYm94ID0ge1xuICAgICAgICAgICAgICAgIHRvcCAgICA6ICBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICByaWdodCAgOiAtSW5maW5pdHksXG4gICAgICAgICAgICAgICAgYm90dG9tIDogLUluZmluaXR5LFxuICAgICAgICAgICAgICAgIGxlZnQgICA6ICBJbmZpbml0eVxuICAgICAgICAgICAgfSwgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0YW5nbGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSByZWN0YW5nbGVzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChiLndpZHRoIDw9IDEgfHwgYi5ib3R0b20gPT09IHByZXZMaW5lQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAgIC8vIGJvZ3VzIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBib3gubGVmdCAgID0gTWF0aC5taW4oYi5sZWZ0ICAgLCBib3gubGVmdCk7XG4gICAgICAgICAgICAgICAgYm94LnRvcCAgICA9IE1hdGgubWluKGIudG9wICAgICwgYm94LnRvcCk7XG4gICAgICAgICAgICAgICAgYm94LnJpZ2h0ICA9IE1hdGgubWF4KGIucmlnaHQgICwgYm94LnJpZ2h0KTtcbiAgICAgICAgICAgICAgICBib3guYm90dG9tID0gTWF0aC5tYXgoYi5ib3R0b20gLCBib3guYm90dG9tKTtcbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJveC53aWR0aCA9IGJveC5yaWdodCAtIGJveC5sZWZ0O1xuICAgICAgICAgICAgYm94LmhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgICAgICAgcmV0dXJuIGJveDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVuZGVyIGEgY2h1bmsgb2YgdGV4dCwgdHlwaWNhbGx5IG9uZSBsaW5lIChidXQgZm9yIGp1c3RpZmllZCB0ZXh0IHdlIHJlbmRlciBlYWNoIHdvcmQgYXNcbiAgICAvLyBhIHNlcGFyYXRlIFRleHQgb2JqZWN0LCBiZWNhdXNlIHNwYWNpbmcgaXMgdmFyaWFibGUpLiAgUmV0dXJucyB0cnVlIHdoZW4gaXQgZmluaXNoZWQgdGhlXG4gICAgLy8gY3VycmVudCBub2RlLiAgQWZ0ZXIgZWFjaCBjaHVuayBpdCB1cGRhdGVzIGBzdGFydGAgdG8ganVzdCBhZnRlciB0aGUgbGFzdCByZW5kZXJlZFxuICAgIC8vIGNoYXJhY3Rlci5cbiAgICBmdW5jdGlvbiBkb0NodW5rKCkge1xuICAgICAgICB2YXIgb3JpZ1N0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHZhciBib3gsIHBvcyA9IHRleHQuc3Vic3RyKHN0YXJ0KS5zZWFyY2goL1xcUy8pO1xuICAgICAgICBzdGFydCArPSBwb3M7XG4gICAgICAgIGlmIChwb3MgPCAwIHx8IHN0YXJ0ID49IGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgYSBzaW5nbGUgY2hhcmFjdGVyIHRvIGRldGVybWluZSB0aGUgaGVpZ2h0IG9mIGEgbGluZSBvZiB0ZXh0LiAgVGhlIGJveC5ib3R0b21cbiAgICAgICAgLy8gd2lsbCBiZSBlc3NlbnRpYWwgZm9yIHVzIHRvIGZpZ3VyZSBvdXQgd2hlcmUgdGhlIG5leHQgbGluZSBiZWdpbnMuXG4gICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIHN0YXJ0KTtcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHN0YXJ0ICsgMSk7XG4gICAgICAgIGJveCA9IGFjdHVhbGx5R2V0UmFuZ2VCb3VuZGluZ1JlY3QocmFuZ2UpO1xuXG4gICAgICAgIC8vIGZvciBqdXN0aWZpZWQgdGV4dCB3ZSBtdXN0IHNwbGl0IGF0IGVhY2ggc3BhY2UsIGJlY2F1c2Ugc3BhY2UgaGFzIHZhcmlhYmxlIHdpZHRoLlxuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGlzSnVzdGlmaWVkIHx8IGNvbHVtbkNvdW50ID4gMSkge1xuICAgICAgICAgICAgcG9zID0gdGV4dC5zdWJzdHIoc3RhcnQpLnNlYXJjaCgvXFxzLyk7XG4gICAgICAgICAgICBpZiAocG9zID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb25seSBzcGxpdCB0aGVyZSBpZiBpdCdzIG9uIHRoZSBzYW1lIGxpbmUsIG90aGVyd2lzZSB3ZSdsbCBmYWxsIGJhY2tcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgZGVmYXVsdCBtZWNoYW5pc20gKHNlZSBmaW5kRU9MIGJlbG93KS5cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgc3RhcnQgKyBwb3MpO1xuICAgICAgICAgICAgICAgIHZhciByID0gYWN0dWFsbHlHZXRSYW5nZUJvdW5kaW5nUmVjdChyYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKHIuYm90dG9tID09IGJveC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gcjtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzdGFydCArPSBwb3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgLy8gVGhpcyBjb2RlIGRvZXMgdGhyZWUgdGhpbmdzOiAoMSkgaXQgc2VsZWN0cyBvbmUgbGluZSBvZiB0ZXh0IGluIGByYW5nZWAsICgyKSBpdFxuICAgICAgICAgICAgLy8gbGVhdmVzIHRoZSBib3VuZGluZyByZWN0IG9mIHRoYXQgbGluZSBpbiBgYm94YCBhbmQgKDMpIGl0IHJldHVybnMgdGhlIHBvc2l0aW9uXG4gICAgICAgICAgICAvLyBqdXN0IGFmdGVyIHRoZSBFT0wuICBXZSBrbm93IHdoZXJlIHRoZSBsaW5lIHN0YXJ0cyAoYHN0YXJ0YCkgYnV0IHdlIGRvbid0IGtub3dcbiAgICAgICAgICAgIC8vIHdoZXJlIGl0IGVuZHMuICBUbyBmaWd1cmUgdGhpcyBvdXQsIHdlIHNlbGVjdCBhIHBpZWNlIG9mIHRleHQgYW5kIGxvb2sgYXQgdGhlXG4gICAgICAgICAgICAvLyBib3R0b20gb2YgdGhlIGJvdW5kaW5nIGJveC4gIElmIGl0IGNoYW5nZXMsIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSBsaW5lIHNlbGVjdGVkXG4gICAgICAgICAgICAvLyBhbmQgc2hvdWxkIHJldHJ5IHdpdGggYSBzbWFsbGVyIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUbyBzcGVlZCB0aGluZ3MgdXAsIHdlIGZpcnN0IHRyeSB0byBzZWxlY3QgYWxsIHRleHQgaW4gdGhlIG5vZGUgKGBzdGFydGAgLT5cbiAgICAgICAgICAgIC8vIGBlbmRgKS4gIElmIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSBsaW5lIHRoZXJlLCB0aGVuIHNlbGVjdCBvbmx5IGhhbGYgb2YgaXQuICBBbmRcbiAgICAgICAgICAgIC8vIHNvIG9uLiAgV2hlbiB3ZSBmaW5kIGEgdmFsdWUgZm9yIGBlbmRgIHRoYXQgZml0cyBpbiBvbmUgbGluZSwgd2UgdHJ5IGluY3JlYXNpbmdcbiAgICAgICAgICAgIC8vIGl0IChhbHNvIGluIGhhbHZlcykgdW50aWwgd2UgZ2V0IHRvIHRoZSBuZXh0IGxpbmUuICBUaGUgYWxnb3JpdGhtIHN0b3BzIHdoZW4gdGhlXG4gICAgICAgICAgICAvLyByaWdodCBzaWRlIG9mIHRoZSBib3VuZGluZyBib3ggZG9lcyBub3QgY2hhbmdlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE9uZSBtb3JlIHRoaW5nIHRvIG5vdGUgaXMgdGhhdCBldmVyeXRoaW5nIGhhcHBlbnMgaW4gYSBzaW5nbGUgVGV4dCBET00gbm9kZS5cbiAgICAgICAgICAgIC8vIFRoZXJlJ3Mgbm8gb3RoZXIgdGFncyBpbnNpZGUgaXQsIHRoZXJlZm9yZSB0aGUgbGVmdC90b3AgY29vcmRpbmF0ZXMgb2YgdGhlXG4gICAgICAgICAgICAvLyBib3VuZGluZyBib3ggd2lsbCBub3QgY2hhbmdlLlxuICAgICAgICAgICAgcG9zID0gKGZ1bmN0aW9uIGZpbmRFT0wobWluLCBlb2wsIG1heCl7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIGVvbCk7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBhY3R1YWxseUdldFJhbmdlQm91bmRpbmdSZWN0KHJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAoci5ib3R0b20gIT0gYm94LmJvdHRvbSAmJiBtaW4gPCBlb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT0wobWluLCAobWluICsgZW9sKSA+PiAxLCBlb2wpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoci5yaWdodCAhPSBib3gucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYm94ID0gcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVvbCA8IG1heCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRFT0woZW9sLCAoZW9sICsgbWF4KSA+PiAxLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVvbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlb2w7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoc3RhcnQsIE1hdGgubWluKGVuZCwgc3RhcnQgKyBlc3RpbWF0ZUxpbmVMZW5ndGgpLCBlbmQpO1xuXG4gICAgICAgICAgICBpZiAocG9zID09IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgRU9MIGlzIGF0IHRoZSBzdGFydCwgdGhlbiBubyBtb3JlIHRleHQgZml0cyBvbiB0aGlzIGxpbmUuICBTa2lwIHRoZVxuICAgICAgICAgICAgICAgIC8vIHJlbWFpbmRlciBvZiB0aGlzIG5vZGUgZW50aXJlbHkgdG8gYXZvaWQgYSBzdGFjayBvdmVyZmxvdy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXJ0ID0gcG9zO1xuXG4gICAgICAgICAgICBwb3MgPSByYW5nZS50b1N0cmluZygpLnNlYXJjaCgvXFxzKyQvKTtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHdoaXRlc3BhY2Ugb25seTsgd2Ugc2hvdWxkIG5vdCBnZXQgaGVyZS5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gZWxpbWluYXRlIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgcmFuZ2Uuc3RhcnRPZmZzZXQgKyBwb3MpO1xuICAgICAgICAgICAgICAgIGJveCA9IGFjdHVhbGx5R2V0UmFuZ2VCb3VuZGluZ1JlY3QocmFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYW5vdGhlciB3b3JrYXJvdW5kIGZvciBJRTogaWYgd2UgcmVseSBvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB3ZSdsbCBvdmVybGFwIHdpdGggdGhlIGJ1bGxldCBmb3IgTElcbiAgICAgICAgLy8gZWxlbWVudHMuICBDYWxsaW5nIGdldENsaWVudFJlY3RzKCkgYW5kIHVzaW5nIHRoZSAqZmlyc3QqIHJlY3QgYXBwZWFycyB0byBnaXZlIHVzIHRoZSBjb3JyZWN0IGxvY2F0aW9uLlxuICAgICAgICAvLyBOb3RlOiBub3QgdG8gYmUgdXNlZCBpbiBDaHJvbWUgYXMgaXQgcmFuZG9tbHkgcmV0dXJucyBhIHplcm8td2lkdGggcmVjdGFuZ2xlIGZyb20gdGhlIHByZXZpb3VzIGxpbmUuXG4gICAgICAgIGlmIChtaWNyb3NvZnQpIHtcbiAgICAgICAgICAgIGJveCA9IHJhbmdlLmdldENsaWVudFJlY3RzKClbMF07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RyID0gcmFuZ2UudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKCEvXig/OnByZXxwcmUtd3JhcCkkL2kudGVzdCh3aGl0ZVNwYWNlKSkge1xuICAgICAgICAgICAgLy8gbm9kZSB3aXRoIG5vbi1zaWduaWZpY2FudCBzcGFjZSAtLSBjb2xsYXBzZSB3aGl0ZXNwYWNlLlxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoL1xccysvZywgXCIgXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9cXHQvLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgLy8gd2l0aCBzaWduaWZpY2FudCB3aGl0ZXNwYWNlIHdlIG5lZWQgdG8gZG8gc29tZXRoaW5nIGFib3V0IGxpdGVyYWwgVEFCIGNoYXJhY3RlcnMuXG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIFRBQiBnbHlwaCBpbiBhIGZvbnQgc28gdGhleSB3b3VsZCBiZSByZW5kZXJlZCBpbiBQREYgYXMgYW4gZW1wdHkgYm94LFxuICAgICAgICAgICAgLy8gYW5kIHRoZSB3aG9sZSB0ZXh0IHdpbGwgc3RyZXRjaCB0byBmaWxsIHRoZSBvcmlnaW5hbCB3aWR0aC4gIFRoZSBjb3JlIFBERiBsaWJcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGhhdmUgc3VmZmljaWVudCBjb250ZXh0IHRvIGRlYWwgd2l0aCBpdC5cblxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzdGFydGluZyBjb2x1bW4gaGVyZSwgc2luY2Ugd2UgaW5pdGlhbGx5IGRpc2NhcmRlZCBhbnkgd2hpdGVzcGFjZS5cbiAgICAgICAgICAgIHZhciBjYyA9IDA7XG4gICAgICAgICAgICBmb3IgKHBvcyA9IG9yaWdTdGFydDsgcG9zIDwgcmFuZ2Uuc3RhcnRPZmZzZXQ7ICsrcG9zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gd2UgbWVldCBhIFRBQiB3ZSBtdXN0IHJvdW5kIHVwIHRvIHRoZSBuZXh0IHRhYiBzdG9wLlxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBhbGwgYnJvd3NlcnMgVEFCcyBzZWVtIHRvIGJlIDggY2hhcmFjdGVycy5cbiAgICAgICAgICAgICAgICAgICAgY2MgKz0gOCAtIGNjICUgODtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvZGUgPT0gMTAgfHwgY29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAvLyBqdXN0IGluIGNhc2Ugd2UgbWVldCBhIG5ld2xpbmUgd2UgbXVzdCByZXN0YXJ0LlxuICAgICAgICAgICAgICAgICAgICBjYyA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3JkaW5hcnkgY2hhcmFjdGVyIC0tPiBhZHZhbmNlIG9uZSBjb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgY2MrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJhc2VkIG9uIHN0YXJ0aW5nIGNvbHVtbiwgcmVwbGFjZSBhbnkgVEFCIGNoYXJhY3RlcnMgaW4gdGhlIHN0cmluZyB3ZSBhY3R1YWxseVxuICAgICAgICAgICAgLy8gaGF2ZSB0byBkaXNwbGF5IHdpdGggc3BhY2VzIHNvIHRoYXQgdGhleSBhbGlnbiB0byBjb2x1bW5zIG11bHRpcGxlIG9mIDguXG4gICAgICAgICAgICB3aGlsZSAoKHBvcyA9IHN0ci5zZWFyY2goXCJcXHRcIikpID49IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZW50ID0gXCIgICAgICAgIFwiLnN1YnN0cigwLCA4IC0gKGNjICsgcG9zKSAlIDgpO1xuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgcG9zKSArIGluZGVudCArIHN0ci5zdWJzdHIocG9zICsgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBwcmV2TGluZUJvdHRvbSA9IGJveC5ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgZHJhd1RleHQoc3RyLCBib3gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdUZXh0KHN0ciwgYm94KSB7XG4gICAgICAgIC8vIEluIElFIHRoZSBib3ggaGVpZ2h0IHdpbGwgYmUgYXBwcm94aW1hdGVseSBsaW5lSGVpZ2h0LCB3aGlsZSBpblxuICAgICAgICAvLyBvdGhlciBicm93c2VycyBpdCdsbCAoY29ycmVjdGx5KSBiZSB0aGUgaGVpZ2h0IG9mIHRoZSBib3VuZGluZ1xuICAgICAgICAvLyBib3ggZm9yIHRoZSBjdXJyZW50IHRleHQvZm9udC4gIFdoaWNoIGlzIHRvIHNheSwgSUUgc3Vja3MgYWdhaW4uXG4gICAgICAgIC8vIFRoZSBvbmx5IGdvb2Qgc29sdXRpb24gSSBjYW4gdGhpbmsgb2YgaXMgdG8gbWVhc3VyZSB0aGUgdGV4dFxuICAgICAgICAvLyBvdXJzZWx2ZXMgYW5kIGNlbnRlciB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgICBpZiAobWljcm9zb2Z0ICYmICFpc05hTihsaW5lSGVpZ2h0KSkge1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdldEZvbnRIZWlnaHQoZm9udCk7XG4gICAgICAgICAgICB2YXIgdG9wID0gKGJveC50b3AgKyBib3guYm90dG9tIC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICBib3ggPSB7XG4gICAgICAgICAgICAgICAgdG9wICAgIDogdG9wLFxuICAgICAgICAgICAgICAgIHJpZ2h0ICA6IGJveC5yaWdodCxcbiAgICAgICAgICAgICAgICBib3R0b20gOiB0b3AgKyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVmdCAgIDogYm94LmxlZnQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0IDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoICA6IGJveC5yaWdodCAtIGJveC5sZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFyIHBhdGggPSBuZXcgUGF0aCh7IHN0cm9rZTogeyBjb2xvcjogXCJyZWRcIiB9fSk7XG4gICAgICAgIC8vIHBhdGgubW92ZVRvKGJveC5sZWZ0LCBib3gudG9wKVxuICAgICAgICAvLyAgICAgLmxpbmVUbyhib3gucmlnaHQsIGJveC50b3ApXG4gICAgICAgIC8vICAgICAubGluZVRvKGJveC5yaWdodCwgYm94LmJvdHRvbSlcbiAgICAgICAgLy8gICAgIC5saW5lVG8oYm94LmxlZnQsIGJveC5ib3R0b20pXG4gICAgICAgIC8vICAgICAuY2xvc2UoKTtcbiAgICAgICAgLy8gZ3JvdXAuYXBwZW5kKHBhdGgpO1xuXG4gICAgICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xuICAgICAgICAgIGNhc2UgXCJ1cHBlcmNhc2VcIjpcbiAgICAgICAgICAgIHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImxvd2VyY2FzZVwiOlxuICAgICAgICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY2FwaXRhbGl6ZVwiOlxuICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyg/Ol58XFxzKVxcUy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0ID0gbmV3IFRleHRSZWN0KFxuICAgICAgICAgICAgc3RyLCBuZXcgZ2VvLlJlY3QoWyBib3gubGVmdCwgYm94LnRvcCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBib3gud2lkdGgsIGJveC5oZWlnaHQgXSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udDogZm9udCxcbiAgICAgICAgICAgICAgICBmaWxsOiB7IGNvbG9yOiBjb2xvciB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGdyb3VwLmFwcGVuZCh0ZXh0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkcmF3VGV4dExpbmUobGluZVdpZHRoLCB0ZXh0Qm94LCBjb2xvciwgeXBvcykge1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IFBhdGgoeyBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogbGluZVdpZHRoLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvclxuICAgICAgICAgICAgfX0pO1xuXG4gICAgICAgICAgICB5cG9zIC09IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIHBhdGgubW92ZVRvKHRleHRCb3gubGVmdCwgeXBvcylcbiAgICAgICAgICAgICAgICAubGluZVRvKHRleHRCb3gucmlnaHQsIHlwb3MpO1xuICAgICAgICAgICAgZ3JvdXAuYXBwZW5kKHBhdGgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVjb3JhdGVPdmVyKGJveCkge1xuICAgICAgICBsZXQgd2lkdGggPSBmb250U2l6ZSAvIDEyO1xuICAgICAgICBkcmF3VGV4dExpbmUod2lkdGgsIGJveCwgbGluZVRocm91Z2gsIGJveC5ib3R0b20gLSBib3guaGVpZ2h0IC8gMi43KTtcbiAgICAgICAgZHJhd1RleHRMaW5lKHdpZHRoLCBib3gsIG92ZXJsaW5lLCBib3gudG9wKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWNvcmF0ZVVuZGVyKGJveCkge1xuICAgICAgICBsZXQgd2lkdGggPSBmb250U2l6ZSAvIDEyO1xuICAgICAgICBsZXQgdW5kZXJsaW5lUG9zID0gYm94LmJvdHRvbTtcbiAgICAgICAgaWYgKHVuZGVybGluZU9mZnNldCAhPSBudWxsKSB7XG4gICAgICAgICAgICB1bmRlcmxpbmVQb3MgKz0gdW5kZXJsaW5lT2Zmc2V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5kZXJsaW5lUG9zICs9IHdpZHRoOyAvLyBmb3IgXCJhdXRvXCIgaXQgc2VlbXMgYmV0dGVyIHRvIGFkZCBsaW5lIHdpZHRoXG4gICAgICAgIH1cbiAgICAgICAgZHJhd1RleHRMaW5lKHdpZHRoLCBib3gsIHVuZGVybGluZSwgdW5kZXJsaW5lUG9zKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdyb3VwSW5TdGFja2luZ0NvbnRleHQoZWxlbWVudCwgZ3JvdXAsIHpJbmRleCkge1xuICAgIHZhciBtYWluO1xuICAgIGlmICh6SW5kZXggIT0gXCJhdXRvXCIpIHtcbiAgICAgICAgLy8gdXNlIHRoZSBjdXJyZW50IHN0YWNraW5nIGNvbnRleHRcbiAgICAgICAgbWFpbiA9IG5vZGVJbmZvLl9zdGFja2luZ0NvbnRleHQuZ3JvdXA7XG4gICAgICAgIHpJbmRleCA9IHBhcnNlRmxvYXQoekluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBub3JtYWwgZmxvdyDigJQgdXNlIGdpdmVuIGNvbnRhaW5lci4gIHdlIHN0aWxsIGhhdmUgdG9cbiAgICAgICAgLy8gZmlndXJlIG91dCB3aGVyZSBzaG91bGQgd2UgaW5zZXJ0IHRoaXMgZWxlbWVudCB3aXRoIHRoZVxuICAgICAgICAvLyBhc3N1bXB0aW9uIHRoYXQgaXRzIHotaW5kZXggaXMgemVybywgYXMgdGhlIGdyb3VwIG1pZ2h0XG4gICAgICAgIC8vIGFscmVhZHkgY29udGFpbiBlbGVtZW50cyB3aXRoIGhpZ2hlciB6LWluZGV4LlxuICAgICAgICBtYWluID0gZ3JvdXA7XG4gICAgICAgIHpJbmRleCA9IDA7XG4gICAgfVxuICAgIHZhciBhID0gbWFpbi5jaGlsZHJlbjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGFbaV0uX2RvbV96SW5kZXggIT0gbnVsbCAmJiBhW2ldLl9kb21fekluZGV4ID4gekluZGV4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0bXAgPSBuZXcgR3JvdXAoKTtcbiAgICBtYWluLmluc2VydChpLCB0bXApO1xuICAgIHRtcC5fZG9tX3pJbmRleCA9IHpJbmRleDtcblxuICAgIGlmIChtYWluICE9PSBncm91cCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlBsYWNpbmdcIiwgZWxlbWVudCwgXCJpblwiLCBub2RlSW5mby5fc3RhY2tpbmdDb250ZXh0LmVsZW1lbnQsIFwiYXQgcG9zaXRpb25cIiwgaSwgXCIgLyBcIiwgYS5sZW5ndGgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhhLnNsaWNlKGkrMSkpO1xuXG4gICAgICAgIC8vIGlmIChub2RlSW5mby5fbWF0cml4KSB7XG4gICAgICAgIC8vICAgICB0bXAudHJhbnNmb3JtKG5vZGVJbmZvLl9tYXRyaXgpO1xuICAgICAgICAvLyB9XG4gICAgICAgIGlmIChub2RlSW5mby5fY2xpcGJveCkge1xuICAgICAgICAgICAgdmFyIG0gPSBub2RlSW5mby5fbWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgdmFyIHIgPSBub2RlSW5mby5fY2xpcGJveC50cmFuc2Zvcm1Db3B5KG0pO1xuICAgICAgICAgICAgc2V0Q2xpcHBpbmcodG1wLCBQYXRoLmZyb21SZWN0KHIpKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHIpO1xuICAgICAgICAgICAgLy8gdG1wLmFwcGVuZChQYXRoLmZyb21SZWN0KHIpKTtcbiAgICAgICAgICAgIC8vIHRtcC5hcHBlbmQobmV3IFRleHQoZWxlbWVudC5jbGFzc05hbWUgfHwgZWxlbWVudC5pZCwgci50b3BMZWZ0KCkpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bXA7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckVsZW1lbnQoZWxlbWVudCwgY29udGFpbmVyKSB7XG4gICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgIHVwZGF0ZUNvdW50ZXJzKHN0eWxlKTtcblxuICAgIGlmICgvXihzdHlsZXxzY3JpcHR8bGlua3xtZXRhfGlmcmFtZXxjb2x8Y29sZ3JvdXApJC9pLnRlc3QoZWxlbWVudC50YWdOYW1lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGVJbmZvLl9jbGlwYm94ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvcGFjaXR5ID0gcGFyc2VGbG9hdChnZXRQcm9wZXJ0eVZhbHVlKHN0eWxlLCBcIm9wYWNpdHlcIikpO1xuICAgIHZhciB2aXNpYmlsaXR5ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJ2aXNpYmlsaXR5XCIpO1xuICAgIHZhciBkaXNwbGF5ID0gZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJkaXNwbGF5XCIpO1xuXG4gICAgaWYgKG9wYWNpdHkgPT09IDAgfHwgdmlzaWJpbGl0eSA9PSBcImhpZGRlblwiIHx8IGRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ciA9IGdldFRyYW5zZm9ybShzdHlsZSk7XG4gICAgdmFyIGdyb3VwO1xuXG4gICAgdmFyIHpJbmRleCA9IGdldFByb3BlcnR5VmFsdWUoc3R5bGUsIFwiei1pbmRleFwiKTtcbiAgICBpZiAoKHRyIHx8IG9wYWNpdHkgPCAxKSAmJiB6SW5kZXggPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgekluZGV4ID0gMDtcbiAgICB9XG4gICAgZ3JvdXAgPSBncm91cEluU3RhY2tpbmdDb250ZXh0KGVsZW1lbnQsIGNvbnRhaW5lciwgekluZGV4KTtcblxuICAgIC8vIFhYWDogcmVtb3ZlIGF0IHNvbWUgcG9pbnRcbiAgICAvLyBncm91cC5fcGRmRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgLy8gZ3JvdXAub3B0aW9ucy5fcGRmRGVidWcgPSBcIlwiO1xuICAgIC8vIGlmIChlbGVtZW50LmlkKSB7XG4gICAgLy8gICAgIGdyb3VwLm9wdGlvbnMuX3BkZkRlYnVnID0gXCIjXCIgKyBlbGVtZW50LmlkO1xuICAgIC8vIH1cbiAgICAvLyBpZiAoZWxlbWVudC5jbGFzc05hbWUpIHtcbiAgICAvLyAgICAgZ3JvdXAub3B0aW9ucy5fcGRmRGVidWcgKz0gXCIuXCIgKyBlbGVtZW50LmNsYXNzTmFtZS5zcGxpdChcIiBcIikuam9pbihcIi5cIik7XG4gICAgLy8gfVxuXG4gICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgIGdyb3VwLm9wYWNpdHkob3BhY2l0eSAqIGdyb3VwLm9wYWNpdHkoKSk7XG4gICAgfVxuXG4gICAgcHVzaE5vZGVJbmZvKGVsZW1lbnQsIHN0eWxlLCBncm91cCk7XG5cbiAgICBpZiAoIXRyKSB7XG4gICAgICAgIF9yZW5kZXJXaXRoUHNldWRvRWxlbWVudHMoZWxlbWVudCwgZ3JvdXApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2F2ZVN0eWxlKGVsZW1lbnQsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBtdXN0IGNsZWFyIHRyYW5zZm9ybSwgc28gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHJldHVybnMgY29ycmVjdCB2YWx1ZXMuXG4gICAgICAgICAgICBwbGVhc2VTZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQuc3R5bGUsIFwidHJhbnNmb3JtXCIsIFwibm9uZVwiLCBcImltcG9ydGFudFwiKTtcblxuICAgICAgICAgICAgLy8gbXVzdCBhbHNvIGNsZWFyIHRyYW5zaXRpb25zLCBzbyBjb3JyZWN0IHZhbHVlcyBhcmUgcmV0dXJuZWQgKmltbWVkaWF0ZWx5KlxuICAgICAgICAgICAgcGxlYXNlU2V0UHJvcGVydHlWYWx1ZShlbGVtZW50LnN0eWxlLCBcInRyYW5zaXRpb25cIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpO1xuXG4gICAgICAgICAgICAvLyB0aGUgcHJlc2VuY2Ugb2YgYW55IHRyYW5zZm9ybSBtYWtlcyBpdCBiZWhhdmUgbGlrZSBpdCBoYWQgcG9zaXRpb246IHJlbGF0aXZlLFxuICAgICAgICAgICAgLy8gYmVjYXVzZSB3aHkgbm90LlxuICAgICAgICAgICAgLy8gaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rob3VnaHRzLzIwMTEvMDkvMTIvdW4tZml4aW5nLWZpeGVkLWVsZW1lbnRzLXdpdGgtY3NzLXRyYW5zZm9ybXMvXG4gICAgICAgICAgICBpZiAoZ2V0UHJvcGVydHlWYWx1ZShzdHlsZSwgXCJwb3NpdGlvblwiKSA9PSBcInN0YXRpY1wiKSB7XG4gICAgICAgICAgICAgICAgLy8gYnV0IG9ubHkgaWYgaXQncyBub3QgYWxyZWFkeSBwb3NpdGlvbmVkLiA6LS9cbiAgICAgICAgICAgICAgICBwbGVhc2VTZXRQcm9wZXJ0eVZhbHVlKGVsZW1lbnQuc3R5bGUsIFwicG9zaXRpb25cIiwgXCJyZWxhdGl2ZVwiLCBcImltcG9ydGFudFwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbXVzdCB0cmFuc2xhdGUgdG8gb3JpZ2luIGJlZm9yZSBhcHBseWluZyB0aGUgQ1NTXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm1hdGlvbiwgdGhlbiB0cmFuc2xhdGUgYmFjay5cbiAgICAgICAgICAgIHZhciBiYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciB4ID0gYmJveC5sZWZ0ICsgdHIub3JpZ2luWzBdO1xuICAgICAgICAgICAgdmFyIHkgPSBiYm94LnRvcCArIHRyLm9yaWdpblsxXTtcbiAgICAgICAgICAgIHZhciBtID0gWyAxLCAwLCAwLCAxLCAteCwgLXkgXTtcbiAgICAgICAgICAgIG0gPSBtbXVsKG0sIHRyLm1hdHJpeCk7XG4gICAgICAgICAgICBtID0gbW11bChtLCBbIDEsIDAsIDAsIDEsIHgsIHkgXSk7XG4gICAgICAgICAgICBtID0gc2V0VHJhbnNmb3JtKGdyb3VwLCBtKTtcblxuICAgICAgICAgICAgbm9kZUluZm8uX21hdHJpeCA9IG5vZGVJbmZvLl9tYXRyaXgubXVsdGlwbHlDb3B5KG0pO1xuXG4gICAgICAgICAgICBfcmVuZGVyV2l0aFBzZXVkb0VsZW1lbnRzKGVsZW1lbnQsIGdyb3VwKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wTm9kZUluZm8oKTtcblxuICAgIC8vZHJhd0RlYnVnQm94KGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGNvbnRhaW5lcik7XG59XG5cbi8vIGZ1bmN0aW9uIGRyYXdEZWJ1Z0JveChib3gsIGdyb3VwLCBjb2xvcikge1xuLy8gICAgIHZhciBwYXRoID0gUGF0aC5mcm9tUmVjdChuZXcgZ2VvLlJlY3QoWyBib3gubGVmdCwgYm94LnRvcCBdLCBbIGJveC53aWR0aCwgYm94LmhlaWdodCBdKSk7XG4vLyAgICAgaWYgKGNvbG9yKSB7XG4vLyAgICAgICAgIHBhdGguc3Ryb2tlKGNvbG9yKTtcbi8vICAgICB9XG4vLyAgICAgZ3JvdXAuYXBwZW5kKHBhdGgpO1xuLy8gfVxuXG4vLyBmdW5jdGlvbiBkdW1wVGV4dE5vZGUobm9kZSkge1xuLy8gICAgIHZhciB0eHQgPSBub2RlLmRhdGEucmVwbGFjZSgvXlxccysvLCBcIlwiKTtcbi8vICAgICBpZiAodHh0Lmxlbmd0aCA8IDEwMCkge1xuLy8gICAgICAgICBjb25zb2xlLmxvZyhub2RlLmRhdGEubGVuZ3RoICsgXCI6IHxcIiArIHR4dCk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgY29uc29sZS5sb2cobm9kZS5kYXRhLmxlbmd0aCArIFwiOiB8XCIgKyB0eHQuc3Vic3RyKDAsIDUwKSArIFwifC4uLnxcIiArIHR4dC5zdWJzdHIoLTUwKSk7XG4vLyAgICAgfVxuLy8gfVxuXG5mdW5jdGlvbiBtbXVsKGEsIGIpIHtcbiAgICB2YXIgYTEgPSBhWzBdLCBiMSA9IGFbMV0sIGMxID0gYVsyXSwgZDEgPSBhWzNdLCBlMSA9IGFbNF0sIGYxID0gYVs1XTtcbiAgICB2YXIgYTIgPSBiWzBdLCBiMiA9IGJbMV0sIGMyID0gYlsyXSwgZDIgPSBiWzNdLCBlMiA9IGJbNF0sIGYyID0gYls1XTtcbiAgICByZXR1cm4gW1xuICAgICAgICBhMSphMiArIGIxKmMyLCAgICAgICAgICBhMSpiMiArIGIxKmQyLFxuICAgICAgICBjMSphMiArIGQxKmMyLCAgICAgICAgICBjMSpiMiArIGQxKmQyLFxuICAgICAgICBlMSphMiArIGYxKmMyICsgZTIsICAgICBlMSpiMiArIGYxKmQyICsgZjJcbiAgICBdO1xufVxuXG5leHBvcnQgeyBkcmF3RE9NLCBkcmF3VGV4dCwgZ2V0Rm9udEZhY2VzIH07XG4iXSwibmFtZXMiOlsic3VwZXIiLCJjb25zdCIsImxldCIsInRoaXMiLCJldmVudE5hbWUiLCJhcmd1bWVudHMiLCJpZHgiLCJ0ZW1wbGF0ZSIsImJyb3dzZXIiLCJhcHBlbmQiLCJzaXplIiwidG9TdHJpbmciLCJ0cmFuc2Zvcm0iLCJFbGVtZW50IiwiY3JlYXRlVHJhbnNmb3JtIiwiQ2lyY2xlIiwiR2VvbWV0cnlDaXJjbGUiLCJjbG9zZSIsInBvdyIsIkFyYyIsInJhZCIsIm51bWJlclNpZ24iLCJ0YW5nZW50IiwiY29udHJvbFBvaW50cyIsIlNQQUNFIiwicG9pbnQiLCJERUZBVUxUX1NUUk9LRSIsIkdlb21ldHJ5QXJjIiwiSW1hZ2UiLCJERUZBVUxUX09QVElPTlMiLCJSZWN0IiwiR2VvbWV0cnlSZWN0IiwicG9pbnRzIiwiaW5zdGFuY2UiLCJTdXJmYWNlIiwicmVuZGVyU1ZHIiwiQmFzZVN1cmZhY2UiLCJOT0RFX01BUCIsIk5vZGUiLCJHcm91cE5vZGUiLCJSb290Tm9kZSIsIlBhdGhOb2RlIiwiQXJjTm9kZSIsIkNpcmNsZU5vZGUiLCJJbWFnZU5vZGUiLCJNdWx0aVBhdGhOb2RlIiwiUmVjdE5vZGUiLCJUZXh0Tm9kZSIsInN1cHBvcnQiLCJTVkdTdXJmYWNlIiwiQ2FudmFzU3VyZmFjZSIsImhhc093blByb3BlcnR5IiwiZGVmbGF0ZSIsInBha29EZWZsYXRlIiwiVEVYVF9SRU5ERVJJTkdfTU9ERSIsIlBERi5URVhUX1JFTkRFUklOR19NT0RFIiwicmVuZGVyIiwiUERGLmNsZWFySW1hZ2VDYWNoZSIsIlBERi5wYXJzZUZvbnREZWYiLCJQREYuZ2V0Rm9udFVSTCIsIlBERi5Eb2N1bWVudCIsImdlby5NYXRyaXgiLCJQREYubG9hZEZvbnRzIiwiUERGLmxvYWRJbWFnZXMiLCJzYXZlQXMiLCJ1dGlsX3NhdmVBcyIsImRyYXdJbWFnZSIsInBhcnNlQ29sb3IiLCJ1dGlsc19wYXJzZUNvbG9yIiwiZ2VvLlJlY3QiLCJzbGljZSIsIklNQUdFX0NBQ0hFIiwiY2FudmFzIiwiUERGLmRlZmluZUZvbnQiLCJzZXRUcmFuc2Zvcm0iLCJQREYuZ2V0UGFwZXJPcHRpb25zIiwiY29tcGlsZVRlbXBsYXRlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImRyYXdUZXh0IiwibGFzdCIsImdldEZvbnRVUkwiLCJzZXRDbGlwcGluZyIsImdlby5BcmMiLCJ3cmFwIiwiZ2VvLnRyYW5zZm9ybSIsImdlby5DaXJjbGUiLCJzdmciLCJhbGlnbiIsIm1tdWwiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFlLElBQU0sS0FBSyxHQUFDLHFCQUFBLEFBRTFCOztBQ0FELElBQU0sVUFBVSxHQUFjO0lBQUMsbUJBQ2hCLEdBQUc7UUFDVkEsUUFBSyxLQUFBLENBQUMsSUFBQSxDQUFDLENBQUM7O1FBRVIsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7S0FDckI7Ozs7a0RBQUE7O0lBRUQscUJBQUEsSUFBSSxrQkFBQyxTQUFT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QUM7WUFDckMsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztZQUM5QyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1NBQ2pELENBQUM7S0FDTCxDQUFBOztJQUVELGlCQUFBLE1BQU0sc0JBQUc7UUFDTCxPQUFzQyxHQUFHLElBQUk7UUFBckMsSUFBQSxDQUFDO1FBQUUsSUFBQSxDQUFDO1FBQUssSUFBQSxDQUFDO1FBQUssSUFBQSxDQUFDO1FBQUssSUFBQSxDQUFDO1FBQUssSUFBQSxDQUFDLFNBQTlCO1FBQ05DLElBQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7UUFFMUIsSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDZjs7UUFFRCxPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRztZQUNsRCxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcs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LEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNyREEsSUFBTSxFQUFFLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQzs7O0lBR3JEQSxJQUFNLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDM0JBLElBQU0sRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQkEsSUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDNUJBLElBQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDOztJQUU1QkEsSUFBTSxVQUFVLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7SUFFMUZBLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkhDLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFF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QUFPLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDckMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMxQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7OztBQ0wzQixTQUFTLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDckQsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3ZGLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsTUFBTSxDQUFD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QUFFLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkUsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLEVBQUUsR0FBRyxJQUFJLGFBQWEsQ0FBQ0EsWUFBVSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUMxRTs7SUFFRCxFQUFFLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7SUFFaEIsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUFFNUQsRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVCLEVBQUUsR0FBRyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7SUFFckNwQixJQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7O0lBRWxCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ2IsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksR0FBRyxHQUFHLEVBQUUs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Q0FBQyxDQUFDLENBQUMsRUFBRTtZQUM3SCxLQUFLLEVBQUUsQ0FBQztTQUNYO0tBQ0o7O0lBRUQsT0FBTyxLQUFLLENBQUM7OztBQ2xCRixTQUFTLHNCQUFzQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFO0lBQ3hEZixJQUFJLFVBQVUsQ0FBQztJQUNmLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ2JELElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaENBLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaENBLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaENBLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaENBLElBQU0sT0FBTyxHQUFHLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDOztRQUVsRCxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7WUFDZixVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDO1NBQzNDLE1BQU07WUFDSCxVQUFVLEdBQUcsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFD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QyxVQUFVLEVBQUUsQ0FBQztpQkFDekIsS0FBSyxFQUFFLENBQUM7U0FDaEIsTUFBTTtZQUNIQSxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1lBQzNCLElBQVEsQ0FBQztZQUFFLElBQUEsQ0FBQyxZQUFOO1lBQ05BLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUMzQkEsSUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzdCLEVBQUUsR0FBRyxVQUFVLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDbEMsRUFBRSxHQUFHLFVBQVUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQzs7WUFFbkMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDakIsTUFBTSxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztpQkFDekIsS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUM7aUJBQzNDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsRUFBRSxDQUFDO2lCQUNsQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLENBQUM7aUJBQ3BELE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUM7aUJBQzFCLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxHQUFHLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFD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USxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7O0lBRTVELElBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakQsSUFBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRCxJQUFRLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELElBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakQsSUFBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRCxJQUFRLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELElBQVEsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakQsSUFBUSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNqRCxJQUFRLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2pELElBQVEsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7O0lBRWhELElBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDM0MsSUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN0RCxJQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3pELElBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDekQsSUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7Q0FDNUMsQ0FBQTs7QUFFTCxrQkFBSSxZQUFZLDBCQUFDLEtBQUssRUFBRTtJQUNwQixPQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0NBQ3pELENBQUE7O0FBRUwsa0JBQUksVUFBVSwwQkFBRztJQUNiLE9BQVcsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDNUIsQ0FBQSxBQUdMLEFBQW1COztBQ2xtQ1pGLElBQU1tRCxTQUFPLEdBQUdDLHlCQUFXLENBQUM7O0FBRW5DLEFBQU8sU0FBUyxlQUFlLEdBQUc7SUFDOUIsT0FBTyxJQUFJLENBQUM7Q0FDZjs7QUNORDs7Ozs7QUFLQSxBQUNBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsQUFFQXBELElBQU1PLFNBQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQ2hDUCxJQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7O0FBRWhCLElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDOztBQUV6QkEsSUFBTSxVQUFVLEdBQUc7SUFDZixFQUFFLFVBQVUsRUFBRSxPQUFPLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEdBQUcsU0FBUyxFQUFFLEtBQUssS0FBSyxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxPQUFPLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxFQUFFLFVBQVUsRUFBRSxNQUFNLElBQUksTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1BQU0sSUFBSSxNQUFNLEdBQUc7SUFDakMsRUFBRSxVQUFVLEVBQUUsTUFBTSxJQUFJLE1BQU0sR0FBRztJQUNqQyxHQUFHLFNBQVMsRUFBRSxLQUFLLEtBQUssTUFBTSxHQUFHO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUU7SUFDakMsRUFBRSxVQUFVLEVBQUUsT0FBTyxHQUFHLE9BQU8sRUFBRTtJQUNqQyxFQUFFLFVBQVUsRUFBRSxPQUFPLEdBQUcsT0FBTyxFQUFFO0lBQ2pDLEVBQUUsVUFBVSxFQUFFLE1B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RUFBRTtZQUNSLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQixNQUFNO1lBQ0gsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2Y7UUFDRCxJQUFJLFFBQVEsR0FBRyxJQUFJLFlBQVksY0FBYyxDQUFDO1FBQzlDLElBQUksS0FBSyxFQUFFLEdBQUcsQ0FBQztRQUNmLElBQUksUUFBUSxFQUFFO1lBQ1YsS0FBSyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBQzNELEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztTQUMxRSxNQUFNO1lBQ0gsS0FBSyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNsRCxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDO1NBQ3JEOztRQUVELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxDQUFDLFNBQVMsSUFBSSxDQUFDO1lBQ2hELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUMzQixJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7Z0JBQ25CLE1BQU0sR0FBRyxVQUFV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QUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7O0lBRXpELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHO1FBQ1osR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDekIsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDMUIsR0FBRyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDekIsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7S0FDN0IsQ0FBQzs7SUFFRixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDUCxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztLQUN4Qjs7SUFFRCxPQUFPO1FBQ0gsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElB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